module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(1),e.exports=n(2)},function(e,t,n){n(3);var r=require("jsdom");global.jsdom=r;var o=n(4);global.Khan=o.window.Khan={},global.KhanUtil=o.window.KhanUtil=Khan.KhanUtil={},global.navigator={userAgent:"Node"},o.updateGlobals()},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(5);e.exports=r({itemVersion:n(6),RevisionDiff:n(7),StatefulArticleEditor:n(8),StatefulEditorPage:n(9),ClassNames:n(10).ClassNames,Util:n(11),ViewportResizer:n(12),DeviceFramer:n(13),renderability:n(14),accessibility:n(15),i18n:n(16),ArticleEditor:n(17),Editor:n(18),EditorPage:n(19),IframeContentRenderer:n(20)},o)},function(e,t,n){var r;!function(o,i,a){"use strict";!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),n(26),n(29),n(33),n(34),n(43),n(44),n(47),n(49),n(50),n(62),n(64),e.exports=n(66)},function(e,t,n){var r=n(2),o=n(3),i=n(4),s=n(5),l=n(7),u=n(11),c=n(13),p=n(14),h=n(12),d=n(15),f=n(16),m=n(21),g=n(22),v=n(23),y=n(24),b=n(17),x=n(10),E=r.getDesc,w=r.setDesc,T=r.create,C=m.get,S=o.Symbol,k=!1,P=d("_hidden"),_=r.isEnum,M=c("symbol-registry"),N=c("symbols"),O="function"==typeof S,A=Object.prototype,I=s?function(){try{return T(w({},P,{get:function(){return w(this,P,{value:!1})[P]}}))[P]||w}catch(e){return function(e,t,n){var r=E(A,t);r&&delete A[t],w(e,t,n),r&&e!==A&&w(A,t,r)}}}():w,R=function(e){var t=N[e]=T(S.prototype);return t._k=e,s&&k&&I(A,e,{configurable:!0,set:function(t){i(this,P)&&i(this[P],e)&&(this[P][e]=!1),I(this,e,x(1,t))}}),t},D=function(e,t,n){return n&&i(N,t)?(n.enumerable?(i(e,P)&&e[P][t]&&(e[P][t]=!1),n=T(n,{enumerable:x(0,!1)})):(i(e,P)||w(e,P,x(1,{})),e[P][t]=!0),I(e,t,n)):w(e,t,n)},L=function(e,t){y(e);for(var n,r=g(t=b(t)),o=0,i=r.length;i>o;)D(e,n=r[o++],t[n]);return e},F=function(e,t){return t===a?T(e):L(T(e),t)},B=function(e){var t=_.call(this,e);return!(t||!i(this,e)||!i(N,e)||i(this,P)&&this[P][e])||t},j=function(e,t){var n=E(e=b(e),t);return!n||!i(N,t)||i(e,P)&&e[P][t]||(n.enumerable=!0),n},q=function(e){for(var t,n=C(b(e)),r=[],o=0;n.length>o;)i(N,t=n[o++])||t==P||r.push(t);return r},z=function(e){for(var t,n=C(b(e)),r=[],o=0;n.length>o;)i(N,t=n[o++])&&r.push(N[t]);return r};O||(S=function(){if(this instanceof S)throw TypeError("Symbol is not a constructor");return R(h(arguments[0]))},u(S.prototype,"toString",function(){return this._k}),r.create=F,r.isEnum=B,r.getDesc=j,r.setDesc=D,r.setDescs=L,r.getNames=m.get=q,r.getSymbols=z,s&&!n(25)&&u(A,"propertyIsEnumerable",B,!0)),O&&!n(6)(function(){return"[{},[null]]"!=JSON.stringify([{a:S()},[S()]])})||u(S.prototype,"toJSON",function(){if(O&&v(this))return this});var U={for:function(e){return i(M,e+="")?M[e]:M[e]=S(e)},keyFor:function(e){return f(M,e)},useSetter:function(){k=!0},useSimple:function(){k=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=d(e);U[e]=O?t:R(t)}),k=!0,l(l.G+l.W,{Symbol:S}),l(l.S,"Symbol",U),l(l.S+l.F*!O,"Object",{create:F,defineProperty:D,defineProperties:L,getOwnPropertyDescriptor:j,getOwnPropertyNames:q,getOwnPropertySymbols:z}),p(S,"Symbol"),p(Math,"Math",!0),p(o.JSON,"JSON",!0)},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){var n="undefined",r=e.exports=typeof window!=n&&window.Math==Math?window:typeof self!=n&&self.Math==Math?self:Function("return this")();"number"==typeof i&&(i=r)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=!n(6)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(3),o=n(8),i=n(9),a=n(11),s="prototype",l=function(e,t){return function(){return e.apply(t,arguments)}},u=function(e,t,n){var c,p,h,d,f=e&u.G,m=e&u.P,g=f?r:e&u.S?r[t]||(r[t]={}):(r[t]||{})[s],v=f?o:o[t]||(o[t]={});f&&(n=t);for(c in n)p=!(e&u.F)&&g&&c in g,h=(p?g:n)[c],d=e&u.B&&p?l(h,r):m&&"function"==typeof h?l(Function.call,h):h,g&&!p&&a(g,c,h),v[c]!=h&&i(v,c,d),m&&((v[s]||(v[s]={}))[c]=h)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,e.exports=u},function(e,t){var n=e.exports={};"number"==typeof o&&(o=n)},function(e,t,n){var r=n(2),o=n(10);e.exports=n(5)?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(3),o=n(9),i=n(12)("src"),a="toString",s=Function[a],l=(""+s).split(a);n(8).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,a){"function"==typeof n&&(o(n,i,e[t]?""+e[t]:l.join(String(t))),"name"in n||(n.name=t)),e===r?e[t]=n:(a||delete e[t],o(e,t,n))})(Function.prototype,a,function(){return"function"==typeof this&&this[i]||s.call(this)})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(e===a?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(3),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(4),o=n(9),i=n(15)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,t)}},function(e,t,n){var r=n(13)("wks"),o=n(3).Symbol;e.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||n(12))("Symbol."+e))}},function(e,t,n){var r=n(2),o=n(17);e.exports=function(e,t){for(var n,i=o(e),a=r.getKeys(i),s=a.length,l=0;s>l;)if(i[n=a[l++]]===t)return n}},function(e,t,n){var r=n(18),o=n(20);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(19);e.exports=0 in Object("z")?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(e==a)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r={}.toString,o=n(17),i=n(2).getNames,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.get=function(e){return a&&"[object Window]"==r.call(e)?s(e):i(o(e))}},function(e,t,n){var r=n(2);e.exports=function(e){var t=r.getKeys(e),n=r.getSymbols;if(n)for(var o,i=n(e),a=r.isEnum,s=0;i.length>s;)a.call(e,o=i[s++])&&t.push(o);return t}},function(e,t){e.exports=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},function(e,t,n){var r=n(23);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=!1},function(e,t,n){var r=n(7);r(r.S+r.F,"Object",{assign:n(27)})},function(e,t,n){var r=n(28),o=n(18),i=n(22);e.exports=n(6)(function(){return Symbol()in Object.assign({})})?function(e,t){for(var n=r(e),a=arguments.length,s=1;a>s;)for(var l,u=o(arguments[s++]),c=i(u),p=c.length,h=0;p>h;)n[l=c[h++]]=u[l];return n}:Object.assign},function(e,t,n){var r=n(20);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(7),o=n(30),i=n(32);r(r.P+r.F*!n(6)(function(){"q".endsWith(/./)}),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments[1],r=o(t.length),s=n===a?r:Math.min(o(n),r),l=String(e);return t.slice(s-l.length,s)===l}})},function(e,t,n){var r=n(31),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(20),o=n(19);e.exports=function(e,t,n){if("RegExp"==o(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){var r=n(7),o=n(30),i=n(32);r(r.P+r.F*!n(6)(function(){"q".startsWith(/./)}),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=o(Math.min(arguments[1],t.length)),r=String(e);return t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(35),o=n(7),i=n(28),s=n(37),l=n(38),u=n(30),c=n(40);o(o.S+o.F*!n(42)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,p,h=i(e),d="function"==typeof this?this:Array,f=arguments[1],m=f!==a,g=0,v=c(h);if(m&&(f=r(f,arguments[2],2)),v==a||d==Array&&l(v))for(n=new d(t=u(h.length));t>g;g++)n[g]=m?f(h[g],g):h[g];else for(p=v.call(h),n=new d;!(o=p.next()).done;g++)n[g]=m?s(p,f,[o.value,g],!0):o.value;return n.length=g,n}})},function(e,t,n){var r=n(36);e.exports=function(e,t,n){if(r(e),t===a)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(24);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw i!==a&&r(i.call(e)),t}}},function(e,t,n){var r=n(39),o=n(15)("iterator");e.exports=function(e){return(r.Array||Array.prototype[o])===e}},function(e,t){e.exports={}},function(e,t,n){var r=n(41),o=n(15)("iterator"),i=n(39);e.exports=n(8).getIteratorMethod=function(e){if(e!=a)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(19),o=n(15)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return e===a?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[o])?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(15)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e){if(!o)return!1;var t=!1;try{var n=[7],i=n[r]();i.next=function(){t=!0},n[r]=function(){return i},e(n)}catch(e){}return t}},function(e,t,n){var r=n(7);r(r.S+r.F*n(6)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)n[e]=arguments[e++];return n.length=t,n}})},function(e,t,n){var r=n(7),o=n(28),i=n(45),s=n(30);r(r.P,"Array",{fill:function(e){for(var t=o(this,!0),n=s(t.length),r=i(arguments[1],n),l=arguments[2],u=l===a?n:i(l,n);u>r;)t[r++]=e;return t}}),n(46)("fill")},function(e,t,n){var r=n(31),o=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(15)("unscopables");r in[]||n(9)(Array.prototype,r,{}),e.exports=function(e){[][r][e]=!0}},function(e,t,n){var r="find",o=n(7),i=!0,a=n(48)(5);r in[]&&Array(1)[r](function(){i=!1}),o(o.P+o.F*i,"Array",{find:function(e){return a(this,e,arguments[1])}}),n(46)(r)},function(e,t,n){var r=n(35),o=n(18),i=n(28),s=n(30);e.exports=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,c=6==e,p=5==e||c;return function(h,d,f){for(var m,g,v=i(h),y=o(v),b=r(d,f,3),x=s(y.length),E=0,w=t?Array(x):n?[]:a;x>E;E++)if((p||E in y)&&(m=y[E],g=b(m,E,v),e))if(t)w[E]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return E;case 2:w.push(m)}else if(u)return!1;return c?-1:l||u?u:w}}},function(e,t,n){var r="findIndex",o=n(7),i=!0,a=n(48)(6);r in[]&&Array(1)[r](function(){i=!1}),o(o.P+o.F*i,"Array",{findIndex:function(e){return a(this,e,arguments[1])}}),n(46)(r)},function(e,t,n){var r,o=n(2),i=n(25),s=n(3),l=n(35),u=n(41),c=n(7),p=n(23),h=n(24),d=n(36),f=n(51),m=n(52),g=n(53).set,v=n(54),y=n(55),b=n(15)("species"),x=n(12)("record"),E=n(56),w="Promise",T=s.process,C="process"==u(T),S=s[w],k=function(e){var t=new S(function(){});return e&&(t.constructor=Object),S.resolve(t)===t},P=function(){function e(t){var n=new S(t);return g(n,e.prototype),n}var t=!1;try{if(t=S&&S.resolve&&k(),g(e,S),e.prototype=o.create(S.prototype,{constructor:{value:e}}),e.resolve(5).then(function(){})instanceof e||(t=!1),t&&n(5)){var r=!1;S.resolve(o.setDesc({},"then",{get:function(){r=!0}})),t=r}}catch(e){t=!1}return t}(),_=function(e){return p(e)&&(P?"Promise"==u(e):x in e)},M=function(e,t){return!(!i||e!==S||t!==r)||v(e,t)},N=function(e){var t=h(e)[b];return t!=a?t:e},O=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e.n){e.n=!0;var n=e.c;E(function(){for(var r=e.v,o=1==e.s,i=0,l=function(t){var n,i,a=o?t.ok:t.fail;try{a?(o||(e.h=!0),n=a===!0?r:a(r),n===t.P?t.rej(TypeError("Promise-chain cycle")):(i=O(n))?i.call(n,t.res,t.rej):t.res(n)):t.rej(r)}catch(e){t.rej(e)}};n.length>i;)l(n[i++]);n.length=0,e.n=!1,t&&setTimeout(function(){I(e.p)&&(C?T.emit("unhandledRejection",r,e.p):s.console&&console.error&&console.error("Unhandled promise rejection",r)),e.a=a},1)})}},I=function(e){var t,n=e[x],r=n.a||n.c,o=0;if(n.h)return!1;for(;r.length>o;)if(t=r[o++],t.fail||!I(t.P))return!1;return!0},R=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),A(t,!0))},D=function(e){var t,n=this;if(!n.d){n.d=!0,n=n.r||n;try{(t=O(e))?E(function(){var r={r:n,d:!1};try{t.call(e,l(D,r,1),l(R,r,1))}catch(e){R.call(r,e)}}):(n.v=e,n.s=1,A(n,!1))}catch(e){R.call({r:n,d:!1},e)}}};P||(S=function(e){d(e);var t={p:f(this,S,w),c:[],a:a,s:0,d:!1,v:a,h:!1,n:!1};this[x]=t;try{e(l(D,t,1),l(R,t,1))}catch(e){R.call(t,e)}},n(61)(S.prototype,{then:function(e,t){var n=h(h(this).constructor)[b],r={ok:"function"!=typeof e||e,fail:"function"==typeof t&&t},o=r.P=new(n!=a?n:S)(function(e,t){r.res=d(e),r.rej=d(t)}),i=this[x];return i.c.push(r),i.a&&i.a.push(r),i.s&&A(i,!1),o},catch:function(e){return this.then(a,e)}})),c(c.G+c.W+c.F*!P,{Promise:S}),n(14)(S,w),y(S),y(r=n(8)[w]),c(c.S+c.F*!P,w,{reject:function(e){return new this(function(t,n){n(e)})}}),c(c.S+c.F*(!P||k(!0)),w,{resolve:function(e){return _(e)&&M(e.constructor,this)?e:new this(function(t){t(e)})}}),c(c.S+c.F*!(P&&n(42)(function(e){S.all(e).catch(function(){})})),w,{all:function(e){var t=N(this),n=[];return new t(function(r,i){m(e,!1,n.push,n);var a=n.length,s=Array(a);a?o.each.call(n,function(e,n){t.resolve(e).then(function(e){s[n]=e,--a||r(s)},i)}):r(s)})},race:function(e){var t=N(this);return new t(function(n,r){m(e,!1,function(e){t.resolve(e).then(n,r)})})}})},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e}},function(e,t,n){var r=n(35),o=n(37),i=n(38),a=n(24),s=n(30),l=n(40);e.exports=function(e,t,n,u){var c,p,h,d=l(e),f=r(n,u,t?2:1),m=0;if("function"!=typeof d)throw TypeError(e+" is not iterable!");if(i(d))for(c=s(e.length);c>m;m++)t?f(a(p=e[m])[0],p[1]):f(e[m]);else for(h=d.call(e);!(p=h.next()).done;)o(h,f,p.value,t)}},function(e,t,n){var r=n(2).getDesc,o=n(23),i=n(24),s=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t){try{(t=n(35)(Function.call,r(Object.prototype,"__proto__").set,2))({},[])}catch(t){e=!0}return function(n,r){return s(n,r),e?n.__proto__=r:t(n,r),n}}():a),check:s}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},function(e,t,n){var r=n(2),o=n(15)("species");e.exports=function(e){!n(5)||o in e||r.setDesc(e,o,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r,o,i,s=n(3),l=n(57).set,u=s.MutationObserver||s.WebKitMutationObserver,c=s.process,p="process"==n(19)(c),h=function(){var e,t;for(p&&(e=c.domain)&&(c.domain=null,e.exit());r;)t=r.domain,t&&t.enter(),r.fn.call(),t&&t.exit(),r=r.next;o=a,e&&e.enter()};if(p)i=function(){c.nextTick(h)};else if(u){var d=1,f=document.createTextNode("");new u(h).observe(f,{characterData:!0}),i=function(){f.data=d=-d}}else i=function(){l.call(s,h)};e.exports=function(e){var t={fn:e,next:a,domain:p&&c.domain};o&&(o.next=t),r||(r=t,i()),o=t}},function(e,t,n){var r,o,i,a=n(35),s=n(58),l=n(59),u=n(60),c=n(3),p=c.process,h=c.setImmediate,d=c.clearImmediate,f=c.MessageChannel,m=0,g={},v="onreadystatechange",y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};h&&d||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},d=function(e){delete g[e]},"process"==n(19)(p)?r=function(e){p.nextTick(a(y,e,1))}:f?(o=new f,i=o.port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScript?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r=v in u("script")?function(e){l.appendChild(u("script"))[v]=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:h,clear:d}},function(e,t){e.exports=function(e,t,n){var r=n===a;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){e.exports=n(3).document&&document.documentElement},function(e,t,n){var r=n(23),o=n(3).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(11);e.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e}},function(e,t,n){var r=n(7),o=n(63)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments[1])}}),n(46)("includes")},function(e,t,n){var r=n(17),o=n(30),i=n(45);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=o(l.length),c=i(a,u);if(e&&n!=n){for(;u>c;)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c;return!e&&-1}}},function(e,t,n){var r=n(7),o=n(65)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){var r=n(2),o=n(17);e.exports=function(e){return function(t){var n,i=o(t),a=r.getKeys(i),s=a.length,l=0,u=Array(s);if(e)for(;s>l;)u[l]=[n=a[l++],i[n]];else for(;s>l;)u[l]=i[a[l++]];return u}}},function(e,t,n){var r=n(7),o=n(65)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})}]),"undefined"!=typeof e&&e.exports?e.exports=o:(r=function(){return o}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}(1,1)},function(e,t,n){const r=function(e){const t=global.navigator;global.navigator={userAgent:"Node"};const n=e();return global.navigator=t,n};global.document=global.jsdom.jsdom();const o=global.window=document.defaultView;o.getSelection||(o.getSelection=function(){return{rangeCount:0}});const i=n(21);global._=o._=i;const a=n(61);global.btoa=o.btoa=a;const s=i.clone(global.window),l=function(){i.each(i.keys(global.window),function(e){i.has(s,e)||(global[e]=global.window[e])})};global.React=r(function(){return n(22),o.React}),n(23),l(),n(24),l(),global.__EDITOR__=!0,e.exports={updateGlobals:l,window:o}},function(e,t,n){"use strict";var r=n(62),o=n(25),i=n(26);o.registerMany(i),e.exports={apiVersion:r.apiVersion,itemDataVersion:r.itemDataVersion,init:n(27),ArticleRenderer:n(28),ItemRenderer:n(29),ServerItemRenderer:n(30),HintsRenderer:n(31),Renderer:n(32)}},function(e,t,n){"use strict";var r=n(33),o=n(25),i=n(62);o.registerMany(r);var a=o.getVersionVector();a["::renderer::"]=i.itemDataVersion,e.exports=a},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(34),a=n(35),s=function(e,t,n){var r=!1,i=o(t).reduce(function(e,t){return r||!e.hasOwnProperty(t)?(r=!0,n):e[t]},e);return i},l=function(e){var t=e.question||{},n=t.widgets||{};return o.keys(n)},u=function(e,t){var n=e.hints||[],r=n[t]||{},i=r.widgets||{};return o.keys(i)},c=function(e){return o.isObject(e)&&!("content"in e)},p=r.createClass({displayName:"RevisionDiff",propTypes:{beforeItem:r.PropTypes.object.isRequired,afterItem:r.PropTypes.object.isRequired},render:function(){var e=this.props.beforeItem,t=this.props.afterItem,n=0;o(e).has("hints")&&o(t).has("hints")&&(n=Math.max(e.hints.length,t.hints.length));var p=o.union(l(e),l(t)),h=[{title:"Question",path:["question"]},{title:"Question extras",path:["answerArea"]}].concat(o.times(n,function(e){return{title:"Hint #"+(e+1),path:["hints",e]}})).concat(o.map(p,function(e){return{title:e,path:["question","widgets",e,"options"]}})).concat(o.flatten(o.times(n,function(n){var r=o.union(u(e,n),u(t,n));return o.map(r,function(e){return{title:"Hint #"+(n+1)+"."+e,path:["hints",n,"widgets",e,"options"]}})}))),d=[];return o(h).each(function(n,o){var l,u=n.path,p=s(e,u,""),h=s(t,u,"");c(p)||c(h)?(c(p)||(p={}),c(h)||(h={}),l=r.createElement(a,{key:n.title,title:n.title,before:p,after:h})):l=r.createElement(i,{key:n.title,title:n.title,before:p.content,after:h.content}),d.push(r.createElement("div",{key:o},r.createElement("div",{className:"diff-header"},n.title),r.createElement("div",{className:"diff-header"},n.title),r.createElement("div",{className:"diff-body perseus-clearfix"},l)))}),r.createElement("div",null,d)}});e.exports=p},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(17),a=r.createClass({displayName:"StatefulArticleEditor",getInitialState:function(){return o({}).extend(this.props,{mode:"edit",onChange:this.handleChange,ref:"editor",screen:"desktop"})},componentWillReceiveProps:function(e){this.setState(o(e).omit("onChange","ref"))},getSaveWarnings:function(){return this.refs.editor.getSaveWarnings()},serialize:function(){return this.refs.editor.serialize()},handleChange:function(e,t){this.isMounted()&&this.setState(e,t)},scorePreview:function(){return this.refs.editor.scorePreview()},render:function(){var e=this,t=this.state,n=t.mode,o=t.screen;return r.createElement("div",null,r.createElement("div",{style:s.controlBar},r.createElement("span",{style:s.controls},"Mode:"," ",r.createElement("span",{onClick:function(){return e.setState({mode:"edit"})},style:"edit"===n?s.controlSelected:s.control},"EDIT")," | ",r.createElement("span",{onClick:function(){return e.setState({mode:"preview"})},style:"preview"===n?s.controlSelected:s.control},"PREVIEW")," | ",r.createElement("span",{onClick:function(){return e.setState({mode:"json"})},style:"json"===n?s.controlSelected:s.control},"JSON")),r.createElement("span",{style:s.controls},"Screen:"," ",r.createElement("span",{onClick:function(){return e.setState({screen:"phone"})},style:"phone"===o?s.controlSelected:s.control},"PHONE")," | ",r.createElement("span",{onClick:function(){return e.setState({screen:"tablet"})},style:"tablet"===o?s.controlSelected:s.control},"TABLET")," | ",r.createElement("span",{onClick:function(){return e.setState({screen:"desktop"})},style:"desktop"===o?s.controlSelected:s.control},"DESKTOP"))),r.createElement("div",{style:s.editor},r.createElement(i,this.state)))}}),s={controlBar:{marginBottom:25,marginTop:5},controls:{marginRight:10},controlSelected:{cursor:"default",fontWeight:700},control:{cursor:"pointer"},editor:{marginTop:-20}};e.exports=a},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(19),a=r.createClass({displayName:"StatefulEditorPage",propTypes:{componentClass:r.PropTypes.func},getDefaultProps:function(){return{componentClass:i}},render:function(){return r.createElement(this.props.componentClass,this.state)},getInitialState:function(){return o({}).extend(o.omit(this.props,"componentClass"),{onChange:this.handleChange,ref:"editor"})},componentWillReceiveProps:function(e){this.setState(o(e).pick("apiOptions","imageUploader","developerMode","problemNum","previewDevice","frameSource"))},getSaveWarnings:function(){return this.refs.editor.getSaveWarnings()},serialize:function(){return this.refs.editor.serialize()},handleChange:function(e,t){this.isMounted()&&this.setState(e,t)},scorePreview:function(){return this.refs.editor.scorePreview()}});e.exports=a},function(e,t,n){"use strict";var r=n(54),o=n(36);e.exports={Options:{propTypes:r.PropTypes.shape({isArticle:r.PropTypes.bool.isRequired,satStyling:r.PropTypes.bool.isRequired,onInputError:r.PropTypes.func.isRequired,onFocusChange:r.PropTypes.func.isRequired,staticRender:r.PropTypes.bool.isRequired,GroupMetadataEditor:r.PropTypes.func.isRequired,showAlignmentOptions:r.PropTypes.bool.isRequired,readOnly:r.PropTypes.bool.isRequired,answerableCallback:r.PropTypes.func,getAnotherHint:r.PropTypes.func,interactionCallback:r.PropTypes.func,groupAnnotator:r.PropTypes.func.isRequired,imagePlaceholder:r.PropTypes.node,widgetPlaceholder:r.PropTypes.node,baseElements:r.PropTypes.shape({Link:r.PropTypes.func}),imagePreloader:r.PropTypes.func,trackInteraction:r.PropTypes.func,customKeypad:r.PropTypes.bool,isMobile:r.PropTypes.bool,setDrawingAreaAvailable:r.PropTypes.func,useDraftEditor:r.PropTypes.bool}).isRequired,defaults:{isArticle:!1,isMobile:!1,satStyling:!1,onInputError:function(){},onFocusChange:function(){},staticRender:!1,GroupMetadataEditor:o,showAlignmentOptions:!1,readOnly:!1,groupAnnotator:function(){return null},baseElements:{Link:function(e){return r.createElement("a",e)}},setDrawingAreaAvailable:function(){},useDraftEditor:!0}},ClassNames:{RENDERER:"perseus-renderer",TWO_COLUMN_RENDERER:"perseus-renderer-two-columns",RESPONSIVE_RENDERER:"perseus-renderer-responsive",INPUT:"perseus-input",FOCUSED:"perseus-focused",RADIO:{OPTION:"perseus-radio-option",SELECTED:"perseus-radio-selected",OPTION_CONTENT:"perseus-radio-option-content"},INTERACTIVE:"perseus-interactive",CORRECT:"perseus-correct",INCORRECT:"perseus-incorrect",UNANSWERED:"perseus-unanswered",MOBILE:"perseus-mobile"}}},function(e,t,n){"use strict";var r=n(55),o=n(37),i=function e(t,n,o){return r.isArray(t)?r.map(t,function(t){return e(t,n)}):n.call(o,t)},a={inputPathsEqual:function(e,t){return null==e||null==t?null==e==(null==t):e.length===t.length&&e.every(function(e,n){return t[n]===e})},nestedMap:i,rWidgetParts:/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]$/,rWidgetRule:/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/,rTypeFromWidgetId:/^([a-z-]+) ([0-9]+)$/,snowman:"☃",noScore:{type:"points",earned:0,total:0,message:null},seededRNG:function(e){var t=e;return function(){var e=t;return e=e+2127912214+(e<<12)&4294967295,e=4294967295&(3345072700^e^e>>>19),e=e+374761393+(e<<5)&4294967295,e=4294967295&(e+3550635116^e<<9),e=e+4251993797+(e<<3)&4294967295,e=4294967295&(3042594569^e^e>>>16),(t=268435455&e)/268435456}},shuffle:function(e,t,n){var o=r.clone(e);if(!o.length||r.all(o,function(e){return r.isEqual(e,o[0])}))return o;var i;i=r.isFunction(t)?t:a.seededRNG(t);do for(var s=o.length;s>0;s--){var l=Math.floor(i()*s),u=o[l];o[l]=o[s-1],o[s-1]=u}while(n&&r.isEqual(e,o));return o},split:"x".split(/(.)/g).length?function(e,t){return e.split(t)}:function(e,t){for(var n,r=[],o=t.lastIndex=0;n=t.exec(e);)r.push(e.slice(o,n.index)),r.push.apply(r,n.slice(1)),o=n.index+n[0].length;return r.push(e.slice(o)),r},combineScores:function(e,t){var n;return"points"===e.type&&"points"===t.type?(n=e.message&&t.message&&e.message!==t.message?null:e.message||t.message,{type:"points",earned:e.earned+t.earned,total:e.total+t.total,message:n}):"points"===e.type&&"invalid"===t.type?t:"invalid"===e.type&&"points"===t.type?e:"invalid"===e.type&&"invalid"===t.type?(n=e.message&&t.message&&e.message!==t.message?null:e.message||t.message,{type:"invalid",message:n}):void 0},keScoreFromPerseusScore:function(e,t){if("points"===e.type)return{empty:!1,correct:e.earned>=e.total,message:e.message,guess:t};if("invalid"===e.type)return{empty:!0,correct:!1,message:e.message,guess:t};throw new Error("Invalid score type: "+e.type)},firstNumericalParse:function(e){var t,n=o.predicate.createValidatorFunctional(function(e){return t=e,!0},{simplify:"optional",inexact:!0,forms:"integer, proper, improper, pi, log, mixed, decimal"});return n(e),t},stringArrayOfSize:function(e){return r(e).times(function(){return""})},gridDimensionConfig:function(e,t,n,r){var o=a.scaleFromExtent(t,n),i=e*o,s=i>30;return{scale:o,tickStep:e/r,unityLabel:s}},getGridStep:function(e,t,n){return r(2).times(function(r){var o=a.scaleFromExtent(e[r],n),i=a.gridStepFromTickStep(t[r],o);return i})},snapStepFromGridStep:function(e){return r.map(e,function(e){return e/2})},scaleFromExtent:function(e,t){var n=e[1]-e[0],r=t/n;return r},tickStepFromExtent:function(e,t){var n,r=e[1]-e[0];n=15<r&&r<=20?23:r>100||r<5?10:16;var o=t/500,i=n*o;return a.tickStepFromNumTicks(r,i)},gridStepFromTickStep:function(e,t){var n=e*t,r=e,o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=Math.floor(r/o);return n<25?e:n<50?5===i?e:e/2:1===i?e/2:2===i?e/4:5===i?e/5:void 0},tickStepFromNumTicks:function(e,t){var n=Math.pow(10,Math.floor(Math.log(e/t)/Math.LN10)),r=t/e*n;return r<=.15?n*=10:r<=.35?n*=5:r<=.75&&(n*=2),n},constrainedTickStepsFromTickSteps:function(e,t){for(var n=[],r=0;r<2;r++){var o=t[r][1]-t[r][0],i=o/e[r];i<=10?n[r]=e[r]:i<=20?n[r]=2*e[r]:n[r]=a.tickStepFromNumTicks(o,10)}return n},DeprecationMixin:{componentWillMount:function(){var e={};r.each(this.deprecatedProps,function(t,n){r.has(this.props,n)&&r.extend(e,t(this.props))},this),r.isEmpty(e)||(r.extend(this.props,e),setTimeout(this.props.onChange,0,e))}},eq:function(e,t){return r.isNumber(e)&&r.isNumber(t)?Math.abs(e-t)<1e-9:e===t},deepEq:function(e,t){if(r.isArray(e)&&r.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!a.deepEq(e[n],t[n]))return!1;return!0}return!r.isArray(e)&&!r.isArray(t)&&(r.isFunction(e)&&r.isFunction(t)?a.eq(e,t):!r.isFunction(e)&&!r.isFunction(t)&&(r.isObject(e)&&r.isObject(t)?e===t||r.all(e,function(e,n){return a.deepEq(t[n],e)})&&r.all(t,function(t,n){return a.deepEq(e[n],t)}):!r.isObject(e)&&!r.isObject(t)&&a.eq(e,t)))},parseQueryString:function(e){e=e||window.location.search.substring(1);for(var t,n={},r=/\+/g,o=/([^&=]+)=?([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(r," "))};t=o.exec(e);)n[i(t[1])]=i(t[2]);return n},updateQueryString:function(e,t,n){n=encodeURIComponent(n);var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=e.indexOf("?")!==-1?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+o+t+"="+n},strongEncodeURIComponent:function(e){return encodeURIComponent(e).replace(/['()!]/g,window.escape).replace(/\*/g,"%2A")},widgetShouldHighlight:function(e){if(!e)return!1;var t=["measurer","protractor"];return!r.contains(t,e.type)},scoreIsEmpty:function(e){return"invalid"===e.type&&(!e.message||0===e.message.length)},touchHandlers:{pointerDown:!1,currentTouchIdentifier:null},resetTouchHandlers:function(){r.extend(a.touchHandlers,{pointerDown:!1,currentTouchIdentifier:null})},extractPointerLocation:function(e){var t;if(a.touchHandlers.pointerDown){if(null!=a.touchHandlers.currentTouchIdentifier)for(var n=e.changedTouches?e.changedTouches.length:0,r=0;r<n;r++)e.changedTouches[r].identifier===a.touchHandlers.currentTouchIdentifier&&(t=e.changedTouches[r]);else t=e;var o="touchend"===e.type||"touchcancel"===e.type;t&&o&&(a.touchHandlers.pointerDown=!1,a.touchHandlers.currentTouchIdentifier=null)}else a.touchHandlers.pointerDown=!0,e.changedTouches?(t=e.changedTouches[0],a.touchHandlers.currentTouchIdentifier=t.identifier):t=e;if(t)return{left:t.pageX,top:t.pageY}},captureScratchpadTouchStart:function(e){e.stopPropagation()},getImageSize:function(e,t){var o=new Image;o.onload=function(){0===o.width&&0===o.height?(document.body.appendChild(o),r.defer(function(){t(o.clientWidth,o.clientHeight),document.body.removeChild(o)})):t(o.width,o.height)};var i=n(38);o.src=i.getRealImageUrl(e)},textarea:{getWordBeforeCursor:function(e){var t=e.value,n=e.selectionStart-1,r=Math.max(t.lastIndexOf("\n",n),t.lastIndexOf(" ",n))+1;return{string:t.substring(r,n+1),pos:{start:r,end:n}}},moveCursor:function(e,t){e.selectionStart=t,e.selectionEnd=t}}};a.random=a.seededRNG(4294967295&(new Date).getTime()),e.exports=a},function(e,t,n){
"use strict";var r=n(54),o=n(56),i=n(39),a=i.devices,s=n(40),l=s.iconDesktop,u=s.iconMobilePhone,c=s.iconTablet,p=n(41),h=r.createClass({displayName:"ViewportResizer",propTypes:{deviceType:r.PropTypes.string.isRequired,onViewportSizeChanged:r.PropTypes.func.isRequired},handleChange:function(e){this.props.onViewportSizeChanged(e)},render:function(){var e=r.createElement("span",null,r.createElement(p,u)," ","Phone"),t=r.createElement("span",null,r.createElement(p,c)," ","Tablet"),n=r.createElement("span",null,r.createElement(p,l)," ","Desktop");return r.createElement("span",{className:"viewport-resizer"},"Viewport:"," ",r.createElement(o,{value:this.props.deviceType,allowEmpty:!1,buttons:[{value:a.PHONE,content:e},{value:a.TABLET,content:t},{value:a.DESKTOP,content:n}],onChange:this.handleChange}))}});e.exports=h},function(e,t,n){"use strict";var r=n(54),o=n(39),i=o.devices,a={phone:{width:320,height:480,framedWidth:320},tablet:{width:750,height:920,framedWidth:525},desktop:{width:688,height:600,framedWidth:688}},s=r.createClass({displayName:"DeviceFramer",propTypes:{children:r.PropTypes.element.isRequired,deviceType:r.PropTypes.oneOf([i.PHONE,i.TABLET,i.DESKTOP]).isRequired,nochrome:r.PropTypes.bool},render:function(){var e=this.props.deviceType;if(this.props.nochrome)return r.createElement("div",null,r.createElement("div",{key:"screen",style:{border:"1px solid black",width:a[e].framedWidth}},r.createElement("div",null,this.props.children)));var t=a[e].framedWidth/a[e].width,n={backgroundColor:"white",color:"black",textAlign:"left",width:a[e].width,height:a[e].height,border:"solid 1px #CCC",margin:8,zoom:t};return r.createElement("div",{key:"screen",className:"screen",style:n},this.props.children)}});e.exports=s},function(e,t,n){"use strict";var r=(n(55),n(42)),o=n(25),i=function(e,t){if(null==t)return!1;var n=e.version||{major:0,minor:0};return t.major>n.major||!(t.major<n.major)&&t.minor>=n.minor},a=function(e,t){if(null==e||null==e.type)return!0;var n=o.upgradeWidgetInfoToLatestVersion(e);return i(n,t[n.type])},s=function(e,t){var n=!0;return r.traverseRendererDeep(e,null,function(e){n=n&&a(e,t)}),n},l=function(e,t){if(null==e||null==t)throw new Error("missing parameter to Perseus.isRenderable.item");return s(e.question,t)};e.exports={isItemRenderableByVersion:l}},function(e,t,n){"use strict";var r=n(55),o=n(42),i=n(25);e.exports={violatingWidgets:function(e){var t=[];return o.traverseRendererDeep(e.question,null,function(e){e.type&&!i.isAccessible(e)&&t.push(e.type)}),r.uniq(t)}}},function(e,t,n){"use strict";function r(e,t){var n=p.parse(e);p.traverseContent(n,function(e){"image"===e.type&&t.push(e.target)})}function o(e,t){e&&e.backgroundImage&&e.backgroundImage.url&&t.push(e.backgroundImage.url)}function i(e,t){e.options&&("categorizer"===e.type?(u.each(e.options.items,function(e){r(e,t)}),u.each(e.options.categories,function(e){r(e,t)})):"image"===e.type?(r(e.options.title,t),r(e.options.caption,t)):"matcher"===e.type?(u.each(e.options.left,function(e){r(e,t)}),u.each(e.options.right,function(e){r(e,t)}),u.each(e.options.labels,function(e){r(e,t)})):"matrix"===e.type?(r(e.options.prefix,t),r(e.options.suffix,t)):"orderer"===e.type?u.each(e.options.options,function(e){r(e.content,t)}):"passage"===e.type?r(e.options.passageTitle,t):"radio"===e.type?u.each(e.options.choices,function(e){r(e.content,t)}):"sorter"===e.type?u.each(e.options.correct,function(e){r(e,t)}):"table"===e.type&&u.each(e.options.headers,function(e){r(e,t)}),"grapher"===e.type?o(e.options.graph,t):"image"===e.type?o(e.options,t):"interactive-graph"===e.type?o(e.options,t):"measurer"===e.type&&e.options.image?t.push(e.options.image.url):"plotter"===e.type?t.push(e.options.picUrl):"transformer"===e.type&&o(e.options.graph,t))}function a(e){var t=[];return u.each(e,function(e){c.traverseRendererDeep(e,function(e){r(e,t)},function(e){return i(e,t)})}),t}function s(e){var t=[e.question].concat(e.hints);return a(t)}function l(e){return a(e)}var u=n(55),c=n(42),p=n(43);e.exports={findImagesInArticles:l,findImagesInItemData:s}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(55),a=n(10).Options,s=n(18),l=n(40),u=l.iconCircleArrowDown,c=l.iconCircleArrowUp,p=l.iconPlus,h=l.iconTrash,d=n(41),f=n(44),m=n(13),g=n(20),v=o.PropTypes.shape({content:o.PropTypes.string,widgets:o.PropTypes.object,images:o.PropTypes.object}),y=o.createClass({displayName:"SectionControlButton",propTypes:{icon:o.PropTypes.shape(d.propTypes).isRequired,onClick:o.PropTypes.func.isRequired,title:o.PropTypes.string.isRequired},render:function(){var e=this.props,t=e.icon,n=e.onClick,r=e.title;return o.createElement("a",{href:"#",className:"section-control-button simple-button simple-button--small orange",onClick:function(e){e.preventDefault(),n()},title:r},o.createElement(d,t))}}),b=o.createClass({displayName:"ArticleEditor",propTypes:{apiOptions:o.PropTypes.shape({}),frameSource:o.PropTypes.string.isRequired,imageUploader:o.PropTypes.func,json:o.PropTypes.oneOfType([v,o.PropTypes.arrayOf(v)]),mode:o.PropTypes.oneOf(["diff","edit","json","preview"]),onChange:o.PropTypes.func.isRequired,screen:o.PropTypes.oneOf(["phone","tablet","desktop"]),sectionImageUploadGenerator:o.PropTypes.func,useNewStyles:o.PropTypes.bool},getDefaultProps:function(){return{json:[{}],mode:"edit",screen:"desktop",sectionImageUploadGenerator:function(){return o.createElement("span",null)},useNewStyles:!1}},componentDidUpdate:function(){var e=this;"preview"===this.props.mode?this.refs["frame-all"].sendNewData({type:"article-all",data:this._sections().map(function(t){return e._apiOptionsForSection(t)})}):this._sections().forEach(function(t,n){e.refs["frame-"+n].sendNewData({type:"article",data:e._apiOptionsForSection(t)})})},_apiOptionsForSection:function(e){return{apiOptions:r({},a.defaults,this.props.apiOptions,{showAlignmentOptions:!0,isArticle:!0}),json:e,useNewStyles:this.props.useNewStyles}},_sections:function(){return i.isArray(this.props.json)?this.props.json:[this.props.json]},_renderEditor:function(){var e=this,t=this.props,n=t.imageUploader,l=t.sectionImageUploadGenerator,d=r({},a.defaults,this.props.apiOptions,{showAlignmentOptions:!0,isArticle:!0}),f=this._sections();return o.createElement("div",{className:"perseus-editor-table"},f.map(function(t,a){return[o.createElement("div",{className:"perseus-editor-row"},o.createElement("div",{className:"perseus-editor-left-cell"},o.createElement("div",{className:"pod-title"},"Section ",a+1,o.createElement("div",{style:{display:"inline-block",float:"right"}},l(a),o.createElement(y,{icon:p,onClick:function(){e._handleAddSectionAfter(a)},title:"Add a new section after this one"}),a+1<f.length&&o.createElement(y,{icon:u,onClick:function(){e._handleMoveSectionLater(a)},title:"Move this section down"}),a>0&&o.createElement(y,{icon:c,onClick:function(){e._handleMoveSectionEarlier(a)},title:"Move this section up"}),o.createElement(y,{icon:h,onClick:function(){var t="Are you sure you want to delete section "+(a+1)+"?";confirm(t)&&e._handleRemoveSection(a)},title:"Delete this section"}))),o.createElement(s,r({},t,{apiOptions:d,imageUploader:n,onChange:i.partial(e._handleEditorChange,a),placeholder:"Type your section text here...",ref:"editor"+a}))),o.createElement("div",{className:"editor-preview"},e._renderIframePreview(a,!0)))]}),this._renderAddSection())},_renderAddSection:function(){var e=this;return o.createElement("div",{className:"perseus-editor-row"},o.createElement("div",{className:"perseus-editor-left-cell"},o.createElement("a",{href:"#",className:"simple-button orange",onClick:function(){e._handleAddSectionAfter(e._sections().length-1)}},o.createElement(d,p)," Add a section")))},_renderIframePreview:function(e,t){var n="phone"===this.props.screen||"tablet"===this.props.screen;return o.createElement(m,{deviceType:this.props.screen,nochrome:t},o.createElement(g,{ref:"frame-"+e,key:this.props.screen,content:this.props.frameSource,datasetKey:"mobile",datasetValue:n,seamless:t}))},_renderPreviewMode:function(){return o.createElement("div",{className:"standalone-preview"},this._renderIframePreview("all",!1))},_handleJsonChange:function(e){this.props.onChange({json:e})},_handleEditorChange:function(e,t){var n=i.clone(this._sections());n[e]=i.extend({},n[e],t),this.props.onChange({json:n})},_handleMoveSectionEarlier:function(e){if(0!==e){var t=i.clone(this._sections()),n=t[e];t.splice(e,1),t.splice(e-1,0,n),this.props.onChange({json:t})}},_handleMoveSectionLater:function(e){var t=i.clone(this._sections());if(e+1!==t.length){var n=t[e];t.splice(e,1),t.splice(e+1,0,n),this.props.onChange({json:t})}},_handleAddSectionAfter:function(e){var t=i.clone(this.serialize()),n=e>=0?{widgets:t[e].widgets}:{};t.splice(e+1,0,n),this.props.onChange({json:t})},_handleRemoveSection:function(e){var t=i.clone(this._sections());t.splice(e,1),this.props.onChange({json:t})},serialize:function(){var e=this;if("edit"===this.props.mode)return this._sections().map(function(t,n){return e.refs["editor"+n].serialize()});if("preview"===this.props.mode||"json"===this.props.mode)return this.props.json;throw new Error("Could not serialize; mode "+this.props.mode+" not found")},render:function(){return o.createElement("div",{className:"framework-perseus perseus-article-editor"},"edit"===this.props.mode&&this._renderEditor(),"preview"===this.props.mode&&this._renderPreviewMode(),"json"===this.props.mode&&o.createElement("div",{className:"json-editor"},o.createElement("div",{className:"json-editor-warning"},o.createElement("span",null,"Warning: Editing in this mode can lead to broken articles!")),o.createElement(f,{multiLine:!0,onChange:this._handleJsonChange,value:this.props.json})))}});e.exports=b},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(58),a=n(59),s=n(60),l=n(55),u=n(10).Options,c=n(57),p=n(40),h=p.iconChevronDown,d=p.iconChevronRight,f=p.iconTrash,m=n(41),g=n(45),v=n(43),y=n(46),b=n(11),x=n(25),E=n(47),w=n(48),T=n(49),C="[[☃ {id}]]",S="(\\[\\[☃ {id}\\]\\])",k=new RegExp(S.replace("{id}","[a-z-]+ [0-9]+"),"g"),P=/^\[\[([a-z\-]+)$/,_=/(?:\n{2,}|^\n*)$/,M=/(\n*)$/,N=/^(\n*)/,O=function(e){var t=e.toString();return t.length>=5&&(t=t.replace(/(\d)(?=(\d{3})+$)/g,"$1{,}")),t},A=function(e){if(_.test(e))return e;var t=M.exec(e)[1];return e+"\n\n".slice(0,2-t.length)},I=function(e){var t=N.exec(e)[1];return"\n\n".slice(0,2-t.length)+e},R=o.createClass({displayName:"WidgetSelect",shouldComponentUpdate:function(){return!1},handleChange:function(e){var t=e.target.value;""!==t&&this.props.onChange&&this.props.onChange(t)},render:function(){var e=x.getPublicWidgets(),t=l.sortBy(l.keys(e),function(t){return e[t].displayName}),n="Add a widget…";return o.createElement("select",{value:"",onChange:this.handleChange},o.createElement("option",{value:""},n),o.createElement("option",{disabled:!0},"--"),l.map(t,function(t){return o.createElement("option",{key:t,value:t},e[t].displayName)}))}}),D=o.createClass({displayName:"WidgetEditor",propTypes:{id:o.PropTypes.string.isRequired,onChange:o.PropTypes.func.isRequired,onRemove:o.PropTypes.func.isRequired,apiOptions:u.propTypes,type:o.PropTypes.string.isRequired,alignment:o.PropTypes.string,static:o.PropTypes.bool,graded:o.PropTypes.bool,options:o.PropTypes.any,version:o.PropTypes.shape({major:o.PropTypes.number.isRequired,minor:o.PropTypes.number.isRequired})},getInitialState:function(){return{showWidget:!1}},componentWillMount:function(){this._upgradeWidgetInfo(this.props)},componentWillReceiveProps:function(e){this._upgradeWidgetInfo(e)},_upgradeWidgetInfo:function(e){var t=l.omit(e,T),n=x.upgradeWidgetInfoToLatestVersion(t);this.setState({widgetInfo:n})},_toggleWidget:function(e){e.preventDefault(),this.setState({showWidget:!this.state.showWidget})},_handleWidgetChange:function(e,t,n){var r=l.clone(this.state.widgetInfo);r.options=l.extend(this.refs.widget.serialize(),e),this.props.onChange(r,t,n)},_toggleStatic:function(e){e.preventDefault();var t=l.extend({},this.state.widgetInfo,{static:!this.state.widgetInfo.static});this.props.onChange(t)},_handleAlignmentChange:function(e){var t=e.target.value,n=l.clone(this.state.widgetInfo);n.alignment=t,this.props.onChange(n)},render:function(){var e,t=this,n=this.state.widgetInfo,i=x.getEditor(n.type);e=this.props.apiOptions.showAlignmentOptions?x.getSupportedAlignments(n.type):["default"];var a=x.supportsStaticMode(n.type),s="transformer"===n.type,l=o.createElement(y,{label:"Graded:",graded:n.graded,onChange:this.props.onChange});return o.createElement("div",{className:"perseus-widget-editor"},o.createElement("div",{className:"perseus-widget-editor-title "+(this.state.showWidget?"open":"closed")},o.createElement("a",{className:"perseus-widget-editor-title-id",href:"#",onClick:this._toggleWidget},this.props.id,this.state.showWidget?o.createElement(m,h):o.createElement(m,d)),a&&o.createElement("input",{type:"button",onClick:this._toggleStatic,className:"simple-button--small",value:n.static?"Unset as static":"Set as static"}),e.length>1&&o.createElement("select",{className:"alignment",value:n.alignment,onChange:this._handleAlignmentChange},e.map(function(e){return o.createElement("option",{key:e},e)})),o.createElement("a",{href:"#",className:"remove-widget simple-button simple-button--small orange",onClick:function(e){e.preventDefault(),t.props.onRemove()}},o.createElement(m,f))),o.createElement("div",{className:"perseus-widget-editor-content "+(this.state.showWidget?"enter":"leave")},s&&l,o.createElement(i,r({ref:"widget",onChange:this._handleWidgetChange,static:n.static,apiOptions:this.props.apiOptions},n.options))))},getSaveWarnings:function(){var e=this.refs.widget.getSaveWarnings;return e?e():[]},serialize:function(){var e=this.state.widgetInfo;return{type:e.type,alignment:e.alignment,static:e.static,graded:e.graded,options:this.refs.widget.serialize(),version:e.version}}}),L=/!\[[^\]]*\]\(([^\s\)]+)[^\)]*\)/g,F=function(e,t){for(var n=[];;){var r=e.exec(t);if(!r)break;n.push(r)}return n},B=function(e){return l.map(F(L,e),function(e){return e[1]})},j=o.createClass({displayName:"Editor",propTypes:{apiOptions:u.propTypes,imageUploader:o.PropTypes.func,onChange:o.PropTypes.func},getDefaultProps:function(){return{content:"",placeholder:"",widgets:{},images:{},disabled:!1,widgetEnabled:!0,immutableWidgets:!1,showWordCount:!1,warnNoPrompt:!1,warnNoWidgets:!1}},getInitialState:function(){return{showKatexErrors:!1}},getWidgetEditor:function(e,t){if(x.getEditor(t))return o.createElement(D,r({ref:e,id:e,type:t,onChange:this._handleWidgetEditorChange.bind(this,e),onRemove:this._handleWidgetEditorRemove.bind(this,e),apiOptions:this.props.apiOptions},this.props.widgets[e]))},_handleWidgetEditorChange:function(e,t,n,r){var o=l.clone(this.props.widgets);o[e]=l.extend({},o[e],t),this.props.apiOptions.useDraftEditor&&this.refs.textarea.updateWidget(e,t),this.props.onChange({widgets:o},n,r)},_handleWidgetEditorRemove:function(e){var t=this.refs.textarea;if(this.props.apiOptions.useDraftEditor)t.removeWidget(e);else{var n=new RegExp(S.replace("{id}",e),"gm");this.props.onChange({content:t.value.replace(n,"")})}},_sizeImages:function(e){var t=B(e.content),n=l.pick(e.images,t),r=l.filter(t,function(e){return!n[e]});l.each(r,function(t){b.getImageSize(t,function(r,o){n[t]={width:r,height:o},e.onChange({images:l.clone(n)},null,!0)})})},componentDidMount:function(){this._sizeImages(this.props),this.props.apiOptions.useDraftEditor||s(i.findDOMNode(this.refs.textarea)).on("copy cut",this._maybeCopyWidgets).on("paste",this._maybePasteWidgets)},componentDidUpdate:function(e){var t=i.findDOMNode(this.refs.textarea);t.value=this.props.content,this.props.content!==e.content&&this._sizeImages(this.props)},handleDrop:function(e){var t=this;if(!this.props.apiOptions.useDraftEditor){var n=this.props.content,r=e.nativeEvent.dataTransfer,o=r.files;if(0!==o.length)l(o).chain().map(function(e){if(!e.type.match("image.*"))return null;var t="☃ "+l.uniqueId("image_");return n+="\n\n![]("+t+")",{file:e,sentinel:t}}).reject(l.isNull).tap(function(){t.props.onChange({content:n})}).each(function(e){t.props.imageUploader(e.file,function(n){t.props.onChange({content:t.props.content.replace(e.sentinel,n)})})});else{var i=r.getData("URL");if(i){var a=n+"\n\n![]("+i+")";this.props.onChange({content:a})}}}},handleChange:function(){var e=i.findDOMNode(this.refs.textarea);this.props.onChange({content:e.value})},_handleKeyDown:function(e){if("Tab"===e.key){var t=i.findDOMNode(this.refs.textarea),n=b.textarea.getWordBeforeCursor(t),r=n.string.toLowerCase().match(P);if(null!=r){var o=r[1],a=x.getAllWidgetTypes(),s=l.filter(a,function(e){return e.substring(0,o.length)===o});if(1===s.length){var u=s[0];this._addWidgetToContent(this.props.content,[n.pos.start,n.pos.end+1],u)}e.preventDefault()}}},_maybeCopyWidgets:function(e){var t=e.target,n=t.value.substring(t.selectionStart,t.selectionEnd),r=l.map(n.match(k),function(e){return b.rWidgetParts.exec(e)[1]}),o=l.pick(this.serialize().widgets,r);localStorage.perseusLastCopiedText=n,localStorage.perseusLastCopiedWidgets=JSON.stringify(o),console.log("Widgets copied: "+localStorage.perseusLastCopiedWidgets)},_maybePasteWidgets:function(e){var t=localStorage.perseusLastCopiedWidgets,n=localStorage.perseusLastCopiedText,r=e.originalEvent.clipboardData.getData("text");if(t&&n===r){e.preventDefault();for(var o=JSON.parse(t),i=this._safeWidgetNameMapping(o),a={},s=Object.entries(o),u=Array.isArray(s),c=0,s=u?s:s[Symbol.iterator]();;){var p;if(u){if(c>=s.length)break;p=s[c++]}else{if(c=s.next(),c.done)break;p=c.value}var h=p,d=h[0],f=h[1];a[i[d]]=f}var m=l.extend(a,this.props.widgets),g=n.replace(k,function(e){var t=b.rWidgetParts.exec(e),n=t[0],r=t[1];return n.replace(r,i[r])}),v=e.target,y=v.selectionStart,x=this.props.content.substr(0,y)+g+this.props.content.substr(v.selectionEnd);this.props.onChange({content:x,widgets:m},function(){var e=y+g.length;b.textarea.moveCursor(v,e)})}},_safeWidgetNameMapping:function(e){var t=l.keys(e).map(function(e){return e.split(" ")}),n=l.uniq(t.map(function(e){return e[0]})),r=l.keys(this.props.widgets).map(function(e){return e.split(" ")}),o={};l.each(n,function(e){o[e]=l.chain(r).filter(function(t){return t[0]===e}).map(function(e){return+e[1]+1}).max().value(),o[e]=Math.max(o[e],1)});var i={};return l.each(t,function(e){var t=e.join(" "),n=e[0];i[t]=n+" "+o[n],o[n]++}),i},_addWidgetToContent:function(e,t,n){var r=i.findDOMNode(this.refs.textarea),o=l.map(e.match(k),function(e){var t=b.rWidgetParts.exec(e),n=t[2],r=+t[3];return[n,r]}),a=l.reduce(o,function(e,t){var r=t[0],o=t[1];return r===n?Math.max(o+1,e):e},1),s=n+" "+a,u=C.replace("{id}",s),c="block"===x.getDefaultAlignment(n),p=e.slice(0,t[0]),h=e.slice(t[1]),d=c?A(p):p,f=c?I(h):h,m=d+u+f,g=l.clone(this.props.widgets);g[s]={options:x.getEditor(n).defaultProps,type:n,version:x.getVersion(n)},this.props.onChange({content:m,widgets:g},function(){b.textarea.moveCursor(r,m.length-h.length)})},_addWidget:function(e){var t=this.refs.textarea;this.props.apiOptions.useDraftEditor?t.addWidget(e):(this._addWidgetToContent(this.props.content,[t.selectionStart,t.selectionEnd],e),t.focus())},addTemplate:function(e){var t=e.target.value;if(""!==t){if(e.target.value="",this.props.apiOptions.useDraftEditor)return void this.refs.textarea.addTemplate(t);var n=this.props.content;n=n.replace(/\n*$/,"\n\n");var r;if("table"===t)r="header 1 | header 2 | header 3\n- | - | -\ndata 1 | data 2 | data 3\ndata 4 | data 5 | data 6\ndata 7 | data 8 | data 9";else if("titledTable"===t)r="|| **Table title** ||\nheader 1 | header 2 | header 3\n- | - | -\ndata 1 | data 2 | data 3\ndata 4 | data 5 | data 6\ndata 7 | data 8 | data 9";else if("alignment"===t)r="$\\begin{align} x+5 &= 30 \\\\\nx+5-5 &= 30-5 \\\\\nx &= 25 \\end{align}$";else if("piecewise"===t)r="$f(x) = \\begin{cases}\n7 & \\text{if $x=1$} \\\\\nf(x-1)+5 & \\text{if $x > 1$}\n\\end{cases}$";else{if("allWidgets"!==t)throw new Error("Invalid template type: "+t);r=x.getAllWidgetTypes().map(function(e){return"[["+b.snowman+" "+e+" 1]]"}).join("\n\n")}var o=n+r;this.props.onChange({content:o},this.focusAndMoveToEnd)}},getSaveWarnings:function(){var e=this,t=v.parse(this.props.content),n=!1;v.traverseContent(t,function(e){"unescapedDollar"===e.type&&(n=!0)});var r=[];v.traverseContent(t,function(e){if("image"===e.type&&!e.alt){var t=e.target.length<9?e.target:e.target.slice(0,3)+"..."+e.target.slice(-3);r.push("Image '"+e.target+"' doesn't have alt text: ![add alt text here]("+t+")")}});var o=l.intersection(this.widgetIds,l.keys(this.refs)),i=l(o).chain().map(function(t){var n=e.refs[t].getSaveWarnings,r=n?n():[];return l.map(r,function(e){return t+": "+e})}).flatten(!0).value(),a=r.concat(i);return n&&a.unshift('This content is UNTRANSLATABLE because there are "unescaped" $ signs outside of math expressions. Please substitute $ -> \\$ where appropriate.'),a},focus:function(){i.findDOMNode(this.refs.textarea).focus()},focusAndMoveToEnd:function(){this.focus();var e=i.findDOMNode(this.refs.textarea);e.selectionStart=e.value.length,e.selectionEnd=e.value.length},render:function(){var e,t,n,r,i,s,u,p=[];if(this.props.showWordCount){var h=v.characterCount(this.props.content),d=Math.floor(h/6);u=o.createElement("span",{className:"perseus-editor-word-count",title:"~"+O(d)+" words ("+O(h)+" characters)"},O(d))}if(this.props.widgetEnabled){e=b.split(this.props.content,k),t={},n=[];for(var f=0;f<e.length;f++)if(f%2===0){n.push(e[f]);var m=v.parse(e[f]);v.traverseContent(m,function(e){if("math"===e.type||"blockMath"===e.type){var t=E(e.content);try{katex.renderToString(t)}catch(e){p.push({math:t,message:e.message})}}})}else{var y=b.rWidgetParts.exec(e[f]),x=y[1],T=y[2],C=!1,S=x in t;t[x]=this.getWidgetEditor(x,T);var P=(S||!t[x]?"error ":"")+(C?"selected ":""),_=S?f:x;n.push(o.createElement("b",{className:P,key:_},e[f]))}this.widgetIds=l.keys(t),r=o.createElement(R,{ref:"widgetSelect",onChange:this._addWidget});var M="Insert template…";i=o.createElement("select",{onChange:this.addTemplate},o.createElement("option",{value:""},M),o.createElement("option",{disabled:!0},"--"),o.createElement("option",{value:"table"},"Table"),o.createElement("option",{value:"titledTable"},"Titled table"),o.createElement("option",{value:"alignment"},"Aligned equations"),o.createElement("option",{value:"piecewise"},"Piecewise function"),o.createElement("option",{disabled:!0},"--"),o.createElement("option",{value:"allWidgets"},"All widgets (for testing)")),this.props.immutableWidgets||(s=o.createElement("div",{className:"perseus-editor-widgets"},o.createElement("div",{className:"perseus-editor-widgets-selectors"},r,i,u),a(t)),u=null)}else n=[this.props.content];n.push(o.createElement("br",{key:"end"}));var N=[o.createElement("div",{className:"perseus-textarea-underlay",ref:"underlay",key:"underlay"},n),o.createElement("textarea",{ref:"textarea",key:"textarea",onChange:this.handleChange,onKeyDown:this._handleKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,value:this.props.content})];this.props.apiOptions.useDraftEditor&&(N=o.createElement(w,{ref:"textarea",onChange:this.props.onChange,content:this.props.content,placeholder:this.props.placeholder,initialWidgets:this.props.widgets,imageUploader:this.props.imageUploader,widgetEnabled:this.props.widgetEnabled}));var A;A=this.props.imageUploader?o.createElement(c,{onDrop:this.handleDrop,className:"perseus-textarea-pair"},N):o.createElement("div",{className:"perseus-textarea-pair"},N);var I=this.props.content.replace(/\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/g,""),D=0===I.trim().length,L=!/\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/g.test(this.props.content),F={borderTop:"none",padding:4,backgroundColor:"pink"};return o.createElement("div",{className:"perseus-single-editor "+(this.props.className||"")},A,p.length>0&&o.createElement(g,{errorList:p}),this.props.warnNoPrompt&&D&&o.createElement("div",{style:F},"Graded Groups should contain a prompt"),this.props.warnNoWidgets&&L&&o.createElement("div",{style:F},"Graded Groups should contain at least one widget"),u,s)},serialize:function(e){var t=this,n={},r=l.intersection(this.widgetIds,l.keys(this.refs));return l.each(r,function(e){n[e]=t.refs[e].serialize()}),e&&e.keepDeletedWidgets&&l.chain(this.props.widgets).keys().reject(function(e){return l.contains(r,e)}).each(function(e){n[e]=t.props.widgets[e]}),{replace:this.props.replace,content:this.props.content,images:this.props.images,widgets:n}}});e.exports=j},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(10).ClassNames,a=n(50),s=n(51),l=n(52),u=n(53),c=n(44),p=n(12),h=r.createClass({displayName:"EditorPage",propTypes:{answerArea:r.PropTypes.any,developerMode:r.PropTypes.bool,frameSource:r.PropTypes.string.isRequired,hints:r.PropTypes.any,imageUploader:r.PropTypes.func,itemDataVersion:r.PropTypes.shape({major:r.PropTypes.number,minor:r.PropTypes.number}),jsonMode:r.PropTypes.bool,onChange:r.PropTypes.func,onPreviewDeviceChange:r.PropTypes.func,previewDevice:r.PropTypes.string,question:r.PropTypes.any},mixins:[a],getDefaultProps:function(){return{developerMode:!1,jsonMode:!1,onChange:function(){},ref:""}},getInitialState:function(){return{json:o.pick(this.props,"question","answerArea","hints","itemDataVersion"),gradeMessage:"",wasAnswered:!1}},handleCheckAnswer:function(){var e=this.scorePreview();this.setState({gradeMessage:e.message,wasAnswered:e.correct})},toggleJsonMode:function(){this.setState({json:this.serialize({keepDeletedWidgets:!0})},function(){this.props.onChange({jsonMode:!this.props.jsonMode})})},componentDidMount:function(){this.rendererMountNode=document.createElement("div"),this.updateRenderer()},componentDidUpdate:function(){this.updateRenderer()},updateRenderer:function(){var e=!this.props.developerMode||!this.props.jsonMode;if(this.isMounted()&&e){var t="phone"===this.props.previewDevice||"tablet"===this.props.previewDevice,n=Object.assign(this.getApiOptions(),{customKeypad:t,isMobile:t});this.refs.itemEditor.triggerPreviewUpdate({type:"question",data:o({item:this.serialize(),apiOptions:n,initialHintsVisible:0,device:this.props.previewDevice}).extend(o(this.props).pick("workAreaSelector","solutionAreaSelector","hintsAreaSelector","problemNum"))})}},handleChange:function(e,t,n){var r=o(this.props).pick("question","hints","answerArea");o(r).extend(e),this.props.onChange(r,t,n)},changeJSON:function(e){this.setState({json:e}),this.props.onChange(e)},_fixPassageRefs:function(){var e=this.serialize(),t=l(e);this.setState({json:t}),this.props.onChange(t)},scorePreview:function(){return this.renderer?this.renderer.scoreInput():null},render:function(){var e="framework-perseus",t="phone"===this.props.previewDevice||"tablet"===this.props.previewDevice,n=Object.assign(this.getApiOptions(),{customKeypad:t,isMobile:t});return n.isMobile&&(e+=" "+i.MOBILE),r.createElement("div",{id:"perseus",className:e},r.createElement("div",{style:{marginBottom:10}},this.props.developerMode&&r.createElement("span",null,r.createElement("label",null," ","Developer JSON Mode:"," ",r.createElement("input",{type:"checkbox",checked:this.props.jsonMode,onChange:this.toggleJsonMode}))," ",r.createElement("button",{type:"button",onClick:this._fixPassageRefs},"Fix passage-refs")," "),!this.props.jsonMode&&r.createElement(p,{deviceType:this.props.previewDevice,onViewportSizeChanged:this.props.onPreviewDeviceChange})),this.props.developerMode&&this.props.jsonMode&&r.createElement("div",null,r.createElement(c,{multiLine:!0,value:this.state.json,onChange:this.changeJSON})),(!this.props.developerMode||!this.props.jsonMode)&&r.createElement(u,{ref:"itemEditor",rendererOnly:this.props.jsonMode,question:this.props.question,answerArea:this.props.answerArea,imageUploader:this.props.imageUploader,onChange:this.handleChange,wasAnswered:this.state.wasAnswered,gradeMessage:this.state.gradeMessage,onCheckAnswer:this.handleCheckAnswer,deviceType:this.props.previewDevice,apiOptions:n,frameSource:this.props.frameSource}),(!this.props.developerMode||!this.props.jsonMode)&&r.createElement(s,{ref:"hintsEditor",hints:this.props.hints,imageUploader:this.props.imageUploader,onChange:this.handleChange,deviceType:this.props.previewDevice,apiOptions:n,frameSource:this.props.frameSource}))},getSaveWarnings:function(){var e=this.refs.itemEditor.getSaveWarnings(),t=this.refs.hintsEditor.getSaveWarnings();return e.concat(t)},serialize:function(e){return this.props.jsonMode?this.state.json:o.extend(this.refs.itemEditor.serialize(e),{hints:this.refs.hintsEditor.serialize(e)})}});e.exports=h},function(e,t,n){"use strict";var r=n(54),o=0,i={},a={};window.iframeDataStore={},window.addEventListener("message",function(e){"string"==typeof e.data?i[e.data]():e.data.id&&a[e.data.id](e.data.height)});var s=r.createClass({displayName:"IframeContentRenderer",propTypes:{content:r.PropTypes.string.isRequired,datasetKey:r.PropTypes.any,datasetValue:r.PropTypes.any,seamless:r.PropTypes.bool},componentDidMount:function(){var e=this;this.iframeID=o,o++,this._prepareFrame(),i[this.iframeID]=function(){e.sendNewData(e._lastData)},a[this.iframeID]=function(t){e._lastHeight=t,e.isMounted()&&e.props.seamless&&(e.refs.container.style.height=t+"px")}},shouldComponentUpdate:function(e){return e.content!==this.props.content||e.datasetValue!==this.props.datasetValue||e.seamless!==this.props.seamless},componentDidUpdate:function(e){this.props.seamless?this.refs.container.style.height=this._lastHeight+"px":this.refs.container.style.height="100%",e.content===this.props.content&&e.datasetValue===this.props.datasetValue||this._prepareFrame()},componentWillUnmount:function(){i[this.iframeID]=null,a[this.iframeID]=null},_prepareFrame:function(){var e=this;this._frame&&this.refs.container.removeChild(this._frame),this._frame=document.createElement("iframe"),this._frame.style.width="100%",this._frame.style.height="100%",this.props.datasetKey&&(this._frame.dataset[this.props.datasetKey]=this.props.datasetValue),this._frame.dataset.id=this.iframeID,this._frame.onload=function(){e._frame.onload=null,setTimeout(function(){e._frame.contentWindow.document.open(),e._frame.contentWindow.document.write(e.props.content),e._frame.contentWindow.document.close()})},this.refs.container.appendChild(this._frame)},sendNewData:function(e){this.isMounted()&&e&&(this._lastData=e,window.iframeDataStore[this.iframeID]=e,this._frame.contentWindow.postMessage(this.iframeID,"*"))},render:function(){return r.createElement("div",{ref:"container",style:{width:"100%",height:"100%"}})}});e.exports=s},function(e,t,n){(function(){var n=this,r=n._,o={},i=Array.prototype,a=Object.prototype,s=Function.prototype,l=i.push,u=i.slice,c=i.concat,p=a.toString,h=a.hasOwnProperty,d=i.forEach,f=i.map,m=i.reduce,g=i.reduceRight,v=i.filter,y=i.every,b=i.some,x=i.indexOf,E=i.lastIndexOf,w=Array.isArray,T=Object.keys,C=s.bind,S=function(e){return e instanceof S?e:this instanceof S?void(this._wrapped=e):new S(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=S),t._=S,S.VERSION="1.4.4";var k=S.each=S.forEach=function(e,t,n){if(null!=e)if(d&&e.forEach===d)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)===o)return}else for(var a in e)if(S.has(e,a)&&t.call(n,e[a],a,e)===o)return};S.map=S.collect=function(e,t,n){var r=[];return null==e?r:f&&e.map===f?e.map(t,n):(k(e,function(e,o,i){r[r.length]=t.call(n,e,o,i)}),r)};var P="Reduce of empty array with no initial value";S.reduce=S.foldl=S.inject=function(e,t,n,r){var o=arguments.length>2;if(null==e&&(e=[]),m&&e.reduce===m)return r&&(t=S.bind(t,r)),o?e.reduce(t,n):e.reduce(t);if(k(e,function(e,i,a){o?n=t.call(r,n,e,i,a):(n=e,o=!0)}),!o)throw new TypeError(P);return n},S.reduceRight=S.foldr=function(e,t,n,r){
var o=arguments.length>2;if(null==e&&(e=[]),g&&e.reduceRight===g)return r&&(t=S.bind(t,r)),o?e.reduceRight(t,n):e.reduceRight(t);var i=e.length;if(i!==+i){var a=S.keys(e);i=a.length}if(k(e,function(s,l,u){l=a?a[--i]:--i,o?n=t.call(r,n,e[l],l,u):(n=e[l],o=!0)}),!o)throw new TypeError(P);return n},S.find=S.detect=function(e,t,n){var r;return _(e,function(e,o,i){if(t.call(n,e,o,i))return r=e,!0}),r},S.filter=S.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(k(e,function(e,o,i){t.call(n,e,o,i)&&(r[r.length]=e)}),r)},S.reject=function(e,t,n){return S.filter(e,function(e,r,o){return!t.call(n,e,r,o)},n)},S.every=S.all=function(e,t,n){t||(t=S.identity);var r=!0;return null==e?r:y&&e.every===y?e.every(t,n):(k(e,function(e,i,a){if(!(r=r&&t.call(n,e,i,a)))return o}),!!r)};var _=S.some=S.any=function(e,t,n){t||(t=S.identity);var r=!1;return null==e?r:b&&e.some===b?e.some(t,n):(k(e,function(e,i,a){if(r||(r=t.call(n,e,i,a)))return o}),!!r)};S.contains=S.include=function(e,t){return null!=e&&(x&&e.indexOf===x?e.indexOf(t)!=-1:_(e,function(e){return e===t}))},S.invoke=function(e,t){var n=u.call(arguments,2),r=S.isFunction(t);return S.map(e,function(e){return(r?t:e[t]).apply(e,n)})},S.pluck=function(e,t){return S.map(e,function(e){return e[t]})},S.where=function(e,t,n){return S.isEmpty(t)?n?null:[]:S[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},S.findWhere=function(e,t){return S.where(e,t,!0)},S.max=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&S.isEmpty(e))return-(1/0);var r={computed:-(1/0),value:-(1/0)};return k(e,function(e,o,i){var a=t?t.call(n,e,o,i):e;a>=r.computed&&(r={value:e,computed:a})}),r.value},S.min=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&S.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return k(e,function(e,o,i){var a=t?t.call(n,e,o,i):e;a<r.computed&&(r={value:e,computed:a})}),r.value},S.shuffle=function(e){var t,n=0,r=[];return k(e,function(e){t=S.random(n++),r[n-1]=r[t],r[t]=e}),r};var M=function(e){return S.isFunction(e)?e:function(t){return t[e]}};S.sortBy=function(e,t,n){var r=M(t);return S.pluck(S.map(e,function(e,t,o){return{value:e,index:t,criteria:r.call(n,e,t,o)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var N=function(e,t,n,r){var o={},i=M(t||S.identity);return k(e,function(t,a){var s=i.call(n,t,a,e);r(o,s,t)}),o};S.groupBy=function(e,t,n){return N(e,t,n,function(e,t,n){(S.has(e,t)?e[t]:e[t]=[]).push(n)})},S.countBy=function(e,t,n){return N(e,t,n,function(e,t){S.has(e,t)||(e[t]=0),e[t]++})},S.sortedIndex=function(e,t,n,r){n=null==n?S.identity:M(n);for(var o=n.call(r,t),i=0,a=e.length;i<a;){var s=i+a>>>1;n.call(r,e[s])<o?i=s+1:a=s}return i},S.toArray=function(e){return e?S.isArray(e)?u.call(e):e.length===+e.length?S.map(e,S.identity):S.values(e):[]},S.size=function(e){return null==e?0:e.length===+e.length?e.length:S.keys(e).length},S.first=S.head=S.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:u.call(e,0,t)},S.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},S.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},S.rest=S.tail=S.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},S.compact=function(e){return S.filter(e,S.identity)};var O=function(e,t,n){return k(e,function(e){S.isArray(e)?t?l.apply(n,e):O(e,t,n):n.push(e)}),n};S.flatten=function(e,t){return O(e,t,[])},S.without=function(e){return S.difference(e,u.call(arguments,1))},S.uniq=S.unique=function(e,t,n,r){S.isFunction(t)&&(r=n,n=t,t=!1);var o=n?S.map(e,n,r):e,i=[],a=[];return k(o,function(n,r){(t?r&&a[a.length-1]===n:S.contains(a,n))||(a.push(n),i.push(e[r]))}),i},S.union=function(){return S.uniq(c.apply(i,arguments))},S.intersection=function(e){var t=u.call(arguments,1);return S.filter(S.uniq(e),function(e){return S.every(t,function(t){return S.indexOf(t,e)>=0})})},S.difference=function(e){var t=c.apply(i,u.call(arguments,1));return S.filter(e,function(e){return!S.contains(t,e)})},S.zip=function(){for(var e=u.call(arguments),t=S.max(S.pluck(e,"length")),n=new Array(t),r=0;r<t;r++)n[r]=S.pluck(e,""+r);return n},S.object=function(e,t){if(null==e)return{};for(var n={},r=0,o=e.length;r<o;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},S.indexOf=function(e,t,n){if(null==e)return-1;var r=0,o=e.length;if(n){if("number"!=typeof n)return r=S.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,o+n):n}if(x&&e.indexOf===x)return e.indexOf(t,n);for(;r<o;r++)if(e[r]===t)return r;return-1},S.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(E&&e.lastIndexOf===E)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var o=r?n:e.length;o--;)if(e[o]===t)return o;return-1},S.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),o=0,i=new Array(r);o<r;)i[o++]=e,e+=n;return i},S.bind=function(e,t){if(e.bind===C&&C)return C.apply(e,u.call(arguments,1));var n=u.call(arguments,2);return function(){return e.apply(t,n.concat(u.call(arguments)))}},S.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},S.bindAll=function(e){var t=u.call(arguments,1);return 0===t.length&&(t=S.functions(e)),k(t,function(t){e[t]=S.bind(e[t],e)}),e},S.memoize=function(e,t){var n={};return t||(t=S.identity),function(){var r=t.apply(this,arguments);return S.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},S.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},S.defer=function(e){return S.delay.apply(S,[e,1].concat(u.call(arguments,1)))},S.throttle=function(e,t){var n,r,o,i,a=0,s=function(){a=new Date,o=null,i=e.apply(n,r)};return function(){var l=new Date,u=t-(l-a);return n=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=l,i=e.apply(n,r)):o||(o=setTimeout(s,u)),i}},S.debounce=function(e,t,n){var r,o;return function(){var i=this,a=arguments,s=function(){r=null,n||(o=e.apply(i,a))},l=n&&!r;return clearTimeout(r),r=setTimeout(s,t),l&&(o=e.apply(i,a)),o}},S.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},S.wrap=function(e,t){return function(){var n=[e];return l.apply(n,arguments),t.apply(this,n)}},S.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},S.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},S.keys=T||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)S.has(e,n)&&(t[t.length]=n);return t},S.values=function(e){var t=[];for(var n in e)S.has(e,n)&&t.push(e[n]);return t},S.pairs=function(e){var t=[];for(var n in e)S.has(e,n)&&t.push([n,e[n]]);return t},S.invert=function(e){var t={};for(var n in e)S.has(e,n)&&(t[e[n]]=n);return t},S.functions=S.methods=function(e){var t=[];for(var n in e)S.isFunction(e[n])&&t.push(n);return t.sort()},S.extend=function(e){return k(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},S.pick=function(e){var t={},n=c.apply(i,u.call(arguments,1));return k(n,function(n){n in e&&(t[n]=e[n])}),t},S.omit=function(e){var t={},n=c.apply(i,u.call(arguments,1));for(var r in e)S.contains(n,r)||(t[r]=e[r]);return t},S.defaults=function(e){return k(u.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e};var A=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof S&&(e=e._wrapped),t instanceof S&&(t=t._wrapped);var o=p.call(e);if(o!=p.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var i=n.length;i--;)if(n[i]==e)return r[i]==t;n.push(e),r.push(t);var a=0,s=!0;if("[object Array]"==o){if(a=e.length,s=a==t.length)for(;a--&&(s=A(e[a],t[a],n,r)););}else{var l=e.constructor,u=t.constructor;if(l!==u&&!(S.isFunction(l)&&l instanceof l&&S.isFunction(u)&&u instanceof u))return!1;for(var c in e)if(S.has(e,c)&&(a++,!(s=S.has(t,c)&&A(e[c],t[c],n,r))))break;if(s){for(c in t)if(S.has(t,c)&&!a--)break;s=!a}}return n.pop(),r.pop(),s};S.isEqual=function(e,t){return A(e,t,[],[])},S.isEmpty=function(e){if(null==e)return!0;if(S.isArray(e)||S.isString(e))return 0===e.length;for(var t in e)if(S.has(e,t))return!1;return!0},S.isElement=function(e){return!(!e||1!==e.nodeType)},S.isArray=w||function(e){return"[object Array]"==p.call(e)},S.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){S["is"+e]=function(t){return p.call(t)=="[object "+e+"]"}}),S.isArguments(arguments)||(S.isArguments=function(e){return!(!e||!S.has(e,"callee"))}),S.isFunction=function(e){return"function"==typeof e},S.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},S.isNaN=function(e){return S.isNumber(e)&&e!=+e},S.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==p.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return h.call(e,t)},S.noConflict=function(){return n._=r,this},S.identity=function(e){return e},S.times=function(e,t,n){for(var r=Array(e),o=0;o<e;o++)r[o]=t.call(n,o);return r},S.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=S.invert(I.escape);var R={escape:new RegExp("["+S.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+S.keys(I.unescape).join("|")+")","g")};S.each(["escape","unescape"],function(e){S[e]=function(t){return null==t?"":(""+t).replace(R[e],function(t){return I[e][t]})}}),S.result=function(e,t){if(null==e)return null;var n=e[t];return S.isFunction(n)?n.call(e):n},S.mixin=function(e){k(S.functions(e),function(t){var n=S[t]=e[t];S.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),j.call(this,n.apply(S,e))}})};var D=0;S.uniqueId=function(e){var t=++D+"";return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;S.template=function(e,t,n){var r;n=S.defaults({},n,S.templateSettings);var o=new RegExp([(n.escape||L).source,(n.interpolate||L).source,(n.evaluate||L).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(o,function(t,n,r,o,s){return a+=e.slice(i,s).replace(B,function(e){return"\\"+F[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(a+="';\n"+o+"\n__p+='"),i=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(e){throw e.source=a,e}if(t)return r(t,S);var s=function(e){return r.call(this,e,S)};return s.source="function("+(n.variable||"obj")+"){\n"+a+"}",s},S.chain=function(e){return S(e).chain()};var j=function(e){return this._chain?S(e).chain():e};S.mixin(S),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];S.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],j.call(this,n)}}),k(["concat","join","slice"],function(e){var t=i[e];S.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),S.extend(S.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},function(e,t,n){!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n=window.reactWebpackJsonp;window.reactWebpackJsonp=function(i,a){for(var s,l,u=0,c=[];u<i.length;u++)l=i[u],o[l]&&c.push.apply(c,o[l]),o[l]=0;for(s in a)e[s]=a[s];for(n&&n(i,a);c.length;)c.shift().call(null,t);a[0]&&(r[0]=0,t(0))};var r={},o={0:0};return t.e=function(e,n){if(0===o[e])return n.call(null,t);if(void 0!==o[e])o[e].push(n);else{o[e]=[n];var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.src=t.p+""+e+"."+({0:"react",1:"react-art"}[e]||e)+".dev.js",r.appendChild(i)}},t.m=e,t.c=r,t.p="",t(0)}([function(e,t,n){window.React=n(124),window.React.__internalReactMount=n(6),window.React.__internalReactDOM=n(123);var r=n(3);window.React.__internalAddons=window.React.addons,window.React.addons={},Object.keys(window.React.__internalAddons).forEach(function(e){Object.defineProperty(window.React.addons,e,{get:function(){return r(!1,"Using React.addons.%s is deprecated. Use require('react-addons-{addon}') instead.",e),window.React.__internalAddons[e]}})})},function(e,t,n){"use strict";var r=function(e,t,n,r,o,i,a,s){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[c++]}))}throw l.framesToPop=1,l}};e.exports=r},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i){var a=Object(i);for(var s in a)r.call(a,s)&&(n[s]=a[s])}}return n}e.exports=r},function(e,t,n){var r=function(){},o=[],i=["require('react/addons') is deprecated. Access using require('react-addons-{addon}') instead."],a=0;r=function(e,t){var n=Array.prototype.slice.call(arguments,2);if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){if(i.indexOf(t)!==-1)return;var r=0,s=t.replace(/%s/g,function(){return n[r++]});if(console.error("Warning: "+s),o.indexOf(t)!==-1)return;a+2e3<Date.now()&&("undefined"!=typeof alert&&alert("Dev-only warning: "+s),a=Date.now())}},e.exports=r},,function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===V?e.documentElement:e.firstChild:null}function i(e){var t=o(e);return t&&ee.getID(t)}function a(e){var t=s(e);if(t)if(W.hasOwnProperty(t)){var n=W[t];n!==e&&(p(n,t)?F(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",U,t):void 0,W[t]=e)}else W[t]=e;return t}function s(e){return e&&e.getAttribute&&e.getAttribute(U)||""}function l(e,t){var n=s(e);n!==t&&delete W[n],e.setAttribute(U,t),W[t]=e}function u(e){return W.hasOwnProperty(e)&&p(W[e],e)||(W[e]=ee.findReactNodeByID(e)),W[e]}function c(e){var t=P.get(e)._rootNodeID;return S.isNullComponentID(t)?null:(W.hasOwnProperty(t)&&p(W[t],t)||(W[t]=ee.findReactNodeByID(t)),W[t])}function p(e,t){if(e){s(e)!==t?F(!1,"ReactMount: Unexpected modification of `%s`",U):void 0;var n=ee.findReactContainerForID(t);if(n&&D(n,e))return!0}return!1}function h(e){delete W[e]}function d(e){var t=W[e];return!(!t||!p(t,e))&&void(Q=t)}function f(e){Q=null,k.traverseAncestors(e,d);var t=Q;return Q=null,t}function m(e,t,n,r,o,i){T.useCreateElement&&(i=I({},i),n.nodeType===V?i[G]=n:i[G]=n.ownerDocument),i===R&&(i={});var a=n.nodeName.toLowerCase();i[q.ancestorInfoContextKey]=q.updatedAncestorInfo(null,a,null);var s=N.mountComponent(e,t,r,i);e._renderedComponent._topLevelWrapper=e,ee._mountImageIntoNode(s,n,o,r)}function g(e,t,n,r,o){var i=A.ReactReconcileTransaction.getPooled(r);i.perform(m,null,e,t,n,i,r,o),A.ReactReconcileTransaction.release(i)}function v(e,t){for(N.unmountComponent(e),t.nodeType===V&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function y(e){var t=i(e);return!!t&&t!==k.getReactRootIDFromNodeID(t)}function b(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=s(e);if(t){var n,r=k.getReactRootIDFromNodeID(t),o=e;do n=s(o),o=o.parentNode,null==o?F(!1,"findFirstReactDOMImpl(...): Unexpected detached subtree found when traversing DOM from node `%s`.",t):void 0;while(n!==r);if(o===Y[r])return e}}return null}var x=n(17),E=n(27),w=n(12),T=n(77),C=n(7),S=n(85),k=n(19),P=n(20),_=n(88),M=n(14),N=n(21),O=n(50),A=n(8),I=n(2),R=n(26),D=n(105),L=n(56),F=n(1),B=n(36),j=n(59),q=n(61),z=n(3),U=x.ID_ATTRIBUTE_NAME,W={},H=1,V=9,K=11,G="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),$={},Y={},X={},J=[],Q=null,Z=function(){};Z.isReactClass={},Z.displayName="TopLevelWrapper",Z.prototype.render=function(){return this.props};var ee={_instancesByReactRootID:$,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return ee.scrollMonitor(n,function(){O.enqueueElementInternal(e,t),r&&O.enqueueCallbackInternal(e,r)}),X[i(n)]=o(n),e},_registerComponent:function(e,t){!t||t.nodeType!==H&&t.nodeType!==V&&t.nodeType!==K?F(!1,"_registerComponent(...): Target container is not a DOM element."):void 0,E.ensureScrollValueMonitoring();var n=ee.registerContainer(t);return $[n]=e,n},_renderNewRootComponent:function(e,t,n,r){z(null==w.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",w.current&&w.current.getName()||"ReactCompositeComponent");var i=L(e,null),a=ee._registerComponent(i,t);return A.batchedUpdates(g,i,a,t,n,r),X[a]=o(t),i},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?F(!1,"parentComponent must be a valid React Component"):void 0,ee._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){C.isValidElement(t)?void 0:F(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof t?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof t?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":""),z(!n||!n.tagName||"BODY"!==n.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");var a=new C(Z,null,null,null,null,null,t),l=$[i(n)];if(l){var u=l._currentElement,c=u.props;if(j(c,t))return ee._updateRootComponent(l,a,n,r)._renderedComponent.getPublicInstance();ee.unmountComponentAtNode(n)}var p=o(n),h=p&&!!s(p),d=y(n);if(z(!d,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),!h||p.nextSibling)for(var f=p;f;){if(s(f)){z(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}f=f.nextSibling}var m=h&&!l&&!d,g=ee._renderNewRootComponent(a,n,m,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):R)._renderedComponent.getPublicInstance();return r&&r.call(g),g},render:function(e,t,n){return ee._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=i(e);return t&&(t=k.getReactRootIDFromNodeID(t)),t||(t=k.createReactRootID()),Y[t]=e,t},unmountComponentAtNode:function(e){z(null==w.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",w.current&&w.current.getName()||"ReactCompositeComponent"),!e||e.nodeType!==H&&e.nodeType!==V&&e.nodeType!==K?F(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):void 0;var t=i(e),n=$[t];if(!n){var r=y(e),o=s(e),a=o&&o===k.getReactRootIDFromNodeID(o);return z(!r,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",a?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1}return A.batchedUpdates(v,n,e),delete $[t],delete Y[t],delete X[t],!0},findReactContainerForID:function(e){var t=k.getReactRootIDFromNodeID(e),n=Y[t],r=X[t];if(r&&r.parentNode!==n){z(s(r)===t,"ReactMount: Root element ID differed from reactRootID.");var o=n.firstChild;o&&t===s(o)?X[t]=o:z(!1,"ReactMount: Root element has been removed from its original container. New container: %s",r.parentNode)}return n},findReactNodeByID:function(e){var t=ee.findReactContainerForID(e);return ee.findComponentRoot(t,e)},getFirstReactDOM:function(e){return b(e)},findComponentRoot:function(e,t){var n=J,r=0,o=f(t)||e;for(z(null!=o,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",t),n[0]=o.firstChild,n.length=1;r<n.length;){for(var i,a=n[r++];a;){var s=ee.getID(a);s?t===s?i=a:k.isAncestorIDOf(s,t)&&(n.length=r=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(i)return n.length=0,i}n.length=0,F(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,ee.getID(e))},_mountImageIntoNode:function(e,t,n,i){if(!t||t.nodeType!==H&&t.nodeType!==V&&t.nodeType!==K?F(!1,"mountComponentIntoNode(...): Target container is not valid."):void 0,n){var a=o(t);if(_.canReuseMarkup(e,a))return;var s=a.getAttribute(_.CHECKSUM_ATTR_NAME);a.removeAttribute(_.CHECKSUM_ATTR_NAME);var l=a.outerHTML;a.setAttribute(_.CHECKSUM_ATTR_NAME,s);var u,c=e;t.nodeType===H?(u=document.createElement("div"),u.innerHTML=e,c=u.innerHTML):(u=document.createElement("iframe"),document.body.appendChild(u),u.contentDocument.write(e),c=u.contentDocument.documentElement.outerHTML,document.body.removeChild(u));var p=r(c,l),h=" (client) "+c.substring(p-20,p+20)+"\n (server) "+l.substring(p-20,p+20);t.nodeType===V?F(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",h):void 0,z(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",h)}if(t.nodeType===V?F(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):void 0,i.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else B(t,e)},ownerDocumentContextKey:G,getReactRootID:i,getID:a,setID:l,getNode:u,getNodeFromInstance:c,isValid:p,purgeID:h};M.measureMethods(ee,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=ee},function(e,t,n){"use strict";var r=n(12),o=n(2),i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,a={key:!0,ref:!0,__self:!0,__source:!0},s=!1;try{Object.defineProperty({},"x",{}),s=!0}catch(e){}var l=function(e,t,n,r,o,a,l){var u={$$typeof:i,type:e,key:t,ref:n,props:l,_owner:a};return u._store={},s?(Object.defineProperty(u._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(u,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(u,"_source",{configurable:!1,enumerable:!1,writable:!1,value:o})):(u._store.validated=!1,u._self=r,u._source=o),Object.freeze(u.props),Object.freeze(u),u};l.createElement=function(e,t,n){var o,i={},s=null,u=null,c=null,p=null;if(null!=t){u=void 0===t.ref?null:t.ref,s=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,p=void 0===t.__source?null:t.__source;for(o in t)t.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(i[o]=t[o])}var h=arguments.length-2;if(1===h)i.children=n;else if(h>1){for(var d=Array(h),f=0;f<h;f++)d[f]=arguments[f+2];i.children=d}if(e&&e.defaultProps){var m=e.defaultProps;for(o in m)"undefined"==typeof i[o]&&(i[o]=m[o])}return l(e,s,u,c,p,r.current,i)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){var n=l(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},l.cloneAndReplaceProps=function(e,t){var n=l(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return n._store.validated=e._store.validated,n},l.cloneElement=function(e,t,n){var i,s=o({},e.props),u=e.key,c=e.ref,p=e._self,h=e._source,d=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,d=r.current),void 0!==t.key&&(u=""+t.key);for(i in t)t.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(s[i]=t[i])}var f=arguments.length-2;if(1===f)s.children=n;else if(f>1){for(var m=Array(f),g=0;g<f;g++)m[g]=arguments[g+2];s.children=m}return l(e.type,u,c,p,h,d,s)},l.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},e.exports=l},function(e,t,n){"use strict";function r(){k.ReactReconcileTransaction&&x?void 0:g(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=k.ReactReconcileTransaction.getPooled(!1)}function i(e,t,n,o,i,a){r(),x.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==v.length?g(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,v.length):void 0,v.sort(a);for(var n=0;n<t;n++){var r=v[n],o=r._pendingCallbacks;if(r._pendingCallbacks=null,d.performUpdateIfNecessary(r,e.reconcileTransaction),o)for(var i=0;i<o.length;i++)e.callbackQueue.enqueue(o[i],r.getPublicInstance())}}function l(e){return r(),x.isBatchingUpdates?void v.push(e):void x.batchedUpdates(l,e)}function u(e,t){x.isBatchingUpdates?void 0:g(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),y.enqueue(e,t),b=!0}var c=n(43),p=n(13),h=n(14),d=n(21),f=n(33),m=n(2),g=n(1),v=[],y=c.getPooled(),b=!1,x=null,E={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),C()):v.length=0}},w={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},T=[E,w];m(o.prototype,f.Mixin,{getTransactionWrappers:function(){return T},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,k.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),p.addPoolingTo(o);var C=function(){for(;v.length||b;){if(v.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(b){b=!1;var t=y;y=c.getPooled(),t.notifyAll(),c.release(t)}}};C=h.measure("ReactUpdates","flushBatchedUpdates",C);var S={injectReconcileTransaction:function(e){e?void 0:g(!1,"ReactUpdates: must provide a reconcile transaction class"),k.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:g(!1,"ReactUpdates: must provide a batching strategy"),"function"!=typeof e.batchedUpdates?g(!1,"ReactUpdates: must provide a batchedUpdates() function"):void 0,"boolean"!=typeof e.isBatchingUpdates?g(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):void 0,x=e}},k={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:l,flushBatchedUpdates:C,injection:S,asap:u};e.exports=k},function(e,t,n){"use strict";function r(e){return function(){return e}}function o(){}o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(37),o=r({bubbled:null,captured:null}),i=r({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:o};e.exports=a},function(e,t,n){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=r},function(e,t,n){"use strict";var r={current:null};e.exports=r},function(e,t,n){"use strict";var r=n(1),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t);
},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},l=function(e,t,n,r,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r,o),a}return new i(e,t,n,r,o)},u=function(e){var t=this;e instanceof t?void 0:r(!1,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,p=o,h=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=u,n},d={addPoolingTo:h,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:l};e.exports=d},function(e,t,n){"use strict";function r(e,t,n){return n}var o={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=o.measure(t,n[r],e[r]))},measure:function(e,t,n){var r=null,i=function(){return o.enableMeasure?(r||(r=o.storedMeasure(e,t,n)),r.apply(this,arguments)):n.apply(this,arguments)};return i.displayName=e+"_"+t,i},injection:{injectMeasure:function(e){o.storedMeasure=e}}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n,this.target=r,this.currentTarget=r;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):this[i]=n[i]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;l?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var o=n(13),i=n(2),a=n(9),s=n(3),l={path:null,type:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;s(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;s(e,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=l,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);i(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),e.exports=r},,function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var o=n(1),i={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){s.properties.hasOwnProperty(p)?o(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",p):void 0;var h=p.toLowerCase(),d=n[p],f={attributeName:h,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseAttribute:r(d,t.MUST_USE_ATTRIBUTE),mustUseProperty:r(d,t.MUST_USE_PROPERTY),hasSideEffects:r(d,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.mustUseAttribute&&f.mustUseProperty?o(!1,"DOMProperty: Cannot require using both attribute and property: %s",p):void 0,!f.mustUseProperty&&f.hasSideEffects?o(!1,"DOMProperty: Properties that have side effects must use property: %s",p):void 0,f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1?void 0:o(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",p),s.getPossibleStandardName[h]=p,l.hasOwnProperty(p)){var m=l[p];f.attributeName=m,s.getPossibleStandardName[m]=p}a.hasOwnProperty(p)&&(f.attributeNamespace=a[p]),u.hasOwnProperty(p)&&(f.propertyName=u[p]),c.hasOwnProperty(p)&&(f.mutationMethod=c[p]),s.properties[p]=f}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=a[e];return r||(a[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:i};e.exports=s},function(e,t,n){"use strict";var r=n(29),o=n(148),i=n(155),a=n(2),s=n(184),l={};a(l,i),a(l,{findDOMNode:s("findDOMNode","ReactDOM","react-dom",r,r.findDOMNode),render:s("render","ReactDOM","react-dom",r,r.render),unmountComponentAtNode:s("unmountComponentAtNode","ReactDOM","react-dom",r,r.unmountComponentAtNode),renderToString:s("renderToString","ReactDOMServer","react-dom/server",o,o.renderToString),renderToStaticMarkup:s("renderToStaticMarkup","ReactDOMServer","react-dom/server",o,o.renderToStaticMarkup)}),l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,e.exports=l},function(e,t,n){"use strict";function r(e){return d+e.toString(36)}function o(e,t){return e.charAt(t)===d||t===e.length}function i(e){return""===e||e.charAt(0)===d&&e.charAt(e.length-1)!==d}function a(e,t){return 0===t.indexOf(e)&&o(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(d)):""}function l(e,t){if(i(e)&&i(t)?void 0:h(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,t),a(e,t)?void 0:h(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,t),e===t)return e;var n,r=e.length+f;for(n=r;n<t.length&&!o(t,n);n++);return t.substr(0,n)}function u(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var r=0,a=0;a<=n;a++)if(o(e,a)&&o(t,a))r=a;else if(e.charAt(a)!==t.charAt(a))break;var s=e.substr(0,r);return i(s)?void 0:h(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,t,s),s}function c(e,t,n,r,o,i){e=e||"",t=t||"",e===t?h(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e):void 0;var u=a(t,e);u||a(e,t)?void 0:h(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,t);for(var c=0,p=u?s:l,d=e;;d=p(d,t)){var f;if(o&&d===e||i&&d===t||(f=n(d,u,r)),f===!1||d===t)break;c++<m?void 0:h(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,t,d)}}var p=n(94),h=n(1),d=".",f=d.length,m=1e4,g={createReactRootID:function(){return r(p.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===d&&e.length>1){var t=e.indexOf(d,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,o){var i=u(e,t);i!==e&&c(e,i,n,r,!1,!0),i!==t&&c(i,t,n,o,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(c("",e,t,n,!0,!0),c(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},getFirstCommonAncestorID:u,_getNextDescendantID:l,isAncestorIDOf:a,SEPARATOR:d};e.exports=g},function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=r},function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=n(160),i={mountComponent:function(e,t,n,o){var i=e.mountComponent(t,n,o);return e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e),i},unmountComponent:function(e){o.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var s=o.shouldUpdateRefs(a,t);s&&o.detachRefs(e,a),e.receiveComponent(t,n,i),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};e.exports=i},,,function(e,t,n){"use strict";function r(){var e=f&&f.traverseTwoPhase&&f.traverseEnterLeave;c(e,"InstanceHandle not injected before use!")}var o=n(73),i=n(133),a=n(86),s=n(97),l=n(99),u=n(1),c=n(3),p={},h=null,d=function(e){e&&(i.executeDispatchesInOrder(e),e.isPersistent()||e.constructor.release(e))},f=null,m={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){f=e,r()},getInstanceHandle:function(){return r(),f},injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:function(e,t,n){"function"!=typeof n?u(!1,"Expected %s listener to be a function, instead got type %s",t,typeof n):void 0;var r=p[t]||(p[t]={});r[e]=n;var i=o.registrationNameModules[t];i&&i.didPutListener&&i.didPutListener(e,t,n)},getListener:function(e,t){var n=p[t];return n&&n[e]},deleteListener:function(e,t){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=p[t];r&&delete r[e]},deleteAllListeners:function(e){for(var t in p)if(p[t][e]){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete p[t][e]}},extractEvents:function(e,t,n,r,i){for(var a,l=o.plugins,u=0;u<l.length;u++){var c=l[u];if(c){var p=c.extractEvents(e,t,n,r,i);p&&(a=s(a,p))}}return a},enqueueEvents:function(e){e&&(h=s(h,e))},processEventQueue:function(){var e=h;h=null,l(e,d),h?u(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):void 0,a.rethrowCaughtError()},__purge:function(){p={}},__getListenerBank:function(){return p}};e.exports=m},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return b(e,r)}function o(e,t,n){m(e,"Dispatching id must not be null");var o=t?y.bubbled:y.captured,i=r(e,n,o);i&&(n._dispatchListeners=g(n._dispatchListeners,i),n._dispatchIDs=g(n._dispatchIDs,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,o,e)}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&f.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,o,e)}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=b(e,r);o&&(n._dispatchListeners=g(n._dispatchListeners,o),n._dispatchIDs=g(n._dispatchIDs,e))}}function l(e){e&&e.dispatchConfig.registrationName&&s(e.dispatchMarker,null,e)}function u(e){v(e,i)}function c(e){v(e,a)}function p(e,t,n,r){f.injection.getInstanceHandle().traverseEnterLeave(n,r,s,e,t)}function h(e){v(e,l)}var d=n(10),f=n(24),m=n(3),g=n(97),v=n(99),y=d.PropagationPhases,b=f.getListener,x={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:h,accumulateEnterLeaveDispatches:p};e.exports=x},function(e,t,n){"use strict";var r={};Object.freeze(r),e.exports=r},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=d++,p[e[m]]={}),p[e[m]]}var o=n(10),i=n(24),a=n(73),s=n(151),l=n(96),u=n(2),c=n(57),p={},h=!1,d=0,f={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=u({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),s=a.registrationNameDependencies[e],l=o.topLevelTypes,u=0;u<s.length;u++){var p=s[u];i.hasOwnProperty(p)&&i[p]||(p===l.topWheel?c("wheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):c("mousewheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):p===l.topScroll?c("scroll",!0)?g.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):p===l.topFocus||p===l.topBlur?(c("focus",!0)?(g.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):c("focusin")&&(g.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),i[l.topBlur]=!0,i[l.topFocus]=!0):f.hasOwnProperty(p)&&g.ReactEventListener.trapBubbledEvent(p,f[p],n),i[p]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!h){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),h=!0}},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners});e.exports=g},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(15),i=n(54),a={view:function(e){if(e.view)return e.view;var t=i(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";var r=n(12),o=n(79),i=n(81),a=n(19),s=n(6),l=n(14),u=n(21),c=n(8),p=n(51),h=n(35),d=n(190),f=n(3);i.inject();var m=l.measure("React","render",s.render),g={findDOMNode:h,render:m,unmountComponentAtNode:s.unmountComponentAtNode,version:p,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:r,InstanceHandles:a,Mount:s,Reconciler:u,TextComponent:o});var v=n(5);if(v.canUseDOM&&window.top===window.self){"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");var y=document.documentMode&&document.documentMode<8;f(!y,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />');for(var b=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],x=0;x<b.length;x++)if(!b[x]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}e.exports=g},function(e,t,n){"use strict";var r={};r={prop:"prop",context:"context",childContext:"child context"},e.exports=r},function(e,t,n){"use strict";var r=n(37),o=r({prop:null,context:null,childContext:null});e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(28),i=n(96),a=n(53),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";var r=n(1),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,s,l){this.isInTransaction()?r(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):void 0;var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,n,o,i,a,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()?void 0:r(!1,"Transaction.closeAll(): Cannot close transaction when none are open.");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],s=this.wrapperInitData[n];try{o=!0,s!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}},i={Mixin:o,OBSERVED_ERROR:{}};e.exports=i},function(e,t,n){"use strict";function r(e){return i[e]}function o(e){return(""+e).replace(a,r)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;e.exports=o},function(e,t,n){"use strict";function r(e){var t=o.current;return null!==t&&(l(t._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0),null==e?null:1===e.nodeType?e:i.has(e)?a.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?s(!1,"findDOMNode was called on an unmounted component."):void 0,void s(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)))}var o=n(12),i=n(20),a=n(6),s=n(1),l=n(3);e.exports=r},function(e,t,n){"use strict";var r=n(5),o=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&i.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}e.exports=a},function(e,t,n){"use strict";var r=n(1),o=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1,"keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=o},,,,,,function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=n(13),i=n(2),a=n(1);i(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?a(!1,"Mismatched list of contexts in callback queue"):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e){return!!c.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(l.test(e)?(c[e]=!0,!0):(u[e]=!0,s(!1,"Invalid attribute name: `%s`",e),!1))}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var i=n(17),a=n(189),s=n(3),l=/^[a-zA-Z_][\w\.\-]*$/,u={},c={},p={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},h={},d=function(e){if(!(p.hasOwnProperty(e)&&p[e]||h.hasOwnProperty(e)&&h[e])){h[e]=!0;var t=e.toLowerCase(),n=i.isCustomAttribute(t)?t:i.getPossibleStandardName.hasOwnProperty(t)?i.getPossibleStandardName[t]:null;s(null==n,"Unknown DOM property %s. Did you mean %s?",e,n)}},f={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+a(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+a(t):(d(e),null)},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else if(o(r,n))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute){var s=r.attributeName,l=r.attributeNamespace;l?e.setAttributeNS(l,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}else{var u=r.propertyName;r.hasSideEffects&&""+e[u]==""+n||(e[u]=n)}}else i.isCustomAttribute(t)?f.setValueForAttribute(e,t,n):d(t)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseAttribute)e.removeAttribute(n.attributeName);else{var o=n.propertyName,a=i.getDefaultValueForProperty(e.nodeName,o);n.hasSideEffects&&""+e[o]===a||(e[o]=a)}}else i.isCustomAttribute(t)?e.removeAttribute(t):d(t)}};e.exports=f},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?u(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?u(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):void 0}function i(e){r(e),null!=e.checked||null!=e.onChange?u(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(93),l=n(31),u=n(1),c=n(3),p={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},h={value:function(e,t,n){return!e[t]||p[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},d={},f={checkPropTypes:function(e,t,n){for(var r in h){if(h.hasOwnProperty(r))var o=h[r](t,r,e,l.prop);if(o instanceof Error&&!(o.message in d)){d[o.message]=!0;var i=a(n);c(!1,"Failed form propType: %s%s",o.message,i)}}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=f},function(e,t,n){"use strict";function r(e){return(""+e).replace(x,"//")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);v(e,i,r),o.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function l(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,s=e.context,l=a.call(s,t,e.count++);Array.isArray(l)?u(l,o,n,g.thatReturnsArgument):null!=l&&(m.isValidElement(l)&&(l=m.cloneAndReplaceKey(l,i+(l!==t?r(l.key||"")+"/":"")+n)),o.push(l))}function u(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var u=s.getPooled(t,a,o,i);v(e,l,u),s.release(u)}function c(e,t,n){if(null==e)return e;var r=[];return u(e,r,null,t,n),r}function p(e,t,n){return null}function h(e,t){return v(e,p,null)}function d(e){var t=[];return u(e,t,null,g.thatReturnsArgument),t}var f=n(13),m=n(7),g=n(9),v=n(60),y=f.twoArgumentPooler,b=f.fourArgumentPooler,x=/\/(?!\/)/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(o,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(s,b);var E={forEach:a,map:c,mapIntoWithKeyPrefixInternal:u,count:h,toArray:d};e.exports=E},function(e,t,n){"use strict";var r=n(49),o=n(6),i={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){o.purgeID(e)}};e.exports=i},function(e,t,n){"use strict";var r=n(1),o=!1,i={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?r(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):void 0,i.unmountIDFromEnvironment=e.unmountIDFromEnvironment,i.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};e.exports=i},function(e,t,n){"use strict";var r=n(72),o=n(44),i=n(6),a=n(14),s=n(1),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(e,t,n){var r=i.getNode(e);l.hasOwnProperty(t)?s(!1,"updatePropertyByID(...): %s",l[t]):void 0,null!=n?o.setValueForProperty(r,t,n):o.deleteValueForProperty(r,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=i.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=i.getNode(e[n].parentID);r.processUpdates(e,t)}};a.measureMethods(u,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=u},function(e,t,n){"use strict";function r(e){l.enqueueUpdate(e)}function o(e,t){var n=s.get(e);return n?(p(null==i.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",t),n):(p(!t,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor.displayName),null)}var i=n(12),a=n(7),s=n(20),l=n(8),u=n(2),c=n(1),p=n(3),h={isMounted:function(e){var t=i.current;null!==t&&(p(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",t.getName()||"A component"),t._warnedAboutRefsInRender=!0);var n=s.get(e);return!!n&&!!n._renderedComponent},enqueueCallback:function(e,t){"function"!=typeof t?c(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):void 0;var n=o(e);return n?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void r(n)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t?c(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):void 0,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(t),r(n)}},enqueueSetProps:function(e,t){var n=o(e,"setProps");n&&h.enqueueSetPropsInternal(n,t)},enqueueSetPropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:c(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");
var o=n._pendingElement||n._currentElement,i=o.props,s=u({},i.props,t);n._pendingElement=a.cloneAndReplaceProps(o,a.cloneAndReplaceProps(i,s)),r(n)},enqueueReplaceProps:function(e,t){var n=o(e,"replaceProps");n&&h.enqueueReplacePropsInternal(n,t)},enqueueReplacePropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:c(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var o=n._pendingElement||n._currentElement,i=o.props;n._pendingElement=a.cloneAndReplaceProps(o,a.cloneAndReplaceProps(i,t)),r(n)},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}};e.exports=h},function(e,t,n){"use strict";e.exports="0.14.0-rc1"},function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=r},function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function o(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=o},function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}e.exports=r},function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=r},function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e){var t;if(null===e||e===!1)t=new s(i);else if("object"==typeof e){var n=e;!n||"function"!=typeof n.type&&"string"!=typeof n.type?c(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==n.type?n.type:typeof n.type,r(n._owner)):void 0,t="string"==typeof n.type?l.createInternalComponent(n):o(n.type)?new n.type(n):new h}else"string"==typeof e||"number"==typeof e?t=l.createInstanceForText(e):c(!1,"Encountered invalid React node of type %s",typeof e);return p("function"==typeof t.construct&&"function"==typeof t.mountComponent&&"function"==typeof t.receiveComponent&&"function"==typeof t.unmountComponent,"Only React Components can be mounted."),t.construct(e),t._mountIndex=0,t._mountImage=null,t._isOwnerNecessary=!1,t._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(t),t}var a=n(76),s=n(84),l=n(91),u=n(2),c=n(1),p=n(3),h=function(){};u(h.prototype,a.Mixin,{_instantiateReactComponent:i}),e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=n(5);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t,n){"use strict";var r=n(5),o=n(34),i=n(36),a=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){i(e,o(t))})),e.exports=a},function(e,t,n){"use strict";function r(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}e.exports=r},function(e,t,n){"use strict";function r(e){return v[e]}function o(e,t){return e&&null!=e.key?a(e.key):t.toString(36)}function i(e){return(""+e).replace(y,r)}function a(e){return"$"+i(e)}function s(e,t,n,r){var i=typeof e;if("undefined"!==i&&"boolean"!==i||(e=null),null===e||"string"===i||"number"===i||c.isValidElement(e))return n(r,e,""===t?m+o(e,0):t),1;var l,p,v=0,y=""===t?m:t+g;if(Array.isArray(e))for(var x=0;x<e.length;x++)l=e[x],p=y+o(l,x),v+=s(l,p,n,r);else{var E=h(e);if(E){var w,T=E.call(e);if(E!==e.entries)for(var C=0;!(w=T.next()).done;)l=w.value,p=y+o(l,C++),v+=s(l,p,n,r);else for(f(b,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),b=!0;!(w=T.next()).done;){var S=w.value;S&&(l=S[1],p=y+a(S[0])+g+o(l,0),v+=s(l,p,n,r))}}else if("object"===i){var k="";if(u.current){var P=u.current.getName();P&&(k=" Check the render method of `"+P+"`.")}d(!1,"Objects are not valid as a React child (found object with keys {%s}). If you meant to render a collection of children, use an array instead or wrap the object using React.addons.createFragment(object).%s",Object.keys(e).join(", "),k)}}return v}function l(e,t,n){return null==e?0:s(e,"",t,n)}var u=n(12),c=n(7),p=n(19),h=n(55),d=n(1),f=n(3),m=p.SEPARATOR,g=":",v={"=":"=0",".":"=1",":":"=2"},y=/[=.:]/g,b=!1;e.exports=l},function(e,t,n){"use strict";var r=n(2),o=n(9),i=n(3),a=o,s=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],l=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],u=l.concat(["button"]),c=["dd","dt","li","option","optgroup","p","rp","rt"],p={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},h=function(e,t,n){var o=r({},e||p),i={tag:t,instance:n};return l.indexOf(t)!==-1&&(o.aTagInScope=null,o.buttonTagInScope=null,o.nobrTagInScope=null),u.indexOf(t)!==-1&&(o.pTagInButtonScope=null),s.indexOf(t)!==-1&&"address"!==t&&"div"!==t&&"p"!==t&&(o.listItemTagAutoclosing=null,o.dlItemTagAutoclosing=null),o.parentTag=i,"form"===t&&(o.formTag=i),"a"===t&&(o.aTagInScope=i),"button"===t&&(o.buttonTagInScope=i),"nobr"===t&&(o.nobrTagInScope=i),"p"===t&&(o.pTagInButtonScope=i),"li"===t&&(o.listItemTagAutoclosing=i),"dd"!==t&&"dt"!==t||(o.dlItemTagAutoclosing=i),o},d=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return c.indexOf(t)===-1;case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0},f=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null},m=function(e){if(!e)return[];var t=[];do t.push(e);while(e=e._currentElement._owner);return t.reverse(),t},g={};a=function(e,t,n){n=n||p;var r=n.parentTag,o=r&&r.tag,a=d(e,o)?null:r,s=a?null:f(e,n),l=a||s;if(l){var u,c=l.tag,h=l.instance,v=t&&t._currentElement._owner,y=h&&h._currentElement._owner,b=m(v),x=m(y),E=Math.min(b.length,x.length),w=-1;for(u=0;u<E&&b[u]===x[u];u++)w=u;var T="(unknown)",C=b.slice(w+1).map(function(e){return e.getName()||T}),S=x.slice(w+1).map(function(e){return e.getName()||T}),k=[].concat(w!==-1?b[w].getName()||T:[],S,c,s?["..."]:[],C,e).join(" > "),P=!!a+"|"+e+"|"+c+"|"+k;if(g[P])return;if(g[P]=!0,a){var _="";"table"===c&&"tr"===e&&(_+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),i(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",e,c,k,_)}else i(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",e,c,k)}},a.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),a.updatedAncestorInfo=h,a.isTagValidInContext=function(e,t){t=t||p;var n=t.parentTag,r=n&&n.tag;return d(e,r)&&!f(e,t)},e.exports=a},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=o.bind(t),a=0;a<n.length;a++)if(!i(n[a])||e[n[a]]!==t[n[a]])return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=r},,,,,,,,,function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){i.forEach(function(t){o[r(t,e)]=o[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:o,shorthandPropertyExpansions:a};e.exports=s},function(e,t,n){"use strict";function r(e,t,n){var r=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,r)}var o=n(130),i=n(90),a=n(36),s=n(58),l=n(1),u={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:s,processUpdates:function(e,t){for(var n,u=null,c=null,p=0;p<e.length;p++)if(n=e[p],n.type===i.MOVE_EXISTING||n.type===i.REMOVE_NODE){var h=n.fromIndex,d=n.parentNode.childNodes[h],f=n.parentID;d?void 0:l(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",h,f),u=u||{},u[f]=u[f]||[],u[f][h]=d,c=c||[],c.push(d)}var m;if(m=t.length&&"string"==typeof t[0]?o.dangerouslyRenderMarkup(t):t,c)for(var g=0;g<c.length;g++)c[g].parentNode.removeChild(c[g]);for(var v=0;v<e.length;v++)switch(n=e[v],n.type){case i.INSERT_MARKUP:r(n.parentNode,m[n.markupIndex],n.toIndex);break;case i.MOVE_EXISTING:r(n.parentNode,u[n.parentID][n.fromIndex],n.toIndex);break;case i.SET_MARKUP:a(n.parentNode,n.content);break;case i.TEXT_CONTENT:s(n.parentNode,n.content);break;case i.REMOVE_NODE:}}};e.exports=u},function(e,t,n){"use strict";function r(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(n>-1?void 0:a(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!u.plugins[n]){t.extractEvents?void 0:a(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),u.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)?void 0:a(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",i,e)}}}function o(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n):void 0,u.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,t,n)}return!0}return!!e.registrationName&&(i(e.registrationName,t,n),!0)}function i(e,t,n){u.registrationNameModules[e]?a(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e):void 0,u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(1),s=null,l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){s?a(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];l.hasOwnProperty(n)&&l[n]===o||(l[n]?a(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",n):void 0,l[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=u.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=u.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};e.exports=u},function(e,t,n){"use strict";function r(){P||(P=!0,T(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."))}function o(e,t,n){for(var r in t)t.hasOwnProperty(r)&&T("function"==typeof t[r],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",g[n],r)}function i(e,t){var n=_.hasOwnProperty(t)?_[t]:null;N.hasOwnProperty(t)&&(n!==S.OVERRIDE_BASE?x(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t):void 0),e.hasOwnProperty(t)&&(n!==S.DEFINE_MANY&&n!==S.DEFINE_MANY_MERGED?x(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t):void 0)}function a(e,t){if(t){"function"==typeof t?x(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):void 0,f.isValidElement(t)?x(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):void 0;var n=e.prototype;t.hasOwnProperty(C)&&M.mixins(e,t.mixins);for(var r in t)if(t.hasOwnProperty(r)&&r!==C){var o=t[r];if(i(n,r),M.hasOwnProperty(r))M[r](e,o);else{var a=_.hasOwnProperty(r),s=n.hasOwnProperty(r),l="function"==typeof o,p=l&&!a&&!s&&t.autobind!==!1;if(p)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=o,n[r]=o;else if(s){var h=_[r];!a||h!==S.DEFINE_MANY_MERGED&&h!==S.DEFINE_MANY?x(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",h,r):void 0,h===S.DEFINE_MANY_MERGED?n[r]=u(n[r],o):h===S.DEFINE_MANY&&(n[r]=c(n[r],o))}else n[r]=o,"function"==typeof o&&t.displayName&&(n[r].displayName=t.displayName+"_"+r)}}}}function s(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in M;o?x(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n):void 0;var i=n in e;i?x(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n):void 0,e[n]=r}}}function l(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:x(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?x(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n):void 0,e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return l(o,n),l(o,r),o}}function c(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function p(e,t){var n=t.bind(e);n.__reactBoundContext=e,n.__reactBoundMethod=t,n.__reactBoundArguments=null;var r=e.constructor.displayName,o=n.bind;return n.bind=function(i){for(var a=arguments.length,s=Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];if(i!==e&&null!==i)T(!1,"bind(): React component methods may only be bound to the component instance. See %s",r);else if(!s.length)return T(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",r),n;var u=o.apply(n,arguments);return u.__reactBoundContext=e,u.__reactBoundMethod=t,u.__reactBoundArguments=s,u},n}function h(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=p(e,n)}}var d=n(75),f=n(7),m=n(31),g=n(30),v=n(92),y=n(2),b=n(26),x=n(1),E=n(37),w=n(11),T=n(3),C=w({mixins:null}),S=E({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),k=[],P=!1,_={mixins:S.DEFINE_MANY,statics:S.DEFINE_MANY,propTypes:S.DEFINE_MANY,contextTypes:S.DEFINE_MANY,childContextTypes:S.DEFINE_MANY,getDefaultProps:S.DEFINE_MANY_MERGED,getInitialState:S.DEFINE_MANY_MERGED,getChildContext:S.DEFINE_MANY_MERGED,render:S.DEFINE_ONCE,componentWillMount:S.DEFINE_MANY,componentDidMount:S.DEFINE_MANY,componentWillReceiveProps:S.DEFINE_MANY,shouldComponentUpdate:S.DEFINE_ONCE,componentWillUpdate:S.DEFINE_MANY,componentDidUpdate:S.DEFINE_MANY,componentWillUnmount:S.DEFINE_MANY,updateComponent:S.OVERRIDE_BASE},M={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)a(e,t[n])},childContextTypes:function(e,t){o(e,t,m.childContext),e.childContextTypes=y({},e.childContextTypes,t)},contextTypes:function(e,t){o(e,t,m.context),e.contextTypes=y({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){o(e,t,m.prop),e.propTypes=y({},e.propTypes,t)},statics:function(e,t){s(e,t)},autobind:function(){}},N={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){r(),this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){r(),this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},O=function(){};y(O.prototype,d.prototype,N);var A={createClass:function(e){var t=function(e,n,r){T(this instanceof t,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&h(this),this.props=e,this.context=n,this.refs=b,this.updater=r||v,this.state=null;var o=this.getInitialState?this.getInitialState():null;"undefined"==typeof o&&this.getInitialState._isMockFunction&&(o=null),"object"!=typeof o||Array.isArray(o)?x(!1,"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"):void 0,this.state=o};t.prototype=new O,t.prototype.constructor=t,t.isReactClass={},k.forEach(a.bind(null,t)),a(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved={}),t.prototype.getInitialState&&(t.prototype.getInitialState.isReactClassApproved={}),t.prototype.render?void 0:x(!1,"createClass(...): Class specification must implement a `render` method."),T(!t.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"),T(!t.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component");for(var n in _)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){k.push(e)}}};e.exports=A},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||o}var o=n(92),i=n(26),a=n(1),s=n(3);r.isReactClass={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):void 0,s(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};var l={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},u=function(e,t){try{Object.defineProperty(r.prototype,e,{get:function(){s(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})}catch(e){}};for(var c in l)l.hasOwnProperty(c)&&u(c,l[c]);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function o(e){}var i=n(48),a=n(12),s=n(7),l=n(20),u=n(14),c=n(31),p=n(30),h=n(21),d=n(50),f=n(2),m=n(26),g=n(1),v=n(59),y=n(3);o.prototype.render=function(){var e=l.get(this)._currentElement.type;return new e(this.props,this.context,this.updater)};var b=1,x={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=b++,this._rootNodeID=e;var r,i,u=this._processProps(this._currentElement.props),c=this._processContext(n),p=this._currentElement.type;a.current=this;try{r=new p(u,c,d)}finally{a.current=null}(null===r||r===!1||s.isValidElement(r))&&(i=r,r=new o(p)),null==r.render?y(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",p.displayName||p.name||"Component"):y(p.isReactClass||!(r instanceof p),"%s(...): React component classes must extend React.Component.",p.displayName||p.name||"Component"),r.props=u,r.context=c,r.refs=m,r.updater=d,this._instance=r,l.set(r,this),y(!r.getInitialState||r.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),y(!r.getDefaultProps||r.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),y(!r.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),y(!r.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),y("function"!=typeof r.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"),y("function"!=typeof r.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"),y("function"!=typeof r.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component");var f=r.state;void 0===f&&(r.state=f=null),"object"!=typeof f||Array.isArray(f)?g(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===i&&(i=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(i);var v=h.mountComponent(this._renderedComponent,e,t,this._processChildContext(n));return r.componentDidMount&&t.getReactMountReady().enqueue(r.componentDidMount,r),v},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),h.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,l.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type,r=n.contextTypes;if(!r)return m;t={};for(var o in r)t[o]=e[o];return t},_processContext:function(e){var t=this._maskContext(e),n=this._currentElement.type;return n.contextTypes&&this._checkPropTypes(n.contextTypes,t,c.context),t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?g(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):void 0,this._checkPropTypes(t.childContextTypes,r,c.childContext);for(var o in r)o in t.childContextTypes?void 0:g(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",o);return f({},e,r)}return e},_processProps:function(e){var t=this._currentElement.type;return t.propTypes&&this._checkPropTypes(t.propTypes,e,c.prop),e},_checkPropTypes:function(e,t,n){var o=this.getName();for(var i in e)if(e.hasOwnProperty(i)){var a;try{"function"!=typeof e[i]?g(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",o||"React class",p[n],i):void 0,a=e[i](t,i,o,n)}catch(e){a=e}if(a instanceof Error){var s=r(this);n===c.prop?y(!1,"Failed Composite propType: %s%s",a.message,s):y(!1,"Failed Context Types: %s%s",a.message,s)}}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&h.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,r,o){var i,a=this._instance,s=this._context===o?a.context:this._processContext(o);t===n?i=n.props:(i=this._processProps(n.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(i,s));var l=this._processPendingState(i,s),u=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(i,l,s);y("undefined"!=typeof u,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),u?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,i,l,s,e,o)):(this._currentElement=n,this._context=o,a.props=i,a.state=l,a.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=f({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var s=r[a];f(i,"function"==typeof s?s.call(n,i,e,t):s)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(a=u.props,s=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,u.props=t,u.state=n,u.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,l),u)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(v(r,o))h.receiveComponent(n,o,e,this._processChildContext(t));else{var i=this._rootNodeID,a=n._rootNodeID;h.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o);var s=h.mountComponent(this._renderedComponent,i,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(a,s)}},_replaceNodeWithMarkupByID:function(e,t){i.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return"undefined"==typeof t&&e.render._isMockFunction&&(t=null),t},_renderValidatedComponent:function(){var e;a.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=null}return null===e||e===!1||s.isValidElement(e)?void 0:g(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();
null==n?g(!1,"Stateless function components cannot have refs."):void 0;var r=n.refs===m?n.refs={}:n.refs;r[e]=t.getPublicInstance()},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof o?null:e},_instantiateReactComponent:null};u.measureMethods(x,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var E={Mixin:x};e.exports=E},function(e,t,n){"use strict";var r={useCreateElement:!1};e.exports=r},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=l.getValue(e);null!=t&&a(this,e,t)}}function o(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e,t){var n=e._currentElement._owner;l.checkPropTypes("select",t,n);for(var r=0;r<f.length;r++){var i=f[r];null!=t[i]&&(t.multiple?h(Array.isArray(t[i]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",i,o(n)):h(!Array.isArray(t[i]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",i,o(n)))}}function a(e,t,n){var r,o,i=u.getNode(e._rootNodeID).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function s(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,c.asap(r,this),n}var l=n(45),u=n(6),c=n(8),p=n(2),h=n(3),d="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),f=["value","defaultValue"],m={valueContextKey:d,getNativeProps:function(e,t,n){return p({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){i(e,t);var n=l.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,onChange:s.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,n){var r=p({},n);return r[d]=e._wrapperState.initialValue,r},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=l.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,a(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?a(e,Boolean(t.multiple),t.defaultValue):a(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=m},function(e,t,n){"use strict";var r=n(72),o=n(44),i=n(47),a=n(6),s=n(2),l=n(34),u=n(58),c=n(61),p=function(e){};s(p.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){if(n[c.ancestorInfoContextKey]&&c("span",null,n[c.ancestorInfoContextKey]),this._rootNodeID=e,t.useCreateElement){var r=n[a.ownerDocumentContextKey],i=r.createElement("span");return o.setAttributeForID(i,e),a.getID(i),u(i,this._stringText),i}var s=l(this._stringText);return t.renderToStaticMarkup?s:"<span "+o.createMarkupForID(e)+">"+s+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var o=a.getNode(this._rootNodeID);r.updateTextContent(o,n)}}},unmountComponent:function(){i.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=p},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=n(8),i=n(33),a=n(2),s=n(9),l={initialize:s,close:function(){h.isBatchingUpdates=!1}},u={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[u,l];a(r.prototype,i.Mixin,{getTransactionWrappers:function(){return c}});var p=new r,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=h.isBatchingUpdates;h.isBatchingUpdates=!0,a?e(t,n,r,o,i):p.perform(e,null,t,n,r,o,i)}};e.exports=h},function(e,t,n){"use strict";function r(){if(!S){S=!0,v.EventEmitter.injectReactEventListener(g),v.EventPluginHub.injectEventPluginOrder(s),v.EventPluginHub.injectInstanceHandle(y),v.EventPluginHub.injectMount(b),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:T,EnterLeaveEventPlugin:l,ChangeEventPlugin:i,SelectEventPlugin:E,BeforeInputEventPlugin:o}),v.NativeComponent.injectGenericComponentClass(f),v.NativeComponent.injectTextComponentClass(m),v.Class.injectMixin(p),v.DOMProperty.injectDOMPropertyConfig(c),v.DOMProperty.injectDOMPropertyConfig(C),v.EmptyComponent.injectEmptyComponent("noscript"),v.Updates.injectReconcileTransaction(x),v.Updates.injectBatchingStrategy(d),v.RootIndex.injectCreateReactRootIndex(u.canUseDOM?a.createReactRootIndex:w.createReactRootIndex),v.Component.injectEnvironment(h);var e=u.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(e)){var t=n(82);t.start()}}}var o=n(126),i=n(128),a=n(129),s=n(131),l=n(132),u=n(5),c=n(135),p=n(137),h=n(47),d=n(80),f=n(143),m=n(79),g=n(152),v=n(154),y=n(19),b=n(6),x=n(159),E=n(170),w=n(171),T=n(172),C=n(169),S=!1;e.exports={inject:r}},function(e,t,n){"use strict";function r(e){return Math.floor(100*e)/100}function o(e,t,n){e[t]=(e[t]||0)+n}var i=n(17),a=n(150),s=n(6),l=n(14),u=n(204),c={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){c._injected||l.injection.injectMeasure(c.measure),c._allMeasurements.length=0,l.enableMeasure=!0},stop:function(){l.enableMeasure=!1},getLastMeasurements:function(){return c._allMeasurements},printExclusive:function(e){e=e||c._allMeasurements;var t=a.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":r(e.inclusive),"Exclusive mount time (ms)":r(e.exclusive),"Exclusive render time (ms)":r(e.render),"Mount time per instance (ms)":r(e.exclusive/e.count),"Render time per instance (ms)":r(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||c._allMeasurements;var t=a.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":r(e.time),Instances:e.count}})),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=a.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||c._allMeasurements,console.table(c.getMeasurementsSummaryMap(e)),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||c._allMeasurements;var t=a.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[i.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",a.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,r){var o=c._allMeasurements[c._allMeasurements.length-1].writes;o[e]=o[e]||[],o[e].push({type:t,time:n,args:r})},measure:function(e,t,n){return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var l,p,h;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return c._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),h=u(),p=n.apply(this,i),c._allMeasurements[c._allMeasurements.length-1].totalTime=u()-h,p;if("_mountImageIntoNode"===t||"ReactDOMIDOperations"===e){if(h=u(),p=n.apply(this,i),l=u()-h,"_mountImageIntoNode"===t){var d=s.getID(i[1]);c._recordWrite(d,t,l,i[0])}else"dangerouslyProcessChildrenUpdates"===t?i[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=i[1][e.markupIndex]),c._recordWrite(e.parentID,e.type,l,t)}):c._recordWrite(i[0],t,l,Array.prototype.slice.call(i,1));return p}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return n.apply(this,i);if("string"==typeof this._currentElement.type)return n.apply(this,i);var f="mountComponent"===t?i[0]:this._rootNodeID,m="_renderValidatedComponent"===t,g="mountComponent"===t,v=c._mountStack,y=c._allMeasurements[c._allMeasurements.length-1];if(m?o(y.counts,f,1):g&&v.push(0),h=u(),p=n.apply(this,i),l=u()-h,m)o(y.render,f,l);else if(g){var b=v.pop();v[v.length-1]+=l,o(y.exclusive,f,l-b),o(y.inclusive,f,l)}else o(y.inclusive,f,l);return y.displayNames[f]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},p}}};e.exports=c},function(e,t,n){"use strict";function r(){if(h.current){var e=h.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e,t){if(!e._store.validated&&null==e.key){e._store.validated=!0;var n=i("uniqueKey",e,t);null!==n&&m(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',n.parentOrOwner||"",n.childOwner||"",n.url||"")}}function i(e,t,n){var o=r();if(!o){var i="string"==typeof n?n:n.displayName||n.name;i&&(o=" Check the top-level render call using <"+i+">.")}var a=g[e]||(g[e]={});if(a[o])return null;a[o]=!0;var s={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==h.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];u.isValidElement(r)&&o(r,t)}else if(u.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var i=d(e);if(i&&i!==e.entries)for(var a,s=i.call(e);!(a=s.next()).done;)u.isValidElement(a.value)&&o(a.value,t)}}function s(e,t,n,o){for(var i in t)if(t.hasOwnProperty(i)){var a;try{"function"!=typeof t[i]?f(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",p[o],i):void 0,a=t[i](n,i,e,o)}catch(e){a=e}if(m(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",e||"React class",p[o],i,typeof a),a instanceof Error&&!(a.message in v)){v[a.message]=!0;var s=r();m(!1,"Failed propType: %s%s",a.message,s)}}}function l(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&s(n,t.propTypes,e.props,c.prop),"function"==typeof t.getDefaultProps&&m(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var u=n(7),c=n(31),p=n(30),h=n(12),d=n(55),f=n(1),m=n(3),g={},v={},y={createElement:function(e,t,n){m("string"==typeof e||"function"==typeof e,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",r());var o=u.createElement.apply(this,arguments);if(null==o)return o;for(var i=2;i<arguments.length;i++)a(arguments[i],e);return l(o),o},createFactory:function(e){var t=y.createElement.bind(null,e);t.type=e;try{Object.defineProperty(t,"type",{enumerable:!1,get:function(){return m(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}})}catch(e){}return t},cloneElement:function(e,t,n){for(var r=u.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)a(arguments[o],r.type);return l(r),r}};e.exports=y},function(e,t,n){"use strict";var r,o=n(7),i=n(85),a=n(21),s=n(2),l={injectEmptyComponent:function(e){r=o.createElement(e)}},u=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(r)};s(u.prototype,{construct:function(e){},mountComponent:function(e,t,n){return i.registerNullComponentID(e),this._rootNodeID=e,a.mountComponent(this._renderedComponent,e,t,n)},receiveComponent:function(){},unmountComponent:function(e,t,n){a.unmountComponent(this._renderedComponent),i.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),u.injection=l,e.exports=u},function(e,t,n){"use strict";function r(e){return!!a[e]}function o(e){a[e]=!0}function i(e){delete a[e]}var a={},s={isNullComponentID:r,registerNullComponentID:o,deregisterNullComponentID:i};e.exports=s},function(e,t,n){"use strict";var r=null,o={invokeGuardedCallback:function(e,t,n,o){try{return t(n,o)}catch(e){return void(null===r&&(r=e))}},rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"function"==typeof Event){var i=document.createElement("react");o.invokeGuardedCallback=function(e,t,n,r){var o=t.bind(null,n,r);i.addEventListener(e,o,!1),i.dispatchEvent(new Event(e)),i.removeEventListener(e,o,!1)}}e.exports=o},function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=n(147),i=n(105),a=n(106),s=n(107),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};e.exports=l},function(e,t,n){"use strict";var r=n(181),o=/\/?>/,i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(o," "+i.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(i.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};e.exports=i},function(e,t,n){"use strict";function r(e,t,n){v.push({parentID:e,parentNode:null,type:p.INSERT_MARKUP,markupIndex:y.push(t)-1,content:null,fromIndex:null,toIndex:n})}function o(e,t,n){v.push({parentID:e,parentNode:null,type:p.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}function i(e,t){v.push({parentID:e,parentNode:null,type:p.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function a(e,t){v.push({parentID:e,parentNode:null,type:p.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function s(e,t){v.push({parentID:e,parentNode:null,type:p.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function l(){v.length&&(c.processChildrenUpdates(v,y),u())}function u(){v.length=0,y.length=0}var c=n(48),p=n(90),h=n(12),d=n(21),f=n(140),m=n(98),g=0,v=[],y=[],b={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){if(this._currentElement)try{return h.current=this._currentElement._owner,f.instantiateChildren(e,t,n)}finally{h.current=null}return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r){var o;if(this._currentElement){try{h.current=this._currentElement._owner,o=m(t)}finally{h.current=null}return f.updateChildren(e,o,n,r)}return o=m(t),f.updateChildren(e,o,n,r)},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],l=this._rootNodeID+a,u=d.mountComponent(s,l,t,n);s._mountIndex=i++,o.push(u)}return o},updateTextContent:function(e){g++;var t=!0;try{var n=this._renderedChildren;f.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChild(n[r]);this.setTextContent(e),t=!1}finally{g--,g||(t?u():l())}},updateMarkup:function(e){g++;var t=!0;try{var n=this._renderedChildren;f.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setMarkup(e),t=!1}finally{g--,g||(t?u():l())}},updateChildren:function(e,t,n){g++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{g--,g||(r?u():l())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,o=this._reconcilerUpdateChildren(r,e,t,n);if(this._renderedChildren=o,o||r){var i,a=0,s=0;for(i in o)if(o.hasOwnProperty(i)){var l=r&&r[i],u=o[i];l===u?(this.moveChild(l,s,a),a=Math.max(l._mountIndex,a),l._mountIndex=s):(l&&(a=Math.max(l._mountIndex,a),this._unmountChild(l)),this._mountChildByNameAtIndex(u,i,s,t,n)),s++}for(i in r)!r.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||this._unmountChild(r[i])}},unmountChildren:function(){var e=this._renderedChildren;f.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&o(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){i(this._rootNodeID,e._mountIndex)},setTextContent:function(e){s(this._rootNodeID,e)},setMarkup:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,o){var i=this._rootNodeID+t,a=d.mountComponent(e,i,r,o);e._mountIndex=n,this.createChild(e,a)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};e.exports=b},function(e,t,n){"use strict";var r=n(37),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=o},function(e,t,n){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=p[t];return null==n&&(p[t]=n=u(t)),n}function o(e){return c?void 0:l(!1,"There is no registered component for the tag %s",e.type),new c(e.type,e.props)}function i(e){return new h(e)}function a(e){return e instanceof h}var s=n(2),l=n(1),u=null,c=null,p={},h=null,d={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){h=e},injectComponentClasses:function(e){s(p,e)}},f={getComponentClassForElement:r,createInternalComponent:o,createInstanceForText:i,isTextComponent:a,injection:d};e.exports=f},function(e,t,n){"use strict";function r(e,t){o(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",t,t,e.constructor&&e.constructor.displayName||"")}var o=n(3),i={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")},enqueueSetProps:function(e,t){r(e,"setProps")},enqueueReplaceProps:function(e,t){r(e,"replaceProps")}};e.exports=i},function(e,t,n){"use strict";function r(e){function t(t,n,r,o,i,a){if(o=o||w,a=a||r,null==n[r]){var s=b[i];return t?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,i,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){function t(t,n,r,o,i){var a=t[n],s=m(a);if(s!==e){var l=b[o],u=g(a);return new Error("Invalid "+l+" `"+i+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return r(t)}function i(){return r(x.thatReturns(null))}function a(e){function t(t,n,r,o,i){var a=t[n];if(!Array.isArray(a)){var s=b[o],l=m(a);return new Error("Invalid "+s+" `"+i+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<a.length;u++){var c=e(a,u,r,o,i+"["+u+"]");if(c instanceof Error)return c}return null}return r(t)}function s(){function e(e,t,n,r,o){if(!y.isValidElement(e[t])){var i=b[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(e)}function l(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=b[o],s=e.name||w,l=v(t[n]);return new Error("Invalid "+a+" `"+i+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return r(t)}function u(e){function t(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(a===e[s])return null;var l=b[o],u=JSON.stringify(e);return new Error("Invalid "+l+" `"+i+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function c(e){function t(t,n,r,o,i){var a=t[n],s=m(a);if("object"!==s){var l=b[o];return new Error("Invalid "+l+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var u in a)if(a.hasOwnProperty(u)){var c=e(a,u,r,o,i+"."+u);if(c instanceof Error)return c}return null}return r(t)}function p(e){function t(t,n,r,o,i){for(var a=0;a<e.length;a++){var s=e[a];if(null==s(t,n,r,o,i))return null}var l=b[o];return new Error("Invalid "+l+" `"+i+"` supplied to "+("`"+r+"`."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function h(){function e(e,t,n,r,o){if(!f(e[t])){var i=b[r];return new Error("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function d(e){function t(t,n,r,o,i){var a=t[n],s=m(a);if("object"!==s){var l=b[o];return new Error("Invalid "+l+" `"+i+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var u in e){var c=e[u];if(c){var p=c(a,u,r,o,i+"."+u);if(p)return p}}return null}return r(t)}function f(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(f);if(null===e||y.isValidElement(e))return!0;var t=E(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!f(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!f(o[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function v(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var y=n(7),b=n(30),x=n(9),E=n(55),w="<<anonymous>>",T={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:i(),arrayOf:a,element:s(),instanceOf:l,node:h(),objectOf:c,oneOf:u,oneOfType:p,shape:d};e.exports=T},function(e,t,n){"use strict";var r={injectCreateReactRootIndex:function(e){o.createReactRootIndex=e}},o={createReactRootIndex:null,injection:r};e.exports=o},function(e,t,n){"use strict";var r=n(18),o=n(166),i=n(2),a=n(9),s=r.createClass({displayName:"ReactTransitionGroup",propTypes:{component:r.PropTypes.any,childFactory:r.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:o.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=o.getChildMapping(e.children),n=this.state.children;this.setState({children:o.mergeChildMappings(n,t)});var r;for(r in t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var a=t&&t.hasOwnProperty(r);!n[r]||a||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var n=i({},t.children);return delete n[e],{children:n}})},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(r.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}return r.createElement(this.props.component,this.props,e)}});e.exports=s},function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};e.exports=r},function(e,t,n){"use strict";function r(e,t){if(null==t?o(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):void 0,null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var o=n(1);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=e,o=void 0===r[n];a(o,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),o&&null!=t&&(r[n]=t)}function o(e){if(null==e)return e;var t={};return i(e,r,t),t}var i=n(60),a=n(3);e.exports=o},function(e,t,n){"use strict";var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};e.exports=r},function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=n(5),i=null;e.exports=r},function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&o[e.type]||"textarea"===t)}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=r},function(e,t,n){"use strict";function r(e){return o.isValidElement(e)?void 0:i(!1,"onlyChild must be passed a children with exactly one child."),e}var o=n(7),i=n(1);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return!o(e.props,t)||!o(e.state,n)}var o=n(62);e.exports=r},function(e,t,n){"use strict";var r=n(9),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:r})},registerDefault:function(){}};e.exports=o},function(e,t,n){"use strict";function r(e,t){var n=!0;e:for(;n;){var r=e,i=t;if(n=!1,r&&i){if(r===i)return!0;if(o(r))return!1;if(o(i)){e=r,t=i.parentNode,n=!0;continue e}return r.contains?r.contains(i):!!r.compareDocumentPosition&&!!(16&r.compareDocumentPosition(i))}return!1}}var o=n(201);e.exports=r},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t,n){"use strict";function r(){try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=r},function(e,t,n){"use strict";function r(e){return a?void 0:i(!1,"Markup wrapping node not initialized"),h.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?h[e]:null}var o=n(5),i=n(1),a=o.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c},d=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];d.forEach(function(e){h[e]=p,s[e]=!0}),e.exports=r},,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=n(29)},function(e,t,n){"use strict";var r=n(3);r(!1,"require('react/addons') is deprecated. Access using require('react-addons-{addon}') instead."),e.exports=n(168)},function(e,t,n){"use strict";var r=n(6),o=n(35),i=n(106),a={componentDidMount:function(){this.props.autoFocus&&i(o(this))}},s={Mixin:a,focusDOMComponent:function(){i(r.getNode(this._rootNodeID))}};e.exports=s},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case _.topCompositionStart:return M.compositionStart;case _.topCompositionEnd:return M.compositionEnd;case _.topCompositionUpdate:return M.compositionUpdate}}function a(e,t){return e===_.topKeyDown&&t.keyCode===E}function s(e,t){switch(e){case _.topKeyUp:return x.indexOf(t.keyCode)!==-1;case _.topKeyDown:return t.keyCode!==E;case _.topKeyPress:case _.topMouseDown:case _.topBlur:return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,r,o){var u,c;if(w?u=i(e):O?s(e,r)&&(u=M.compositionEnd):a(e,r)&&(u=M.compositionStart),!u)return null;S&&(O||u!==M.compositionStart?u===M.compositionEnd&&O&&(c=O.getData()):O=g.getPooled(t));var p=v.getPooled(u,n,r,o);if(c)p.data=c;else{var h=l(r);null!==h&&(p.data=h)}return f.accumulateTwoPhaseDispatches(p),p}function c(e,t){switch(e){case _.topCompositionEnd:return l(t);case _.topKeyPress:var n=t.which;return n!==k?null:(N=!0,P);case _.topTextInput:var r=t.data;return r===P&&N?null:r;default:return null}}function p(e,t){if(O){if(e===_.topCompositionEnd||s(e,t)){var n=O.getData();return g.release(O),O=null,n}return null}switch(e){case _.topPaste:return null;case _.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case _.topCompositionEnd:return S?null:t.data;default:return null}}function h(e,t,n,r,o){var i;if(i=C?c(e,r):p(e,r),!i)return null;var a=y.getPooled(M.beforeInput,n,r,o);return a.data=i,f.accumulateTwoPhaseDispatches(a),a}var d=n(10),f=n(25),m=n(5),g=n(134),v=n(174),y=n(177),b=n(11),x=[9,13,27,32],E=229,w=m.canUseDOM&&"CompositionEvent"in window,T=null;
m.canUseDOM&&"documentMode"in document&&(T=document.documentMode);var C=m.canUseDOM&&"TextEvent"in window&&!T&&!r(),S=m.canUseDOM&&(!w||T&&T>8&&T<=11),k=32,P=String.fromCharCode(k),_=d.topLevelTypes,M={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[_.topCompositionEnd,_.topKeyPress,_.topTextInput,_.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[_.topBlur,_.topCompositionEnd,_.topKeyDown,_.topKeyPress,_.topKeyUp,_.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[_.topBlur,_.topCompositionStart,_.topKeyDown,_.topKeyPress,_.topKeyUp,_.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[_.topBlur,_.topCompositionUpdate,_.topKeyDown,_.topKeyPress,_.topKeyUp,_.topMouseDown]}},N=!1,O=null,A={eventTypes:M,extractEvents:function(e,t,n,r,o){return[u(e,t,n,r,o),h(e,t,n,r,o)]}};e.exports=A},function(e,t,n){"use strict";var r=n(71),o=n(5),i=n(194),a=n(183),s=n(199),l=n(188),u=n(3),c=l(function(e){return s(e)}),p=!1,h="cssFloat";if(o.canUseDOM){var d=document.createElement("div").style;try{d.font=""}catch(e){p=!0}void 0===document.documentElement.style.cssFloat&&(h="styleFloat")}var f=/^(?:webkit|moz|o)[A-Z]/,m=/;\s*$/,g={},v={},y=function(e){g.hasOwnProperty(e)&&g[e]||(g[e]=!0,u(!1,"Unsupported style property %s. Did you mean %s?",e,i(e)))},b=function(e){g.hasOwnProperty(e)&&g[e]||(g[e]=!0,u(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)))},x=function(e,t){v.hasOwnProperty(t)&&v[t]||(v[t]=!0,u(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace(m,"")))},E=function(e,t){e.indexOf("-")>-1?y(e):f.test(e)?b(e):m.test(t)&&x(e,t)},w={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];E(n,r),null!=r&&(t+=c(n)+":",t+=a(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var o in t)if(t.hasOwnProperty(o)){E(o,t[o]);var i=a(o,t[o]);if("float"===o&&(o=h),i)n[o]=i;else{var s=p&&r.shorthandPropertyExpansions[o];if(s)for(var l in s)n[l]="";else n[o]=""}}}};e.exports=w},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=T.getPooled(M.change,O,e,C(e));x.accumulateTwoPhaseDispatches(t),w.batchedUpdates(i,t)}function i(e){b.enqueueEvents(e),b.processEventQueue()}function a(e,t){N=e,O=t,N.attachEvent("onchange",o)}function s(){N&&(N.detachEvent("onchange",o),N=null,O=null)}function l(e,t,n){if(e===_.topChange)return n}function u(e,t,n){e===_.topFocus?(s(),a(t,n)):e===_.topBlur&&s()}function c(e,t){N=e,O=t,A=e.value,I=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(N,"value",L),N.attachEvent("onpropertychange",h)}function p(){N&&(delete N.value,N.detachEvent("onpropertychange",h),N=null,O=null,A=null,I=null)}function h(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==A&&(A=t,o(e))}}function d(e,t,n){if(e===_.topInput)return n}function f(e,t,n){e===_.topFocus?(p(),c(t,n)):e===_.topBlur&&p()}function m(e,t,n){if((e===_.topSelectionChange||e===_.topKeyUp||e===_.topKeyDown)&&N&&N.value!==A)return A=N.value,O}function g(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){if(e===_.topClick)return n}var y=n(10),b=n(24),x=n(25),E=n(5),w=n(8),T=n(15),C=n(54),S=n(57),k=n(101),P=n(11),_=y.topLevelTypes,M={change:{phasedRegistrationNames:{bubbled:P({onChange:null}),captured:P({onChangeCapture:null})},dependencies:[_.topBlur,_.topChange,_.topClick,_.topFocus,_.topInput,_.topKeyDown,_.topKeyUp,_.topSelectionChange]}},N=null,O=null,A=null,I=null,R=!1;E.canUseDOM&&(R=S("change")&&(!("documentMode"in document)||document.documentMode>8));var D=!1;E.canUseDOM&&(D=S("input")&&(!("documentMode"in document)||document.documentMode>9));var L={get:function(){return I.get.call(this)},set:function(e){A=""+e,I.set.call(this,e)}},F={eventTypes:M,extractEvents:function(e,t,n,o,i){var a,s;if(r(t)?R?a=l:s=u:k(t)?D?a=d:(a=m,s=f):g(t)&&(a=v),a){var c=a(e,t,n);if(c){var p=T.getPooled(M.change,c,o,i);return p.type="change",x.accumulateTwoPhaseDispatches(p),p}}s&&s(e,t,n)}};e.exports=F},function(e,t,n){"use strict";var r=0,o={createReactRootIndex:function(){return r++}};e.exports=o},function(e,t,n){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var o=n(5),i=n(196),a=n(9),s=n(108),l=n(1),u=/^(<[^ \/>]+)/,c="data-danger-index",p={dangerouslyRenderMarkup:function(e){o.canUseDOM?void 0:l(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering.");for(var t,n={},p=0;p<e.length;p++)e[p]?void 0:l(!1,"dangerouslyRenderMarkup(...): Missing markup."),t=r(e[p]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][p]=e[p];var h=[],d=0;for(t in n)if(n.hasOwnProperty(t)){var f,m=n[t];for(f in m)if(m.hasOwnProperty(f)){var g=m[f];m[f]=g.replace(u,"$1 "+c+'="'+f+'" ')}for(var v=i(m.join(""),a),y=0;y<v.length;++y){var b=v[y];b.hasAttribute&&b.hasAttribute(c)?(f=+b.getAttribute(c),b.removeAttribute(c),h.hasOwnProperty(f)?l(!1,"Danger: Assigning to an already-occupied result index."):void 0,h[f]=b,d+=1):console.error("Danger: Discarding unexpected node:",b)}}return d!==h.length?l(!1,"Danger: Did not assign to every index of resultList."):void 0,h.length!==e.length?l(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,h.length):void 0,h},dangerouslyReplaceNodeWithMarkup:function(e,t){o.canUseDOM?void 0:l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."),t?void 0:l(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),"html"===e.tagName.toLowerCase()?l(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):void 0;var n;n="string"==typeof t?i(t,a)[0]:t,e.parentNode.replaceChild(n,e)}};e.exports=p},function(e,t,n){"use strict";var r=n(11),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=o},function(e,t,n){"use strict";var r=n(10),o=n(25),i=n(32),a=n(6),s=n(11),l=r.topLevelTypes,u=a.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},p=[null,null],h={eventTypes:c,extractEvents:function(e,t,n,r,s){if(e===l.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var h;if(t.window===t)h=t;else{var d=t.ownerDocument;h=d?d.defaultView||d.parentWindow:window}var f,m,g="",v="";if(e===l.topMouseOut?(f=t,g=n,m=u(r.relatedTarget||r.toElement),m?v=a.getID(m):m=h,m=m||h):(f=h,m=t,v=n),f===m)return null;var y=i.getPooled(c.mouseLeave,g,r,s);y.type="mouseleave",y.target=f,y.relatedTarget=m;var b=i.getPooled(c.mouseEnter,v,r,s);return b.type="mouseenter",b.target=m,b.relatedTarget=f,o.accumulateEnterLeaveDispatches(y,b,g,v),p[0]=y,p[1]=b,p}};e.exports=h},function(e,t,n){"use strict";function r(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function o(e){return e===y.topMouseMove||e===y.topTouchMove}function i(e){return e===y.topMouseDown||e===y.topTouchStart}function a(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v.Mount.getNode(n),f.invokeGuardedCallback(r,t,e,n),e.currentTarget=null}function s(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(h(e),Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)a(e,t[r],n[r]);else t&&a(e,t,n);e._dispatchListeners=null,e._dispatchIDs=null}function l(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(h(e),Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=l(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function c(e){h(e);var t=e._dispatchListeners,n=e._dispatchIDs;Array.isArray(t)?m(!1,"executeDirectDispatch(...): Invalid `event`."):void 0;var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function p(e){return!!e._dispatchListeners}var h,d=n(10),f=n(86),m=n(1),g=n(3),v={Mount:null,injectMount:function(e){v.Mount=e,g(e&&e.getNode&&e.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID.")}},y=d.topLevelTypes;h=function(e){var t=e._dispatchListeners,n=e._dispatchIDs,r=Array.isArray(t),o=Array.isArray(n),i=o?n.length:n?1:0,a=r?t.length:t?1:0;g(o===r&&i===a,"EventPluginUtils: Invalid `event`.")};var b={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:u,hasDispatches:p,getNode:function(e){return v.Mount.getNode(e)},getID:function(e){return v.Mount.getID(e)},injection:v};e.exports=b},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=n(13),i=n(2),a=n(100);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r,o=n(17),i=n(5),a=o.injection.MUST_USE_ATTRIBUTE,s=o.injection.MUST_USE_PROPERTY,l=o.injection.HAS_BOOLEAN_VALUE,u=o.injection.HAS_SIDE_EFFECTS,c=o.injection.HAS_NUMERIC_VALUE,p=o.injection.HAS_POSITIVE_NUMERIC_VALUE,h=o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(i.canUseDOM){var d=document.implementation;r=d&&d.hasFeature&&d.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|l,allowTransparency:a,alt:null,async:l,autoComplete:null,autoPlay:l,capture:a|l,cellPadding:null,cellSpacing:null,charSet:a,challenge:a,checked:s|l,classID:a,className:r?a:s,cols:a|p,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|l,coords:null,crossOrigin:null,data:null,dateTime:a,defer:l,dir:null,disabled:a|l,download:h,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:l,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,inputMode:a,is:a,keyParams:a,keyType:a,label:null,lang:null,list:a,loop:s|l,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,minLength:a,multiple:s|l,muted:s|l,name:null,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|l,rel:null,required:l,role:a,rows:a|p,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:a|l,selected:s|l,shape:null,size:a|p,sizes:a,span:p,spellCheck:null,src:null,srcDoc:s,srcSet:a,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|u,width:a,wmode:a,wrap:null,autoCapitalize:null,autoCorrect:null,autoSave:null,itemProp:a,itemScope:a|l,itemType:a,itemID:a,itemRef:a,property:null,results:null,security:a,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=f},function(e,t,n){"use strict";var r=n(156),o=n(164),i={linkState:function(e){return new r(this.state[e],o.createStateKeySetter(this,e))}};e.exports=i},function(e,t,n){"use strict";var r=n(20),o=n(35),i=n(3),a="_getDOMNodeDidWarn",s={getDOMNode:function(){return i(this.constructor[a],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",r.get(this).getName()||this.tagName||"Unknown"),this.constructor[a]=!0,o(this)}};e.exports=s},function(e,t,n){"use strict";function r(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(!e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var o=n(18),i=n(2),a=n(95),s=n(139),l=o.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:s.propTypes.name,transitionAppear:o.PropTypes.bool,transitionEnter:o.PropTypes.bool,transitionLeave:o.PropTypes.bool,transitionAppearTimeout:r("Appear"),transitionEnterTimeout:r("Enter"),transitionLeaveTimeout:r("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return o.createElement(s,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return o.createElement(a,i({},this.props,{childFactory:this._wrapChild}))}});e.exports=l},function(e,t,n){"use strict";var r=n(18),o=n(29),i=n(192),a=n(167),s=n(102),l=17,u=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(e,t,n){var r=o.findDOMNode(this);if(!r)return void(t&&t());var s=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||s+"-active",u=null,c=function(e){e&&e.target!==r||(clearTimeout(u),i.removeClass(r,s),i.removeClass(r,l),a.removeEndEventListener(r,c),t&&t())};i.addClass(r,s),this.queueClass(l),n?u=setTimeout(c,n):a.addEndEventListener(r,c)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,l))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(i.addClass.bind(i,o.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return s(this.props.children)}});e.exports=u},function(e,t,n){"use strict";function r(e,t,n){var r=void 0===e[n];l(r,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),null!=t&&r&&(e[n]=i(t,null))}var o=n(21),i=n(56),a=n(59),s=n(60),l=n(3),u={instantiateChildren:function(e,t,n){if(null==e)return null;var o={};return s(e,r,o),o},updateChildren:function(e,t,n,r){if(!t&&!e)return null;var s;for(s in t)if(t.hasOwnProperty(s)){var l=e&&e[s],u=l&&l._currentElement,c=t[s];if(null!=l&&a(u,c))o.receiveComponent(l,c,n,r),t[s]=l;else{l&&o.unmountComponent(l,s);var p=i(c,null);t[s]=p}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||o.unmountComponent(e[s]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];o.unmountComponent(n)}}};e.exports=u},function(e,t,n){"use strict";var r=n(103),o={shouldComponentUpdate:function(e,t){return r(this,e,t)}};e.exports=o},function(e,t,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getNativeProps:function(e,t,n){if(!t.disabled)return t;var o={};for(var i in t)t.hasOwnProperty(i)&&!r[i]&&(o[i]=t[i]);return o}};e.exports=o},function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(){var e=this._reactInternalComponent;return H(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",r(e)),this}function i(){var e=this._reactInternalComponent;return H(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",r(e)),!!e}function a(){var e=this._reactInternalComponent;H(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",r(e))}function s(e,t){var n=this._reactInternalComponent;H(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",r(n)),n&&(R.enqueueSetPropsInternal(n,e),t&&R.enqueueCallbackInternal(n,t))}function l(e,t){var n=this._reactInternalComponent;H(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",r(n)),n&&(R.enqueueReplacePropsInternal(n,e),t&&R.enqueueCallbackInternal(n,t))}function u(e,t,n){if(null!=e&&null!=t&&!U(e,t)){var r,o=n._tag,i=n._currentElement._owner;i&&(r=i.getName());var a=r+"|"+o;Z.hasOwnProperty(a)||(Z[a]=!0,H(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",o,i?"of `"+r+"`":"using <"+o+">",JSON.stringify(e),JSON.stringify(t)))}}function c(e,t){t&&(re[e._tag]&&H(null==t.children&&null==t.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children?F(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):void 0,"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML?void 0:F(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),H(null==t.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),null!=t.style&&"object"!=typeof t.style?F(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",r(e)):void 0)}function p(e,t,n,r){H("onScroll"!==t||B("scroll",!0),"This browser doesn't support the `onScroll` event");var o=O.findReactContainerForID(e);if(o){var i=o.nodeType===X?o.ownerDocument:o;K(t,i)}r.getReactMountReady().enqueue(h,{id:e,registrationName:t,listener:n})}function h(){var e=this;C.putListener(e.id,e.registrationName,e.listener)}function d(){var e=this;e._rootNodeID?void 0:F(!1,"Must be mounted to trap events");var t=O.getNode(e._rootNodeID);switch(t?void 0:F(!1,"trapBubbledEvent(...): Requires node to be rendered."),e._tag){case"iframe":e._wrapperState.listeners=[C.trapBubbledEvent(T.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in ee)ee.hasOwnProperty(n)&&e._wrapperState.listeners.push(C.trapBubbledEvent(T.topLevelTypes[n],ee[n],t));break;case"img":e._wrapperState.listeners=[C.trapBubbledEvent(T.topLevelTypes.topError,"error",t),C.trapBubbledEvent(T.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[C.trapBubbledEvent(T.topLevelTypes.topReset,"reset",t),C.trapBubbledEvent(T.topLevelTypes.topSubmit,"submit",t)]}}function f(){M.postUpdateWrapper(this)}function m(e){ae.call(ie,e)||(oe.test(e)?void 0:F(!1,"Invalid tag: %s",e),ie[e]=!0)}function g(e,t){e=D({},e);var n=e[W.ancestorInfoContextKey];return e[W.ancestorInfoContextKey]=W.updatedAncestorInfo(n,t._tag,t),e}function v(e,t){return e.indexOf("-")>=0||null!=t.is}function y(e){m(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var b=n(125),x=n(127),E=n(17),w=n(44),T=n(10),C=n(27),S=n(47),k=n(142),P=n(145),_=n(146),M=n(78),N=n(149),O=n(6),A=n(89),I=n(14),R=n(50),D=n(2),L=n(34),F=n(1),B=n(57),j=n(11),q=n(36),z=n(58),U=n(62),W=n(61),H=n(3),V=C.deleteListener,K=C.listenTo,G=C.registrationNameModules,$={string:!0,number:!0},Y=j({style:null}),X=1,J=!1;try{Object.defineProperty({},"test",{get:function(){}}),J=!0}catch(e){}var Q;Q={props:{enumerable:!1,get:function(){var e=this._reactInternalComponent;return H(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",r(e)),e._currentElement.props}}};var Z={},ee={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},te={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ne={listing:!0,pre:!0,textarea:!0},re=D({menuitem:!0},te),oe=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ie={},ae={}.hasOwnProperty;y.displayName="ReactDOMComponent",y.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var r=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(d,this);break;case"button":r=k.getNativeProps(this,r,n);break;case"input":P.mountWrapper(this,r,n),r=P.getNativeProps(this,r,n);break;case"option":_.mountWrapper(this,r,n),r=_.getNativeProps(this,r,n);break;case"select":M.mountWrapper(this,r,n),r=M.getNativeProps(this,r,n),n=M.processChildContext(this,r,n);break;case"textarea":N.mountWrapper(this,r,n),r=N.getNativeProps(this,r,n)}c(this,r),n[W.ancestorInfoContextKey]&&W(this._tag,this,n[W.ancestorInfoContextKey]);var o;if(t.useCreateElement){var i=n[O.ownerDocumentContextKey],a=i.createElement(this._currentElement.type);w.setAttributeForID(a,this._rootNodeID),O.getID(a),this._updateDOMProperties({},r,t,a),this._createInitialChildren(t,r,n,a),o=a}else{var s=this._createOpenTagMarkupAndPutListeners(t,r),l=this._createContentMarkup(t,r,n);o=!l&&te[this._tag]?s+"/>":s+">"+l+"</"+this._currentElement.type+">"}switch(this._tag){case"button":case"input":case"select":case"textarea":r.autoFocus&&t.getReactMountReady().enqueue(b.focusDOMComponent,this)}return o},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(G.hasOwnProperty(r))p(this._rootNodeID,r,o,e);else{r===Y&&(o&&(this._previousStyle=o,o=this._previousStyleCopy=D({},t.style)),o=x.createMarkupForStyles(o));var i=null;i=null!=this._tag&&v(this._tag,t)?w.createMarkupForCustomAttribute(r,o):w.createMarkupForProperty(r,o),i&&(n+=" "+i)}}if(e.renderToStaticMarkup)return n;var a=w.createMarkupForID(this._rootNodeID);return n+" "+a},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=$[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=L(i);else if(null!=a){var s=this.mountChildren(a,e,g(n,this));r=s.join("")}}return ne[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&q(r,o.__html);else{var i=$[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)z(r,i);else if(null!=a)for(var s=this.mountChildren(a,e,g(n,this)),l=0;l<s.length;l++)r.appendChild(s[l])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,i=this._currentElement.props;switch(this._tag){case"button":o=k.getNativeProps(this,o),i=k.getNativeProps(this,i);break;case"input":P.updateWrapper(this),o=P.getNativeProps(this,o),i=P.getNativeProps(this,i);break;case"option":o=_.getNativeProps(this,o),i=_.getNativeProps(this,i);break;case"select":o=M.getNativeProps(this,o),i=M.getNativeProps(this,i);break;case"textarea":N.updateWrapper(this),o=N.getNativeProps(this,o),i=N.getNativeProps(this,i)}c(this,i),this._updateDOMProperties(o,i,e,null),this._updateDOMChildren(o,i,e,g(r,this)),!J&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=i),"select"===this._tag&&e.getReactMountReady().enqueue(f,this)},_updateDOMProperties:function(e,t,n,r){var o,i,a;for(o in e)if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o))if(o===Y){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else G.hasOwnProperty(o)?e[o]&&V(this._rootNodeID,o):(E.properties[o]||E.isCustomAttribute(o))&&(r||(r=O.getNode(this._rootNodeID)),w.deleteValueForProperty(r,o));for(o in t){var l=t[o],c=o===Y?this._previousStyleCopy:e[o];if(t.hasOwnProperty(o)&&l!==c)if(o===Y)if(l?(u(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=l,l=this._previousStyleCopy=D({},l)):this._previousStyleCopy=null,c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(a=a||{},a[i]=l[i])}else a=l;else G.hasOwnProperty(o)?l?p(this._rootNodeID,o,l,n):c&&V(this._rootNodeID,o):v(this._tag,t)?(r||(r=O.getNode(this._rootNodeID)),w.setValueForAttribute(r,o,l)):(E.properties[o]||E.isCustomAttribute(o))&&(r||(r=O.getNode(this._rootNodeID)),null!=l?w.setValueForProperty(r,o,l):w.deleteValueForProperty(r,o))}a&&(r||(r=O.getNode(this._rootNodeID)),x.setValueForStyles(r,a))},_updateDOMChildren:function(e,t,n,r){var o=$[typeof e.children]?e.children:null,i=$[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=o?null:e.children,u=null!=i?null:t.children,c=null!=o||null!=a,p=null!=i||null!=s;null!=l&&null==u?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,r)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":P.unmountWrapper(this);break;case"html":case"head":case"body":F(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag)}if(this.unmountChildren(),C.deleteAllListeners(this._rootNodeID),S.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=O.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=o,e.isMounted=i,e.setState=a,e.replaceState=a,e.forceUpdate=a,e.setProps=s,e.replaceProps=l,J?Object.defineProperties(e,Q):e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},I.measureMethods(y,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),D(y.prototype,y.Mixin,A.Mixin),e.exports=y},function(e,t,n){"use strict";function r(e){return o.createFactory(e)}var o=(n(7),n(83)),i=n(202),a=i({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul",var:"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);e.exports=a},function(e,t,n){"use strict";function r(){this._rootNodeID&&h.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);l.asap(r,this);var o=t.name;
if("radio"===t.type&&null!=o){for(var i=s.getNode(this._rootNodeID),u=i;u.parentNode;)u=u.parentNode;for(var h=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),d=0;d<h.length;d++){var f=h[d];if(f!==i&&f.form===i.form){var m=s.getID(f);m?void 0:c(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var g=p[m];g?void 0:c(!1,"ReactDOMInput: Unknown radio button ID %s.",m),l.asap(r,g)}}}return n}var i=n(49),a=n(45),s=n(6),l=n(8),u=n(2),c=n(1),p={},h={getNativeProps:function(e,t,n){var r=a.getValue(t),o=a.getChecked(t),i=u({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=o?o:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return i},mountWrapper:function(e,t){a.checkPropTypes("input",t,e._currentElement._owner);var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,onChange:o.bind(e)},p[e._rootNodeID]=e},unmountWrapper:function(e){delete p[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&i.updatePropertyByID(e._rootNodeID,"checked",n||!1);var r=a.getValue(t);null!=r&&i.updatePropertyByID(e._rootNodeID,"value",""+r)}};e.exports=h},function(e,t,n){"use strict";var r=n(46),o=n(78),i=n(2),a=n(3),s=o.valueContextKey,l={mountWrapper:function(e,t,n){a(null==t.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.");var r=n[s],o=null;if(null!=r)if(o=!1,Array.isArray(r)){for(var i=0;i<r.length;i++)if(""+r[i]==""+t.value){o=!0;break}}else o=""+r==""+t.value;e._wrapperState={selected:o}},getNativeProps:function(e,t,n){var o=i({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(o.selected=e._wrapperState.selected);var s="";return r.forEach(t.children,function(e){null!=e&&("string"==typeof e||"number"==typeof e?s+=e:a(!1,"Only strings and numbers are supported as <option> children."))}),o.children=s,o}};e.exports=l},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length,a=i+r;return{start:i,end:a}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0),l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=l?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var p=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),h=p?0:c.toString().length,d=h+u,f=document.createRange();f.setStart(n,o),f.setEnd(i,a);var m=f.collapsed;return{start:m?d:h,end:m?h:d}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),i="undefined"==typeof t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=u(e,o),l=u(e,i);if(s&&l){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(l.node,l.offset)):(p.setEnd(l.node,l.offset),n.addRange(p))}}}var l=n(5),u=n(186),c=n(100),p=l.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:p?o:i,setOffsets:p?a:s};e.exports=h},function(e,t,n){"use strict";var r=n(81),o=n(162),i=n(51);r.inject();var a={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:i};e.exports=a},function(e,t,n){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=i.executeOnChange(t,e);return s.asap(r,this),n}var i=n(45),a=n(49),s=n(8),l=n(2),u=n(1),c=n(3),p={getNativeProps:function(e,t,n){null!=t.dangerouslySetInnerHTML?u(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):void 0;var r=l({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){i.checkPropTypes("textarea",t,e._currentElement._owner);var n=t.defaultValue,r=t.children;null!=r&&(c(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=n?u(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):void 0,Array.isArray(r)&&(r.length<=1?void 0:u(!1,"<textarea> can only have at most one child."),r=r[0]),n=""+r),null==n&&(n="");var a=i.getValue(t);e._wrapperState={initialValue:""+(null!=a?a:n),onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=i.getValue(t);null!=n&&a.updatePropertyByID(e._rootNodeID,"value",""+n)}};e.exports=p},function(e,t,n){"use strict";function r(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r.totalTime}return t}function o(e){var t=[];return e.forEach(function(e){Object.keys(e.writes).forEach(function(n){e.writes[n].forEach(function(e){t.push({id:n,type:c[e.type]||e.type,args:e.args})})})}),t}function i(e){for(var t,n={},r=0;r<e.length;r++){var o=e[r],i=l({},o.exclusive,o.inclusive);for(var a in i)t=o.displayNames[a].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},o.render[a]&&(n[t].render+=o.render[a]),o.exclusive[a]&&(n[t].exclusive+=o.exclusive[a]),o.inclusive[a]&&(n[t].inclusive+=o.inclusive[a]),o.counts[a]&&(n[t].count+=o.counts[a])}var s=[];for(t in n)n[t].exclusive>=u&&s.push(n[t]);return s.sort(function(e,t){return t.exclusive-e.exclusive}),s}function a(e,t){for(var n,r={},o=0;o<e.length;o++){var i,a=e[o],c=l({},a.exclusive,a.inclusive);t&&(i=s(a));for(var p in c)if(!t||i[p]){var h=a.displayNames[p];n=h.owner+" > "+h.current,r[n]=r[n]||{componentName:n,time:0,count:0},a.inclusive[p]&&(r[n].time+=a.inclusive[p]),a.counts[p]&&(r[n].count+=a.counts[p])}}var d=[];for(n in r)r[n].time>=u&&d.push(r[n]);return d.sort(function(e,t){return t.time-e.time}),d}function s(e){var t={},n=Object.keys(e.writes),r=l({},e.exclusive,e.inclusive);for(var o in r){for(var i=!1,a=0;a<n.length;a++)if(0===n[a].indexOf(o)){i=!0;break}!i&&e.counts[o]>0&&(t[o]=!0)}return t}var l=n(2),u=1.2,c={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",dangerouslyReplaceNodeWithMarkupByID:"replace"},p={getExclusiveSummary:i,getInclusiveSummary:a,getDOMSummary:o,getTotalTime:r};e.exports=p},function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue()}var o=n(24),i={handleTopLevel:function(e,t,n,i,a){var s=o.extractEvents(e,t,n,i,a);r(s)}};e.exports=i},function(e,t,n){"use strict";function r(e){var t=h.getID(e),n=p.getReactRootIDFromNodeID(t),r=h.findReactContainerForID(n),o=h.getFirstReactDOM(r);return o}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){a(e)}function a(e){for(var t=h.getFirstReactDOM(m(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var o=0;o<e.ancestors.length;o++){t=e.ancestors[o];var i=h.getID(t)||"";v._handleTopLevel(e.topLevelType,t,i,e.nativeEvent,m(e.nativeEvent))}}function s(e){var t=g(window);e(t)}var l=n(104),u=n(5),c=n(13),p=n(19),h=n(6),d=n(8),f=n(2),m=n(54),g=n(197);f(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var v={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){v._handleTopLevel=e},setEnabled:function(e){v._enabled=!!e},isEnabled:function(){return v._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?l.listen(r,t,v.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?l.capture(r,t,v.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(v._enabled){var n=o.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{o.release(n)}}}};e.exports=v},function(e,t,n){"use strict";var r=n(46),o=n(7),i=n(9),a=n(1),s=n(3),l=/^\d+$/,u=!1,c={create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return s(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(o.isValidElement(e))return s(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;1===e.nodeType?a(!1,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components."):void 0;var t=[];for(var n in e)!u&&l.test(n)&&(s(!1,"React.addons.createFragment(...): Child objects should have non-numeric keys so ordering is preserved."),u=!0),r.mapIntoWithKeyPrefixInternal(e[n],t,n,i.thatReturnsArgument);return t}};e.exports=c},function(e,t,n){"use strict";var r=n(17),o=n(24),i=n(48),a=n(74),s=n(84),l=n(27),u=n(91),c=n(14),p=n(94),h=n(8),d={Component:i.injection,Class:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventEmitter:l.injection,NativeComponent:u.injection,Perf:c.injection,RootIndex:p.injection,Updates:h.injection};e.exports=d},function(e,t,n){"use strict";var r=n(46),o=n(75),i=n(74),a=n(144),s=n(7),l=n(83),u=n(93),c=n(51),p=n(2),h=n(102),d=s.createElement,f=s.createFactory,m=s.cloneElement;d=l.createElement,f=l.createFactory,m=l.cloneElement;var g={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:h},Component:o,createElement:d,cloneElement:m,isValidElement:s.isValidElement,PropTypes:u,createClass:i.createClass,createFactory:f,createMixin:function(e){return e},DOM:a,version:c,__spread:p};e.exports=g},function(e,t,n){"use strict";function r(e,t){this.value=e,this.requestChange=t}function o(e){var t={value:"undefined"==typeof e?i.PropTypes.any.isRequired:e.isRequired,requestChange:i.PropTypes.func.isRequired};return i.PropTypes.shape(t)}var i=n(18);r.PropTypes={link:o},e.exports=r},function(e,t,n){"use strict";var r=n(1),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)?void 0:r(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)?void 0:r(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=o},function(e,t,n){"use strict";function r(e){return function(t,n,r){t.hasOwnProperty(n)?t[n]=e(t[n],r):t[n]=r}}function o(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=u[n];r&&u.hasOwnProperty(n)?r(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var i=n(2),a=n(9),s=n(187),l=r(function(e,t){return i({},t,e)}),u={children:a,className:r(s),style:l},c={mergeProps:function(e,t){return o(i({},e),t)}};e.exports=c},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=!e&&s.useCreateElement}var o=n(43),i=n(13),a=n(27),s=n(77),l=n(87),u=n(33),c=n(2),p={initialize:l.getSelectionInformation,close:l.restoreSelection},h={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[p,h,d],m={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};c(r.prototype,u.Mixin,m),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=n(157),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&o(n,e,t._owner)}},e.exports=a},function(e,t,n){"use strict";var r={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=r},function(e,t,n){"use strict";function r(e){a.isValidElement(e)?void 0:f(!1,"renderToString(): You must pass a valid ReactElement.");var t;try{p.injection.injectBatchingStrategy(u);var n=s.createReactRootID();return t=c.getPooled(!1),t.perform(function(){var r=d(e,null),o=r.mountComponent(n,t,h);return l.addChecksumToMarkup(o)},null)}finally{c.release(t),p.injection.injectBatchingStrategy(i)}}function o(e){a.isValidElement(e)?void 0:f(!1,"renderToStaticMarkup(): You must pass a valid ReactElement.");var t;try{p.injection.injectBatchingStrategy(u);var n=s.createReactRootID();return t=c.getPooled(!0),t.perform(function(){var r=d(e,null);return r.mountComponent(n,t,h)},null)}finally{c.release(t),p.injection.injectBatchingStrategy(i)}}var i=n(80),a=n(7),s=n(19),l=n(88),u=n(161),c=n(163),p=n(8),h=n(26),d=n(56),f=n(1);e.exports={renderToString:r,renderToStaticMarkup:o}},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=i.getPooled(null),this.useCreateElement=!1}var o=n(13),i=n(43),a=n(33),s=n(2),l=n(9),u={initialize:function(){this.reactMountReady.reset()},close:l},c=[u],p={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};s(r.prototype,a.Mixin,p),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var o={createStateSetter:function(e,t){return function(n,r,o,i,a,s){var l=t.call(e,n,r,o,i,a,s);l&&e.setState(l)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=r(e,t))}};o.Mixin={createStateSetter:function(e){return o.createStateSetter(this,e)},createStateKeySetter:function(e){return o.createStateKeySetter(this,e)}},e.exports=o},function(e,t,n){"use strict";function r(e){}function o(e,t){if(!e||!e.getPublicInstance)return[];var n=e.getPublicInstance(),r=t(n)?[n]:[];if(k.isDOMComponent(n)){var i,a=e._renderedChildren;for(i in a)a.hasOwnProperty(i)&&(r=r.concat(o(a[i],t)))}else k.isCompositeComponent(n)&&(r=r.concat(o(e._renderedComponent,t)));return r}function i(e){return function(t,n){var o;k.isDOMComponent(t)?o=T(t):t.tagName&&(o=t);var i=f.eventNameDispatchConfigs[e],a=new r;a.target=o;var s=new x(i,y.getID(o),a,o);E(s,n),i.phasedRegistrationNames?c.accumulateTwoPhaseDispatches(s):c.accumulateDirectDispatches(s),b.batchedUpdates(function(){u.enqueueEvents(s),u.processEventQueue()})}}function a(){k.Simulate={};var e;for(e in f.eventNameDispatchConfigs)k.Simulate[e]=i(e)}function s(e){return function(t,n){var o=new r(e);E(o,n),k.isDOMComponent(t)?k.simulateNativeEventOnDOMComponent(e,t,o):t.tagName&&k.simulateNativeEventOnNode(e,t,o)}}var l=n(10),u=n(24),c=n(25),p=n(18),h=n(29),d=n(7),f=n(27),m=n(76),g=n(19),v=n(20),y=n(6),b=n(8),x=n(15),E=n(2),w=n(26),T=n(35),C=n(1),S=l.topLevelTypes,k={renderIntoDocument:function(e){var t=document.createElement("div");return h.render(e,t)},isElement:function(e){return d.isValidElement(e)},isElementOfType:function(e,t){return d.isValidElement(e)&&e.type===t},isDOMComponent:function(e){return!(!e||1!==e.nodeType||!e.tagName)},isDOMComponentElement:function(e){return!!(e&&d.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return!k.isDOMComponent(e)&&("function"==typeof e.render&&"function"==typeof e.setState)},isCompositeComponentWithType:function(e,t){if(!k.isCompositeComponent(e))return!1;var n=v.get(e),r=n._currentElement.type;return r===t},isCompositeComponentElement:function(e){if(!d.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){var n=v.get(e),r=n._currentElement.type;return!(!k.isCompositeComponentElement(e)||r!==t)},getRenderedChildOfCompositeComponent:function(e){if(!k.isCompositeComponent(e))return null;var t=v.get(e);return t._renderedComponent.getPublicInstance()},findAllInRenderedTree:function(e,t){return e?(k.isCompositeComponent(e)?void 0:C(!1,"findAllInRenderedTree(...): instance must be a composite component"),o(v.get(e),t)):[]},scryRenderedDOMComponentsWithClass:function(e,t){return k.findAllInRenderedTree(e,function(e){if(k.isDOMComponent(e)){var n=h.findDOMNode(e).className;return n&&(""+n).split(/\s+/).indexOf(t)!==-1}return!1})},findRenderedDOMComponentWithClass:function(e,t){var n=k.scryRenderedDOMComponentsWithClass(e,t);if(1!==n.length)throw new Error("Did not find exactly one match (found: "+n.length+") for class:"+t);return n[0]},scryRenderedDOMComponentsWithTag:function(e,t){return k.findAllInRenderedTree(e,function(e){return k.isDOMComponent(e)&&e.tagName.toUpperCase()===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var n=k.scryRenderedDOMComponentsWithTag(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for tag:"+t);return n[0]},scryRenderedComponentsWithType:function(e,t){return k.findAllInRenderedTree(e,function(e){return k.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var n=k.scryRenderedComponentsWithType(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for componentType:"+t+" (found "+n.length+")");return n[0]},mockComponent:function(e,t){return t=t||e.mockTagName||"div",e.prototype.render.mockImplementation(function(){return p.createElement(t,null,this.props.children)}),this},simulateNativeEventOnNode:function(e,t,n){n.target=t,f.ReactEventListener.dispatchEvent(e,n)},simulateNativeEventOnDOMComponent:function(e,t,n){k.simulateNativeEventOnNode(e,T(t),n)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},createRenderer:function(){return new P},Simulate:null,SimulateNative:{}},P=function(){this._instance=null};P.prototype.getRenderOutput=function(){return this._instance&&this._instance._renderedComponent&&this._instance._renderedComponent._renderedOutput||null};var _=function(e){this._renderedOutput=e,this._currentElement=e};_.prototype={mountComponent:function(){},receiveComponent:function(e){this._renderedOutput=e,this._currentElement=e},unmountComponent:function(){}};var M=function(){};E(M.prototype,m.Mixin,{_instantiateReactComponent:function(e){return new _(e)},_replaceNodeWithMarkupByID:function(){},_renderValidatedComponent:m.Mixin._renderValidatedComponentWithoutOwnerOrContext}),P.prototype.render=function(e,t){d.isValidElement(e)?void 0:C(!1,"ReactShallowRenderer render(): Invalid component element.%s","function"==typeof e?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":""),"string"==typeof e.type?C(!1,"ReactShallowRenderer render(): Shallow rendering works only with custom components, not primitives (%s). Instead of calling `.render(el)` and inspecting the rendered output, look at `el.props` directly instead.",e.type):void 0,t||(t=w);var n=b.ReactReconcileTransaction.getPooled(!1);this._render(e,n,t),b.ReactReconcileTransaction.release(n)},P.prototype.unmount=function(){this._instance&&this._instance.unmountComponent()},P.prototype._render=function(e,t,n){if(this._instance)this._instance.receiveComponent(e,t,n);else{var r=g.createReactRootID(),o=new M(e.type);o.construct(e),o.mountComponent(r,t,n),this._instance=o}};var N=u.injection.injectEventPluginOrder;u.injection.injectEventPluginOrder=function(){N.apply(this,arguments),a()};var O=u.injection.injectEventPluginsByName;u.injection.injectEventPluginsByName=function(){O.apply(this,arguments),a()},a(),Object.keys(S).forEach(function(e){var t=0===e.indexOf("top")?e.charAt(3).toLowerCase()+e.substr(4):e;k.SimulateNative[t]=s(e)}),e.exports=k},function(e,t,n){"use strict";var r=n(98),o={getChildMapping:function(e){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var i in e)t.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var a,s={};for(var l in t){if(r.hasOwnProperty(l))for(a=0;a<r[l].length;a++){var u=r[l][a];s[r[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<o.length;a++)s[o[a]]=n(o[a]);return s}};e.exports=o},function(e,t,n){"use strict";function r(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete s.animationend.animation,"TransitionEvent"in window||delete s.transitionend.transition;for(var n in s){var r=s[n];for(var o in r)if(o in t){l.push(r[o]);break}}}function o(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}var a=n(5),s={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},l=[];a.canUseDOM&&r();var u={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(n){o(e,n,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(n){i(e,n,t)})}};e.exports=u},function(e,t,n){"use strict";var r=n(136),o=n(18),i=n(141),a=n(138),s=n(153),l=n(95),u=n(8),c=n(182),p=n(103),h=n(191),d=n(3),f=!1;o.addons={CSSTransitionGroup:a,LinkedStateMixin:r,PureRenderMixin:i,TransitionGroup:l,batchedUpdates:function(){return d(f,"React.addons.batchedUpdates is deprecated. Use ReactDOM.unstable_batchedUpdates instead."),f=!0,u.batchedUpdates.apply(this,arguments)},cloneWithProps:c,createFragment:s.create,shallowCompare:p,update:h},o.addons.Perf=n(82),o.addons.TestUtils=n(165),e.exports=o},function(e,t,n){"use strict";var r=n(17),o=r.injection.MUST_USE_ATTRIBUTE,i={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},a={Properties:{clipPath:o,cx:o,cy:o,d:o,dx:o,dy:o,fill:o,fillOpacity:o,fontFamily:o,fontSize:o,fx:o,fy:o,gradientTransform:o,gradientUnits:o,markerEnd:o,markerMid:o,markerStart:o,offset:o,opacity:o,patternContentUnits:o,patternUnits:o,points:o,preserveAspectRatio:o,r:o,rx:o,ry:o,spreadMethod:o,stopColor:o,stopOpacity:o,stroke:o,strokeDasharray:o,strokeLinecap:o,strokeOpacity:o,strokeWidth:o,textAnchor:o,transform:o,version:o,viewBox:o,x1:o,x2:o,x:o,xlinkActuate:o,xlinkArcrole:o,xlinkHref:o,xlinkRole:o,xlinkShow:o,xlinkTitle:o,xlinkType:o,xmlBase:o,xmlLang:o,xmlSpace:o,y1:o,y2:o,y:o},DOMAttributeNamespaces:{xlinkActuate:i.xlink,xlinkArcrole:i.xlink,xlinkHref:i.xlink,xlinkRole:i.xlink,xlinkShow:i.xlink,xlinkTitle:i.xlink,xlinkType:i.xlink,xmlBase:i.xml,xmlLang:i.xml,xmlSpace:i.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};e.exports=a},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(x||null==v||v!==c())return null;var n=r(v);if(!b||!d(b,n)){b=n;var o=u.getPooled(g.select,y,e,t);return o.type="select",o.target=v,a.accumulateTwoPhaseDispatches(o),o}return null}var i=n(10),a=n(25),s=n(5),l=n(87),u=n(15),c=n(107),p=n(101),h=n(11),d=n(62),f=i.topLevelTypes,m=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[f.topBlur,f.topContextMenu,f.topFocus,f.topKeyDown,f.topMouseDown,f.topMouseUp,f.topSelectionChange]}},v=null,y=null,b=null,x=!1,E=!1,w=h({onSelect:null}),T={eventTypes:g,extractEvents:function(e,t,n,r,i){if(!E)return null;switch(e){case f.topFocus:(p(t)||"true"===t.contentEditable)&&(v=t,y=n,b=null);break;case f.topBlur:v=null,y=null,b=null;break;case f.topMouseDown:x=!0;break;case f.topContextMenu:case f.topMouseUp:return x=!1,o(r,i);case f.topSelectionChange:if(m)break;case f.topKeyDown:case f.topKeyUp:return o(r,i)}return null},didPutListener:function(e,t,n){t===w&&(E=!0)}};e.exports=T},function(e,t,n){"use strict";var r=Math.pow(2,53),o={createReactRootIndex:function(){return Math.ceil(Math.random()*r)}};e.exports=o},function(e,t,n){"use strict";var r=n(10),o=n(104),i=n(25),a=n(6),s=n(173),l=n(15),u=n(176),c=n(178),p=n(32),h=n(175),d=n(179),f=n(28),m=n(180),g=n(9),v=n(52),y=n(1),b=n(11),x=r.topLevelTypes,E={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},w={topAbort:E.abort,topBlur:E.blur,topCanPlay:E.canPlay,topCanPlayThrough:E.canPlayThrough,topClick:E.click,topContextMenu:E.contextMenu,
topCopy:E.copy,topCut:E.cut,topDoubleClick:E.doubleClick,topDrag:E.drag,topDragEnd:E.dragEnd,topDragEnter:E.dragEnter,topDragExit:E.dragExit,topDragLeave:E.dragLeave,topDragOver:E.dragOver,topDragStart:E.dragStart,topDrop:E.drop,topDurationChange:E.durationChange,topEmptied:E.emptied,topEncrypted:E.encrypted,topEnded:E.ended,topError:E.error,topFocus:E.focus,topInput:E.input,topKeyDown:E.keyDown,topKeyPress:E.keyPress,topKeyUp:E.keyUp,topLoad:E.load,topLoadedData:E.loadedData,topLoadedMetadata:E.loadedMetadata,topLoadStart:E.loadStart,topMouseDown:E.mouseDown,topMouseMove:E.mouseMove,topMouseOut:E.mouseOut,topMouseOver:E.mouseOver,topMouseUp:E.mouseUp,topPaste:E.paste,topPause:E.pause,topPlay:E.play,topPlaying:E.playing,topProgress:E.progress,topRateChange:E.rateChange,topReset:E.reset,topScroll:E.scroll,topSeeked:E.seeked,topSeeking:E.seeking,topStalled:E.stalled,topSubmit:E.submit,topSuspend:E.suspend,topTimeUpdate:E.timeUpdate,topTouchCancel:E.touchCancel,topTouchEnd:E.touchEnd,topTouchMove:E.touchMove,topTouchStart:E.touchStart,topVolumeChange:E.volumeChange,topWaiting:E.waiting,topWheel:E.wheel};for(var T in w)w[T].dependencies=[T];var C=b({onClick:null}),S={},k={eventTypes:E,extractEvents:function(e,t,n,r,o){var a=w[e];if(!a)return null;var g;switch(e){case x.topAbort:case x.topCanPlay:case x.topCanPlayThrough:case x.topDurationChange:case x.topEmptied:case x.topEncrypted:case x.topEnded:case x.topError:case x.topInput:case x.topLoad:case x.topLoadedData:case x.topLoadedMetadata:case x.topLoadStart:case x.topPause:case x.topPlay:case x.topPlaying:case x.topProgress:case x.topRateChange:case x.topReset:case x.topSeeked:case x.topSeeking:case x.topStalled:case x.topSubmit:case x.topSuspend:case x.topTimeUpdate:case x.topVolumeChange:case x.topWaiting:g=l;break;case x.topKeyPress:if(0===v(r))return null;case x.topKeyDown:case x.topKeyUp:g=c;break;case x.topBlur:case x.topFocus:g=u;break;case x.topClick:if(2===r.button)return null;case x.topContextMenu:case x.topDoubleClick:case x.topMouseDown:case x.topMouseMove:case x.topMouseOut:case x.topMouseOver:case x.topMouseUp:g=p;break;case x.topDrag:case x.topDragEnd:case x.topDragEnter:case x.topDragExit:case x.topDragLeave:case x.topDragOver:case x.topDragStart:case x.topDrop:g=h;break;case x.topTouchCancel:case x.topTouchEnd:case x.topTouchMove:case x.topTouchStart:g=d;break;case x.topScroll:g=f;break;case x.topWheel:g=m;break;case x.topCopy:case x.topCut:case x.topPaste:g=s}g?void 0:y(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var b=g.getPooled(a,n,r,o);return i.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,n){if(t===C){var r=a.getNode(e);S[e]||(S[e]=o.listen(r,"click",g))}},willDeleteListener:function(e,t){t===C&&(S[e].remove(),delete S[e])}};e.exports=k},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(15),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(15),i={data:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(32),i={dataTransfer:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(28),i={relatedTarget:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(15),i={data:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(28),i=n(52),a=n(185),s=n(53),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,l),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(28),i=n(53),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r)}var o=n(32),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,i=e.length,a=i&-4;r<a;){for(;r<Math.min(r+4096,a);r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;r<i;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;e.exports=r},function(e,t,n){"use strict";function r(e,t){s(u,"cloneWithProps(...) is deprecated. Please use React.cloneElement instead."),u=!0,s(!e.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var n=i.mergeProps(t,e.props);return!n.hasOwnProperty(l)&&e.props.hasOwnProperty(l)&&(n.children=e.props.children),o.createElement(e.type,n)}var o=n(7),i=n(158),a=n(11),s=n(3),l=a({children:null}),u=!1;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=n(71),i=o.isUnitlessNumber;e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,a){var s=!1,l=function(){return i(s,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",e,t,e,n),s=!0,a.apply(r,arguments)};return o(l,a)}var o=n(2),i=n(3);e.exports=r},function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=n(52),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var n=r(e),i=0,a=0;n;){if(3===n.nodeType){if(a=i+n.textContent.length,i<=t&&a>=t)return{node:n,offset:t-i};i=a}n=r(o(n))}}e.exports=i},function(e,t,n){"use strict";function r(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;r<n;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}e.exports=r},function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=r},function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=n(34);e.exports=r},function(e,t,n){"use strict";var r=n(6);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?a(new e.constructor,e):e}function o(e,t,n){Array.isArray(e)?void 0:l(!1,"update(): expected target of %s to be an array; got %s.",n,e);var r=t[n];Array.isArray(r)?void 0:l(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,r)}function i(e,t){if("object"!=typeof t?l(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",g.join(", "),d):void 0,u.call(t,d))return 1!==Object.keys(t).length?l(!1,"Cannot have more than one key in an object with %s",d):void 0,t[d];var n=r(e);if(u.call(t,f)){var s=t[f];s&&"object"==typeof s?void 0:l(!1,"update(): %s expects a spec of type 'object'; got %s",f,s),n&&"object"==typeof n?void 0:l(!1,"update(): %s expects a target of type 'object'; got %s",f,n),a(n,t[f])}u.call(t,c)&&(o(e,t,c),t[c].forEach(function(e){n.push(e)})),u.call(t,p)&&(o(e,t,p),t[p].forEach(function(e){n.unshift(e)})),u.call(t,h)&&(Array.isArray(e)?void 0:l(!1,"Expected %s target to be an array; got %s",h,e),Array.isArray(t[h])?void 0:l(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",h,t[h]),t[h].forEach(function(e){Array.isArray(e)?void 0:l(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",h,t[h]),n.splice.apply(n,e)})),u.call(t,m)&&("function"!=typeof t[m]?l(!1,"update(): expected spec of %s to be a function; got %s.",m,t[m]):void 0,n=t[m](n));for(var y in t)v.hasOwnProperty(y)&&v[y]||(n[y]=i(e[y],t[y]));return n}var a=n(2),s=n(11),l=n(1),u={}.hasOwnProperty,c=s({$push:null}),p=s({$unshift:null}),h=s({$splice:null}),d=s({$set:null}),f=s({$merge:null}),m=s({$apply:null}),g=[c,p,h,d,f,m],v={};g.forEach(function(e){v[e]=!0}),e.exports=i},function(e,t,n){"use strict";var r=n(1),o={addClass:function(e,t){return/\s/.test(t)?r(!1,'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',t):void 0,t&&(e.classList?e.classList.add(t):o.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?r(!1,'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',t):void 0,t&&(e.classList?e.classList.remove(t):o.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?o.addClass:o.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?r(!1,"CSS.hasClass takes only a single class name."):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};e.exports=o},function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;e.exports=r},function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=n(193),i=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return r(e)?Array.isArray(e)?e.slice():i(e):[e]}var i=n(205);e.exports=o},function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=u;u?void 0:l(!1,"createNodesFromMarkup dummy not initialized");var o=r(e),i=o&&s(o);if(i){n.innerHTML=i[1]+e+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:l(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."),a(p).forEach(t));for(var h=a(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return h}var i=n(5),a=n(195),s=n(108),l=n(1),u=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=o},function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;e.exports=r},function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=n(198),i=/^ms-/;e.exports=r},function(e,t,n){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=n(200);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(!e)return null;var r={};for(var i in e)o.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}var o=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";var r,o=n(5);o.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),e.exports=r||{}},function(e,t,n){"use strict";var r=n(203),o=r;o&&o.now||(o=Date);var i=o.now.bind(o);e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?o(!1,"toArray: Array-like object expected"):void 0,"number"!=typeof t?o(!1,"toArray: Object needs a length property"):void 0,0===t||t-1 in e?void 0:o(!1,"toArray: Object should have keys for indices"),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}var o=n(1);e.exports=r}])},function(e,t,n){var r,o;!function(i,a){"use strict";function s(e){var t=e.length,n=he.type(e);return!he.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function l(e){var t=ke[e]={};return he.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function u(e,t,n,r){if(he.acceptData(e)){var o,i,s=he.expando,l="string"==typeof t,u=e.nodeType,c=u?he.cache:e,p=u?e[s]:e[s]&&s;if(p&&c[p]&&(r||c[p].data)||!l||n!==a)return p||(u?e[s]=p=re.pop()||he.guid++:p=s),c[p]||(c[p]={},u||(c[p].toJSON=he.noop)),"object"!=typeof t&&"function"!=typeof t||(r?c[p]=he.extend(c[p],t):c[p].data=he.extend(c[p].data,t)),o=c[p],r||(o.data||(o.data={}),o=o.data),n!==a&&(o[he.camelCase(t)]=n),l?(i=o[t],null==i&&(i=o[he.camelCase(t)])):i=o,i}}function c(e,t,n){if(he.acceptData(e)){var r,o,i,a=e.nodeType,s=a?he.cache:e,l=a?e[he.expando]:he.expando;if(s[l]){if(t&&(r=n?s[l]:s[l].data)){he.isArray(t)?t=t.concat(he.map(t,he.camelCase)):t in r?t=[t]:(t=he.camelCase(t),t=t in r?[t]:t.split(" "));for(o=0,i=t.length;o<i;o++)delete r[t[o]];if(!(n?h:he.isEmptyObject)(r))return}(n||(delete s[l].data,h(s[l])))&&(a?he.cleanData([e],!0):he.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function p(e,t,n){if(n===a&&1===e.nodeType){var r="data-"+t.replace(_e,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Pe.test(n)?he.parseJSON(n):n)}catch(e){}he.data(e,t,n)}else n=a}return n}function h(e){var t;for(t in e)if(("data"!==t||!he.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(){return!0}function f(){return!1}function m(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function g(e,t,n){if(t=t||0,he.isFunction(t))return he.grep(e,function(e,r){var o=!!t.call(e,r,e);return o===n});if(t.nodeType)return he.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=he.grep(e,function(e){return 1===e.nodeType});if(Ke.test(t))return he.filter(t,r,!n);t=he.filter(t,r)}return he.grep(e,function(e){return he.inArray(e,t)>=0===n})}function v(e){var t=Ye.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function y(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function b(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function x(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function E(e,t){for(var n,r=0;null!=(n=e[r]);r++)he._data(n,"globalEval",!t||he._data(t[r],"globalEval"))}function w(e,t){if(1===t.nodeType&&he.hasData(e)){var n,r,o,i=he._data(e),a=he._data(t,i),s=i.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,o=s[n].length;r<o;r++)he.event.add(t,n,s[n][r])}a.data&&(a.data=he.extend({},a.data))}}function T(e,t){var n,r,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!he.support.noCloneEvent&&t[he.expando]){r=he._data(t);for(o in r.events)he.removeEvent(t,o,r.handle);t.removeAttribute(he.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),he.support.html5Clone&&e.innerHTML&&!he.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&ot.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function C(e,t){var n,r,o=0,i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):a;if(!i)for(i=[],n=e.childNodes||e;null!=(r=n[o]);o++)!t||he.nodeName(r,t)?i.push(r):he.merge(i,C(r,t));return t===a||t&&he.nodeName(e,t)?he.merge([e],i):i}function S(e){ot.test(e.type)&&(e.defaultChecked=e.checked)}function k(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,o=Pt.length;o--;)if(t=Pt[o]+n,t in e)return t;return r}function P(e,t){return e=t||e,"none"===he.css(e,"display")||!he.contains(e.ownerDocument,e)}function _(e,t){for(var n,r=[],o=0,i=e.length;o<i;o++)n=e[o],n.style&&(r[o]=he._data(n,"olddisplay"),t?(r[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&P(n)&&(r[o]=he._data(n,"olddisplay",A(n.nodeName)))):r[o]||P(n)||he._data(n,"olddisplay",he.css(n,"display")));for(o=0;o<i;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function M(e,t,n){var r=xt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function N(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;i<4;i+=2)"margin"===n&&(a+=he.css(e,n+kt[i],!0,o)),r?("content"===n&&(a-=he.css(e,"padding"+kt[i],!0,o)),"margin"!==n&&(a-=he.css(e,"border"+kt[i]+"Width",!0,o))):(a+=he.css(e,"padding"+kt[i],!0,o),"padding"!==n&&(a+=he.css(e,"border"+kt[i]+"Width",!0,o)));return a}function O(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=dt(e),a=he.support.boxSizing&&"border-box"===he.css(e,"boxSizing",!1,i);if(o<=0||null==o){if(o=ht(e,t,i),(o<0||null==o)&&(o=e.style[t]),Et.test(o))return o;r=a&&(he.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+N(e,t,n||(a?"border":"content"),r,i)+"px"}function A(e){var t=Q,n=Tt[e];return n||(n=I(e,t),"none"!==n&&n||(ft=(ft||he("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ft[0].contentWindow||ft[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=I(e,t),ft.detach()),Tt[e]=n),n}function I(e,t){var n=he(t.createElement(e)).appendTo(t.body),r=he.css(n[0],"display");return n.remove(),r}function R(e,t,n,r){var o;if(he.isArray(t))he.each(t,function(t,o){n||Mt.test(e)?r(e,o):R(e+"["+("object"==typeof o?t:"")+"]",o,n,r)});else if(n||"object"!==he.type(t))r(e,t);else for(o in t)R(e+"["+o+"]",t[o],n,r)}function D(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(fe)||[];if(he.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function L(e,t,n,r){function o(s){var l;return i[s]=!0,he.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||i[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}var i={},a=e===Kt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function F(e,t){var n,r,o=he.ajaxSettings.flatOptions||{};for(n in t)t[n]!==a&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&he.extend(!0,e,r),e}function B(e,t,n){var r,o,i,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in n&&(t[c[o]]=n[o]);for(;"*"===u[0];)u.shift(),r===a&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){u.unshift(o);break}if(u[0]in n)i=u[0];else{for(o in n){if(!u[0]||e.converters[o+" "+u[0]]){i=o;break}s||(s=o)}i=i||s}if(i)return i!==u[0]&&u.unshift(i),n[i]}function j(e,t){var n,r,o,i,a={},s=0,l=e.dataTypes.slice(),u=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;o=l[++s];)if("*"!==o){if("*"!==u&&u!==o){if(n=a[u+" "+o]||a["* "+o],!n)for(r in a)if(i=r.split(" "),i[1]===o&&(n=a[u+" "+i[0]]||a["* "+i[0]])){n===!0?n=a[r]:a[r]!==!0&&(o=i[0],l.splice(s--,0,o));break}if(n!==!0)if(n&&e.throws)t=n(t);else try{t=n(t)}catch(e){return{state:"parsererror",error:n?e:"No conversion from "+u+" to "+o}}}u=o}return{state:"success",data:t}}function q(){try{return new i.XMLHttpRequest}catch(e){}}function z(){try{return new i.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function U(){return setTimeout(function(){en=a}),en=he.now()}function W(e,t){he.each(t,function(t,n){for(var r=(sn[t]||[]).concat(sn["*"]),o=0,i=r.length;o<i;o++)if(r[o].call(e,t,n))return})}function H(e,t,n){var r,o,i=0,a=an.length,s=he.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=en||U(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,i=1-r,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(i);return s.notifyWith(e,[u,i,n]),i<1&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:en||U(),duration:n.duration,tweens:[],createTween:function(t,n){var r=he.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(V(c,u.opts.specialEasing);i<a;i++)if(r=an[i].call(u,e,c,u.opts))return r;return W(u,c),he.isFunction(u.opts.start)&&u.opts.start.call(e,u),he.fx.timer(he.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function V(e,t){var n,r,o,i,a;for(n in e)if(r=he.camelCase(n),o=t[r],i=e[n],he.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),a=he.cssHooks[r],a&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function K(e,t,n){var r,o,i,a,s,l,u,c,p,h=this,d=e.style,f={},m=[],g=e.nodeType&&P(e);n.queue||(c=he._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,p=c.empty.fire,c.empty.fire=function(){c.unqueued||p()}),c.unqueued++,h.always(function(){h.always(function(){c.unqueued--,he.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===he.css(e,"display")&&"none"===he.css(e,"float")&&(he.support.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",he.support.shrinkWrapBlocks||h.done(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],nn.exec(i)){if(delete t[r],l=l||"toggle"===i,i===(g?"hide":"show"))continue;m.push(r)}if(a=m.length){s=he._data(e,"fxshow")||he._data(e,"fxshow",{}),"hidden"in s&&(g=s.hidden),l&&(s.hidden=!g),g?he(e).show():h.done(function(){he(e).hide()}),h.done(function(){var t;he._removeData(e,"fxshow");for(t in f)he.style(e,t,f[t])});for(r=0;r<a;r++)o=m[r],u=h.createTween(o,g?s[o]:0),f[o]=s[o]||he.style(e,o),o in s||(s[o]=u.start,g&&(u.end=u.start,u.start="width"===o||"height"===o?1:0))}}function G(e,t,n,r,o){return new G.prototype.init(e,t,n,r,o)}function $(e,t){var n,r={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)n=kt[o],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Y(e){return he.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var X,J,Q=i.document,Z=i.location,ee=i.jQuery,te=i.$,ne={},re=[],oe="1.9.0",ie=re.concat,ae=re.push,se=re.slice,le=re.indexOf,ue=ne.toString,ce=ne.hasOwnProperty,pe=oe.trim,he=function(e,t){return new he.fn.init(e,t,X)},de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=/\S+/g,me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ve=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ye=/^[\],:{}\s]*$/,be=/(?:^|:|,)(?:\s*\[)+/g,xe=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Ee=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,we=/^-ms-/,Te=/-([\da-z])/gi,Ce=function(e,t){return t.toUpperCase()},Se=function(){Q.addEventListener?(Q.removeEventListener("DOMContentLoaded",Se,!1),he.ready()):"complete"===Q.readyState&&(Q.detachEvent("onreadystatechange",Se),he.ready())};he.fn=he.prototype={jquery:oe,constructor:he,init:function(e,t,n){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ge.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),ve.test(r[1])&&he.isPlainObject(t))for(r in t)he.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if(o=Q.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return n.find(e);this.length=1,this[0]=o}return this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):he.isFunction(e)?n.ready(e):(e.selector!==a&&(this.selector=e.selector,this.context=e.context),he.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return se.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return he.each(this,e,t)},ready:function(e){return he.ready.promise().done(e),this},slice:function(){return this.pushStack(se.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(he.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:ae,sort:[].sort,splice:[].splice},he.fn.init.prototype=he.fn,he.extend=he.fn.extend=function(){var e,t,n,r,o,i,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||he.isFunction(s)||(s={}),u===l&&(s=this,--l);l<u;l++)if(null!=(e=arguments[l]))for(t in e)n=s[t],r=e[t],s!==r&&(c&&r&&(he.isPlainObject(r)||(o=he.isArray(r)))?(o?(o=!1,i=n&&he.isArray(n)?n:[]):i=n&&he.isPlainObject(n)?n:{},s[t]=he.extend(c,i,r)):r!==a&&(s[t]=r));return s},he.extend({noConflict:function(e){return i.$===he&&(i.$=te),e&&i.jQuery===he&&(i.jQuery=ee),he},isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){if(e===!0?!--he.readyWait:!he.isReady){if(!Q.body)return setTimeout(he.ready);he.isReady=!0,e!==!0&&--he.readyWait>0||(J.resolveWith(Q,[he]),he.fn.trigger&&he(Q).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray||function(e){return"array"===he.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?ne[ue.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==he.type(e)||e.nodeType||he.isWindow(e))return!1;try{if(e.constructor&&!ce.call(e,"constructor")&&!ce.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return t===a||ce.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var r=ve.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=he.buildFragment([e],t,o),o&&he(o).remove(),he.merge([],r.childNodes))},parseJSON:function(e){return i.JSON&&i.JSON.parse?i.JSON.parse(e):null===e?e:"string"==typeof e&&(e=he.trim(e),e&&ye.test(e.replace(xe,"@").replace(Ee,"]").replace(be,"")))?new Function("return "+e)():void he.error("Invalid JSON: "+e)},parseXML:function(e){var t,n;if(!e||"string"!=typeof e)return null;try{i.DOMParser?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(e){t=a}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&he.trim(e)&&(i.execScript||function(e){i.eval.call(i,e)})(e)},camelCase:function(e){return e.replace(we,"ms-").replace(Te,Ce)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,o=0,i=e.length,a=s(e);if(n){if(a)for(;o<i&&(r=t.apply(e[o],n),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],n),r===!1)break}else if(a)for(;o<i&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:pe&&!pe.call("\ufeff ")?function(e){return null==e?"":pe.call(e)}:function(e){return null==e?"":(e+"").replace(me,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?he.merge(n,"string"==typeof e?[e]:e):ae.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(le)return le.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,r=e.length,o=0;if("number"==typeof n)for(;o<n;o++)e[r++]=t[o];else for(;t[o]!==a;)e[r++]=t[o++];return e.length=r,e},grep:function(e,t,n){var r,o=[],i=0,a=e.length;for(n=!!n;i<a;i++)r=!!t(e[i],i),n!==r&&o.push(e[i]);return o},map:function(e,t,n){var r,o=0,i=e.length,a=s(e),l=[];if(a)for(;o<i;o++)r=t(e[o],o,n),null!=r&&(l[l.length]=r);else for(o in e)r=t(e[o],o,n),null!=r&&(l[l.length]=r);return ie.apply([],l)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(n=e[t],t=e,e=n),he.isFunction(e)?(r=se.call(arguments,2),o=function(){return e.apply(t||this,r.concat(se.call(arguments)))},o.guid=e.guid=e.guid||he.guid++,o):a},access:function(e,t,n,r,o,i,s){var l=0,u=e.length,c=null==n;if("object"===he.type(n)){o=!0;for(l in n)he.access(e,t,l,n[l],!0,i,s)}else if(r!==a&&(o=!0,he.isFunction(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(he(e),n)})),t))for(;l<u;l++)t(e[l],n,s?r:r.call(e[l],l,t(e[l],n)));return o?e:c?t.call(e):u?t(e[0],n):i},now:function(){return(new Date).getTime()}}),he.ready.promise=function(e){if(!J)if(J=he.Deferred(),"complete"===Q.readyState)setTimeout(he.ready);else if(Q.addEventListener)Q.addEventListener("DOMContentLoaded",Se,!1),i.addEventListener("load",he.ready,!1);else{Q.attachEvent("onreadystatechange",Se),i.attachEvent("onload",he.ready);var t=!1;try{t=null==i.frameElement&&Q.documentElement}catch(e){}t&&t.doScroll&&!function e(){if(!he.isReady){try{t.doScroll("left")}catch(t){return setTimeout(e,50)}he.ready()}}()}return J.promise(e)},he.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){ne["[object "+t+"]"]=t.toLowerCase()}),X=he(Q);var ke={};he.Callbacks=function(e){e="string"==typeof e?ke[e]||l(e):he.extend({},e);var t,n,r,o,i,s,u=[],c=!e.once&&[],p=function(a){for(t=e.memory&&a,n=!0,s=o||0,o=0,i=u.length,r=!0;u&&s<i;s++)if(u[s].apply(a[0],a[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(c?c.length&&p(c.shift()):t?u=[]:h.disable())},h={add:function(){if(u){var n=u.length;!function t(n){he.each(n,function(n,r){var o=he.type(r);"function"===o?e.unique&&h.has(r)||u.push(r):r&&r.length&&"string"!==o&&t(r)})}(arguments),r?i=u.length:t&&(o=n,p(t))}return this},remove:function(){return u&&he.each(arguments,function(e,t){for(var n;(n=he.inArray(t,u,n))>-1;)u.splice(n,1),r&&(n<=i&&i--,n<=s&&s--)}),this},has:function(e){return he.inArray(e,u)>-1},empty:function(){return u=[],
this},disable:function(){return u=c=t=a,this},disabled:function(){return!u},lock:function(){return c=a,t||h.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||n&&!c||(r?c.push(t):p(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},he.extend({Deferred:function(e){var t=[["resolve","done",he.Callbacks("once memory"),"resolved"],["reject","fail",he.Callbacks("once memory"),"rejected"],["notify","progress",he.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return he.Deferred(function(n){he.each(t,function(t,i){var a=i[0],s=he.isFunction(e[t])&&e[t];o[i[1]](function(){var e=s&&s.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?he.extend(e,r):r}},o={};return r.pipe=r.then,he.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=se.call(arguments),a=i.length,s=1!==a||e&&he.isFunction(e.promise)?a:0,l=1===s?e:he.Deferred(),u=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?se.call(arguments):o,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);o<a;o++)i[o]&&he.isFunction(i[o].promise)?i[o].promise().done(u(o,r,i)).fail(l.reject).progress(u(o,n,t)):--s;return s||l.resolveWith(r,i),l.promise()}}),he.support=function(){var e,t,n,r,o,a,s,l,u,c,p=Q.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=p.getElementsByTagName("*"),n=p.getElementsByTagName("a")[0],!t||!n||!t.length)return{};r=Q.createElement("select"),o=r.appendChild(Q.createElement("option")),a=p.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e={getSetAttribute:"t"!==p.className,leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!a.value,optSelected:o.selected,enctype:!!Q.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==Q.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===Q.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,e.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!o.disabled;try{delete p.test}catch(t){e.deleteExpando=!1}a=Q.createElement("input"),a.setAttribute("value",""),e.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),e.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),s=Q.createDocumentFragment(),s.appendChild(a),e.appendChecked=a.checked,e.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){e.noCloneEvent=!1}),p.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+c,"t"),e[c+"Bubbles"]=l in i||p.attributes[l].expando===!1;return p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===p.style.backgroundClip,he(function(){var t,n,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=Q.getElementsByTagName("body")[0];a&&(t=Q.createElement("div"),t.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(t).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=p.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=u&&0===r[0].offsetHeight,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===p.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,i.getComputedStyle&&(e.pixelPosition="1%"!==(i.getComputedStyle(p,null)||{}).top,e.boxSizingReliable="4px"===(i.getComputedStyle(p,null)||{width:"4px"}).width,n=p.appendChild(Q.createElement("div")),n.style.cssText=p.style.cssText=o,n.style.marginRight=n.style.width="0",p.style.width="1px",e.reliableMarginRight=!parseFloat((i.getComputedStyle(n,null)||{}).marginRight)),"undefined"!=typeof p.style.zoom&&(p.innerHTML="",p.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===p.offsetWidth,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==p.offsetWidth,a.style.zoom=1),a.removeChild(t),t=p=r=n=null)}),t=r=s=o=n=a=null,e}();var Pe=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,_e=/([A-Z])/g;he.extend({cache:{},expando:"jQuery"+(oe+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?he.cache[e[he.expando]]:e[he.expando],!!e&&!h(e)},data:function(e,t,n){return u(e,t,n,!1)},removeData:function(e,t){return c(e,t,!1)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return c(e,t,!0)},acceptData:function(e){var t=e.nodeName&&he.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),he.fn.extend({data:function(e,t){var n,r,o=this[0],i=0,s=null;if(e===a){if(this.length&&(s=he.data(o),1===o.nodeType&&!he._data(o,"parsedAttrs"))){for(n=o.attributes;i<n.length;i++)r=n[i].name,r.indexOf("data-")||(r=he.camelCase(r.substring(5)),p(o,r,s[r]));he._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){he.data(this,e)}):he.access(this,function(t){return t===a?o?p(o,e,he.data(o,e)):null:void this.each(function(){he.data(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){he.removeData(this,e)})}}),he.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=he._data(e,t),n&&(!r||he.isArray(n)?r=he._data(e,t,he.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),r=n.length,o=n.shift(),i=he._queueHooks(e,t),a=function(){he.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),i.cur=o,o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return he._data(e,n)||he._data(e,n,{empty:he.Callbacks("once memory").add(function(){he._removeData(e,t+"queue"),he._removeData(e,n)})})}}),he.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?he.queue(this[0],e):t===a?this:this.each(function(){var n=he.queue(this,e,t);he._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&he.dequeue(this,e)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},delay:function(e,t){return e=he.fx?he.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=he.Deferred(),i=this,s=this.length,l=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=a),e=e||"fx";s--;)n=he._data(i[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(l));return l(),o.promise(t)}});var Me,Ne,Oe=/[\t\r\n]/g,Ae=/\r/g,Ie=/^(?:input|select|textarea|button|object)$/i,Re=/^(?:a|area)$/i,De=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Le=/^(?:checked|selected)$/i,Fe=he.support.getSetAttribute,Be=he.support.input;he.fn.extend({attr:function(e,t){return he.access(this,he.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})},prop:function(e,t){return he.access(this,he.prop,e,t,arguments.length>1)},removeProp:function(e){return e=he.propFix[e]||e,this.each(function(){try{this[e]=a,delete this[e]}catch(e){}})},addClass:function(e){var t,n,r,o,i,a=0,s=this.length,l="string"==typeof e&&e;if(he.isFunction(e))return this.each(function(t){he(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(fe)||[];a<s;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Oe," "):" ")){for(i=0;o=t[i++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");n.className=he.trim(r)}return this},removeClass:function(e){var t,n,r,o,i,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(he.isFunction(e))return this.each(function(t){he(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(fe)||[];a<s;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Oe," "):"")){for(i=0;o=t[i++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");n.className=e?he.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return he.isFunction(e)?this.each(function(n){he(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var o,i=0,a=he(this),s=t,l=e.match(fe)||[];o=l[i++];)s=r?s:!a.hasClass(o),a[s?"addClass":"removeClass"](o);else"undefined"!==n&&"boolean"!==n||(this.className&&he._data(this,"__className__",this.className),this.className=this.className||e===!1?"":he._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Oe," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=he.isFunction(e),this.each(function(n){var o,i=he(this);1===this.nodeType&&(o=r?e.call(this,n,i.val()):e,null==o?o="":"number"==typeof o?o+="":he.isArray(o)&&(o=he.map(o,function(e){return null==e?"":e+""})),t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,o,"value")!==a||(this.value=o))});if(o)return t=he.valHooks[o.type]||he.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(o,"value"))!==a?n:(n=o.value,"string"==typeof n?n.replace(Ae,""):null==n?"":n)}}}),he.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||o<0,a=i?null:[],s=i?o+1:r.length,l=o<0?s:i?o:0;l<s;l++)if(n=r[l],(n.selected||l===o)&&(he.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!he.nodeName(n.parentNode,"optgroup"))){if(t=he(n).val(),i)return t;a.push(t)}return a},set:function(e,t){var n=he.makeArray(t);return he(e).find("option").each(function(){this.selected=he.inArray(he(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,t,n){var r,o,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return"undefined"==typeof e.getAttribute?he.prop(e,t,n):(i=1!==s||!he.isXMLDoc(e),i&&(t=t.toLowerCase(),o=he.attrHooks[t]||(De.test(t)?Ne:Me)),n===a?o&&i&&"get"in o&&null!==(r=o.get(e,t))?r:("undefined"!=typeof e.getAttribute&&(r=e.getAttribute(t)),null==r?a:r):null!==n?o&&i&&"set"in o&&(r=o.set(e,n,t))!==a?r:(e.setAttribute(t,n+""),n):void he.removeAttr(e,t))},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(fe);if(i&&1===e.nodeType)for(;n=i[o++];)r=he.propFix[n]||n,De.test(n)?!Fe&&Le.test(n)?e[he.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:he.attr(e,n,""),e.removeAttribute(Fe?n:r)},attrHooks:{type:{set:function(e,t){if(!he.support.radioValue&&"radio"===t&&he.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,n){var r,o,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return i=1!==s||!he.isXMLDoc(e),i&&(t=he.propFix[t]||t,o=he.propHooks[t]),n!==a?o&&"set"in o&&(r=o.set(e,n,t))!==a?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):Ie.test(e.nodeName)||Re.test(e.nodeName)&&e.href?0:a}}}}),Ne={get:function(e,t){var n=he.prop(e,t),r="boolean"==typeof n&&e.getAttribute(t),o="boolean"==typeof n?Be&&Fe?null!=r:Le.test(t)?e[he.camelCase("default-"+t)]:!!r:e.getAttributeNode(t);return o&&o.value!==!1?t.toLowerCase():a},set:function(e,t,n){return t===!1?he.removeAttr(e,n):Be&&Fe||!Le.test(n)?e.setAttribute(!Fe&&he.propFix[n]||n,n):e[he.camelCase("default-"+n)]=e[n]=!0,n}},Be&&Fe||(he.attrHooks.value={get:function(e,t){var n=e.getAttributeNode(t);return he.nodeName(e,"input")?e.defaultValue:n&&n.specified?n.value:a},set:function(e,t,n){return he.nodeName(e,"input")?void(e.defaultValue=t):Me&&Me.set(e,t,n)}}),Fe||(Me=he.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&("id"===t||"name"===t||"coords"===t?""!==n.value:n.specified)?n.value:a},set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:a}},he.attrHooks.contenteditable={get:Me.get,set:function(e,t,n){Me.set(e,""!==t&&t,n)}},he.each(["width","height"],function(e,t){he.attrHooks[t]=he.extend(he.attrHooks[t],{set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}})})),he.support.hrefNormalized||(he.each(["href","src","width","height"],function(e,t){he.attrHooks[t]=he.extend(he.attrHooks[t],{get:function(e){var n=e.getAttribute(t,2);return null==n?a:n}})}),he.each(["href","src"],function(e,t){he.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),he.support.style||(he.attrHooks.style={get:function(e){return e.style.cssText||a},set:function(e,t){return e.style.cssText=t+""}}),he.support.optSelected||(he.propHooks.selected=he.extend(he.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),he.support.enctype||(he.propFix.enctype="encoding"),he.support.checkOn||he.each(["radio","checkbox"],function(){he.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]=he.extend(he.valHooks[this],{set:function(e,t){if(he.isArray(t))return e.checked=he.inArray(he(e).val(),t)>=0}})});var je=/^(?:input|select|textarea)$/i,qe=/^key/,ze=/^(?:mouse|contextmenu)|click/,Ue=/^(?:focusinfocus|focusoutblur)$/,We=/^([^.]*)(?:\.(.+)|)$/;he.event={global:{},add:function(e,t,n,r,o){var i,s,l,u,c,p,h,d,f,m,g,v=3!==e.nodeType&&8!==e.nodeType&&he._data(e);if(v){for(n.handler&&(i=n,n=i.handler,o=i.selector),n.guid||(n.guid=he.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(e){return"undefined"==typeof he||e&&he.event.triggered===e.type?a:he.event.dispatch.apply(s.elem,arguments)},s.elem=e),t=(t||"").match(fe)||[""],c=t.length;c--;)l=We.exec(t[c])||[],f=g=l[1],m=(l[2]||"").split(".").sort(),h=he.event.special[f]||{},f=(o?h.delegateType:h.bindType)||f,h=he.event.special[f]||{},p=he.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&he.expr.match.needsContext.test(o),namespace:m.join(".")},i),(d=u[f])||(d=u[f]=[],d.delegateCount=0,h.setup&&h.setup.call(e,r,m,s)!==!1||(e.addEventListener?e.addEventListener(f,s,!1):e.attachEvent&&e.attachEvent("on"+f,s))),h.add&&(h.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),he.event.global[f]=!0;e=null}},remove:function(e,t,n,r,o){var i,a,s,l,u,c,p,h,d,f,m,g=he.hasData(e)&&he._data(e);if(g&&(l=g.events)){for(t=(t||"").match(fe)||[""],u=t.length;u--;)if(s=We.exec(t[u])||[],d=m=s[1],f=(s[2]||"").split(".").sort(),d){for(p=he.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,h=l[d]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=h.length;i--;)c=h[i],!o&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(i,1),c.selector&&h.delegateCount--,p.remove&&p.remove.call(e,c));a&&!h.length&&(p.teardown&&p.teardown.call(e,f,g.handle)!==!1||he.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)he.event.remove(e,d+t[u],n,r,!0);he.isEmptyObject(l)&&(delete g.handle,he._removeData(e,"events"))}},trigger:function(e,t,n,r){var o,s,l,u,c,p,h,d=[n||Q],f=e.type||e,m=e.namespace?e.namespace.split("."):[];if(s=l=n=n||Q,3!==n.nodeType&&8!==n.nodeType&&!Ue.test(f+he.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),c=f.indexOf(":")<0&&"on"+f,e=e[he.expando]?e:new he.Event(f,"object"==typeof e&&e),e.isTrigger=!0,e.namespace=m.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=a,e.target||(e.target=n),t=null==t?[e]:he.makeArray(t,[e]),h=he.event.special[f]||{},r||!h.trigger||h.trigger.apply(n,t)!==!1)){if(!r&&!h.noBubble&&!he.isWindow(n)){for(u=h.delegateType||f,Ue.test(u+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),l=s;l===(n.ownerDocument||Q)&&d.push(l.defaultView||l.parentWindow||i)}for(o=0;(s=d[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||f,p=(he._data(s,"events")||{})[e.type]&&he._data(s,"handle"),p&&p.apply(s,t),p=c&&s[c],p&&he.acceptData(s)&&p.apply&&p.apply(s,t)===!1&&e.preventDefault();if(e.type=f,!r&&!e.isDefaultPrevented()&&(!h._default||h._default.apply(n.ownerDocument,t)===!1)&&("click"!==f||!he.nodeName(n,"a"))&&he.acceptData(n)&&c&&n[f]&&!he.isWindow(n)){l=n[c],l&&(n[c]=null),he.event.triggered=f;try{n[f]()}catch(e){}he.event.triggered=a,l&&(n[c]=l)}return e.result}},dispatch:function(e){e=he.event.fix(e);var t,n,r,o,i,s=[],l=se.call(arguments),u=(he._data(this,"events")||{})[e.type]||[],c=he.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=he.event.handlers.call(this,e,u),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,r=((he.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==a&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;n<l;n++)i=t[n],o=i.selector+" ",r[o]===a&&(r[o]=i.needsContext?he(o,this).index(u)>=0:he.find(o,this,null,[u]).length),r[o]&&r.push(i);r.length&&s.push({elem:u,handlers:r})}return l<t.length&&s.push({elem:this,handlers:t.slice(l)}),s},fix:function(e){if(e[he.expando])return e;var t,n,r=e,o=he.event.fixHooks[e.type]||{},i=o.props?this.props.concat(o.props):this.props;for(e=new he.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||Q),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Q,r=n.documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||i===a||(e.which=1&i?1:2&i?3:4&i?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){if(he.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==Q.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===Q.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==a&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var o=he.extend(new he.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?he.event.trigger(o,null,t):he.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},he.removeEvent=Q.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},he.Event=function(e,t){return this instanceof he.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?d:f):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),void(this[he.expando]=!0)):new he.Event(e,t)},he.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=d,this.stopPropagation()}},he.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||he.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),he.support.submitBubbles||(he.event.special.submit={setup:function(){return!he.nodeName(this,"form")&&void he.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=he.nodeName(t,"input")||he.nodeName(t,"button")?t.form:a;n&&!he._data(n,"submitBubbles")&&(he.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),he._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&he.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!he.nodeName(this,"form")&&void he.event.remove(this,"._submit")}}),he.support.changeBubbles||(he.event.special.change={setup:function(){return je.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(he.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),he.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),he.event.simulate("change",this,e,!0)})),!1):void he.event.add(this,"beforeactivate._change",function(e){var t=e.target;je.test(t.nodeName)&&!he._data(t,"changeBubbles")&&(he.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||he.event.simulate("change",this.parentNode,e,!0)}),he._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return he.event.remove(this,"._change"),!je.test(this.nodeName)}}),he.support.focusinBubbles||he.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){he.event.simulate(t,e.target,he.event.fix(e),!0)};he.event.special[t]={setup:function(){0===n++&&Q.addEventListener(e,r,!0)},teardown:function(){0===--n&&Q.removeEventListener(e,r,!0)}}}),he.fn.extend({on:function(e,t,n,r,o){var i,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=a);for(s in e)this.on(s,t,n,e[s],o);return this}if(null==n&&null==r?(r=t,n=t=a):null==r&&("string"==typeof t?(r=n,n=a):(r=n,n=t,t=a)),r===!1)r=f;else if(!r)return this;return 1===o&&(i=r,r=function(e){return he().off(e),i.apply(this,arguments)},r.guid=i.guid||(i.guid=he.guid++)),this.each(function(){he.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,he(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=a),n===!1&&(n=f),this.each(function(){he.event.remove(this,e,n,t)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return he.event.trigger(e,t,n,!0)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),he.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){he.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)},qe.test(t)&&(he.event.fixHooks[t]=he.event.keyHooks),ze.test(t)&&(he.event.fixHooks[t]=he.event.mouseHooks)}),function(e,t){function n(e){return fe.test(e+"")}function r(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>C.cacheLength&&delete e[t.shift()],e[n]=r}}function o(e){return e[j]=!0,e}function i(e){var t=O.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}}function a(e,t,n,r){var o,i,a,s,l,u,c,d,f,m;if((t?t.ownerDocument||t:q)!==O&&N(t),t=t||O,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!I&&!r){if(o=me.exec(e))if(a=o[1]){if(9===s){if(i=t.getElementById(a),!i||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&F(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return J.apply(n,Q.call(t.getElementsByTagName(e),0)),n;if((a=o[3])&&z.getByClassName&&t.getElementsByClassName)return J.apply(n,Q.call(t.getElementsByClassName(a),0)),n}if(z.qsa&&!R.test(e)){if(c=!0,d=j,f=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=p(e),(c=t.getAttribute("id"))?d=c.replace(ye,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+h(u[l]);f=de.test(e)&&t.parentNode||t,m=u.join(",")}if(m)try{return J.apply(n,Q.call(f.querySelectorAll(m),0)),n}catch(e){}finally{c||t.removeAttribute("id")}}}return x(e.replace(ae,"$1"),t,n,r)}function s(e,t){for(var n=e&&t&&e.nextSibling;n;n=n.nextSibling)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return o(function(t){return t=+t,o(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function p(e,t){var n,r,o,i,s,l,u,c=V[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=C.preFilter;s;){n&&!(r=se.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=le.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(ae," ")}),s=s.slice(n.length));for(i in C.filter)!(r=pe[i].exec(s))||u[i]&&!(r=u[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?a.error(e):V(e,l).slice(0)}function h(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,o=n&&"parentNode"===t.dir,i=W++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,l,u,c=U+" "+i;if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(u=t[j]||(t[j]={}),(l=u[r])&&l[0]===c){if((s=l[1])===!0||s===T)return s===!0}else if(l=u[r]=[c],l[1]=e(t,n,a)||T,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function m(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function g(e,t,n,r,i,a){return r&&!r[j]&&(r=g(r)),i&&!i[j]&&(i=g(i,a)),o(function(o,a,s,l){var u,c,p,h=[],d=[],f=a.length,g=o||b(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?g:m(g,h,e,s,l),y=n?i||(o?e:f||r)?[]:a:v;if(n&&n(v,y,s,l),r)for(u=m(y,d),r(u,[],s,l),c=u.length;c--;)(p=u[c])&&(y[d[c]]=!(v[d[c]]=p));if(o){if(i||e){if(i){for(u=[],c=y.length;c--;)(p=y[c])&&u.push(v[c]=p);i(null,y=[],u,l)}for(c=y.length;c--;)(p=y[c])&&(u=i?Z.call(o,p):h[c])>-1&&(o[u]=!(a[u]=p))}}else y=m(y===a?y.splice(f,y.length):y),i?i(null,a,y,l):J.apply(a,y)})}function v(e){for(var t,n,r,o=e.length,i=C.relative[e[0].type],a=i||C.relative[" "],s=i?1:0,l=d(function(e){return e===t},a,!0),u=d(function(e){return Z.call(t,e)>-1},a,!0),c=[function(e,n,r){return!i&&(r||n!==M)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];s<o;s++)if(n=C.relative[e[s].type])c=[d(f(c),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[j]){for(r=++s;r<o&&!C.relative[e[r].type];r++);return g(s>1&&f(c),s>1&&h(e.slice(0,s-1)).replace(ae,"$1"),n,s<r&&v(e.slice(s,r)),r<o&&v(e=e.slice(r)),r<o&&h(e))}c.push(n)}return f(c)}function y(e,t){var n=0,r=t.length>0,i=e.length>0,s=function(o,s,l,u,c){var p,h,d,f=[],g=0,v="0",y=o&&[],b=null!=c,x=M,E=o||i&&C.find.TAG("*",c&&s.parentNode||s),w=U+=null==x?1:Math.E;for(b&&(M=s!==O&&s,T=n);null!=(p=E[v]);v++){if(i&&p){for(h=0;d=e[h];h++)if(d(p,s,l)){u.push(p);break}b&&(U=w,T=++n)}r&&((p=!d&&p)&&g--,o&&y.push(p))}if(g+=v,r&&v!==g){for(h=0;d=t[h];h++)d(y,f,s,l);if(o){if(g>0)for(;v--;)y[v]||f[v]||(f[v]=X.call(u));f=m(f)}J.apply(u,f),b&&!o&&f.length>0&&g+t.length>1&&a.uniqueSort(u)}return b&&(U=w,M=x),y};return r?o(s):s}function b(e,t,n){for(var r=0,o=t.length;r<o;r++)a(e,t[r],n);return n}function x(e,t,n,r){var o,i,a,s,l,u=p(e);if(!r&&1===u.length){if(i=u[0]=u[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&9===t.nodeType&&!I&&C.relative[i[1].type]){if(t=C.find.ID(a.matches[0].replace(xe,Ee),t)[0],!t)return n;e=e.slice(i.shift().value.length)}for(o=pe.needsContext.test(e)?-1:i.length-1;o>=0&&(a=i[o],!C.relative[s=a.type]);o--)if((l=C.find[s])&&(r=l(a.matches[0].replace(xe,Ee),de.test(i[0].type)&&t.parentNode||t))){if(i.splice(o,1),e=r.length&&h(i),!e)return J.apply(n,Q.call(r,0)),n;break}}return P(e,u)(r,t,I,n,de.test(e)),n}function E(){}var w,T,C,S,k,P,_,M,N,O,A,I,R,D,L,F,B,j="sizzle"+-new Date,q=e.document,z={},U=0,W=0,H=r(),V=r(),K=r(),G=typeof t,$=1<<31,Y=[],X=Y.pop,J=Y.push,Q=Y.slice,Z=Y.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne=te.replace("w","w#"),re="([*^$|!~]?=)",oe="\\["+ee+"*("+te+")"+ee+"*(?:"+re+ee+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ne+")|)|)"+ee+"*\\]",ie=":("+te+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+oe.replace(3,8)+")*)|.*)\\)|)",ae=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),le=new RegExp("^"+ee+"*([\\x20\\t\\r\\n\\f>+~])"+ee+"*"),ue=new RegExp(ie),ce=new RegExp("^"+ne+"$"),pe={
ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),NAME:new RegExp("^\\[name=['\"]?("+te+")['\"]?\\]"),TAG:new RegExp("^("+te.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},de=/[\x20\t\r\n\f]*[+~]/,fe=/\{\s*\[native code\]\s*\}/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,ye=/'|\\/g,be=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,xe=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Ee=function(e,t){var n="0x"+t-65536;return n!==n?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Q.call(A.childNodes,0)[0].nodeType}catch(e){Q=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}k=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},N=a.setDocument=function(e){var r=e?e.ownerDocument||e:q;return r!==O&&9===r.nodeType&&r.documentElement?(O=r,A=r.documentElement,I=k(r),z.tagNameNoComments=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),z.attributes=i(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),z.getByClassName=i(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),z.getByName=i(function(e){e.id=j+0,e.innerHTML="<a name='"+j+"'></a><div name='"+j+"'></div>",A.insertBefore(e,A.firstChild);var t=r.getElementsByName&&r.getElementsByName(j).length===2+r.getElementsByName(j+0).length;return z.getIdNotName=!r.getElementById(j),A.removeChild(e),t}),C.attrHandle=i(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==G&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},z.getIdNotName?(C.find.ID=function(e,t){if(typeof t.getElementById!==G&&!I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(xe,Ee);return function(e){return e.getAttribute("id")===t}}):(C.find.ID=function(e,n){if(typeof n.getElementById!==G&&!I){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==G&&r.getAttributeNode("id").value===e?[r]:t:[]}},C.filter.ID=function(e){var t=e.replace(xe,Ee);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=z.tagNameNoComments?function(e,t){if(typeof t.getElementsByTagName!==G)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o];o++)1===n.nodeType&&r.push(n);return r}return i},C.find.NAME=z.getByName&&function(e,t){if(typeof t.getElementsByName!==G)return t.getElementsByName(name)},C.find.CLASS=z.getByClassName&&function(e,t){if(typeof t.getElementsByClassName!==G&&!I)return t.getElementsByClassName(e)},D=[],R=[":focus"],(z.qsa=n(r.querySelectorAll))&&(i(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||R.push("\\["+ee+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||R.push(":checked")}),i(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&R.push("[*^$]="+ee+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(z.matchesSelector=n(L=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&i(function(e){z.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),D.push("!=",ie)}),R=new RegExp(R.join("|")),D=new RegExp(D.join("|")),F=n(A.contains)||A.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},B=A.compareDocumentPosition?function(e,t){var n;return e===t?(_=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===r||F(q,e)?-1:t===r||F(q,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,o=0,i=e.parentNode,a=t.parentNode,l=[e],u=[t];if(e===t)return _=!0,0;if(e.sourceIndex&&t.sourceIndex)return(~t.sourceIndex||$)-(F(q,e)&&~e.sourceIndex||$);if(!i||!a)return e===r?-1:t===r?1:i?-1:a?1:0;if(i===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[o]===u[o];)o++;return o?s(l[o],u[o]):l[o]===q?-1:u[o]===q?1:0},_=!1,[0,0].sort(B),z.detectDuplicates=_,O):O},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==O&&N(e),t=t.replace(be,"='$1']"),z.matchesSelector&&!I&&(!D||!D.test(t))&&!R.test(t))try{var n=L.call(e,t);if(n||z.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return a(t,O,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==O&&N(e),F(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==O&&N(e),I||(t=t.toLowerCase()),(n=C.attrHandle[t])?n(e):I||z.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},a.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],r=1,o=0;if(_=!z.detectDuplicates,e.sort(B),_){for(;t=e[r];r++)t===e[r-1]&&(o=n.push(r));for(;o--;)e.splice(n[o],1)}return e},S=a.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r];r++)n+=S(t);return n},C=a.selectors={cacheLength:50,createPseudo:o,match:pe,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,Ee),e[3]=(e[4]||e[5]||"").replace(xe,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return pe.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ue.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(xe,Ee).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&H(e,function(e){return t.test(e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=a.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.substr(o.length-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.substr(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,h,d,f,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(i){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(c=g[j]||(g[j]={}),u=c[e]||[],d=u[0]===U&&u[1],h=u[0]===U&&u[2],p=d&&g.childNodes[d];p=++d&&p&&p[m]||(h=d=0)||f.pop();)if(1===p.nodeType&&++h&&p===t){c[e]=[U,d,h];break}}else if(y&&(u=(t[j]||(t[j]={}))[e])&&u[0]===U)h=u[1];else for(;(p=++d&&p&&p[m]||(h=d=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++h||(y&&((p[j]||(p[j]={}))[e]=[U,h]),p!==t)););return h-=o,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return r[j]?r(t):r.length>1?(n=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,n){for(var o,i=r(e,t),a=i.length;a--;)o=Z.call(e,i[a]),e[o]=!(n[o]=i[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:o(function(e){var t=[],n=[],r=P(e.replace(ae,"$1"));return r[j]?o(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),!n.pop()}}),has:o(function(e){return function(t){return a(e,t).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:o(function(e){return ce.test(e||"")||a.error("unsupported lang: "+e),e=e.replace(xe,Ee).toLowerCase(),function(t){var n;do if(n=I?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ve.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}};for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=l(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=u(w);P=a.compile=function(e,t){var n,r=[],o=[],i=K[e+" "];if(!i){for(t||(t=p(e)),n=t.length;n--;)i=v(t[n]),i[j]?r.push(i):o.push(i);i=K(e,y(o,r))}return i},C.pseudos.nth=C.pseudos.eq,C.filters=E.prototype=C.pseudos,C.setFilters=new E,N(),a.attr=he.attr,he.find=a,he.expr=a.selectors,he.expr[":"]=he.expr.pseudos,he.unique=a.uniqueSort,he.text=a.getText,he.isXMLDoc=a.isXML,he.contains=a.contains}(i);var He=/Until$/,Ve=/^(?:parents|prev(?:Until|All))/,Ke=/^.[^:#\[\.,]*$/,Ge=he.expr.match.needsContext,$e={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({find:function(e){var t,n,r;if("string"!=typeof e)return r=this,this.pushStack(he(e).filter(function(){for(t=0;t<r.length;t++)if(he.contains(r[t],this))return!0}));for(n=[],t=0;t<this.length;t++)he.find(e,this[t],n);return n=this.pushStack(he.unique(n)),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=he(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(he.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(g(this,e,!1))},filter:function(e){return this.pushStack(g(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Ge.test(e)?he(e,this.context).index(this[0])>=0:he.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=Ge.test(e)||"string"!=typeof e?he(e,t||this.context):0;r<o;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:he.find.matchesSelector(n,e)){i.push(n);break}n=n.parentNode}return this.pushStack(i.length>1?he.unique(i):i)},index:function(e){return e?"string"==typeof e?he.inArray(this[0],he(e)):he.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?he(e,t):he.makeArray(e&&e.nodeType?[e]:e),r=he.merge(this.get(),n);return this.pushStack(he.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.fn.andSelf=he.fn.addBack,he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return he.dir(e,"parentNode")},parentsUntil:function(e,t,n){return he.dir(e,"parentNode",n)},next:function(e){return m(e,"nextSibling")},prev:function(e){return m(e,"previousSibling")},nextAll:function(e){return he.dir(e,"nextSibling")},prevAll:function(e){return he.dir(e,"previousSibling")},nextUntil:function(e,t,n){return he.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return he.dir(e,"previousSibling",n)},siblings:function(e){return he.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return he.sibling(e.firstChild)},contents:function(e){return he.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:he.merge([],e.childNodes)}},function(e,t){he.fn[e]=function(n,r){var o=he.map(this,t,n);return He.test(e)||(r=n),r&&"string"==typeof r&&(o=he.filter(r,o)),o=this.length>1&&!$e[e]?he.unique(o):o,this.length>1&&Ve.test(e)&&(o=o.reverse()),this.pushStack(o)}}),he.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?he.find.matchesSelector(t[0],e)?[t[0]]:[]:he.find.matches(e,t)},dir:function(e,t,n){for(var r=[],o=e[t];o&&9!==o.nodeType&&(n===a||1!==o.nodeType||!he(o).is(n));)1===o.nodeType&&r.push(o),o=o[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ye="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Xe=/ jQuery\d+="(?:null|\d+)"/g,Je=new RegExp("<(?:"+Ye+")[\\s/>]","i"),Qe=/^\s+/,Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,et=/<([\w:]+)/,tt=/<tbody/i,nt=/<|&#?\w+;/,rt=/<(?:script|style|link)/i,ot=/^(?:checkbox|radio)$/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^$|\/(?:java|ecma)script/i,st=/^true\/(.*)/,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ut={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ct=v(Q),pt=ct.appendChild(Q.createElement("div"));ut.optgroup=ut.option,ut.tbody=ut.tfoot=ut.colgroup=ut.caption=ut.thead,ut.th=ut.td,he.fn.extend({text:function(e){return he.access(this,function(e){return e===a?he.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Q).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(he.isFunction(e))return this.each(function(t){he(this).wrapAll(e.call(this,t))});if(this[0]){var t=he(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return he.isFunction(e)?this.each(function(t){he(this).wrapInner(e.call(this,t))}):this.each(function(){var t=he(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=he.isFunction(e);return this.each(function(n){he(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){he.nodeName(this,"body")||he(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||he.filter(e,[n]).length>0)&&(t||1!==n.nodeType||he.cleanData(C(n)),n.parentNode&&(t&&he.contains(n.ownerDocument,n)&&E(C(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&he.cleanData(C(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&he.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return he.access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===a)return 1===t.nodeType?t.innerHTML.replace(Xe,""):a;if("string"==typeof e&&!rt.test(e)&&(he.support.htmlSerialize||!Je.test(e))&&(he.support.leadingWhitespace||!Qe.test(e))&&!ut[(et.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ze,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(he.cleanData(C(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=he.isFunction(e);return t||"string"==typeof e||(e=he(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;(n&&1===this.nodeType||11===this.nodeType)&&(he(this).remove(),t?t.parentNode.insertBefore(e,t):n.appendChild(e))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=ie.apply([],e);var r,o,i,s,l,u,c=0,p=this.length,h=this,d=p-1,f=e[0],m=he.isFunction(f);if(m||!(p<=1||"string"!=typeof f||he.support.checkClone)&&it.test(f))return this.each(function(r){var o=h.eq(r);m&&(e[0]=f.call(this,r,t?o.html():a)),o.domManip(e,t,n)});if(p&&(r=he.buildFragment(e,this[0].ownerDocument,!1,this),o=r.firstChild,1===r.childNodes.length&&(r=o),o)){for(t=t&&he.nodeName(o,"tr"),i=he.map(C(r,"script"),b),s=i.length;c<p;c++)l=r,c!==d&&(l=he.clone(l,!0,!0),s&&he.merge(i,C(l,"script"))),n.call(t&&he.nodeName(this[c],"table")?y(this[c],"tbody"):this[c],l,c);if(s)for(u=i[i.length-1].ownerDocument,he.map(i,x),c=0;c<s;c++)l=i[c],at.test(l.type||"")&&!he._data(l,"globalEval")&&he.contains(u,l)&&(l.src?he.ajax({url:l.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):he.globalEval((l.text||l.textContent||l.innerHTML||"").replace(lt,"")));r=o=null}return this}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){he.fn[e]=function(e){for(var n,r=0,o=[],i=he(e),a=i.length-1;r<=a;r++)n=r===a?this:this.clone(!0),he(i[r])[t](n),ae.apply(o,n.get());return this.pushStack(o)}}),he.extend({clone:function(e,t,n){var r,o,i,a,s,l=he.contains(e.ownerDocument,e);if(he.support.html5Clone||he.isXMLDoc(e)||!Je.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(pt.innerHTML=e.outerHTML,pt.removeChild(s=pt.firstChild)),!(he.support.noCloneEvent&&he.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(r=C(s),o=C(e),a=0;null!=(i=o[a]);++a)r[a]&&T(i,r[a]);if(t)if(n)for(o=o||C(e),r=r||C(s),a=0;null!=(i=o[a]);a++)w(i,r[a]);else w(e,s);return r=C(s,"script"),r.length>0&&E(r,!l&&C(e,"script")),r=o=i=null,s},buildFragment:function(e,t,n,r){for(var o,i,a,s,l,u,c,p=e.length,h=v(t),d=[],f=0;f<p;f++)if(i=e[f],i||0===i)if("object"===he.type(i))he.merge(d,i.nodeType?[i]:i);else if(nt.test(i)){for(s=s||h.appendChild(t.createElement("div")),a=(et.exec(i)||["",""])[1].toLowerCase(),l=ut[a]||ut._default,s.innerHTML=l[1]+i.replace(Ze,"<$1></$2>")+l[2],c=l[0];c--;)s=s.lastChild;if(!he.support.leadingWhitespace&&Qe.test(i)&&d.push(t.createTextNode(Qe.exec(i)[0])),!he.support.tbody)for(i="table"!==a||tt.test(i)?"<table>"!==l[1]||tt.test(i)?0:s:s.firstChild,c=i&&i.childNodes.length;c--;)he.nodeName(u=i.childNodes[c],"tbody")&&!u.childNodes.length&&i.removeChild(u);for(he.merge(d,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else d.push(t.createTextNode(i));for(s&&h.removeChild(s),he.support.appendChecked||he.grep(C(d,"input"),S),f=0;i=d[f++];)if((!r||he.inArray(i,r)===-1)&&(o=he.contains(i.ownerDocument,i),s=C(h.appendChild(i),"script"),o&&E(s),n))for(c=0;i=s[c++];)at.test(i.type||"")&&n.push(i);return s=null,h},cleanData:function(e,t){for(var n,r,o,i,a=0,s=he.expando,l=he.cache,u=he.support.deleteExpando,c=he.event.special;null!=(o=e[a]);a++)if((t||he.acceptData(o))&&(r=o[s],n=r&&l[r])){if(n.events)for(i in n.events)c[i]?he.event.remove(o,i):he.removeEvent(o,i,n.handle);l[r]&&(delete l[r],u?delete o[s]:"undefined"!=typeof o.removeAttribute?o.removeAttribute(s):o[s]=null,re.push(r))}}});var ht,dt,ft,mt=/alpha\([^)]*\)/i,gt=/opacity\s*=\s*([^)]*)/,vt=/^(top|right|bottom|left)$/,yt=/^(none|table(?!-c[ea]).+)/,bt=/^margin/,xt=new RegExp("^("+de+")(.*)$","i"),Et=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),wt=new RegExp("^([+-])=("+de+")","i"),Tt={BODY:"block"},Ct={position:"absolute",visibility:"hidden",display:"block"},St={letterSpacing:0,fontWeight:400},kt=["Top","Right","Bottom","Left"],Pt=["Webkit","O","Moz","ms"];he.fn.extend({css:function(e,t){return he.access(this,function(e,t,n){var r,o,i={},s=0;if(he.isArray(t)){for(r=dt(e),o=t.length;s<o;s++)i[t[s]]=he.css(e,t[s],!1,r);return i}return n!==a?he.style(e,t,n):he.css(e,t)},e,t,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:P(this))?he(this).show():he(this).hide()})}}),he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ht(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:he.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,s,l=he.camelCase(t),u=e.style;if(t=he.cssProps[l]||(he.cssProps[l]=k(u,l)),s=he.cssHooks[t]||he.cssHooks[l],n===a)return s&&"get"in s&&(o=s.get(e,!1,r))!==a?o:u[t];if(i=typeof n,"string"===i&&(o=wt.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(he.css(e,t)),i="number"),!(null==n||"number"===i&&isNaN(n)||("number"!==i||he.cssNumber[l]||(n+="px"),he.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&(n=s.set(e,n,r))===a)))try{u[t]=n}catch(e){}}},css:function(e,t,n,r){var o,i,s,l=he.camelCase(t);return t=he.cssProps[l]||(he.cssProps[l]=k(e.style,l)),s=he.cssHooks[t]||he.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,n)),o===a&&(o=ht(e,t,r)),"normal"===o&&t in St&&(o=St[t]),n?(i=parseFloat(o),n===!0||he.isNumeric(i)?i||0:o):o},swap:function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o}}),i.getComputedStyle?(dt=function(e){return i.getComputedStyle(e,null)},ht=function(e,t,n){var r,o,i,s=n||dt(e),l=s?s.getPropertyValue(t)||s[t]:a,u=e.style;return s&&(""!==l||he.contains(e.ownerDocument,e)||(l=he.style(e,t)),Et.test(l)&&bt.test(t)&&(r=u.width,o=u.minWidth,i=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=r,u.minWidth=o,u.maxWidth=i)),l}):Q.documentElement.currentStyle&&(dt=function(e){return e.currentStyle},ht=function(e,t,n){var r,o,i,s=n||dt(e),l=s?s[t]:a,u=e.style;return null==l&&u&&u[t]&&(l=u[t]),Et.test(l)&&!vt.test(t)&&(r=u.left,o=e.runtimeStyle,i=o&&o.left,i&&(o.left=e.currentStyle.left),u.left="fontSize"===t?"1em":l,l=u.pixelLeft+"px",u.left=r,i&&(o.left=i)),""===l?"auto":l}),he.each(["height","width"],function(e,t){he.cssHooks[t]={get:function(e,n,r){if(n)return 0===e.offsetWidth&&yt.test(he.css(e,"display"))?he.swap(e,Ct,function(){return O(e,t,r)}):O(e,t,r)},set:function(e,n,r){var o=r&&dt(e);return M(e,n,r?N(e,t,r,he.support.boxSizing&&"border-box"===he.css(e,"boxSizing",!1,o),o):0)}}}),he.support.opacity||(he.cssHooks.opacity={get:function(e,t){return gt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,o=he.isNumeric(t)?"alpha(opacity="+100*t+")":"",i=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===he.trim(i.replace(mt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=mt.test(i)?i.replace(mt,o):i+" "+o)}}),he(function(){he.support.reliableMarginRight||(he.cssHooks.marginRight={get:function(e,t){if(t)return he.swap(e,{display:"inline-block"},ht,[e,"marginRight"])}}),!he.support.pixelPosition&&he.fn.position&&he.each(["top","left"],function(e,t){he.cssHooks[t]={get:function(e,n){if(n)return n=ht(e,t),Et.test(n)?he(e).position()[t]+"px":n}}})}),he.expr&&he.expr.filters&&(he.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!he.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||he.css(e,"display"))},he.expr.filters.visible=function(e){return!he.expr.filters.hidden(e)}),he.each({margin:"",padding:"",border:"Width"},function(e,t){he.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+kt[r]+t]=i[r]||i[r-2]||i[0];return o}},bt.test(e)||(he.cssHooks[e+t].set=M)});var _t=/%20/g,Mt=/\[\]$/,Nt=/\r?\n/g,Ot=/^(?:submit|button|image|reset)$/i,At=/^(?:input|select|textarea|keygen)/i;he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&At.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!ot.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(Nt,"\r\n")}}):{name:t.name,value:n.replace(Nt,"\r\n")}}).get()}}),he.param=function(e,t){var n,r=[],o=function(e,t){t=he.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===a&&(t=he.ajaxSettings&&he.ajaxSettings.traditional),he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){o(this.name,this.value)});else for(n in e)R(n,e[n],t,o);return r.join("&").replace(_t,"+")};var It,Rt,Dt=he.now(),Lt=/\?/,Ft=/#.*$/,Bt=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,qt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,zt=/^(?:GET|HEAD)$/,Ut=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ht=he.fn.load,Vt={},Kt={},Gt="*/".concat("*");try{Rt=Z.href}catch(e){Rt=Q.createElement("a"),Rt.href="",Rt=Rt.href}It=Wt.exec(Rt.toLowerCase())||[],he.fn.load=function(e,t,n){if("string"!=typeof e&&Ht)return Ht.apply(this,arguments);var r,o,i,s=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),he.isFunction(t)?(n=t,t=a):t&&"object"==typeof t&&(o="POST"),s.length>0&&he.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,s.html(r?he("<div>").append(he.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,i||[e.responseText,t,e])}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.each(["get","post"],function(e,t){he[t]=function(e,n,r,o){return he.isFunction(n)&&(o=o||r,r=n,n=a),he.ajax({url:e,type:t,dataType:o,data:n,success:r})}}),he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rt,type:"GET",isLocal:qt.test(It[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":i.String,"text html":!0,"text json":he.parseJSON,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?F(F(e,he.ajaxSettings),t):F(he.ajaxSettings,e)},ajaxPrefilter:D(Vt),ajaxTransport:D(Kt),ajax:function(e,t){function n(e,t,n,s){var u,p,y,b,E,T=t;2!==x&&(x=2,l&&clearTimeout(l),r=a,i=s||"",w.readyState=e>0?4:0,n&&(b=B(h,w,n)),e>=200&&e<300||304===e?(h.ifModified&&(E=w.getResponseHeader("Last-Modified"),E&&(he.lastModified[o]=E),E=w.getResponseHeader("etag"),E&&(he.etag[o]=E)),304===e?(u=!0,T="notmodified"):(u=j(h,b),T=u.state,p=u.data,y=u.error,u=!y)):(y=T,!e&&T||(T="error",e<0&&(e=0))),w.status=e,w.statusText=(t||T)+"",u?m.resolveWith(d,[p,T,w]):m.rejectWith(d,[w,T,y]),w.statusCode(v),v=a,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[w,h,u?p:y]),g.fireWith(d,[w,T]),c&&(f.trigger("ajaxComplete",[w,h]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=a),t=t||{};var r,o,i,s,l,u,c,p,h=he.ajaxSetup({},t),d=h.context||h,f=h.context&&(d.nodeType||d.jquery)?he(d):he.event,m=he.Deferred(),g=he.Callbacks("once memory"),v=h.statusCode||{},y={},b={},x=0,E="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=jt.exec(i);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||E;return r&&r.abort(t),n(0,t),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,h.url=((e||h.url||Rt)+"").replace(Ft,"").replace(Ut,It[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=he.trim(h.dataType||"*").toLowerCase().match(fe)||[""],null==h.crossDomain&&(u=Wt.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===It[1]&&u[2]===It[2]&&(u[3]||("http:"===u[1]?80:443))==(It[3]||("http:"===It[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=he.param(h.data,h.traditional)),L(Vt,h,t,w),2===x)return w;c=h.global,c&&0===he.active++&&he.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!zt.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(Lt.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Bt.test(o)?o.replace(Bt,"$1_="+Dt++):o+(Lt.test(o)?"&":"?")+"_="+Dt++)),h.ifModified&&(he.lastModified[o]&&w.setRequestHeader("If-Modified-Since",he.lastModified[o]),he.etag[o]&&w.setRequestHeader("If-None-Match",he.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Gt+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)w.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(h.beforeSend.call(d,w,h)===!1||2===x))return w.abort();E="abort";for(p in{success:1,error:1,complete:1})w[p](h[p]);if(r=L(Kt,h,t,w)){w.readyState=1,c&&f.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},h.timeout));try{x=1,r.send(y,n)}catch(e){
if(!(x<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getScript:function(e,t){return he.get(e,a,t,"script")},getJSON:function(e,t,n){return he.get(e,t,n,"json")}}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){e.cache===a&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),he.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=Q.head||he("head")[0]||Q.documentElement;return{send:function(r,o){t=Q.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(a,!0)}}}});var $t=[],Yt=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||he.expando+"_"+Dt++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,s,l=e.jsonp!==!1&&(Yt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(l||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=he.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,l?e[l]=e[l].replace(Yt,"$1"+r):e.jsonp!==!1&&(e.url+=(Lt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||he.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){s=arguments},n.always(function(){i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,$t.push(r)),s&&he.isFunction(o)&&o(s[0]),s=o=a}),"script"});var Xt,Jt,Qt=0,Zt=i.ActiveXObject&&function(){var e;for(e in Xt)Xt[e](a,!0)};he.ajaxSettings.xhr=i.ActiveXObject?function(){return!this.isLocal&&q()||z()}:q,Jt=he.ajaxSettings.xhr(),he.support.cors=!!Jt&&"withCredentials"in Jt,Jt=he.support.ajax=!!Jt,Jt&&he.ajaxTransport(function(e){if(!e.crossDomain||he.support.cors){var t;return{send:function(n,r){var o,s,l=e.xhr();if(e.username?l.open(e.type,e.url,e.async,e.username,e.password):l.open(e.type,e.url,e.async),e.xhrFields)for(s in e.xhrFields)l[s]=e.xhrFields[s];e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(s in n)l.setRequestHeader(s,n[s])}catch(e){}l.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,c,p,h;try{if(t&&(i||4===l.readyState))if(t=a,o&&(l.onreadystatechange=he.noop,Zt&&delete Xt[o]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,h=l.responseXML,c=l.getAllResponseHeaders(),h&&h.documentElement&&(p.xml=h),"string"==typeof l.responseText&&(p.text=l.responseText);try{u=l.statusText}catch(e){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(e){i||r(-1,e)}p&&r(s,u,p,c)},e.async?4===l.readyState?setTimeout(t):(o=++Qt,Zt&&(Xt||(Xt={},he(i).unload(Zt)),Xt[o]=t),l.onreadystatechange=t):t()},abort:function(){t&&t(a,!0)}}}});var en,tn,nn=/^(?:toggle|show|hide)$/,rn=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),on=/queueHooks$/,an=[K],sn={"*":[function(e,t){var n,r,o=this.createTween(e,t),i=rn.exec(t),a=o.cur(),s=+a||0,l=1,u=20;if(i){if(n=+i[2],r=i[3]||(he.cssNumber[e]?"":"px"),"px"!==r&&s){s=he.css(o.elem,e,!0)||n||1;do l=l||".5",s/=l,he.style(o.elem,e,s+r);while(l!==(l=o.cur()/a)&&1!==l&&--u)}o.unit=r,o.start=s,o.end=i[1]?s+(i[1]+1)*n:n}return o}]};he.Animation=he.extend(H,{tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,o=e.length;r<o;r++)n=e[r],sn[n]=sn[n]||[],sn[n].unshift(t)},prefilter:function(e,t){t?an.unshift(e):an.push(e)}}),he.Tween=G,G.prototype={constructor:G,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(he.cssNumber[n]?"":"px")},cur:function(){var e=G.propHooks[this.prop];return e&&e.get?e.get(this):G.propHooks._default.get(this)},run:function(e){var t,n=G.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=he.css(e.elem,e.prop,"auto"),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[he.cssProps[e.prop]]||he.cssHooks[e.prop])?he.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.each(["toggle","show","hide"],function(e,t){var n=he.fn[t];he.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate($(t,!0),e,r,o)}}),he.fn.extend({fadeTo:function(e,t,n,r){return this.filter(P).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=he.isEmptyObject(e),i=he.speed(t,n,r),a=function(){var t=H(this,he.extend({},e),i);a.finish=function(){t.stop(!0)},(o||he._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||i.queue===!1?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=a),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=he.timers,a=he._data(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&on.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||he.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=he._data(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=he.timers,a=r?r.length:0;for(n.finish=!0,he.queue(this,e,[]),o&&o.cur&&o.cur.finish&&o.cur.finish.call(this),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),he.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){he.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),he.speed=function(e,t,n){var r=e&&"object"==typeof e?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return r.duration=he.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in he.fx.speeds?he.fx.speeds[r.duration]:he.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){he.isFunction(r.old)&&r.old.call(this),r.queue&&he.dequeue(this,r.queue)},r},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},he.timers=[],he.fx=G.prototype.init,he.fx.tick=function(){var e,t=he.timers,n=0;for(en=he.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||he.fx.stop(),en=a},he.fx.timer=function(e){e()&&he.timers.push(e)&&he.fx.start()},he.fx.interval=13,he.fx.start=function(){tn||(tn=setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){clearInterval(tn),tn=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fx.step={},he.expr&&he.expr.filters&&(he.expr.filters.animated=function(e){return he.grep(he.timers,function(t){return e===t.elem}).length}),he.fn.offset=function(e){if(arguments.length)return e===a?this:this.each(function(t){he.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},o=this[0],i=o&&o.ownerDocument;if(i)return t=i.documentElement,he.contains(t,o)?("undefined"!=typeof o.getBoundingClientRect&&(r=o.getBoundingClientRect()),n=Y(i),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},he.offset={setOffset:function(e,t,n){var r=he.css(e,"position");"static"===r&&(e.style.position="relative");var o,i,a=he(e),s=a.offset(),l=he.css(e,"top"),u=he.css(e,"left"),c=("absolute"===r||"fixed"===r)&&he.inArray("auto",[l,u])>-1,p={},h={};c?(h=a.position(),o=h.top,i=h.left):(o=parseFloat(l)||0,i=parseFloat(u)||0),he.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+o),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):a.css(p)}},he.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===he.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(n=e.offset()),n.top+=he.css(e[0],"borderTopWidth",!0),n.left+=he.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-he.css(r,"marginTop",!0),left:t.left-n.left-he.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Q.documentElement;e&&!he.nodeName(e,"html")&&"static"===he.css(e,"position");)e=e.offsetParent;return e||Q.documentElement})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);he.fn[e]=function(r){return he.access(this,function(e,r,o){var i=Y(e);return o===a?i?t in i?i[t]:i.document.documentElement[r]:e[r]:void(i?i.scrollTo(n?he(i).scrollLeft():o,n?o:he(i).scrollTop()):e[r]=o)},e,r,arguments.length,null)}}),he.each({Height:"height",Width:"width"},function(e,t){he.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){he.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||o===!0?"margin":"border");return he.access(this,function(t,n,r){var o;return he.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):r===a?he.css(t,n,s):he.style(t,n,r,s)},t,i?r:a,i,null)}})}),i.jQuery=i.$=he,n(63)&&n(63).jQuery&&(r=[],o=function(){return he}.apply(t,r),!(o!==a&&(e.exports=o)))}(window)},function(e,t,n){!function(){if("undefined"!=typeof React)var e=React.__internalAddons.createFragment;var t=function(e){return 1!=e},n={accents:t,af:t,ar:function(e){return 0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11&&e%100<=99?4:5},az:t,bg:t,bn:t,boxes:t,ca:t,cs:function(e){return 1==e?0:e>=2&&e<=4?1:2},da:t,de:t,el:t,empty:t,en:t,"en-pt":t,es:t,fa:function(e){return 0},"fa-af":function(e){return 0},fi:t,fr:function(e){return e>1},he:t,hi:t,hu:t,hy:t,id:function(e){return 0},it:t,ja:function(e){return 0},ko:function(e){return 0},lol:t,mn:t,ms:function(e){return 0},nb:t,nl:t,pl:function(e){return 1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},pt:t,"pt-pt":t,ro:function(e){return 1==e?0:0==e||e%100>0&&e%100<20?1:2},ru:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},"si-LK":t,sk:function(e){return 1==e?0:e>=2&&e<=4?1:2},sr:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},"sv-SE":t,sw:t,te:t,th:function(e){return 0},tr:function(e){return 0},uk:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},ur:t,vi:function(e){return 0},xh:t,"zh-hans":function(e){return 0},"zh-hant":function(e){return 0},zu:t},r=/%\(([\w_]+)\)s/g,o=function(t,n){n=n||{};for(var o=t.split(r),i={text_0:o[0]},a=1;a<o.length;a+=2){var s=o[a],l=n[s];void 0===l&&(l="%("+s+")s");for(var u=0;""+u+"_"+s in i;)u++;i[""+u+"_"+s]=l,i["text_"+(a+1)]=o[a+1]}return e(i)},i=function(e,t){return"object"==typeof e&&e.messages&&(e=e.messages[0]),t=t||{},e.replace(r,function(e,n){var r=t[n];return void 0===r?e:r})},a=function(e,t){return 2!==arguments.length||"string"!=typeof t?"<$_> must have exactly one child, which must be a string":o(t,e)},s=function(e,t){return t},l=function(e,t,n,r){var o,a;"object"==typeof e?(o=e.lang,a=e.messages,r=n,n=t):(o="en",a=[e,t]);var s=u(n,o),l="";return s<a.length&&(l=a[s]),r=r||{},r.num=r.num||n,i(l,r)},u=function(e,t){var r=n[t]||n.en,o=r(e);return o===!0?1:o?o:0},c=i;window.i18n={_:i,ngettext:l,i18nDoNotTranslate:c,ngetpos:u},window.$_=a,window.$i18nDoNotTranslate=s}()},function(e,t,n){"use strict";var r=n(55),o="block",i=["default"],a=!1,s="",l={},u={},c={register:function(e,t,n){l[e]=t,u[e]=n},registerMany:function(e){var t=this;e.forEach(function(e){var n=e[0],r=e[1];n&&t.register(n.name,n,r)}),this.validateAlignments()},getWidget:function(e){return r.has(l,e)?l[e].getWidget?l[e].getWidget():l[e].widget:null},getEditor:function(e){return r.has(u,e)?u[e]:null},getTransform:function(e){return r.has(l,e)?l[e].transform||r.identity:null},getVersion:function(e){var t=l[e];return t?l[e].version||{major:0,minor:0}:null},getVersionVector:function(){var e={};return r.each(r.keys(l),function(t){e[t]=c.getVersion(t)}),e},getPublicWidgets:function(){return r.pick(l,r.reject(r.keys(l),function(e){return l[e].hidden}))},isAccessible:function(e){var t=l[e.type].accessible;return"function"==typeof t?t(e.options):!!t},getAllWidgetTypes:function(){return r.keys(l)},upgradeWidgetInfoToLatestVersion:function(e){var t=e.type;if(!r.isString(t))throw new Error("widget type must be a string, but was: "+t);var n=l[t];if(null==n)return e;var o=e.version||{major:0,minor:0},i=n.version||{major:0,minor:0};if(o.major>i.major||o.major===i.major&&o.minor>i.minor)return e;var s=r.clone(e.options)||{},p=n.propUpgrades||{};if(0!==r.keys(s).length)for(var h=o.major+1;h<=i.major;h++)p[h]?s=p[h](s):"undefined"!=typeof console&&console.warn&&console.warn("No upgrade found for widget `"+t+"` from major version `"+(h-1)+"` to major version `"+h+"` found. This is necessary to render this `"+t+"` correctly.");var d=u[t].defaultProps;s=r.extend({},d,s);var f=e.alignment;null!=f&&"default"!==f||(f=c.getSupportedAlignments(t)[0]);var m=e.static;return null==m&&(m=a),r.extend({},e,{version:i,graded:null==e.graded||e.graded,alignment:f,static:m,options:s})},getRendererPropsForWidgetInfo:function(e,t){var n=e.type,o=l[n];if(null==o)return e.options;var i;return(i=e.static?this.getStaticTransform(n)||r.identity:o.transform||r.identity)(e.options,t)},traverseChildWidgets:function(e,t){if(!t)throw new Error("traverseRenderer must be provided, but was not");if(!e||!e.type||!l[e.type])return e;var n=l[e.type],o=e.options;if(n.traverseChildWidgets&&o){var i=n.traverseChildWidgets(o,t);return r.extend({},e,{options:i})}return e},getSupportedAlignments:function(e){var t=l[e];return t&&t.supportedAlignments||i},getDefaultAlignment:function(e){var t,n=l[e];return n?(t=n.getDefaultAlignment?n.getDefaultAlignment():n.defaultAlignment,t||o):o},validAlignments:["block","inline-block","inline","float-left","float-right","full-width"],validateAlignments:function(){r.each(l,function(e){if(e.defaultAlignment&&!r.contains(c.validAlignments,e.defaultAlignment))throw new Error("Widget '"+e.displayName+"' has an invalid defaultAlignment value: "+e.defaultAlignment);if(e.supportedAlignments){var t=r.difference(e.supportedAlignments,c.validAlignments);if(t.length)throw new Error("Widget '"+e.displayName+"' has an invalid value for supportedAlignments: "+t.join(" "))}})},supportsStaticMode:function(e){var t=l[e];return t&&null!=t.staticTransform},getStaticTransform:function(e){var t=l[e];return t&&t.staticTransform},getTracking:function(e){var t=l[e];return t&&t.tracking||s}};e.exports=c},function(e,t,n){"use strict";e.exports=[[n(64),n(65)],[n(66),n(67)],[n(68),n(69)],[n(70),n(71)]]},function(e,t,n){"use strict";var r=function(e){var t=e.skipMathJax,r=$.Deferred();void 0===e.loadExtraWidgets||e.loadExtraWidgets?!function(){var e=n(25);!function(t){var o=n(72);e.registerMany(o),r.resolve()}(n)}():r.resolve();var o=$.Deferred();return t?o.resolve():(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:"none","HTML-CSS":{availableFonts:["TeX"],imageFont:null,scale:100,showMathMenu:!1}}),MathJax.Hub.Configured(),MathJax.Hub.Queue(o.resolve)),r.then(function(){return o})};e.exports=r},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(58),a=n(99),s=n(11),l=n(10).Options,u=n(10).ClassNames,c=n(32),p=n(73),h=o.PropTypes.shape({content:o.PropTypes.string,widgets:o.PropTypes.object,images:o.PropTypes.object}),d=o.createClass({displayName:"ArticleRenderer",propTypes:{apiOptions:o.PropTypes.shape({onFocusChange:o.PropTypes.func,isMobile:o.PropTypes.bool}),json:o.PropTypes.oneOfType([h,o.PropTypes.arrayOf(h)]).isRequired,useNewStyles:o.PropTypes.bool},mixins:[p],getDefaultProps:function(){return{apiOptions:{},useNewStyles:!1}},componentDidMount:function(){this._currentFocus=null},shouldComponentUpdate:function(e,t){return e!==this.props||t!==this.state},_handleFocusChange:function(e,t){e?this._setCurrentFocus(e):this._onRendererBlur(t)},_setCurrentFocus:function(e){var t=this,n=this.keypadElement(),r=this._currentFocus;this._currentFocus=e;var o=!1;this._currentFocus&&!function(){var e=t._currentFocus,n=e[0],r=e.slice(1),i=t.refs[n].getInputPaths();o=i.some(function(e){return s.inputPathsEqual(e,r)})}(),null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,r,o&&n&&i.findDOMNode(n)),n&&(o?n.activate():n.dismiss())},_onRendererBlur:function(e){var t=this,n=this._currentFocus;s.inputPathsEqual(e,n)&&setTimeout(function(){s.inputPathsEqual(t._currentFocus,n)&&t._setCurrentFocus(null)})},blur:function(){if(this._currentFocus){var e=this._currentFocus,t=e[0],n=e.slice(1);this.refs[t].blurPath(n)}},_sections:function(){return Array.isArray(this.props.json)?this.props.json:[this.props.json]},render:function(){var e,t=this,n=r({},l.defaults,this.props.apiOptions,{isArticle:!0}),i=a((e={"framework-perseus":!0,"perseus-article":!0,"bibliotron-article":this.props.useNewStyles},e[u.MOBILE]=n.isMobile,e)),s=this._sections().map(function(e,i){var a="section-"+i;return o.createElement("div",{key:i,className:"clearfix"},o.createElement(c,r({},e,{ref:a,key:i,key_:i,keypadElement:t.keypadElement(),apiOptions:r({},n,{onFocusChange:function(e,n){t._handleFocusChange(e&&[a].concat(e),n&&[a].concat(n))}})})))});return o.createElement("div",{className:i},s)}});e.exports=d},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(58),a=n(55),s=n(10).Options,l=n(31),u=n(32),c=n(73),p=n(11),h=n(74),d=h.mapObject,f=o.PropTypes,m=o.createClass({displayName:"ItemRenderer",propTypes:{apiOptions:f.shape({interactionCallback:f.func,onFocusChange:f.func,setDrawingAreaAvailable:f.func}),controlPeripherals:f.bool,hintsAreaSelector:f.string,initialHintsVisible:f.number,item:f.shape({answerArea:f.shape({calculator:f.bool,chi2Table:f.bool,periodicTable:f.bool,tTable:f.bool,zTable:f.bool}),hints:f.arrayOf(f.object),question:f.object}).isRequired,onShowCalculator:f.func,onShowChi2Table:f.func,onShowPeriodicTable:f.func,onShowTTable:f.func,onShowZTable:f.func,problemNum:f.number,savedState:f.any,workAreaSelector:f.string},mixins:[c],getDefaultProps:function(){return{apiOptions:{},controlPeripherals:!0,hintsAreaSelector:"#hintsarea",initialHintsVisible:0,workAreaSelector:"#workarea"}},getInitialState:function(){return{hintsVisible:this.props.initialHintsVisible,questionCompleted:!1,questionHighlightedWidgets:[]}},componentDidMount:function(){this.props.controlPeripherals&&this.props.apiOptions.setDrawingAreaAvailable&&this.props.apiOptions.setDrawingAreaAvailable(!0),this._currentFocus=null,this.update()},componentWillReceiveProps:function(e){this.setState({questionHighlightedWidgets:[]})},componentDidUpdate:function(){this.update()},componentWillUnmount:function(){if(i.unmountComponentAtNode(document.querySelector(this.props.workAreaSelector)),i.unmountComponentAtNode(document.querySelector(this.props.hintsAreaSelector)),this.props.controlPeripherals){var e=this.props.item.answerArea||{};e.calculator&&$("#calculator").hide(),e.periodicTable&&$(".periodic-table-info-box").hide(),e.zTable&&$(".z-table-info-box").hide(),e.tTable&&$(".t-table-info-box").hide(),e.chi2Table&&$(".chi2-table-info-box").hide()}},update:function(){var e=r({},s.defaults,this.props.apiOptions,{onFocusChange:this._handleFocusChange});this.questionRenderer=i.render(o.createElement(u,r({keypadElement:this.keypadElement(),problemNum:this.props.problemNum,onInteractWithWidget:this.handleInteractWithWidget,highlightedWidgets:this.state.questionHighlightedWidgets,apiOptions:e,questionCompleted:this.state.questionCompleted,savedState:this.props.savedState},this.props.item.question)),document.querySelector(this.props.workAreaSelector)),this.hintsRenderer=i.render(o.createElement(l,{hints:this.props.item.hints,hintsVisible:this.state.hintsVisible,apiOptions:e}),document.querySelector(this.props.hintsAreaSelector));var t=this.props.item.answerArea||{};if(this.props.controlPeripherals?($("#calculator").toggle(t.calculator||!1),$(".periodic-table-info-box").toggle(t.periodicTable||!1),$(".z-table-info-box").toggle(t.zTable||!1),$(".t-table-info-box").toggle(t.tTable||!1),$(".chi2-table-info-box").toggle(t.chi2Table||!1)):(t.calculator&&this.props.onShowCalculator&&this.props.onShowCalculator(),t.periodicTable&&this.props.onShowPeriodicTable&&this.props.onShowPeriodicTable(),t.zTable&&this.props.onShowZTable&&this.props.onShowZTable(),t.tTable&&this.props.onShowTTable&&this.props.onShowTTable(),t.chi2Table&&this.props.onShowChi2Table&&this.props.onShowChi2Table()),e.answerableCallback){var n=0===this.questionRenderer.emptyWidgets().length;e.answerableCallback(n)}},_handleFocusChange:function(e,t){null!=e?this._setCurrentFocus(e):this._onRendererBlur(t)},_setCurrentFocus:function(e){var t=this,n=this.keypadElement(),r=this._currentFocus;this._currentFocus=e;var o=this.getInputPaths(),a=this._currentFocus&&o.some(function(e){return p.inputPathsEqual(e,t._currentFocus)});null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,r,a&&n&&i.findDOMNode(n)),n&&(a?n.activate():n.dismiss())},_onRendererBlur:function(e){var t=this,n=this._currentFocus;p.inputPathsEqual(e,n)&&setTimeout(function(){p.inputPathsEqual(t._currentFocus,n)&&t._setCurrentFocus(null)})},_setWidgetProps:function(e,t,n){this.questionRenderer._setWidgetProps(e,t,n)},_handleAPICall:function(e,t){var n=a.rest(arguments),r=this.questionRenderer;return r[e].apply(r,n)},setInputValue:function(e,t,n){return this._handleAPICall("setInputValue",e,t,n)},focusPath:function(e){return this._handleAPICall("focusPath",e)},blurPath:function(e){return this._handleAPICall("blurPath",e)},getDOMNodeForPath:function(e){return this._handleAPICall("getDOMNodeForPath",e)},getGrammarTypeForPath:function(e){return this._handleAPICall("getGrammarTypeForPath",e)},getInputPaths:function(){var e=this.questionRenderer.getInputPaths();return e},handleInteractWithWidget:function(e){var t=a.difference(this.state.questionHighlightedWidgets,[e]);this.setState({questionCompleted:!1,questionHighlightedWidgets:t}),this.props.apiOptions.interactionCallback&&this.props.apiOptions.interactionCallback()},focus:function(){return this.questionRenderer.focus()},blur:function(){this._currentFocus&&this.blurPath(this._currentFocus)},showHint:function(){this.state.hintsVisible<this.getNumHints()&&this.setState({hintsVisible:this.state.hintsVisible+1})},getNumHints:function(){return this.props.item.hints.length},scoreInput:function(){var e=this.questionRenderer.guessAndScore(),t=e[0],n=e[1],r=[t,[]],o=p.keScoreFromPerseusScore(n,r),i=this.questionRenderer.emptyWidgets();return this.setState({questionCompleted:o.correct,questionHighlightedWidgets:i}),o},getWidgetIds:function(){return this.questionRenderer.getWidgetIds()},scoreWidgets:function(){var e=this.questionRenderer.scoreWidgets(),t=this.questionRenderer.getUserInputForWidgets();return d(e,function(e,n){return p.keScoreFromPerseusScore(e,t[n])})},getSerializedState:function(){return{question:this.questionRenderer.getSerializedState(),hints:this.hintsRenderer.getSerializedState()}},restoreSerializedState:function(e,t){var n=2,r=function(){--n,t&&0===n&&t()};this.questionRenderer.restoreSerializedState(e.question,r),this.hintsRenderer.restoreSerializedState(e.hints,r)},render:function(){return o.createElement("div",null)}});e.exports=m},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(58),a=n(55),s=n(186),l=s.StyleSheet,u=s.css,c=n(10).Options,p=n(31),h=n(73),d=n(32),f=n(11),m=n(74),g=m.mapObject,v=o.PropTypes,y=o.createClass({displayName:"ItemRenderer",propTypes:{apiOptions:v.any,hintsVisible:v.number,item:v.shape({answerArea:v.shape({calculator:v.bool,chi2Table:v.bool,periodicTable:v.bool,tTable:v.bool,zTable:v.bool}),hints:v.arrayOf(v.object),question:v.object}).isRequired,problemNum:v.number,savedState:v.any},mixins:[h],getDefaultProps:function(){return{apiOptions:{}}},getInitialState:function(){return{questionCompleted:!1,questionHighlightedWidgets:[]}},componentDidMount:function(){this._currentFocus=null},componentWillReceiveProps:function(e){this.setState({questionHighlightedWidgets:[]})},componentDidUpdate:function(){if(this.props.apiOptions.answerableCallback){var e=0===this.questionRenderer.emptyWidgets().length;this.props.apiOptions.answerableCallback(e)}},_handleFocusChange:function(e,t){null!=e?this._setCurrentFocus(e):this._onRendererBlur(t)},_setCurrentFocus:function(e){var t=this,n=this.keypadElement(),r=this._currentFocus;this._currentFocus=e;var o=this.getInputPaths(),a=this._currentFocus&&o.some(function(e){return f.inputPathsEqual(e,t._currentFocus)});null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,r,a&&n&&i.findDOMNode(n)),n&&(a?n.activate():n.dismiss())},_onRendererBlur:function(e){var t=this,n=this._currentFocus;a.isEqual(e,n)&&a.defer(function(){a.isEqual(t._currentFocus,n)&&t._setCurrentFocus(null)})},_setWidgetProps:function(e,t,n){this.questionRenderer._setWidgetProps(e,t,n)},_handleAPICall:function(e,t){var n=a.rest(arguments),r=this.questionRenderer;return r[e].apply(r,n)},setInputValue:function(e,t,n){return this._handleAPICall("setInputValue",e,t,n)},focusPath:function(e){return this._handleAPICall("focusPath",e)},blurPath:function(e){return this._handleAPICall("blurPath",e)},getDOMNodeForPath:function(e){return this._handleAPICall("getDOMNodeForPath",e)},getGrammarTypeForPath:function(e){return this._handleAPICall("getGrammarTypeForPath",e)},getInputPaths:function(){var e=this.questionRenderer.getInputPaths();return e},handleInteractWithWidget:function(e){var t=a.difference(this.state.questionHighlightedWidgets,[e]);this.setState({questionCompleted:!1,questionHighlightedWidgets:t}),this.props.apiOptions.interactionCallback&&this.props.apiOptions.interactionCallback()},focus:function(){return this.questionRenderer.focus()},blur:function(){this._currentFocus&&this.blurPath(this._currentFocus)},getNumHints:function(){return this.props.item.hints.length},scoreInput:function(){var e=this.questionRenderer.guessAndScore(),t=e[0],n=e[1],r=[t,[]],o=f.keScoreFromPerseusScore(n,r),i=this.questionRenderer.emptyWidgets();return this.setState({questionCompleted:o.correct,questionHighlightedWidgets:i}),o},getWidgetIds:function(){return this.questionRenderer.getWidgetIds()},scoreWidgets:function(){var e=this.questionRenderer.scoreWidgets(),t=this.questionRenderer.getUserInputForWidgets();return g(e,function(e,n){return f.keScoreFromPerseusScore(e,t[n])})},getSerializedState:function(){return{question:this.questionRenderer.getSerializedState(),hints:this.hintsRenderer.getSerializedState()}},restoreSerializedState:function(e,t){var n=2,r=function(){--n,t&&0===n&&t()};this.questionRenderer.restoreSerializedState(e.question,r),this.hintsRenderer.restoreSerializedState(e.hints,r)},render:function(){var e=this,t=r({},c.defaults,this.props.apiOptions,{onFocusChange:this._handleFocusChange}),n=o.createElement(d,r({keypadElement:this.keypadElement(),problemNum:this.props.problemNum,onInteractWithWidget:this.handleInteractWithWidget,highlightedWidgets:this.state.questionHighlightedWidgets,apiOptions:t,questionCompleted:this.state.questionCompleted,savedState:this.props.savedState,ref:function(t){return e.questionRenderer=t}},this.props.item.question)),i=o.createElement(p,{hints:this.props.item.hints,hintsVisible:this.props.hintsVisible,apiOptions:t,ref:function(t){return e.hintsRenderer=t}});return o.createElement("div",null,o.createElement("div",null,n),o.createElement("div",{className:!t.isMobile&&u(b.hintsContainer)},i))}}),b=l.create({hintsContainer:{marginLeft:50}});e.exports=y},function(e,t,n){"use strict";var r,o,i,a=n(54),s=n(58),l=n(186),u=l.StyleSheet,c=l.css,p=n(99),h=n(55),d=window.i18n,f=n(75),m=n(38),g=n(50),v=n(76),y=n(77),b=n(78),x=b.baseUnitPx,E=b.hintBorderWidth,w=b.kaGreen,T=b.gray85,C=b.gray17,S=a.createClass({displayName:"HintsRenderer",propTypes:{className:a.PropTypes.string,hints:a.PropTypes.arrayOf(a.PropTypes.any),hintsVisible:a.PropTypes.number},mixins:[g],componentDidMount:function(){this._cacheHintImages()},componentDidUpdate:function(e,t){if(h.isEqual(e.hints,this.props.hints)&&e.hintsVisible===this.props.hintsVisible||this._cacheHintImages(),e.hintsVisible<this.props.hintsVisible){var n=this.props.hintsVisible-1;s.findDOMNode(this.refs["hintRenderer"+n]).focus()}},_hintsVisible:function(){return null==this.props.hintsVisible||this.props.hintsVisible===-1?this.props.hints.length:this.props.hintsVisible},_cacheImagesInHint:function(e){h.each(e.images,function(e,t){var n=new Image;n.src=m.getRealImageUrl(t)})},_cacheHintImages:function(){this._hintsVisible()>0?h.each(this.props.hints,this._cacheImagesInHint):this.props.hints.length>0&&this._cacheImagesInHint(this.props.hints[0])},getSerializedState:function(){var e=this;return h.times(this._hintsVisible(),function(t){return e.refs["hintRenderer"+t].getSerializedState()})},restoreSerializedState:function(e,t){var n=this,r=1,o=function(){--r,t&&0===r&&t()};h.each(e,function(e,t){var i=n.refs["hintRenderer"+t];i&&(++r,i.restoreSerializedState(e,o))}),o()},render:function(){var e=this,t=this.getApiOptions(),n=this._hintsVisible(),r=[];this.props.hints.slice(0,n).forEach(function(o,i){var s=i===e.props.hints.length-1&&!/\*\*/.test(o.content),l=i===n-1,u=a.createElement(f,{lastHint:s,lastRendered:l,hint:o,pos:i,totalHints:e.props.hints.length,ref:"hintRenderer"+i,key:"hintRenderer"+i,apiOptions:t});o.replace&&r.length>0?r[r.length-1]=u:r.push(u)});var o=t.getAnotherHint&&n>0&&n<this.props.hints.length,i=p(this.props.className,t.isMobile&&n>0&&c(P.mobileHintStylesHintsRenderer));return a.createElement("div",{className:i},t.isMobile&&n>0&&a.createElement("div",{className:c(P.mobileHintStylesHintTitle,y.responsiveLabel)},d._("Hints")),r,o&&a.createElement("button",{rel:"button",className:c(P.linkButton,P.getAnotherHintButton,t.isMobile&&P.mobileHintStylesGetAnotherHintButton),onClick:function(e){e.preventDefault(),e.stopPropagation(),t.getAnotherHint()}},a.createElement("span",{className:c(P.plusText,t.isMobile&&P.mobileHintStylesPlusText)},"+"),a.createElement("span",{className:c(P.getAnotherHintText)},d._("Get another hint")," (",n,"/",this.props.hints.length,")")))}}),k=x+E,P=u.create({rendererMargins:{marginTop:x},linkButton:{cursor:"pointer",border:"none",backgroundColor:"transparent",fontSize:"100%",fontFamily:"inherit",fontWeight:"bold",color:w,padding:0,position:"relative"},plusText:{fontSize:20,position:"absolute",top:-3,left:0
},getAnotherHintText:{marginLeft:16},mobileHintStylesHintsRenderer:{marginTop:4*x,border:"solid "+T,borderWidth:"1px 0 0 0",position:"relative",":before":{content:'""',display:"table",clear:"both"},":after":{content:'""',display:"table",clear:"both"}},mobileHintStylesHintTitle:(r={fontFamily:"inherit",fontStyle:"normal",fontWeight:"bold",color:C,paddingTop:x,paddingBottom:1.5*x},r[v.lgOrSmaller]={paddingLeft:0},r[v.smOrSmaller]={paddingLeft:k},r),getAnotherHintButton:{marginTop:1.5*x},mobileHintStylesGetAnotherHintButton:(o={},o[v.lgOrSmaller]={paddingLeft:0},o[v.smOrSmaller]={paddingLeft:k},o),mobileHintStylesPlusText:(i={},i[v.lgOrSmaller]={left:0},i[v.smOrSmaller]={left:k},i)});e.exports=S},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(60),a=n(54),s=n(58),l=n(55),u=n(99),c=n(79),p=n(43),h=n(80),d=n(38),f=n(81),m=n(82),g=n(25),v=n(11),y=n(50),b=n(10).ClassNames,x=n(83),E=n(84),w=n(47),T=n(100).propTypes.keypadElementPropType,C=n(74),S=C.mapObject,k=C.mapObjectFromArray,P={"\\a":"","\\b":"\b","\\t":"\t","\\n":"\n","\\v":"\v","\\f":"\f","\\r":"\r","\\\\":"\\"},_=/\\a|\\b|\\t|\\n|\\v|\\f|\\r|\\\\/g,M=/\S/,N=/(web\+graphie|https):\/\/[^\s]*/,O=function(){};"undefined"!=typeof KA&&"en-pt"===KA.language&&(window.PerseusTranslationComponents=[],KA.jipt_dom_insert_checks||(KA.jipt_dom_insert_checks=[]),KA.jipt_dom_insert_checks.push(function(e,t,n){var r=i(t),o=r.data("perseus-component-index"),a=r.data("perseus-paragraph-index");if(t&&"undefined"!=typeof o){var s=window.PerseusTranslationComponents[o];return!!s&&(e=e.replace(_,function(e){return P[e]}),s.replaceJiptContent(e,a),!1)}return e}));var A=["content","problemNum","widgets"],I=function(e,t){return null===e||null===t?e===t:l.every(e,function(e,n){return l.isEqual(e,t[n])})},R=function(e,t,n,r){e?(this._tracked=!1,this.trackApi=e,this.widgetType=t,this.widgetID=n,this.setting=r,this.track=this._track.bind(this)):this.track=this._noop};R.prototype._track=function(e){this._tracked&&!this.setting||(this._tracked=!0,this.trackApi(o({type:this.widgetType,id:this.widgetID},e)))},R.prototype._noop=function(){};var D=a.createClass({displayName:"Renderer",propTypes:{alwaysUpdate:a.PropTypes.bool,highlightedWidgets:a.PropTypes.arrayOf(a.PropTypes.any),ignoreMissingWidgets:a.PropTypes.bool,images:a.PropTypes.any,interWidgets:a.PropTypes.func,keypadElement:T,onInteractWithWidget:a.PropTypes.func,onRender:a.PropTypes.func,problemNum:a.PropTypes.number,questionCompleted:a.PropTypes.bool,reviewMode:a.PropTypes.bool},mixins:[y],getDefaultProps:function(){return{content:"",widgets:{},images:{},ignoreMissingWidgets:!0,highlightedWidgets:[],questionCompleted:!1,onRender:O,onInteractWithWidget:function(){},interWidgets:function(){return null},alwaysUpdate:!1,reviewMode:!1}},getInitialState:function(){return l.extend({jiptContent:null},this._getInitialWidgetState())},componentDidMount:function(){this.handleRender({}),this._currentFocus=null,this._rootNode=s.findDOMNode(this),this._isMounted=!0},componentWillReceiveProps:function(e){l.isEqual(l.pick(this.props,A),l.pick(e,A))||this.setState(this._getInitialWidgetState(e))},shouldComponentUpdate:function(e,t){if(this.props.alwaysUpdate)return!0;var n=!l.isEqual(this.state,t),r=!l.isEqual(this.props,e);return r||n},componentWillUpdate:function(e,t){var n=this.shouldRenderJiptPlaceholder(this.props,this.state),r=this.shouldRenderJiptPlaceholder(e,t),o=this.getContent(this.props,this.state),i=this.getContent(e,t),a=this.props.highlightedWidgets,s=e.highlightedWidgets;this.reuseMarkdown=!n&&!r&&o===i&&a===s},componentDidUpdate:function(e,t){var n=this;this.handleRender(e),l.each(this.widgetIds,function(e){var t=n.refs["container:"+e];t.replaceWidgetProps(n.getWidgetProps(e))})},componentWillUnmount:function(){null!=this.translationIndex&&(window.PerseusTranslationComponents[this.translationIndex]=null),this._isMounted=!1},_getInitialWidgetState:function(e){e=e||this.props;var t=this._getAllWidgetsInfo(e);return{widgetInfo:t,widgetProps:this._getAllWidgetsStartProps(t,e)}},_getAllWidgetsInfo:function(e){return e=e||this.props,S(e.widgets,function(e,t){if(!e.type||!e.alignment){var n={};e.type||(n.type=t.split(" ")[0]),e.alignment||(n.alignment="default"),e=l.extend({},e,n)}return g.upgradeWidgetInfoToLatestVersion(e)})},_getAllWidgetsStartProps:function(e,t){return S(e,function(e){return g.getRendererPropsForWidgetInfo(e,t.problemNum)})},_getDefaultWidgetInfo:function(e){var t=v.rTypeFromWidgetId.exec(e);return null==t?{}:{type:t[1],graded:!0,options:{}}},_getWidgetInfo:function(e){return this.state.widgetInfo[e]||this._getDefaultWidgetInfo(e)},renderWidget:function(e,t,n){var r=this.state.widgetInfo[t];if(r&&"full-width"===r.alignment&&(n.foundFullWidth=!0),r||this.props.ignoreMissingWidgets){var o=r&&r.type||e,i=l.contains(this.props.highlightedWidgets,t);return a.createElement(m,{ref:"container:"+t,key:"container:"+t,type:o,initialProps:this.getWidgetProps(t),shouldHighlight:i})}return null},getWidgetProps:function(e){var t=this,n=this.getApiOptions(),r=this.state.widgetProps[e]||{},i=null,a=this.state.widgetInfo[e];this.props.reviewMode&&a&&(i=a.options),this._interactionTrackers||(this._interactionTrackers={});var s=this._interactionTrackers[e];return s||(s=this._interactionTrackers[e]=new R(n.trackInteraction,a&&a.type,e,g.getTracking(a&&a.type))),o({},r,{ref:e,widgetId:e,alignment:a&&a.alignment,static:a&&a.static,problemNum:this.props.problemNum,apiOptions:this.getApiOptions(this.props),keypadElement:this.props.keypadElement,questionCompleted:this.props.questionCompleted,onFocus:l.partial(this._onWidgetFocus,e),onBlur:l.partial(this._onWidgetBlur,e),interWidgets:this.interWidgets,reviewModeRubric:i,onChange:function(n,r){t._setWidgetProps(e,n,r)},trackInteraction:s.track})},getSerializedState:function(){var e=this;return S(this.state.widgetProps,function(t,n){var r=e.getWidgetInstance(n);return r&&r.getSerializedState?r.getSerializedState():t})},restoreSerializedState:function(e,t){var n=this,r=l.keys(e),o=l.keys(this.state.widgetProps);if(r.length!==o.length||l.intersection(r,o).length!==r.length)return void console.error("Refusing to restore bad serialized state:",e,"Current props:",this.state.widgetProps);var i=1,a=function(){--i,t&&0===i&&t()};this.setState({widgetProps:S(e,function(e,t){var r=n.getWidgetInstance(t);if(r&&r.restoreSerializedState){++i;var o=r.restoreSerializedState(e,a);return l.extend({},n.state.widgetProps[t],o)}return e})},a)},interWidgets:function(e){var t,n=this;if("string"==typeof e)if(e.indexOf(" ")!==-1){var r=e;t=function(e,t){return e===r}}else{var o=e;t=function(e,t){return t.type===o}}else t=e;var i=this.widgetIds.filter(function(e){var r=n._getWidgetInfo(e),o=n.getWidgetInstance(e);return t(e,r,o)}).map(this.getWidgetInstance),a=this.props.interWidgets(e,i);return a?a:i},getWidgetInstance:function(e){var t=this.refs["container:"+e];return t?t.getWidget():null},_onWidgetFocus:function(e,t){if(void 0===t)t=[];else if(!l.isArray(t))throw new Error("widget props.onFocus focusPath must be an Array, but was"+JSON.stringify(t));this._setCurrentFocus([e].concat(t))},_onWidgetBlur:function(e,t){var n=this,r=this._currentFocus,o=[e].concat(t);l.isEqual(o,r)&&l.defer(function(){l.isEqual(n._currentFocus,r)&&n._setCurrentFocus(null)})},getContent:function(e,t){return t.jiptContent||e.content},shouldRenderJiptPlaceholder:function(e,t){return"undefined"!=typeof KA&&"en-pt"===KA.language&&null==t.jiptContent&&e.content.indexOf("crwdns")!==-1},replaceJiptContent:function(e,t){if(null==t)this.setState({jiptContent:e});else{/\S\n\s*\n\S/.test(e)&&(e="$\\large{\\red{\\text{Please translate each paragraph to a single paragraph.}}}$"),/^\s*$/.test(e)&&(e="$\\large{\\red{\\text{Translated paragraph is currently empty}}}$");var n=this.getContent(this.props,this.state),r=c.parseToArray(n);r[t]=e,this.setState({jiptContent:c.joinFromArray(r)})}},outputMarkdown:function(e,t){if(l.isArray(e)){for(var n=t.key,r=[],o=!1,i=0;i<e.length;i++){t.key=i,t.paragraphIndex=i;var s=this.outputMarkdown(e[i],t),c="string"==typeof s;c&&o?r[r.length-1]+=s:r.push(s),o=c}return t.key=n,r}this._foundTextNodes=!1,t.foundFullWidth=!1;var p,d=this.outputNested(e,t);return p=null!=this.translationIndex?null:u({"perseus-paragraph-centered":!this._foundTextNodes,"perseus-paragraph-full-width":t.foundFullWidth&&1===e.content.length}),a.createElement(h,{key:t.key,className:p,translationIndex:this.translationIndex,paragraphIndex:t.paragraphIndex},d)},outputNested:function(e,t){if(l.isArray(e)){for(var n=t.key,r=[],o=!1,i=0;i<e.length;i++){t.key=i;var a=this.outputNested(e[i],t),s="string"==typeof a;s&&o?r[r.length-1]+=a:r.push(a),o=s}return t.key=n,r}return this.outputNode(e,this.outputNested,t)},outputNode:function(e,t,n){var i=this,s=this.getApiOptions(),u=s.imagePlaceholder;if("widget"===e.type){var c=s.widgetPlaceholder;return c?c:(this._foundTextNodes=!0,l.contains(this.widgetIds,e.id)?a.createElement("span",{key:n.key,className:"renderer-widget-error"},"Widget [[","☃"," ",e.id,"]] already exists."):(this.widgetIds.push(e.id),this.renderWidget(e.widgetType,e.id,n)))}if("blockMath"!==e.type){if("math"===e.type){var h=e.content.replace(/\{align[*]?\}/g,"{aligned}");return a.createElement("span",{key:n.key,style:{whiteSpace:"nowrap"}},a.createElement("span",null),a.createElement(f,{onRender:this.props.onRender},h),a.createElement("span",null))}if("image"===e.type){if(u)return u;var m=l.has(this.props.images,e.target)?this.props.images[e.target]:null,g=!n.inTable;return a.createElement(d,o({key:n.key,src:p.sanitizeUrl(e.target),alt:e.alt,title:e.title,responsive:g,onUpdate:this.props.onRender,zoomToFullSizeOnMobile:s.isMobile&&s.isArticle},m))}if("columns"===e.type)return this._isTwoColumn=!0,p.ruleOutput(e,t,n);if("text"===e.type)return M.test(e.content)&&(this._foundTextNodes=!0),u&&N.test(e.content)?u:e.content;if("table"===e.type||"titledTable"===e.type){n.inTable=!0;var v=p.ruleOutput(e,t,n);if(n.inTable=!1,!s.isMobile)return v;var y=16,b={marginLeft:-y,marginRight:-y},T={paddingLeft:0,paddingRight:0},C=a.createElement("div",{style:o({},T,{overflowX:"auto"})},a.createElement(x,{animateHeight:!0},v));return a.createElement("div",{style:b},C)}return p.ruleOutput(e,t,n)}var S=function(){var t=new E,r=function(e){if(i.props.onRender&&i.props.onRender(e),s.isMobile&&e){var n=e.querySelector(".katex"),r=e.querySelector('script[type="math/tex"]')||e.querySelector(".MathJax");if(n)t.resolve();else{if(!r)throw new Error("No math present in Renderer");t.resolve()}}},l=a.createElement(f,{onRender:r},w(e.content)),u={overflowX:"auto",overflowY:"hidden",paddingTop:10,paddingBottom:10,marginTop:-10,marginBottom:-10};if(s.isMobile){var c=16,p={marginLeft:-c,marginRight:-c},h={paddingLeft:c,paddingRight:c},d=function(e,t){var n=e.querySelector(".katex-html")||e.querySelector(".MathJax"),r={width:n.offsetWidth,height:n.offsetHeight};return{width:Math.max(t.width,r.width),height:Math.max(t.height,r.height)}};return{v:a.createElement("div",{key:n.key,className:"perseus-block-math",style:p},a.createElement("div",{className:"perseus-block-math-inner",style:o({},u,h)},a.createElement(x,{readyToMeasureDeferred:t,computeChildBounds:d},l)))}}return{v:a.createElement("div",{key:n.key,className:"perseus-block-math"},a.createElement("div",{className:"perseus-block-math-inner",style:u},l))}}();if("object"===("undefined"==typeof S?"undefined":r(S)))return S.v},handleRender:function(e){var t=this.props.onRender,n=e.onRender;if(t!==O||n!==O){var r=i(s.findDOMNode(this)).find("img");n!==O&&r.off("load",n),t!==O&&r.on("load",t)}t()},_setCurrentFocus:function(e){var t=this.getApiOptions();if(!I(e,this._currentFocus)){var n=this._currentFocus;n&&this.blurPath(n),this._currentFocus=e,null!=t.onFocusChange&&t.onFocusChange(this._currentFocus,n)}},focus:function(){for(var e,t,n=0;n<this.widgetIds.length;n++){var r=this.widgetIds[n],o=this.getWidgetInstance(r),i=o&&o.focus&&o.focus();if(i){e=r,t=i;break}}if(e){var a;return a=l.isObject(t)?[e].concat(t.path||[]):[e],this._setCurrentFocus(a),!0}},getDOMNodeForPath:function(e){var t=l.first(e),n=l.rest(e),r=this.getWidgetInstance(t),o=r.getDOMNodeForPath;return o?o(n):0===n.length?s.findDOMNode(r):void 0},getGrammarTypeForPath:function(e){var t=l.first(e),n=l.rest(e),r=this.getWidgetInstance(t);return r.getGrammarTypeForPath(n)},getInputPaths:function(){var e=this,t=[];return l.each(this.widgetIds,function(n){var r=e.getWidgetInstance(n);if(r.getInputPaths){var o=r.getInputPaths();l.each(o,function(e){var r=[n].concat(e);t.push(r)})}}),t},focusPath:function(e){if(!l.isEqual(this._currentFocus,e)){this._currentFocus&&this.blurPath(this._currentFocus);var t=l.first(e),n=l.rest(e),r=this.getWidgetInstance(t).focusInputPath;r&&r(n)}},blurPath:function(e){if(l.isEqual(this._currentFocus,e)){var t=l.first(e),n=l.rest(e),r=this.getWidgetInstance(t);if(r){var o=this.getWidgetInstance(t).blurInputPath;o&&o(n)}}},blur:function(){this._currentFocus&&this.blurPath(this._currentFocus)},serialize:function(){var e={};return l.each(this.state.widgetInfo,function(t,n){var r=this.getWidgetInstance(n),o=r.serialize();l.isEmpty(o)||(e[n]=o)},this),e},emptyWidgets:function(){var e=this;return l.filter(this.widgetIds,function(t){var n=e._getWidgetInfo(t),r=e.getWidgetInstance(t).simpleValidate(n.options,null);return v.scoreIsEmpty(r)})},_setWidgetProps:function(e,t,n){var r=this,o=l.clone(this.state.widgetProps);o[e]=l.extend({},o[e],t),this.setState({widgetProps:o},function(){var t=n&&n();r.props.onInteractWithWidget(e),t!==!1&&r._setCurrentFocus([e])})},setInputValue:function(e,t,n){var r=l.first(e),o=l.rest(e),i=this.getWidgetInstance(r);i.setInputValue(o,t,n)},getUserInput:function(){var e=this;return l.map(this.widgetIds,function(t){return e.getWidgetInstance(t).getUserInput()})},getWidgetIds:function(){return this.widgetIds},getAllWidgetIds:function(){var e=this;return l.map(this.getWidgetIds(),function(t){var n="group";return t.substring(0,n.length)===n&&e.getWidgetInstance(t)?{id:t,children:e.getWidgetInstance(t).getRenderer().getAllWidgetIds()}:{id:t,children:[]}})},getUserInputForWidgets:function(){var e=this;return k(this.widgetIds,function(t){return e.getWidgetInstance(t).getUserInput()})},scoreWidgets:function(){var e=this,t=this.state.widgetInfo,n=this.getApiOptions().onInputError||function(){},r=l.filter(this.widgetIds,function(e){var n=t[e];return null==n.graded||n.graded}),o={};return l.each(r,function(r){var i=t[r],a=e.getWidgetInstance(r);a&&(o[r]=a.simpleValidate(i.options,n))}),o},score:function(){return l.reduce(this.scoreWidgets(),v.combineScores,v.noScore)},guessAndScore:function(){var e=this.getUserInput(),t=this.score();return[e,t]},examples:function e(){var t=this.widgetIds,e=l.compact(l.map(t,function(e){return e.examples?e.examples():null}));if(!e.length)return null;var n=l.all(e,function(t){return l.isEqual(e[0],t)});return n?e[0]:null},render:function(){var e,t=this.getApiOptions();if(this.reuseMarkdown)return this.lastRenderedMarkdown;var n=this.getContent(this.props,this.state);if(this.widgetIds=[],this.shouldRenderJiptPlaceholder(this.props,this.state)&&(this.translationIndex||(this.translationIndex=window.PerseusTranslationComponents.push(this)-1),!t.isArticle))return a.createElement("div",{"data-perseus-component-index":this.translationIndex},n);this._isTwoColumn=!1;var r=p.parse(n,{isJipt:null!=this.translationIndex}),o=this.outputMarkdown(r,{baseElements:t.baseElements}),i=u((e={},e[b.RENDERER]=!0,e[b.RESPONSIVE_RENDERER]=!0,e[b.TWO_COLUMN_RENDERER]=this._isTwoColumn,e));return this.lastRenderedMarkdown=a.createElement("div",{className:i},o),this.lastRenderedMarkdown}});e.exports=D},function(e,t,n){"use strict";var r=n(26),o=n(72);e.exports=r.concat(o)},function(e,t,n){"use strict";var r=n(99),o=n(54),i=n(55),a=n(85),s=n(86),l=n(87),u="before",c="after",p=/http.*?\.png/g,h=function(e){return e.match(p)||[]},d=function(e,t,n){return e.added?t:e.removed?n:""},f=o.createClass({displayName:"ImageDiffSide",propTypes:{side:o.PropTypes.oneOf([u,c]).isRequired,images:o.PropTypes.array.isRequired},render:function(){return o.createElement("div",null,this.props.images.length>0&&o.createElement("div",{className:"diff-header"},"Images"),i.map(this.props.images,function(e,t){var n=r({image:!0,"image-unchanged":"unchanged"===e.status,"image-added":"added"===e.status,"image-removed":"removed"===e.status});return o.createElement("div",{key:t},o.createElement("img",{src:e.value,title:e.value,className:n}))}))}}),m=o.createClass({displayName:"TextDiff",propTypes:{before:o.PropTypes.string,after:o.PropTypes.string,title:o.PropTypes.string},getDefaultProps:function(){return{before:"",after:"",title:""}},getInitialState:function(){return{collapsed:this.props.before===this.props.after}},componentWillReceiveProps:function(e){this.setState({collapsed:e.before===e.after})},render:function(){var e=this,t=a.diffWords(this.props.before,this.props.after),n=s(t),p=h(this.props.before),m=h(this.props.after),g=l(p,m),v=i.map(n,function(e){var t={};return t.before=i(e).map(function(e,t){var n=d(e,"not-present","removed dark");return o.createElement("span",{key:t,className:n},e.value)}),t.after=i(e).map(function(e,t){var n=d(e,"added dark","not-present");return o.createElement("span",{key:t,className:n},e.value)}),t}),y=r({"diff-row":!0,collapsed:this.state.collapsed});return o.createElement("div",null,o.createElement("div",{className:"perseus-clearfix"},i.map([u,c],function(t,n){return o.createElement("div",{className:"diff-row "+t,key:n},!e.state.collapsed&&i.map(v,function(e,n){var i=e[t].length>1,a=r({"diff-line":!0,added:t===c&&i,removed:t===u&&i});return o.createElement("div",{className:a,key:n},e[t])}),!e.state.collapsed&&o.createElement(f,{side:t,images:g[t]}))})),i.map([u,c],function(t,n){return o.createElement("div",{className:y+" "+t,key:n,onClick:e.handleExpand},e.state.collapsed&&o.createElement("span",null,o.createElement("span",{className:"expand-button"}," ","[ show unmodified ]")))}))},handleExpand:function(){this.setState({collapsed:!1})}});e.exports=m},function(e,t,n){"use strict";var r=n(99),o=n(54),i=n(55),a=n(88),s=function(e){return 20*(e-1)},l="before",u="after",c="unchanged",p=o.createClass({displayName:"DiffSide",propTypes:{side:o.PropTypes.oneOf([l,u]).isRequired,className:o.PropTypes.string.isRequired,showKey:o.PropTypes.bool.isRequired,propKey:o.PropTypes.string.isRequired,value:o.PropTypes.string,depth:o.PropTypes.number.isRequired},render:function(){var e=r(this.props.className,{"diff-row":!0,before:this.props.side===l,after:this.props.side===u});return o.createElement("div",{className:e},o.createElement("div",{style:{paddingLeft:s(this.props.depth)}},this.props.showKey&&this.props.propKey+": ",o.createElement("span",{className:"inner-value dark "+this.props.className},this.props.value)))}}),h=o.createClass({displayName:"CollapsedRow",propTypes:{depth:o.PropTypes.number,onClick:o.PropTypes.func.isRequired},getDefaultProps:function(){return{depth:0}},render:function(){var e=this;return o.createElement("div",{onClick:e.props.onClick},i.map([l,u],function(t){return o.createElement("div",{className:"diff-row collapsed "+t,key:t},o.createElement("div",{style:{paddingLeft:s(e.props.depth)}},o.createElement("span",null," [ show unmodified ] ")))}))}}),d=o.createClass({displayName:"DiffEntry",propTypes:{entry:o.PropTypes.shape({key:o.PropTypes.string,children:o.PropTypes.array,before:o.PropTypes.string,after:o.PropTypes.string}),depth:o.PropTypes.number,expanded:o.PropTypes.bool},getDefaultProps:function(){return{depth:0}},getInitialState:function(){return{expanded:this.props.expanded}},render:function(){var e,t=this.props.entry,n="removed"===t.status,a="added"===t.status,s="changed"===t.status,f=t.children.length>0,m=r({removed:(n||s)&&!f,dark:n,"blank-space":a}),g=r({added:(a||s)&&!f,dark:a,"blank-space":n});e=this.state.expanded?t.children:i(t.children).select(function(e){return e.status!==c});var v=e.length<t.children.length;t.children.length===e.length+1&&(e=t.children,v=!1);var y=this;return o.createElement("div",null,t.key&&o.createElement("div",null,o.createElement(p,{side:l,className:m,depth:this.props.depth,propKey:t.key,showKey:!a,value:t.before}),o.createElement(p,{side:u,className:g,depth:this.props.depth,propKey:t.key,showKey:!n,value:t.after})),i.map(e,function(e){return o.createElement(d,{key:e.key,depth:y.props.depth+1,entry:e,expanded:y.state.expanded})}),v&&o.createElement(h,{depth:this.props.depth+1,onClick:this.expand}))},expand:function(){this.setState({expanded:!0})}}),f=o.createClass({displayName:"WidgetDiff",propTypes:{before:o.PropTypes.shape({options:o.PropTypes.object}).isRequired,after:o.PropTypes.shape({options:o.PropTypes.object}).isRequired,title:o.PropTypes.string.isRequired},render:function(){var e=a(this.props.before,this.props.after);return o.createElement("div",null,o.createElement("div",{className:"perseus-clearfix"},o.createElement(d,{entry:e})))}});e.exports=f},function(e,t,n){"use strict";var r=n(54),o=n(89),i=[],a=r.createClass({displayName:"StubTagEditor",propTypes:{value:r.PropTypes.arrayOf(r.PropTypes.string),onChange:r.PropTypes.func.isRequired},getDefaultProps:function(){return{value:i}},render:function(){return r.createElement("div",null,r.createElement("div",{style:{fontSize:14}},"Tags:"),r.createElement(o,{options:this.props.value||i,layout:"vertical",onChange:this.props.onChange}))}});e.exports=a},function(e,t,n){"use strict";var r=n(60),o=n(55),i=n(90),a=Math.pow(2,-42),s={predicate:{defaultForms:"integer, proper, improper, mixed, decimal",createValidatorFunctional:function(e,t){t=o.extend({simplify:"required",ratio:!1,forms:s.predicate.defaultForms},t);var n=void 0;n=o.isArray(t.forms)?t.forms:t.forms.split(/\s*,\s*/),void 0===t.inexact&&(t.maxError=0),t.maxError=+t.maxError+a,o.contains(n,"percent")&&(n=o.without(n,"percent"),n.push("percent"));var l=function(e){e=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").replace(/(^\s*)|(\s*$)/gi,"");var n=e.match(/^([+-]?\d+)\s*\/\s*([+-]?\d+)$/),r=parseInt(e,10);if(n){var o=parseFloat(n[1]),a=parseFloat(n[2]),s=a>0&&(t.ratio||"1"!==n[2])&&1===i.getGCD(o,a);return[{value:o/a,exact:s}]}return isNaN(r)||""+r!==e?[]:[{value:r,exact:!0}]},u={integer:function(e){var t=u.decimal(e),n=u.decimal(e,1);return null!=t[0].value&&t[0].value===n[0].value||null!=t[1].value&&t[1].value===n[1].value?t:[]},proper:function(e){return r.map(l(e),function(e){return Math.abs(e.value)<1?[e]:[]})},improper:function(e){return r.map(l(e),function(e){return Math.abs(e.value)>=1?[e]:[]})},pi:function(e){var t=void 0,n=[];if(e=e.replace(/\u2212/,"-"),t=e.match(/^([+-]?)\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))n=[{value:parseFloat(t[1]+"1"),exact:!0}];else if(t=e.match(/^([+-]?\s*\d+\s*(?:\/\s*[+-]?\s*\d+)?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))n=l(t[1]);else if(t=e.match(/^([+-]?)\s*(\d+)\s*([+-]?\d+)\s*\/\s*([+-]?\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){var a=parseFloat(t[1]+"1"),c=parseFloat(t[2]),p=parseFloat(t[3]),h=parseFloat(t[4]),d=p<h&&1===i.getGCD(p,h);n=[{value:a*(c+p/h),exact:d}]}else if(t=e.match(/^([+-]?\s*\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\s*\d+))?$/i))n=l(t[1]+"/"+t[3]);else if(t=e.match(/^([+-]?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\d+))?$/i))n=l(t[1]+"1/"+t[3]);else if("0"===e)n=[{value:0,exact:!0}];else{if(!(t=e.match(/^(.+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))){n=o.reduce(s.predicate.defaultForms.split(/\s*,\s*/),function(t,n){return t.concat(u[n](e))},[]);var f=!1,m=parseFloat(e);if(isNaN(m)||m===parseInt(e))e.match(/\/\s*7/)&&(f=!0);else{var g=Math.PI/12,v=g*Math.round(m/g);Math.abs(m-v)<.01&&(f=!0)}return f&&o.each(n,function(e){e.piApprox=!0}),n}n=u.decimal(t[1])}var y=Math.PI;return e.match(/\\?tau|t|\u03c4/)&&(y=2*Math.PI),e.match(/pau/)&&(y=1.5*Math.PI),r.each(n,function(e,t){t.value*=y}),n},coefficient:function(e){var t=[];return e=e.replace(/\u2212/,"-"),""===e?t=[{value:1,exact:!0}]:"-"===e&&(t=[{value:-1,exact:!0}]),t},log:function(e){var t=void 0,n=[];return e=e.replace(/\u2212/,"-"),e=e.replace(/[ \(\)]/g,""),(t=e.match(/^log\s*(\S+)\s*$/i))?n=u.decimal(t[1]):"0"===e&&(n=[{value:0,exact:!0}]),n},percent:function(e){e=r.trim(e);var t=!1;e.indexOf("%")===e.length-1&&(e=r.trim(e.substring(0,e.length-1)),t=!0);var n=u.decimal(e);return r.each(n,function(e,n){n.exact=t,n.value=n.value/100}),n},mixed:function(e){var t=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?)(\d+)\s+(\d+)\s*\/\s*(\d+)$/);if(t){var n=parseFloat(t[1]+"1"),r=parseFloat(t[2]),o=parseFloat(t[3]),a=parseFloat(t[4]),s=o<a&&1===i.getGCD(o,a);return[{value:n*(r+o/a),exact:s}]}return[]},decimal:function(e,n){null==n&&(n=1e10);var o=function(e){e=r.trim(e);var o=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?(?:\d{1,3}(?:[, ]?\d{3})*\.?|\d{0,3}(?:[, ]?\d{3})*\.(?:\d{3}[, ]?)*\d{1,3}))$/),i=e.match(/^0[0,]*,/);if(o&&!i){var a=parseFloat(o[1].replace(/[, ]/g,""));return void 0===t.inexact&&(a=Math.round(a*n)/n),a}},i=function(e){return e=e.replace(/([\.,])/g,function(e,t){return"."===t?",":"."}),o(e)};return[{value:o(e),exact:!0},{value:i(e),exact:!0}]}};return function(i){var a=null!=t.fallback?""+t.fallback:"";i=r.trim(i)||a;var s={empty:""===i,correct:!1,message:null,guess:i};if(r.each(n,function(n,r){for(var o=u[r](i),a=0,l=o.length;a<l;a++){var c=o[a].value,p=o[a].exact,h=o[a].piApprox;if(e(c,t.maxError))return p||"optional"===t.simplify?(s.correct=!0,s.message=t.message||null,s.empty=!1):"percent"===r?(s.empty=!0,s.message=i18n._("Your answer is almost correct, but it is missing a <code>\\%</code> at the end.")):("enforced"!==t.simplify&&(s.empty=!0),s.message=i18n._("Your answer is almost correct, but it needs to be simplified.")),!1;h&&e(c,Math.abs(.001*c))&&(s.empty=!0,s.message=i18n._("Your answer is close, but you may have approximated pi. Enter your answer as a multiple of pi, like <code>12\\ \\text{pi}</code> or <code>2/3\\ \\text{pi}</code>"))}}),s.correct===!1){var l=!1;if(o.each(u,function(e){var t=o.any(e(i),function(e){return null!=e.value&&!o.isNaN(e.value)});t&&(l=!0)}),!l)return s.empty=!0,s.message=i18n._("We could not understand your answer. Please check your answer for extra text or symbols."),s}return s}}},number:{convertToPredicate:function(e,t){var n=parseFloat(r.trim(e));return[function(e,t){return Math.abs(e-n)<t},r.extend({},t,{type:"predicate"})]},createValidatorFunctional:function(e,t){var n;return(n=s.predicate).createValidatorFunctional.apply(n,s.number.convertToPredicate(e,t))}},expression:{parseSolution:function(e,t){var n=KAS.parse(e,t);if(!n.parsed)throw new Error("The provided solution ("+e+") didn't parse.");if(t.simplified&&!n.expr.isSimplified())throw new Error("The provided solution ("+e+") isn't fully expanded and simplified.");return n=n.expr},createValidatorFunctional:function(e,t){return function(n){var r={empty:!1,correct:!1,message:null,guess:n};if(!n)return r.empty=!0,r;var o=KAS.parse(n,t);if(!o.parsed)return r.empty=!0,r;"string"==typeof e&&(e=s.expression.parseSolution(e,t));var i=KAS.compare(o.expr,e,t);if(i.equal)r.correct=!0;else if(i.message)r.message=i.message;else{var a=KAS.parse(n.replace(/[xX]/g,"*"),t);if(a.parsed){var l=KAS.compare(a.expr,e,t);l.equal?(r.empty=!0,r.message="I'm a computer. I only understand multiplication if you use an asterisk (*) as the multiplication sign."):l.message&&(r.message=l.message+" Also, I'm a computer. I only understand multiplication if you use an asterisk (*) as the multiplication sign.")}}return r}}}};e.exports=s},function(e,t,n){"use strict";function r(e){return S.test(e)}function o(e){return/\.(jpg|jpeg)$/i.test(e)}function i(e){var t="http:"===window.location.protocol?"http:":"https:";return e.replace(S,t)}function a(e){return i(e)+".svg"}function s(e){return i(e)+"-data.json"}function l(){return"undefined"!=typeof KA&&"en"!==KA.language}function u(){return"undefined"!=typeof KA&&"en-pt"===KA.language}function c(e){if("undefined"!=typeof KA){var t=i(e).split(N),n=t[0],r=t[1];return n+"/"+KA.language+"/"+r+"-data.json"}return s(e)}function p(e){var t=e.match(k);return t&&t[1]}function h(){return f.DOM.span({style:{background:"url(/images/throbber.gif) no-repeat",backgroundPosition:"center",width:"100%",height:"100%",position:"absolute",minWidth:"20px"}})}var d=n(99),f=n(54),m=n(60),g=n(55),v=n(91),y=n(92),b=n(93),x=n(11),E=n(94),w=700,T={},C=function(e,t){function n(){document.head.removeChild(r),delete window[t.callbackName]}t=g.extend({},{callbackName:"callback",success:m.noop,error:m.noop},t);var r=document.createElement("script");r.setAttribute("async",""),r.setAttribute("src",e),window[t.callbackName]=function(){n(),t.success.apply(null,arguments)},r.addEventListener("error",function(){n(),t.error.apply(null,arguments)}),document.head.appendChild(r)},S=/^web\+graphie\:/,k=/\/([^/]+)$/,P={"\\a":"","\\b":"\b","\\t":"\t","\\n":"\n","\\v":"\v","\\f":"\f","\\r":"\r","\\\\":"\\"},_=/\\a|\\b|\\t|\\n|\\v|\\f|\\r|\\\\/g,M=[];u()&&(KA.jipt_dom_insert_checks||(KA.jipt_dom_insert_checks=[]),KA.jipt_dom_insert_checks.push(function(e,t,n){var r=m(t).data("jipt-label-index");if(t&&"undefined"!=typeof r){var o=M[r],i=o.label,a=o.useMath;if(i.text(""),e=e.replace(_,function(e){return P[e]}),a){var s=/^\$(.*)\$$/,l=e.match(s),u=l?l[1]:"\\color{red}{\\text{Invalid Math}}";i.processMath(u,!0)}else i.processText(e);return!1}return e}));var N=/\/(?=[^/]+$)/,O=f.createClass({displayName:"SvgImage",propTypes:{allowFullBleed:f.PropTypes.bool,alt:f.PropTypes.string,constrainHeight:f.PropTypes.bool,extraGraphie:f.PropTypes.shape({box:f.PropTypes.array.isRequired,range:f.PropTypes.array.isRequired,labels:f.PropTypes.array.isRequired}),height:f.PropTypes.number,onUpdate:f.PropTypes.func,preloader:f.PropTypes.func,responsive:f.PropTypes.bool,scale:f.PropTypes.number,src:f.PropTypes.string.isRequired,title:f.PropTypes.string,trackInteraction:f.PropTypes.func,width:f.PropTypes.number,zoomToFullSizeOnMobile:f.PropTypes.bool},statics:{getRealImageUrl:function(e){return r(e)?a(e):e}},getDefaultProps:function(){return{constrainHeight:!1,onUpdate:function(){},responsive:!0,src:"",scale:1,zoomToFullSizeOnMobile:!1}},getInitialState:function(){return{imageLoaded:!1,imageDimensions:null,dataLoaded:!1,labels:[],range:[[0,0],[0,0]]}},componentDidMount:function(){r(this.props.src)&&this.loadResources()},componentWillReceiveProps:function(e){this.props.src!==e.src&&this.setState({imageLoaded:!1,dataLoaded:!1})},shouldComponentUpdate:function(e,t){if(!g.isEqual(this.props,e))return!0;if(!r(e.src))return!1;var n=this.isLoadedInState(this.state),o=this.isLoadedInState(t);return n!==o},componentDidUpdate:function(){r(this.props.src)&&!this.isLoadedInState(this.state)&&this.loadResources()},isLoadedInState:function(e){return e.imageLoaded&&e.dataLoaded},loadResources:function(){var e=this,t=p(this.props.src);if(T[t])T[t].loaded?this.onDataLoaded(T[t].data):T[t].dataCallbacks.push(this.onDataLoaded);else{var n={loaded:!1,dataCallbacks:[this.onDataLoaded],data:null};T[t]=n;var r=function(e,r){C(e,{callbackName:"svgData"+t,success:function(e){n.data=e,n.loaded=!0,g.each(n.dataCallbacks,function(e){e(n.data)})},error:r})};l()?r(c(this.props.src),function(t,n,o){r(s(e.props.src),function(t,n,r){console.error("Data load failed:",s(e.props.src),r)})}):r(s(this.props.src),function(t,n,r){console.error("Data load failed:",s(e.props.src),r)})}},onDataLoaded:function(e){this.isMounted()&&e.labels&&e.range&&this.setState({dataLoaded:!0,labels:e.labels,range:e.range})},sizeProvided:function(){return null!=this.props.width&&null!=this.props.height;
},onImageLoad:function(){var e=this;this.sizeProvided()?this.setState({imageLoaded:!0}):x.getImageSize(this.props.src,function(t,n){e.isMounted()&&e.setState({imageLoaded:!0,imageDimensions:[t,n]})})},setupGraphie:function(e,t){var n=this;g.map(t.labels,function(t){if(u()){var r=e.label(t.coordinates,t.content,t.alignment,!1);m(r).data("jipt-label-index",M.length),M.push({label:r,useMath:t.typesetAsMath})}else if(t.coordinates){var o=e.label(t.coordinates,t.content,t.alignment,t.typesetAsMath,{"font-size":100*n.props.scale+"%"}),i=o.position(),a=n.props.height*n.props.scale,s=n.props.width*n.props.scale;o.css({top:i.top/a*100+"%",left:i.left/s*100+"%"}),g.each(t.style,function(e,t){o.css(t,e)})}})},_handleZoomClick:function(e){var t=m(e.target);(t.width()<this.props.width||this.props.zoomToFullSizeOnMobile)&&E.ZoomService.handleZoomClick(e,this.props.zoomToFullSizeOnMobile),this.props.trackInteraction&&this.props.trackInteraction()},render:function(){var e,t=this.props.src,n={alt:this.props.alt,title:this.props.title},i=this.props.width&&this.props.width*this.props.scale,s=this.props.height&&this.props.height*this.props.scale,l={width:i,height:s},u=this.props.responsive&&!(!i||!s);this.props.extraGraphie&&this.props.extraGraphie.labels.length&&(e=f.createElement(y,{box:this.props.extraGraphie.box,range:this.props.extraGraphie.range,options:{labels:this.props.extraGraphie.labels},responsive:!0,addMouseLayer:!1,setup:this.setupGraphie}));var c=void 0===this.props.preloader?h:this.props.preloader,p=c?function(){return c(l)}:null;if(!r(t)){if(u){var m=d({zoomable:i>w,"svg-image":!0});return n.onClick=this._handleZoomClick,f.createElement(v,{className:m,width:i,height:s,constrainHeight:this.props.constrainHeight,allowFullBleed:this.props.allowFullBleed&&o(t)},f.createElement(b,{src:t,imgProps:n,preloader:p,onUpdate:this.props.onUpdate}),e)}return n.style=l,f.createElement(b,{src:t,preloader:p,imgProps:n,onUpdate:this.props.onUpdate})}var x,E=a(t);if(this.isLoadedInState(this.state)){var T;T=this.sizeProvided()?[i,s]:[this.state.imageDimensions[0]*this.props.scale,this.state.imageDimensions[1]*this.props.scale];var C=[40*this.props.scale,40*this.props.scale];x=f.createElement(y,{ref:"graphie",box:T,scale:C,range:this.state.range,options:g.pick(this.state,"labels"),responsive:u,addMouseLayer:!1,setup:this.setupGraphie})}return u?f.createElement(v,{className:"svg-image",width:i,height:s,constrainHeight:this.props.constrainHeight},f.createElement(b,{src:E,onLoad:this.onImageLoad,onUpdate:this.props.onUpdate,preloader:p,imgProps:n}),x,e):(n.style=l,f.createElement("div",{className:"unresponsive-svg-image",style:l},f.createElement(b,{src:E,onLoad:this.onImageLoad,onUpdate:this.props.onUpdate,preloader:p,imgProps:n}),x))}});e.exports=O},function(e,t,n){"use strict";var r={PHONE:"phone",TABLET:"tablet",DESKTOP:"desktop"};e.exports={devices:r}},function(e,t,n){"use strict";e.exports={iconCheck:{path:"M10,3.8C10,4,9.9,4.2,9.8,4.3L5.1,8.9L4.3,9.8C4.2,9.9,4,10,3.8,10\n        S3.5,9.9,3.4,9.8L2.5,8.9L0.2,6.6C0.1,6.5,0,6.3,0,6.2s0.1-0.3,0.2-0.4\n        l0.9-0.9c0.1-0.1,0.3-0.2,0.4-0.2s0.3,0.1,0.4,0.2l1.9,1.9l4.2-4.2c0.1\n        -0.1,0.3-0.2,0.4-0.2c0.2,0,0.3,0.1,0.4,0.2l0.9,0.9C9.9,3.5,10,3.7,\n        10,3.8z",width:10,height:10},iconChevronDown:{path:"M99.669 13.048q0 3.36-2.352 5.712l-41.664 41.664q-2.408 2.408-5.88 2.408t-5.712-2.408l-41.664-41.664q-2.408-2.24-2.408-5.712t2.408-5.88l4.76-4.816q2.52-2.352 5.88-2.352t5.656 2.352l31.136 31.136 31.08-31.136q2.352-2.352 5.712-2.352t5.88 2.352l4.816 4.816q2.352 2.52 2.352 5.88z",width:100,height:63.034},iconChevronRight:{path:"M62.808 49.728q0 3.36-2.352 5.88l-41.72 41.664q-2.352 2.408-5.768 2.408t-5.768-2.408l-4.872-4.76q-2.352-2.52-2.352-5.88t2.352-5.712l31.08-31.136-31.08-31.024q-2.352-2.52-2.352-5.88t2.352-5.712l4.872-4.76q2.296-2.408 5.768-2.408t5.768 2.408l41.72 41.664q2.352 2.296 2.352 5.656z",width:63.034,height:100},iconCircle:{path:"M100.035 50.046q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleArrowDown:{path:"M50.046 83.676q1.767 0 2.907-1.14l29.526-29.526q1.197-1.197 1.197-2.907t-1.197-2.964l-5.928-5.928q-1.197-1.14-2.964-1.14t-2.907 1.14l-12.312 12.312l0-32.661q0-1.71-1.254-2.964t-2.907-1.254l-8.322 0q-1.71 0-2.964 1.254t-1.254 2.964l0 32.661l-12.312-12.312q-1.197-1.254-2.907-1.254t-2.907 1.254l-5.928 5.928q-1.197 1.197-1.197 2.964t1.197 2.907l29.469 29.526q1.197 1.14 2.964 1.14zm49.989-33.63q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleArrowUp:{path:"M54.207 83.391q1.653 0 2.907-1.254t1.254-2.907l0-32.718l12.312 12.312q1.254 1.254 2.964 1.254t2.907-1.254l5.928-5.928q1.197-1.197 1.14-2.964 0-1.767-1.14-2.907l-29.526-29.526q-1.197-1.14-2.907-1.14t-2.964 1.14l-29.469 29.526q-1.197 1.254-1.197 2.964t1.197 2.907l5.928 5.928q1.197 1.197 2.907 1.197t2.907-1.197l12.312-12.312l0 32.718q0 1.653 1.254 2.907t2.964 1.254l8.322 0zm45.828-33.345q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleThin:{path:"M50.046 8.322q-8.493 0-16.188 3.306-15.561 6.669-22.173 22.23-3.363 7.695-3.363 16.188t3.306 16.188 8.949 13.281q5.586 5.586 13.281 8.892t16.188 3.306 16.188-3.306 13.281-8.892 8.892-13.281 3.306-16.188-3.306-16.188-8.892-13.281-13.281-8.949q-7.695-3.306-16.188-3.306zm0 91.713q-13.623 0-25.137-6.726t-18.183-18.183q-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.126q-11.514 6.726-25.08 6.726z",width:100,height:99.944},iconDesktop:{path:"M94.208 52.119l0-43.746q0-.69-.506-1.15t-1.196-.506l-84.088 0q-.69 0-1.196.506t-.506 1.15l0 43.746q0 .69.506 1.196t1.196.506l84.088 0q.69 0 1.196-.506t.506-1.196zm6.716-43.746l0 57.224q0 3.45-2.484 5.934t-5.934 2.484l-28.566 0q0 3.128 2.53 7.774.828 1.61.828 2.622t-1.012 2.07q-1.012 1.012-2.346.966l-26.91 0q-1.38 0-2.392-1.012t-1.012-2.024q0-1.058 1.656-4.14t1.748-6.256l-28.612 0q-3.45 0-5.934-2.484t-2.484-5.934l0-57.224q0-3.45 2.484-5.934t5.934-2.438l84.088 0q3.45 0 5.98 2.438 2.438 2.484 2.438 5.934z",width:100,height:86.648},iconDropdownArrow:{path:"M9 9.8c0 .5.7 1.7 1.5 2.8 1.5 1.9 1.5 1.9 3 0C15.7 9.7 15.4 9 12 9c-1.6 0-3 .4-3 .8z",width:24,height:24},iconExclamationSign:{path:"M58.368 81.225l0-12.369q0-.912-.57-1.539t-1.425-.627l-12.54 0q-.855-.057-1.482.627t-.684 1.539l0 12.369q-.057.855.627 1.482t1.539.684l12.54 0q.855 0 1.425-.627t.57-1.539zm1.026-62.871q0-1.596-2.223-1.71l-14.307 0q-2.109 0-2.223 1.71l1.14 40.47q0 .627.627 1.14t1.539.456l12.084 0q.912-.057 1.539-.513t.684-1.083zm-9.348-18.354q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669z",width:100,height:99.944},iconGear:{path:"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z",width:1792,height:1792},iconMobilePhone:{path:"M36.04 89.557q0-2.584-1.836-4.42t-4.42-1.836-4.352 1.836q-1.836 1.836-1.836 4.42t1.836 4.352 4.42 1.836q2.652-.068 4.42-1.836t1.768-4.352zm16.184-12.444l0-54.74q0-1.088-.748-1.768t-1.768-.68l-39.78 0q-1.088 0-1.768.748t-.68 1.7l0 54.74q0 1.02.748 1.768t1.7.68l39.78 0q1.02-.068 1.768-.748t.748-1.7zm-14.892-65.892q0-1.224-1.292-1.292l-12.444 0q-1.224.068-1.224 1.292t1.224 1.224l12.444 0q1.292 0 1.292-1.224zm22.372-1.292l0 79.628q0 3.944-2.992 6.936t-7.004 2.992l-39.78 0q-4.012 0-7.004-2.924-2.924-2.924-2.924-7.004l0-79.628q0-4.012 2.924-6.936t7.004-2.992l39.78 0q4.012-.068 7.004 2.924t2.992 7.004z",width:60.013,height:100},iconOk:{path:"M37.964 76.048q-2.576 0-4.368-1.792l-31.864-31.864q-1.792-1.792-1.792-4.368t1.792-4.368l8.736-8.68q1.792-1.792 4.368-1.792t4.312 1.792l18.816 18.872 42-42.056q1.792-1.792 4.368-1.792t4.312 1.792l8.736 8.736q1.792 1.792 1.792 4.368t-1.792 4.312l-55.048 55.048q-1.792 1.792-4.368 1.792z",width:100,height:76.637},iconPlus:{path:"M99.758 43.09l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-29.45 0l0 29.45q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-29.45l-29.45 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l29.45 0l0-29.45q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836l0 29.45l29.45 0q2.852 0 4.836 1.984t1.984 4.836z",width:100,height:100},iconRemove:{path:"M100.464 80.808q0 3.404-2.368 5.772l-11.47 11.544q-2.368 2.368-5.772 2.368t-5.698-2.368l-24.864-24.864-24.864 24.864q-2.368 2.368-5.772 2.368t-5.772-2.368l-11.47-11.544q-2.368-2.368-2.368-5.772t2.368-5.698l24.864-24.864-24.864-24.864q-2.368-2.368-2.368-5.772t2.368-5.772l11.47-11.47q2.368-2.368 5.772-2.368t5.772 2.368l24.864 24.864 24.864-24.864q2.294-2.368 5.698-2.368t5.772 2.368l11.47 11.47q2.368 2.368 2.368 5.772t-2.368 5.772l-24.864 24.864 24.864 24.864q2.368 2.294 2.368 5.698z",width:100,height:100},iconStar:{path:"M15.1052249,9.55978547 L22.0028147,9.55978545 C23.6568673,9.55978545 23.9349557,10.3753626 22.6181351,11.3858845 L16.9943688,15.7015366 L19.2518801,22.8294455 C19.7526645,24.4106317 19.0984455,24.8825885 17.769353,23.8673293 L12.0490577,19.4977438 L6.5116497,23.8422153 C5.20921411,24.8640642 4.53299569,24.4067544 5.00266927,22.8160582 L7.10332364,15.7015366 L1.42794544,11.3634306 C0.110226041,10.3562014 0.383967283,9.54239221 2.0409646,9.54574013 L8.9924676,9.55978547 L11.1485117,2.72669438 C11.6458693,1.15043244 12.4548928,1.15900049 12.9494787,2.72669438 L15.1052249,9.55978547 Z",width:24,height:24},iconTryAgain:{path:"M3.74890556,17.9799506 C2.19251241,16.1970909 1.10103636,13.4971457 1.13090903,11.1491783 C1.17160478,7.95052637 4.01704076,0.865059407 11.7028044,0.865059407 C19.388568,0.865059407 22.3026521,7.35203035 22.3026521,11.5879453 C22.3026521,15.8238603 19.386629,20.5574509 13.6832464,21.7131548 L13.6757539,17.3722171 C17.0812986,16.2190517 18.331158,14.1944123 18.3311578,11.5879451 C18.3311574,8.16554692 15.6664205,5.03476549 11.7028048,5.20494205 C7.73918903,5.37511861 5.59244567,8.66930079 5.59244567,11.1491783 C5.59244567,12.9090077 6.11128139,14.1753512 6.93640437,15.3053215 L8.14052356,14.2949456 C8.98559348,13.5858477 9.6994861,13.9070448 9.73489556,15.0076413 L9.91284941,20.5388014 C9.94832683,21.6415103 9.09967118,22.3514475 8.02194403,22.1254594 L2.60571602,20.9897332 C1.5259204,20.7633114 1.34338662,19.9984207 2.18070755,19.295825 L3.74890556,17.9799506 Z",width:23,height:23},iconTablet:{path:"M45.322 90.706q0-1.86-1.302-3.224-1.364-1.364-3.224-1.364t-3.224 1.364-1.302 3.224q0 1.86 1.364 3.224 1.302 1.364 3.162 1.302 1.86.062 3.224-1.302t1.302-3.224zm27.218-11.346l0-68.014q0-.93-.682-1.612t-1.55-.682l-58.962 0q-.93 0-1.612.682t-.682 1.612l0 68.014q0 .93.682 1.612t1.612.62l58.962 0q.992-.062 1.612-.682t.62-1.55zm9.114-68.014l0 77.066q0 4.65-3.348 7.998t-7.998 3.348l-58.962 0q-4.65 0-7.998-3.348t-3.348-7.998l0-77.066q0-4.65 3.348-7.998t7.998-3.348l58.962 0q4.65 0 7.998 3.348t3.348 7.998z",width:81.852,height:100},iconTrash:{path:"M31.293 37.506q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.218 0q-.912-.057-1.482-.627t-.57-1.482l0-37.506q0-2.109 2.052-2.109l4.218 0zm18.753 2.109l0 37.506q0 .912-.57 1.482t-1.539.627l-4.161 0q-1.995 0-2.109-2.109l0-37.506q.057-.912.627-1.482t1.482-.627l4.161 0q.969.057 1.539.627t.57 1.482zm14.592-2.109q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.161 0q-.969-.057-1.539-.627t-.57-1.482l0-37.506q0-2.109 2.109-2.109l4.161 0zm10.431 49.248l0-61.731l-58.368 0l0 61.731q.057 2.679.969 3.819t1.083 1.14l54.207 0q.171 0 1.14-1.083t.969-3.876zm-43.776-70.11l29.184 0l-3.135-7.581q-.456-.57-1.14-.741l-20.634 0q-.627.114-1.083.741zm-31.293 2.109q0-1.995 2.109-2.109l20.121 0l4.56-10.83q.969-2.394 3.477-4.104 2.565-1.71 5.187-1.71l20.805 0q2.622 0 5.187 1.71t3.477 4.104l4.56 10.83l20.178 0q.912.057 1.482.627t.57 1.482l0 4.161q0 1.995-2.052 2.109l-6.27 0l0 61.731q0 5.415-3.078 9.348t-7.353 3.933l-54.207 0q-4.275 0-7.353-3.819t-3.078-9.177l0-62.016l-6.213 0q-.969 0-1.539-.57t-.57-1.539l0-4.161z",width:91.681,height:100},iconUndo:{path:"M10,6.6C10,7.2,9.8,8,9.3,9.1c0,0,0,0.1-0.1,0.1S9.2,9.3,9.2,9.4c0,0,0,0.1-0.1,0.1C9,9.6,9,9.6,8.9,9.6 c-0.1,0-0.1,0-0.1-0.1c0,0,0-0.1,0-0.1c0,0,0-0.1,0-0.1s0-0.1,0-0.1c0-0.3,0-0.5,0-0.7c0-0.4,0-0.7-0.1-1C8.6,7.1,8.5,6.9,8.4,6.7S8.2,6.3,8,6.1C7.8,5.9,7.6,5.8,7.4,5.7S6.9,5.5,6.7,5.5S6.1,5.4,5.8,5.4c-0.3,0-0.6,0-1,0H3.6v1.4c0,0.1,0,0.2-0.1,0.3C3.4,7.1,3.3,7.1,3.2,7.1C3.1,7.1,3,7.1,3,7L0.1,4.1C0,4.1,0,4,0,3.9s0-0.2,0.1-0.3L3,0.8C3,0.7,3.1,0.7,3.2,0.7c0.1,0,0.2,0,0.3,0.1C3.5,0.9,3.6,0.9,3.6,1v1.4h1.2c2.6,0,4.3,0.7,4.9,2.2C9.9,5.2,10,5.8,10,6.6z",width:10,height:10}}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=function(e){var t=e.path,n=e.width,i=e.height,a=e.style,s=void 0===a?{}:a;return o.createElement("svg",{style:r({verticalAlign:"middle"},s),width:n/i+"em",height:"1em",viewBox:"0 0 "+n+" "+i},o.createElement("path",{d:t,fill:"currentColor"}))};i.propTypes={path:o.PropTypes.string.isRequired,height:o.PropTypes.number.isRequired,width:o.PropTypes.number.isRequired,style:o.PropTypes.object},e.exports=i},function(e,t,n){"use strict";var r=n(55),o=n(74),i=n(25),a=function(){},s=function(e,t,n){var r=function r(o,a){var s,u=i.upgradeWidgetInfoToLatestVersion(o),c=i.getVersion(u.type);s=c&&u.version.major===c.major?i.traverseChildWidgets(u,function(t){return l(t,e,r,n)}):u;var p=t(s,a);return void 0!==p?p:s};return r},l=function(e,t,n,i){var a=e.content;if(null!=e.content){var s=t(e.content);void 0!==s&&(a=s)}var l=o.mapObject(e.widgets||{},function(e,t){return null==e||null==e.type?e:n(e,t)}),u=r.extend({},e,{content:a,widgets:l}),c=i(u);return void 0!==c?c:u},u=function(e,t,n,r){return t=t||a,n=n||a,r=r||a,l(e,t,s(t,n,r),r)};e.exports={traverseRendererDeep:u}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(55),i=n(193),a=n(81),s=n(11),l=function(e,t,n){var r=e.length,o=0;if(n){if(t.inline)return null;for(;o<r&&" "===e[o];)o++}if(!(o<r&&"$"===e[o]))return null;o++;for(var i=o,a=0;o<r;){var s=e[o];if("\\"===s)o++;else{if(a<=0&&"$"===s){var l=o+1;if(n){var u=/^(?: *\n){2,}/.exec(e.slice(l));l=u?l+u[0].length:null}return l?[e.substring(0,l),e.substring(i,o)]:null}if("{"===s)a++;else if("}"===s)a--;else if("\n"===s&&"\n"===e[o-1])return null}o++}return null},u=function(e,t){return l(e,t,!1)},c=function(e,t){return l(e,t,!0)},p=new RegExp("^\\|\\| +(.*) +\\|\\| *\\n("+i.defaultRules.nptable.match.regex.source.substring(1)+")"),h=i.blockRegex(/^(crwdns.*)\n\s*\n/),d=o.extend({},i.defaultRules,{columns:{order:-2,match:i.blockRegex(/^([\s\S]*\n\n)={5,}\n\n([\s\S]*)/),parse:function(e,t,n){return{col1:t(e[1],n),col2:t(e[2],n)}},react:function(e,t,n){return React.createElement("div",{className:"perseus-two-columns",key:n.key},React.createElement("div",{className:"perseus-column"},React.createElement("div",{className:"perseus-column-content"},t(e.col1,n))),React.createElement("div",{className:"perseus-column"},React.createElement("div",{className:"sat-header-grafting-area"}),React.createElement("div",{className:"perseus-column-content"},t(e.col2,n),React.createElement("div",{className:"sat-grafting-area"}))))}},crowdinId:{order:-1,match:function(e,t,n){return t.isJipt?h(e,t,n):null},parse:function(e,t,n){return{id:e[1]}},react:function(e,t,n){return e.id}},titledTable:{order:i.defaultRules.nptable.order-.5,match:i.blockRegex(p),parse:function(e,t,n){var r=i.parseInline(t,e[1],n),a=o.rest(e,2),s=i.defaultRules.nptable.parse(a,t,n);return{title:r,table:s}},react:function(e,t,n){var r=e.table?i.defaultRules.table.react(e.table,t,n):"//invalid table//";return React.createElement("div",{className:"perseus-titled-table",key:n.key},React.createElement("div",{className:"perseus-table-title"},t(e.title,n)),r)}},widget:{order:i.defaultRules.link.order-.75,match:i.inlineRegex(s.rWidgetRule),parse:function(e,t,n){return{id:e[1],widgetType:e[2]}},react:function(e,t,n){return React.createElement("em",{key:n.key},"[Widget: ",e.id,"]")}},blockMath:{order:i.defaultRules.codeBlock.order+.5,match:c,parse:function(e,t,n){return{content:e[1]}},react:function(e,t,n){return React.createElement(a,{key:n.key},e.content)}},math:{order:i.defaultRules.link.order-.25,match:u,parse:function(e,t,n){return{content:e[1]}},react:function(e,t,n){return React.createElement(a,{key:n.key},e.content)}},unescapedDollar:{order:i.defaultRules.link.order-.24,match:i.inlineRegex(/^(?!\\)\$/),parse:function(e,t,n){return{}},react:function(e,t,n){return"$"}},fence:o.extend({},i.defaultRules.fence,{parse:function(e,t,n){var r=i.defaultRules.fence.parse(e,t,n);return"alt"===r.lang?{type:"codeBlock",lang:"alt",content:t(r.content+"\n\n",n)}:r}}),link:o.extend({},i.defaultRules.link,{react:function(e,t,n){var o=i.defaultRules.link.react(e,t,n),a=o.props.href;"undefined"!=typeof KA&&KA.isZeroRated&&(a=a.match(/https?:\/\/[^\/]*khanacademy.org/)?a.replace("khanacademy.org","zero.khanacademy.org"):"/zero/external-link?url="+encodeURIComponent(a));var s=r({},o.props,{href:a});return n.baseElements&&n.baseElements.Link?n.baseElements.Link(s):React.cloneElement(o,s)}}),codeBlock:o.extend({},i.defaultRules.codeBlock,{react:function(e,t,n){return"alt"===e.lang?React.createElement("div",{key:n.key,className:"perseus-markdown-alt perseus-sr-only"},t(e.content,n)):i.defaultRules.codeBlock.react(e,t,n)}}),list:o.extend({},i.defaultRules.list,{match:function(e,t,n){return t.isJipt?null:i.defaultRules.list.match(e,t,n)}})}),f=i.parserFor(d),m=function(e,t){var n=e+"\n\n";return f(n,o.extend({inline:!1},t))},g=function(e,t){return f(e,o.extend({inline:!0},t))},v=function e(t,n){o.isArray(t)?o.each(t,function(t){return e(t,n)}):o.isObject(t)&&(n(t),"table"===t.type?(e(t.header,n),e(t.cells,n)):"list"===t.type?e(t.items,n):"titledTable"===t.type?e(t.table,n):"columns"===t.type?(e(t.col1,n),e(t.col2,n)):o.isArray(t.content)&&e(t.content,n))},y=function e(t){if(o.isArray(t))return o.flatten(o.map(t,e));if(t.content&&o.isString(t.content))return t.type.toLowerCase().indexOf("code")!==-1?["",t.content,""]:[t.content.replace(/\s+/g," ")];var n=o.chain(t).values().flatten().filter(function(e){return null!=e&&o.has(e,"type")}).value();if(n.length){var r=e(n);if("paragraph"===t.type&&r.length){r[0]=r[0].replace(/^\s+/,"");var i=r.length-1;r[i]=r[i].replace(/\s+$/,"")}return r}return[]},b=function(e){var t=m(e),n=y(t).join("");return n.length};e.exports={characterCount:b,traverseContent:v,parse:m,parseInline:g,reactFor:i.reactFor,ruleOutput:i.ruleOutput(d,"react"),basicOutput:i.reactFor(i.ruleOutput(d,"react")),sanitizeUrl:i.sanitizeUrl}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=r.createClass({displayName:"JsonEditor",getInitialState:function(){return{currentValue:JSON.stringify(this.props.value,null,4),valid:!0}},componentWillReceiveProps:function(e){var t=!this.state.valid||!o.isEqual(e.value,JSON.parse(this.state.currentValue));t&&this.setState(this.getInitialState())},render:function(){var e="perseus-json-editor "+(this.state.valid?"valid":"invalid");return r.createElement("textarea",{className:e,value:this.state.currentValue,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur})},handleKeyDown:function(e){if("Tab"===e.key){var t=e.target.selectionStart,n=e.target.value,r=n.substring(0,t),o=n.substring(t,n.length);e.target.value=r+"    "+o,e.target.selectionStart=r.length+4,e.target.selectionEnd=r.length+4,e.preventDefault(),this.handleChange(e)}},handleChange:function(e){var t=e.target.value;try{var n=JSON.parse(t);o.isString(n)&&(n=JSON.parse(n)),this.setState({currentValue:t,valid:!0},function(){this.props.onChange(n)})}catch(e){this.setState({currentValue:t,valid:!1})}},handleBlur:function(e){var t=e.target.value;try{var n=JSON.parse(t);o.isString(n)&&(n=JSON.parse(n)),this.setState({currentValue:JSON.stringify(n,null,4),valid:!0},function(){this.props.onChange(n)})}catch(e){this.setState({currentValue:JSON.stringify(this.props.value,null,4),valid:!0})}}});e.exports=i},function(e,t,n){"use strict";var r=n(54),o=n(186),i=o.css,a=o.StyleSheet,s=r.createClass({displayName:"KatexErrorView",propTypes:{errorList:r.PropTypes.arrayOf(r.PropTypes.shape({math:r.PropTypes.string.isRequired,message:r.PropTypes.string.isRequired})).isRequired},getInitialState:function(){return{showErrors:!1}},handleToggleKatexErrors:function(e){this.setState({showErrors:!this.state.showErrors})},render:function(){var e=this.props.errorList,t=this.state.showErrors,n=t?"icon-chevron-down":"icon-chevron-right";return r.createElement("div",{className:i(l.errorContainer)},r.createElement("div",{className:i(l.title),onClick:this.handleToggleKatexErrors},r.createElement("i",{className:n,style:{fontSize:14}}),"  KaTeX Errors (",e.length,")"),t&&r.createElement("div",{className:i(l.errorExplanation)},"These errors will cause your LaTeX to load really slowly for the student. Please fix them if you can. If you can’t because KaTeX doesn’t support the feature you need, please message Cam."),t&&e.map(function(e,t){return r.createElement("div",{className:i(l.error),key:t},r.createElement("div",{style:{color:"red"}},e.math),r.createElement("div",null,e.message))}))}}),l=a.create({title:{backgroundColor:"#eee",fontSize:"1.25em",padding:"4px 10px"},errorContainer:{border:"1px solid #ddd",borderTop:"none"},errorExplanation:{padding:"4px 10px",backgroundColor:"pink"},error:{padding:"4px 10px"}});e.exports=s},function(e,t,n){"use strict";var r=n(54),o=n(55),i=r.createClass({displayName:"PropCheckBox",propTypes:{labelAlignment:r.PropTypes.oneOf(["left","right"])},DEFAULT_PROPS:{label:null,onChange:null,labelAlignment:"left"},getDefaultProps:function(){return this.DEFAULT_PROPS},propName:function e(){var e=o.find(o.keys(this.props),function(e){return!o.has(this.DEFAULT_PROPS,e)},this);if(!e)throw new Error("Attempted to create a PropCheckBox with no prop!");return e},_labelAlignLeft:function(){return"left"===this.props.labelAlignment},render:function(){var e=this.propName();return r.createElement("label",null,this._labelAlignLeft()&&this.props.label,r.createElement("input",{type:"checkbox",checked:this.props[e],onChange:this.toggle}),!this._labelAlignLeft()&&this.props.label)},toggle:function(){var e=this.propName(),t={};t[e]=!this.props[e],this.props.onChange(t)}});e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return e.replace(/\{align[*]?\}/g,"{aligned}")}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(194),a=i.CharacterMetadata,s=i.Entity,l=i.Editor,u=i.EditorState,c=i.CompositeDecorator,p=i.ContentState,h=i.Modifier,d=i.genKey,f=i.getDefaultKeyBinding,m=i.KeyBindingUtil,g=n(25),v=n(95),y=100,b="[[☃ {id}]]",x=/\[\[\u2603 [a-z-]+ [0-9]+\]\]/g,E=/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]$/,w=function(e){return new RegExp("(\\[\\[☃ "+e+"\\]\\])","gm")},T=/\[\[([a-z-]+)$/,C=/!\[[^\]]*?\]\([^\)].*?\)/g,S=/\*\*([\s\S]+?)\*\*(?!\*)/g,k=/\**(?:^|[^*])((\*|_)(\w+(\s\w+)*)\2)/g,P=/(\*\*\*\w+(\s\w+)*\*\*\*)/g,_=/__([\s\S]+?)__(?!_)/g,M=/^ *(#{1,6})([^\n]+)$/g,N=function(e,t,n){return e.findEntityRanges(function(e){return e.getEntity()&&s.get(e.getEntity()).type===n},t)},O=function(e,t){return o.createElement("span",r({},e,{style:t}),e.children)};O.propTypes={children:o.PropTypes.any};var A=function(e,t){return O(e,{backgroundColor:t})},I=function(e,t){return{strategy:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return N.apply(void 0,n.concat([e]))},component:function(e){return A(e,t)}}},R=function(e,t){return{strategy:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return v.regexStrategy.apply(v,n.concat([e]))},component:function(e){return A(e,t)}}},D={strategy:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.regexStrategy.apply(v,t.concat([S]))},component:function(e){return O(e,{fontWeight:"bold"})}},L=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.regexStrategy.apply(v,t.concat([k,function(e){var t=e.index+e[0].length-e[1].length,n=t+e[1].length;return{start:t,end:n}}]))},F={strategy:L,component:function(e){return O(e,{fontStyle:"italic"})}},B={strategy:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.regexStrategy.apply(v,t.concat([_]))},component:function(e){return O(e,{textDecoration:"underline"})}},j={strategy:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.regexStrategy.apply(v,t.concat([P]))},component:function(e){return O(e,{fontWeight:"bold",fontStyle:"italic"})}},q=function(e){var t=e.decoratedText,n=t.split(M)[1].length,r={marginBottom:0};return o.createElement("h"+n,{style:r},e.children)};q.propTypes={decoratedText:o.PropTypes.string,children:o.PropTypes.any};var z={strategy:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.regexStrategy.apply(v,t.concat([M]))},component:q},U=new c([I("WIDGET","#DFD"),I("TEMP_IMAGE","#fdffdd"),R(C,"#dffdfa"),j,D,B,F,z]),W=function(e){var t=m.hasCommandModifier(e);return t&&66===e.keyCode?"perseus-bold":t&&73===e.keyCode?"perseus-italics":t&&85===e.keyCode?"perseus-underline":t&&219===e.keyCode?"perseus-decrease-font-size":t&&221===e.keyCode?"perseus-increase-font-size":t&&220===e.keyCode?"perseus-reset-font-size":f(e)},H=o.createClass({displayName:"PerseusEditor",propTypes:{onChange:o.PropTypes.func,content:o.PropTypes.string,initialWidgets:o.PropTypes.any,placeholder:o.PropTypes.string,imageUploader:o.PropTypes.func,widgetEnabled:o.PropTypes.bool},getDefaultProps:function(){return{onChange:function(){},content:"",initialWidgets:{},widgetEnabled:!0,placeholder:"Type here"}},getInitialState:function(){var e=this.props,t=e.content,n=e.initialWidgets,r=e.widgetEnabled,o=p.createFromText(t),i=u.createWithContent(o,U);return r&&(i=this._insertWidgetsAsEntities(i,n)),{editorState:i,widgets:n,fontSizePercentage:100}},componentDidUpdate:function(e){this.props.content!==this.lastContentUpdate&&(this.lastContentUpdate=this.props.content,this.setState(this.getInitialState()))},_insertWidgetsAsEntities:function(e,t){var n=e.getCurrentContent();Object.keys(t).forEach(function(e){var t=v.findPattern(n,w(e));if(t){var r=s.create("WIDGET","IMMUTABLE",{id:e});n=h.applyEntity(n,t,r)}});var r=u.set(e,{currentContent:n});return r},_getDraftData:function(){var e=this.state.editorState,t=e.getCurrentContent(),n=e.getSelection();return{editorState:e,contentState:t,selection:n}},_getNextWidgetId:function(e){var t=this.state.widgets;return Object.keys(t).filter(function(n){return t[n].type===e}).map(function(e){return+e.split(" ")[1]}).reduce(function(e,t){return Math.max(e,t)},0)},_createInitialWidget:function(e){var t=this._getNextWidgetId(e),n=e+" "+(t+1),r={options:g.getEditor(e).defaultProps,type:e,version:g.getVersion(e)};return[n,r]},addWidget:function(e){var t=this;this.focus(function(){return t._handleChange(t._insertNewWidget(e))})},_insertNewWidget:function(e,t){var n,o=r({},this._getDraftData(),t),i=this._createInitialWidget(e),a=i[0],s=i[1],l=r({},this.state.widgets,(n={},n[a]=s,n)),u=this._insertWidgetText(o,a);return{editorState:u.editorState,widgets:l}},_insertWidgetText:function(e,t){var n=b.replace("{id}",t),r=s.create("WIDGET","IMMUTABLE",{id:t});return v.replaceSelection(e,n,r)},updateWidget:function(e,t){var n;this.setState({widgets:r({},this.state.widgets,(n={},n[e]=t,n))})},removeWidget:function(e){var t=this;this.focus(function(){var n=t._getDraftData(),r=n.editorState,o=n.contentState,i=v.findPattern(o,w(e)),a=v.deleteSelection({editorState:r,selection:i});t._handleChange({editorState:a.editorState})})},addTemplate:function(e){var t=this;this.focus(function(){t._addTemplate(e)})},_addTemplate:function(e){var t=this,n=this._getDraftData(),o=n.editorState,i=n.contentState,a=n.selection,s=r({},this.state.widgets),l=i.getBlockForKey(a.getEndKey());if(a=v.selectEnd(l),l.getText().length>0&&(i=h.splitBlock(i,a),a=i.getSelectionAfter()),"allWidgets"===e){var c=g.getAllWidgetTypes().sort();i=h.splitBlock(i,a),i=c.reduce(function(e,n){var r=t._createInitialWidget(n),o=r[0],i=r[1];return s[o]=i,e=t._insertWidgetText({contentState:e,selection:e.getSelectionAfter()},o).contentState,h.splitBlock(e,e.getSelectionAfter())},i),o=u.push(o,i,"insert-fragment")}else{var p="";"table"===e?p="header 1 | header 2 | header 3\n- | - | -\ndata 1 | data 2 | data 3\ndata 4 | data 5 | data 6\ndata 7 | data 8 | data 9":"titledTable"===e?p="|| **Table title** ||\nheader 1 | header 2 | header 3\n- | - | -\ndata 1 | data 2 | data 3\ndata 4 | data 5 | data 6\ndata 7 | data 8 | data 9":"alignment"===e?p="$\\begin{align} x+5 &= 30 \\\\\nx+5-5 &= 30-5 \\\\\nx &= 25 \\end{align}$":"piecewise"===e&&(p="$f(x) = \\begin{cases}\n7 & \\text{if $x=1$} \\\\\nf(x-1)+5 & \\text{if $x > 1$}\n\\end{cases}$"),o=v.insertText({editorState:o,contentState:i,selection:a},"\n"+p+"\n").editorState}this._handleChange({editorState:o,widgets:s})},_handleCopy:function(){var e=this,t=this._getDraftData(),n=t.contentState,r=t.selection,o=v.getEntities(n,r),i=o.reduce(function(t,n){var r=n.getData().id;return t[r]=e.state.widgets[r],t},{});return localStorage.perseusLastCopiedWidgets=JSON.stringify(i),!1},_createSafeWidgetMapping:function(e,t){var n=Object.keys(t).reduce(function(e,t){var n=t.split(" "),r=n[0],o=n[1];return e[r]=e[r]?Math.max(e[r],+o):+o,e},{}),r=Object.keys(e).reduce(function(e,t){var r=t.split(" ")[0];return n[r]=n[r]?n[r]+1:1,e[t]=r+" "+n[r],e},{});return r},_handlePaste:function(e,t,n){var o=localStorage.perseusLastCopiedWidgets;if(!o)return!1;var i=JSON.parse(o),l=r({},this.state.widgets),u=this._createSafeWidgetMapping(i,l),c=a.create(),p=function(e){var t=e.replace(new RegExp("\r","g"),""),n=Array(t.length).fill(c),r=t.replace(x,function(e,t){var r=E.exec(e),o=r[0],p=r[1],h=u[p],d=b.replace("{id}",h),f=s.create("WIDGET","IMMUTABLE",{id:h}),m=a.applyEntity(c,f),g=Array(d.length).fill(m);return n.splice.apply(n,[t,o.length].concat(g)),l[h]=i[p],o.replace(p,h)});return{text:r,characterList:n}},h=this._getDraftData();h.selection=n||h.selection;var d=v.insertText(h,e,p),f=d.editorState;return this._handleChange({editorState:f,widgets:l}),!0},_handleDrop:function(e,t){var n=this.state.editorState.getCurrentContent(),o=e.getEndKey(),i=n.getBlockForKey(o),a=v.selectEnd(i),s=t.getLink();if(!s){var l=t.getText();return this._handlePaste(l,null,a)}var u=v.insertText(r({},this._getDraftData(),{selection:a}),"\n![]("+s+")"),c=u.editorState;
return this._handleChange({editorState:c}),!0},_handleDroppedFiles:function(e,t){var n=this,r=t.filter(function(e){return e.type.match("image.*")}),o=this.state.editorState.getCurrentContent();r.forEach(function(t){var r="![]("+t.name+"...)",i=d(),l=s.create("TEMP_IMAGE","IMMUTABLE",{id:i}),u=a.create().merge({entity:l}),c=Array(r.length).fill(u),p=function(e){return e===r?{text:r,characterList:c}:null},h=e.getEndKey(),f=o.getBlockForKey(h),m=v.selectEnd(f);o=v.insertText({contentState:o,selection:m},"\n"+r+"\n",p).contentState,n.props.imageUploader(t,function(e){var t=n.state.editorState,r=t.getCurrentContent(),o=v.findEntity(r,function(e){return e.getData().id===i}),a=v.replaceSelection({editorState:t,contentState:r,selection:o},"![]("+e+")");n._handleChange({editorState:a.editorState})})});var i=u.push(this.state.editorState,o,"insert-fragment");return this._handleChange({editorState:i}),!0},_handleTab:function(e){var t=this,n=this._getDraftData(),r=n.contentState,o=n.selection;if(o.isCollapsed()&&this.props.widgetEnabled){e.preventDefault();var i=r.getBlockForKey(o.getEndKey()),a=i.getText().substring(0,o.getEndOffset()),s=a.match(T);return s&&!function(){var e=s[1],n=g.getAllWidgetTypes(),r=n.filter(function(t){return t.substring(0,e.length)===e});if(1===r.length){var i=r[0],a=o.merge({anchorOffset:s.index});t._handleChange(t._insertNewWidget(i,{selection:a}))}}(),!0}},_getDecorationForStyle:function(e){switch(e){case"perseus-bold":return"**";case"perseus-italics":return"*";case"perseus-underline":return"__";default:return null}},_handleKeyCommand:function(e){var t=this.state.fontSizePercentage;if("perseus-increase-font-size"===e)return this.setState({fontSizePercentage:t+10}),!0;if("perseus-decrease-font-size"===e)return this.setState({fontSizePercentage:t-10}),!0;if("perseus-reset-font-size"===e)return this.setState({fontSizePercentage:100}),!0;var n=this._getDecorationForStyle(e);if(null!==n){var r=this._getDraftData(),o=v.toggleDecoration(r,n),i=o.editorState;return this._handleChange({editorState:i}),!0}return!1},lastContentUpdate:"",_updateParent:function(e,t){var n=v.getEntities(e),r=n.reduce(function(e,n){var r=n.getData().id;return e[r]=t[r],e},{});this.lastContentUpdate=e.getPlainText("\n"),this.props.onChange({content:this.lastContentUpdate,widgets:r})},pastContentState:null,lastIdleCallback:null,_handleChange:function(e){var t=this,n=r({},this.state,e),o=n.widgets,i=n.editorState;i=v.snapSelectionOutsideEntities({editorState:i},this.state.editorState.getSelection()).editorState;var a=i.getCurrentContent();a!==this.pastContentState&&(clearTimeout(this.lastIdleCallback),this.lastIdleCallback=setTimeout(function(){return t._updateParent(a,o)},y)),this.pastContentState=a,this.setState({editorState:i,widgets:o})},focus:function(e){this.editor.focus();var t=this.state.editorState;t=u.set(t,{selection:t.getSelection().set("hasFocus",!0),forceSelection:!0}),this.setState({editorState:t},e)},render:function(){var e=this;return o.createElement("div",{onCopy:this._handleCopy,onCut:this._handleCopy,onDragStart:this._handleCopy,style:{fontSize:this.state.fontSizePercentage+"%"}},o.createElement(l,{ref:function(t){return e.editor=t},editorState:this.state.editorState,onChange:function(t){return e._handleChange({editorState:t})},spellCheck:!0,stripPastedStyles:!0,placeholder:this.props.placeholder,handlePastedText:this._handlePaste,handleDroppedFiles:this._handleDroppedFiles,handleDrop:this._handleDrop,keyBindingFn:W,handleKeyCommand:this._handleKeyCommand,onTab:this._handleTab}))}});e.exports=H},function(e,t,n){"use strict";e.exports=["key","ref","containerSizeClass","widgetId","onChange","problemNum","apiOptions","questionCompleted","interWidgets","onRemove","id","onBlur","onFocus","trackInteraction","keypadElement"]},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(10).Options,a={propTypes:{apiOptions:o.PropTypes.any},getDefaultProps:function(){return{apiOptions:{}}},getApiOptions:function(){return r({},i.defaults,this.props.apiOptions)}};e.exports=a},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(18),a=n(96),s=n(13),l=n(10).Options,u=n(40),c=u.iconCircleArrowDown,p=u.iconCircleArrowUp,h=u.iconPlus,d=u.iconTrash,f=n(41),m=n(20),g=r.createClass({displayName:"HintEditor",propTypes:{apiOptions:l.propTypes,imageUploader:r.PropTypes.func},getDefaultProps:function(){return{content:"",replace:!1}},handleChange:function(e){this.props.onChange({replace:e.target.checked})},render:function(){return r.createElement("div",{className:"perseus-hint-editor perseus-editor-left-cell"},r.createElement("div",{className:"pod-title"},"Hint"),r.createElement(i,{ref:"editor",apiOptions:this.props.apiOptions,widgets:this.props.widgets,content:this.props.content,images:this.props.images,replace:this.props.replace,placeholder:"Type your hint here...",imageUploader:this.props.imageUploader,onChange:this.props.onChange}),r.createElement("div",{className:"hint-controls-container clearfix"},r.createElement("span",{className:"reorder-hints"},r.createElement("button",{type:"button",className:this.props.isLast?"hidden":"",onClick:o.partial(this.props.onMove,1)},r.createElement(f,c))," ",r.createElement("button",{type:"button",className:this.props.isFirst?"hidden":"",onClick:o.partial(this.props.onMove,-1)},r.createElement(f,p))," ",this.props.isLast&&r.createElement(a,null,r.createElement("p",null,"The last hint is automatically bolded."))),r.createElement("input",{type:"checkbox",checked:this.props.replace,onChange:this.handleChange}),"Replace previous hint",r.createElement("button",{type:"button",className:"remove-hint simple-button orange",onClick:this.props.onRemove},r.createElement(f,d),"Remove this hint"," ")))},focus:function(){this.refs.editor.focus()},getSaveWarnings:function(){return this.refs.editor.getSaveWarnings()},serialize:function(e){return this.refs.editor.serialize(e)}}),v=r.createClass({displayName:"CombinedHintEditor",propTypes:{apiOptions:l.propTypes,deviceType:r.PropTypes.string.isRequired,frameSource:r.PropTypes.string.isRequired,imageUploader:r.PropTypes.func},updatePreview:function(){var e=this.props.isLast&&!/\*\*/.test(this.props.hint.content);this.refs.frame.sendNewData({type:"hint",data:{hint:this.props.hint,bold:e,pos:this.props.pos,apiOptions:this.props.apiOptions}})},componentDidMount:function(){this.updatePreview()},componentDidUpdate:function(){this.updatePreview()},render:function(){var e="phone"===this.props.deviceType||"tablet"===this.props.deviceType;return r.createElement("div",{className:"perseus-combined-hint-editor perseus-editor-row"},r.createElement(g,{ref:"editor",isFirst:this.props.isFirst,isLast:this.props.isLast,widgets:this.props.hint.widgets,content:this.props.hint.content,images:this.props.hint.images,replace:this.props.hint.replace,imageUploader:this.props.imageUploader,onChange:this.props.onChange,onRemove:this.props.onRemove,onMove:this.props.onMove,apiOptions:this.props.apiOptions}),r.createElement("div",{className:"perseus-editor-right-cell"},r.createElement(s,{deviceType:this.props.deviceType,nochrome:!0},r.createElement(m,{ref:"frame",content:this.props.frameSource,datasetKey:"mobile",datasetValue:e,seamless:!0}))))},getSaveWarnings:function(){return this.refs.editor.getSaveWarnings()},serialize:function(e){return this.refs.editor.serialize(e)},focus:function(){this.refs.editor.focus()}}),y=r.createClass({displayName:"CombinedHintsEditor",propTypes:{apiOptions:l.propTypes,deviceType:r.PropTypes.string.isRequired,frameSource:r.PropTypes.string.isRequired,imageUploader:r.PropTypes.func},getDefaultProps:function(){return{onChange:function(){},hints:[]}},render:function(){var e=this.props.hints,t=o.map(e,function(t,n){return r.createElement(v,{ref:"hintEditor"+n,key:"hintEditor"+n,isFirst:0===n,isLast:n+1===e.length,hint:t,pos:n,imageUploader:this.props.imageUploader,onChange:this.handleHintChange.bind(this,n),onRemove:this.handleHintRemove.bind(this,n),onMove:this.handleHintMove.bind(this,n),deviceType:this.props.deviceType,apiOptions:this.props.apiOptions,frameSource:this.props.frameSource})},this);return r.createElement("div",{className:"perseus-hints-editor perseus-editor-table"},t,r.createElement("div",{className:"perseus-editor-row"},r.createElement("div",{className:"add-hint-container perseus-editor-left-cell"},r.createElement("button",{type:"button",className:"add-hint simple-button orange",onClick:this.addHint},r.createElement(f,h)," ","Add a hint"))))},handleHintChange:function(e,t,n,r){var i=o(this.props.hints).clone();i[e]=o.extend({},this.serializeHint(e,{keepDeletedWidgets:!0}),t),this.props.onChange({hints:i},n,r)},handleHintRemove:function(e){var t=o(this.props.hints).clone();t.splice(e,1),this.props.onChange({hints:t})},handleHintMove:function(e,t){var n=this,r=o(this.props.hints).clone(),i=r.splice(e,1)[0];r.splice(e+t,0,i),this.props.onChange({hints:r},function(){n.refs["hintEditor"+(e+t)].focus()})},addHint:function(){var e=this,t=o(this.props.hints).clone().concat([{content:""}]);this.props.onChange({hints:t},function(){var n=t.length-1;e.refs["hintEditor"+n].focus()})},getSaveWarnings:function(){var e=this;return o.chain(this.props.hints).map(function(t,n){return o.map(e.refs["hintEditor"+n].getSaveWarnings(),function(e){return"Hint "+(n+1)+": "+e})}).flatten(!0).value()},serialize:function(e){var t=this;return this.props.hints.map(function(n,r){return t.serializeHint(r,e)})},serializeHint:function(e,t){return this.refs["hintEditor"+e].serialize(t)}});e.exports=y},function(e,t,n){"use strict";var r=n(55),o=n(42),i=new RegExp('(\\[\\[☃ (passage-ref [0-9]+)\\]\\])\\s\\(["“]([\\s\\S]*)["”]\\)',"g"),a=function(e){var t=r.clone(e.widgets||{}),n=(e.content||"").replace(i,function(e,n,o,i){return t[o]=r.extend({},t[o],{options:r.extend({},t[o].options,{summaryText:i})}),n});return r.extend({},e,{content:n,widgets:t})},s=new RegExp('\\{\\{(passage-ref \\d+ \\d+)}}\\s+\\(["\\u201C]([^"]*)["\\u201D]\\)',"g"),l=function(e,t,n){return/\n\n/.test(n)?e:"{{"+t+' "'+n+'"}}'},u=function(e){if("radio"!==e.type||!e.options||!e.options.choices)return e;var t=r.map(e.options.choices,function(e){if(!e.content)return e;var t=e.content.replace(s,l);return r.extend({},e,{content:t})});return r.extend({},e,{options:r.extend({},e.options,{choices:t})})},c=function(e){return o.traverseRendererDeep(e,null,u,a)},p=function(e){var t=c(e.question),n=r.map(e.hints,function(e){return c(e)});return r.extend({},e,{question:t,hints:n})};e.exports=p},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(55),a=n(10).Options,s=n(18),l=n(97),u=n(13),c=n(62).itemDataVersion,p=n(20),h=o.createClass({displayName:"ItemEditor",propTypes:{apiOptions:a.propTypes,deviceType:o.PropTypes.string,frameSource:o.PropTypes.string.isRequired,gradeMessage:o.PropTypes.string,imageUploader:o.PropTypes.func,wasAnswered:o.PropTypes.bool},getDefaultProps:function(){return{onChange:function(){},question:{},answerArea:{}}},updateProps:function(e,t,n){var r=i(this.props).pick("question","answerArea");this.props.onChange(i(r).extend(e),t,n)},render:function(){var e="phone"===this.props.deviceType||"tablet"===this.props.deviceType;return o.createElement("div",{className:"perseus-editor-table"},o.createElement("div",{className:"perseus-editor-row perseus-question-container"},o.createElement("div",{className:"perseus-editor-left-cell"},o.createElement("div",{className:"pod-title"},"Question"),o.createElement(s,r({ref:"questionEditor",placeholder:"Type your question here...",className:"perseus-question-editor",imageUploader:this.props.imageUploader,onChange:this.handleEditorChange,apiOptions:this.props.apiOptions,showWordCount:!0},this.props.question))),o.createElement("div",{className:"perseus-editor-right-cell"},o.createElement("div",{id:"problemarea"},o.createElement(u,{deviceType:this.props.deviceType,nochrome:!0},o.createElement(p,{ref:"frame",key:this.props.deviceType,content:this.props.frameSource,datasetKey:"mobile",datasetValue:e,seamless:!0})),o.createElement("div",{id:"hintsarea",className:"hintsarea",style:{display:"none"}})))),o.createElement("div",{className:"perseus-editor-row perseus-answer-container"},o.createElement("div",{className:"perseus-editor-left-cell"},o.createElement("div",{className:"pod-title"},"Question extras"),o.createElement(l,r({ref:"itemExtrasEditor",onChange:this.handleItemExtrasChange},this.props.answerArea))),o.createElement("div",{className:"perseus-editor-right-cell"},o.createElement("div",{id:"answer_area"}))))},triggerPreviewUpdate:function(e){this.refs.frame.sendNewData(e)},handleEditorChange:function(e,t,n){var r=i.extend({},this.props.question,e);this.updateProps({question:r},t,n)},handleItemExtrasChange:function(e,t,n){var r=i.extend({},this.props.answerArea,e);this.updateProps({answerArea:r},t,n)},getSaveWarnings:function(){return this.refs.questionEditor.getSaveWarnings()},serialize:function(e){return{question:this.refs.questionEditor.serialize(e),answerArea:this.refs.itemExtrasEditor.serialize(e),itemDataVersion:c}},focus:function(){this.questionEditor.focus()}});e.exports=h},function(e,t,n){e.exports=window.React},function(e,t,n){e.exports=window._},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=n(98),s=n(186).css,l=r.createClass({displayName:"ButtonGroup",propTypes:{value:r.PropTypes.any,buttons:r.PropTypes.arrayOf(r.PropTypes.shape({value:r.PropTypes.any.isRequired,content:r.PropTypes.node,title:r.PropTypes.string})).isRequired,onChange:r.PropTypes.func.isRequired,allowEmpty:r.PropTypes.bool},getDefaultProps:function(){return{value:null,allowEmpty:!0}},render:function(){var e=this,t=this.props.value,n=i(this.props.buttons).map(function(n,o){return r.createElement("button",{title:n.title,type:"button",id:""+o,ref:"button"+o,key:""+o,className:s(a.button.buttonStyle,n.value===t&&a.button.selectedStyle),onClick:e.toggleSelect.bind(e,n.value)},n.content||""+n.value)}),o={display:"inline-block"};return r.createElement("div",{style:o},n)},focus:function(){return o.findDOMNode(this).focus(),!0},toggleSelect:function(e){var t=this.props.value;this.props.allowEmpty?this.props.onChange(t!==e?e:null):this.props.onChange(e)}});e.exports=l},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(55),a=o.createClass({displayName:"DragTarget",propTypes:{onDrop:o.PropTypes.func.isRequired,component:o.PropTypes.any,shouldDragHighlight:o.PropTypes.func},render:function(){var e=this.state.dragHover?{opacity:.3}:{},t=this.props.component;return o.createElement(t,r({},this.props,{style:i.extend({},this.props.style,e),onDrop:this.handleDrop,onDragEnd:this.handleDragEnd,onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave}))},getInitialState:function(){return{dragHover:!1}},getDefaultProps:function(){return{component:"div",shouldDragHighlight:function(){return!0}}},handleDrop:function(e){e.stopPropagation(),e.preventDefault(),this.setState({dragHover:!1}),this.props.onDrop(e)},handleDragEnd:function(){this.setState({dragHover:!1})},handleDragOver:function(e){e.preventDefault()},handleDragLeave:function(){this.setState({dragHover:!1})},handleDragEnter:function(e){this.setState({dragHover:this.props.shouldDragHighlight(e)})}});e.exports=a},function(e,t,n){e.exports=window.React.__internalReactDOM},function(e,t,n){e.exports=n(54).__internalAddons.createFragment},function(e,t,n){e.exports=window.$},function(e,t,n){!function(){"use strict";function t(e){var t;return t=e instanceof Buffer?e:new Buffer(e.toString(),"binary"),t.toString("base64")}e.exports=t}()},function(e,t,n){e.exports={apiVersion:{major:8,minor:1},itemDataVersion:{major:0,minor:1}}},function(e,t,n){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";var r=n(55),o=n(11).shuffle,i=n(101),a=function(e,t){var n=function(n){return e.randomize?o(n,t):n},i=function(e){var t=null,n=r.reject(e,function(e,n){if(e.isNoneOfTheAbove)return t=e,!0});return t&&n.push(t),n},a=e.choices.slice();return a=r.map(a,function(e,t){return r.extend({},e,{originalIndex:t})}),i(n(a))},s=function(e,t){var n=r.map(a(e,t),function(e){return r.omit(e,"correct")});return e=r.extend({},e,{choices:n}),r.pick(e,"choices","hasNoneOfTheAbove","onePerLine","multipleSelect","correctAnswer","deselectEnabled")},l=function(e,t){var n=a(e,t),o=r.pluck(n,"correct"),i=r.pick(e,"hasNoneOfTheAbove","onePerLine","multipleSelect","correctAnswer","deselectEnabled"),s=r.extend({},i,{choices:n,values:o});return s},u={1:function(e){var t,n;if(e.noneOfTheAbove){t=r.clone(e.choices);var o=r.random(0,e.choices.length-1),i=r.extend({},e.choices[o],{isNoneOfTheAbove:!0});t.splice(o,1),t.push(i),n=!0}else t=e.choices,n=!1;return r.extend(r.omit(e,"noneOfTheAbove"),{choices:t,hasNoneOfTheAbove:n})}};e.exports={name:"radio",displayName:"Multiple choice",accessible:!0,widget:i,transform:s,staticTransform:l,version:{major:1,minor:0},propUpgrades:u}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(10).Options,a=n(102),s=n(103),l=n(18),u=n(40),c=u.iconPlus,p=u.iconTrash,h=n(41),d=n(46),f=r.createClass({displayName:"ChoiceEditor",propTypes:{apiOptions:i.propTypes,choice:r.PropTypes.object,showDelete:r.PropTypes.bool,onClueChange:r.PropTypes.func,onContentChange:r.PropTypes.func,onDelete:r.PropTypes.func},render:function(){var e=this.props.choice.correct?"correct":"incorrect",t="Type a choice here...";this.props.choice.isNoneOfTheAbove&&(t=this.props.choice.correct?"Type the answer to reveal to the user...":"None of the above");var n=r.createElement(l,{ref:"content-editor",apiOptions:this.props.apiOptions,content:this.props.choice.content||"",widgetEnabled:!1,placeholder:t,disabled:this.props.choice.isNoneOfTheAbove&&!this.props.choice.correct,onChange:this.props.onContentChange}),o=r.createElement(l,{ref:"clue-editor",apiOptions:this.props.apiOptions,content:this.props.choice.clue||"",widgetEnabled:!1,placeholder:i18n._("Why is this choice "+e+"?"),onChange:this.props.onClueChange}),i=r.createElement("a",{className:"simple-button orange delete-choice",href:"#",onClick:this.props.onDelete,title:"Remove this choice"},r.createElement(h,p));return r.createElement("div",{className:"choice-clue-editors"},r.createElement("div",{className:"choice-editor "+e},n),r.createElement("div",{className:"clue-editor"},o),this.props.showDelete&&i)}}),m=r.createClass({displayName:"RadioEditor",mixins:[s],propTypes:{apiOptions:i.propTypes,choices:r.PropTypes.arrayOf(r.PropTypes.shape({content:r.PropTypes.string,clue:r.PropTypes.string,correct:r.PropTypes.bool})),displayCount:r.PropTypes.number,randomize:r.PropTypes.bool,hasNoneOfTheAbove:r.PropTypes.bool,multipleSelect:r.PropTypes.bool,onePerLine:r.PropTypes.bool,deselectEnabled:r.PropTypes.bool,static:r.PropTypes.bool},getDefaultProps:function(){return{choices:[{},{}],displayCount:null,randomize:!1,hasNoneOfTheAbove:!1,multipleSelect:!1,onePerLine:!0,deselectEnabled:!1}},render:function(){return r.createElement("div",null,r.createElement("div",{className:"perseus-widget-row"},r.createElement("div",{className:"perseus-widget-left-col"},r.createElement(d,{label:"Multiple selections",labelAlignment:"right",multipleSelect:this.props.multipleSelect,onChange:this.onMultipleSelectChange})),r.createElement("div",{className:"perseus-widget-right-col"},r.createElement(d,{label:"Randomize order",labelAlignment:"right",randomize:this.props.randomize,onChange:this.props.onChange}))),r.createElement(a,{ref:"baseRadio",multipleSelect:this.props.multipleSelect,onePerLine:!0,editMode:!0,labelWrap:!1,apiOptions:this.props.apiOptions,choices:this.props.choices.map(function(e,t){var n=this;return{content:r.createElement(f,{ref:"choice-editor"+t,apiOptions:this.props.apiOptions,choice:e,onContentChange:function(e){"content"in e&&n.onContentChange(t,e.content)},onClueChange:function(e){"content"in e&&n.onClueChange(t,e.content)},onDelete:this.onDelete.bind(this,t),showDelete:this.props.choices.length>=2}),isNoneOfTheAbove:e.isNoneOfTheAbove,checked:e.correct}},this),onCheckedChange:this.onCheckedChange}),r.createElement("div",{className:"add-choice-container"},r.createElement("a",{className:"simple-button orange",href:"#",onClick:this.addChoice.bind(this,!1)},r.createElement(h,c)," ","Add a choice"," "),!this.props.hasNoneOfTheAbove&&r.createElement("a",{className:"simple-button",href:"#",onClick:this.addChoice.bind(this,!0)},r.createElement(h,c)," ","None of the above"," ")))},onMultipleSelectChange:function(e){e=e.multipleSelect;var t=o.reduce(this.props.choices,function(e,t){return t.correct?e+1:e},0);if(!e&&t>1){var n=o.map(this.props.choices,function(e){return o.defaults({correct:!1},e)});this.props.onChange({multipleSelect:e,choices:n})}else this.props.onChange({multipleSelect:e})},onCheckedChange:function(e){var t=o.map(this.props.choices,function(t,n){return o.extend({},t,{correct:e[n],content:t.isNoneOfTheAbove&&!e[n]?"":t.content})});this.props.onChange({choices:t})},onContentChange:function(e,t){var n=this.props.choices.slice();n[e]=o.extend({},n[e],{content:t}),this.props.onChange({choices:n})},onClueChange:function(e,t){var n=this.props.choices.slice();n[e]=o.extend({},n[e],{clue:t}),""===t&&delete n[e].clue,this.props.onChange({choices:n})},onDelete:function(e,t){t.preventDefault();var n=this.props.choices.slice(),r=n[e];n.splice(e,1),this.props.onChange({choices:n,hasNoneOfTheAbove:this.props.hasNoneOfTheAbove&&!r.isNoneOfTheAbove})},addChoice:function(e,t){var n=this;t.preventDefault();var r=this.props.choices.slice(),o={isNoneOfTheAbove:e},i=r.length-(this.props.hasNoneOfTheAbove?1:0);r.splice(i,0,o),this.props.onChange({choices:r,hasNoneOfTheAbove:e||this.props.hasNoneOfTheAbove},function(){n.refs["choice-editor"+i].refs["content-editor"].focus()})},setDisplayCount:function(e){this.props.onChange({displayCount:e})},focus:function(){return this.refs["choice-editor0"].refs["content-editor"].focus(),!0},getSaveWarnings:function(){return o.some(o.pluck(this.props.choices,"correct"))?[]:["No choice is marked as correct."]},serialize:function(){return o.pick(this.props,"choices","randomize","multipleSelect","displayCount","hasNoneOfTheAbove","onePerLine","deselectEnabled")}});e.exports=m},function(e,t,n){"use strict";var r=n(99),o=n(54),i=n(55),a=n(104),s=n(105),l=n(106).parseTex,u=n(107),c=n(37),p=n(100).propTypes.keypadElementPropType,h=n(10).ClassNames,d=n(10).Options,f={number:{name:"Numbers",forms:"integer, decimal, proper, improper, mixed"},decimal:{name:"Decimals",forms:"decimal"},integer:{name:"Integers",forms:"integer"},rational:{name:"Fractions and mixed numbers",forms:"integer, proper, improper, mixed"},improper:{name:"Improper numbers (no mixed)",forms:"integer, proper, improper"},mixed:{name:"Mixed numbers (no improper)",forms:"integer, proper, mixed"},percent:{name:"Numbers or percents",forms:"integer, decimal, proper, improper, mixed, percent"},pi:{name:"Numbers with pi",forms:"pi"}},m={integer:function(e){return i18n._("an integer, like $6$")},proper:function(e){return"optional"===e.simplify?i18n._("a *proper* fraction, like $1/2$ or $6/10$"):i18n._("a *simplified proper* fraction, like $3/5$")},improper:function(e){return"optional"===e.simplify?i18n._("an *improper* fraction, like $10/7$ or $14/8$"):i18n._("a *simplified improper* fraction, like $7/4$")},mixed:function(e){return i18n._("a mixed number, like $1\\ 3/4$")},decimal:function(e){return i18n._("an *exact* decimal, like $0.75$")},percent:function(e){return i18n._("a percent, like $12.34\\%$")},pi:function(e){return i18n._("a multiple of pi, like $12\\ \\text{pi}$ or $2/3\\ \\text{pi}$")}},g=o.createClass({displayName:"InputNumber",propTypes:{answerType:o.PropTypes.oneOf(Object.keys(f)),currentValue:o.PropTypes.string,keypadElement:p,reviewModeRubric:o.PropTypes.object,widgetId:o.PropTypes.string.isRequired},getDefaultProps:function(){return{currentValue:"",size:"normal",answerType:"number",apiOptions:d.defaults}},shouldShowExamples:function(){return"number"!==this.props.answerType&&!this.props.apiOptions.staticRender},render:function(){if(this.props.apiOptions.customKeypad)return o.createElement(s,{ref:"input",value:this.props.currentValue,keypadElement:this.props.keypadElement,onChange:this.handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur});var e=this.props.reviewModeRubric,t=null,n=null;if(e){var i=this.simpleValidate(e);if(t="points"===i.type&&i.earned===i.total,!t){var l=String(e.value);e.inexact&&e.maxError&&(l+=" ± "+e.maxError);var c=[l];n=o.createElement(u,{answers:c})}}var p={};p["perseus-input-size-"+this.props.size]=!0,p[h.CORRECT]=e&&t&&this.props.currentValue,p[h.INCORRECT]=e&&!t&&this.props.currentValue,p[h.UNANSWERED]=e&&!this.props.currentValue;var d=o.createElement(a,{ref:"input",value:this.props.currentValue,onChange:this.handleChange,className:r(p),type:this._getInputType(),examples:this.examples(),shouldShowExamples:this.shouldShowExamples(),onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId,disabled:this.props.apiOptions.readOnly});return n?o.createElement("span",{className:"perseus-input-with-answer-blurb"},d,n):d},handleChange:function(e,t){this.props.onChange({currentValue:e},t)},_getInputType:function(){return this.props.apiOptions.staticRender?"tex":"text"},_handleFocus:function(){this.props.onFocus([])},_handleBlur:function(){this.props.onBlur([])},focus:function(){return this.refs.input.focus(),!0},focusInputPath:function(e){this.refs.input.focus()},blurInputPath:function(e){this.refs.input.blur()},getInputPaths:function(){return[[]]},getGrammarTypeForPath:function(e){return"number"},setInputValue:function(e,t,n){this.props.onChange({currentValue:t},n)},getUserInput:function(){return{currentValue:this.props.currentValue}},simpleValidate:function(e,t){return t=t||function(){},g.validate(this.getUserInput(),e,t)},examples:function e(){var t=this.props.answerType,n=f[t].forms.split(/\s*,\s*/),e=i.map(n,function(e){return m[e](this.props)},this);return[i18n._("**Your answer should be** ")].concat(e)}});i.extend(g,{validate:function(e,t,n){null==t.answerType&&(t.answerType="number");var r=c.number.createValidatorFunctional(t.value,{simplify:t.simplify,inexact:t.inexact||void 0,maxError:t.maxError,forms:f[t.answerType].forms}),o=l(e.currentValue),i=r(o);if(i.empty){var a=n(null,e.currentValue,i.message);return{type:"invalid",message:a===!1?null:i.message}}return{type:"points",earned:i.correct?1:0,total:1,message:i.message}}});var v=function(e){var t=e.simplify,n=e.size,r=e.answerType;return{simplify:t,size:n,answerType:r}};e.exports={name:"input-number",displayName:"Number text box (old)",defaultAlignment:"inline-block",hidden:!0,widget:g,transform:v}},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=n(11),s=n(108),l=n(96),u={number:{name:"Numbers",forms:"integer, decimal, proper, improper, mixed"},decimal:{name:"Decimals",forms:"decimal"},integer:{name:"Integers",forms:"integer"},rational:{name:"Fractions and mixed numbers",forms:"integer, proper, improper, mixed"},improper:{name:"Improper numbers (no mixed)",forms:"integer, proper, improper"},mixed:{name:"Mixed numbers (no improper)",forms:"integer, proper, mixed"},percent:{name:"Numbers or percents",forms:"integer, decimal, proper, improper, mixed, percent"},pi:{name:"Numbers with pi",forms:"pi"}},c=r.createClass({displayName:"InputNumberEditor",propTypes:{value:r.PropTypes.number,simplify:r.PropTypes.oneOf(["required","optional","enforced"]),size:r.PropTypes.oneOf(["normal","small"]),inexact:r.PropTypes.bool,maxError:r.PropTypes.number,answerType:r.PropTypes.string},getDefaultProps:function(){return{value:0,simplify:"required",size:"normal",inexact:!1,maxError:.1,answerType:"number"}},handleAnswerChange:function(e){var t=a.firstNumericalParse(e)||0;this.props.onChange({value:t})},render:function(){var e=this,t=i.map(u,function(e,t){return r.createElement("option",{value:t,key:t},e.name)},this);return r.createElement("div",null,r.createElement("div",null,r.createElement("label",null,"Correct answer:"," ",r.createElement(s,{value:""+this.props.value,onChange:this.handleAnswerChange,ref:"input"}))),r.createElement("div",null,r.createElement("label",null,"Unsimplified answers"," ",r.createElement("select",{value:this.props.simplify,onChange:function(t){e.props.onChange({simplify:t.target.value})}},r.createElement("option",{value:"required"},"will not be graded"),r.createElement("option",{value:"optional"},"will be accepted"),r.createElement("option",{value:"enforced"},"will be marked wrong"))),r.createElement(l,null,r.createElement("p",null,'Normally select "will not be graded". This will give the user a message saying the answer is correct but not simplified. The user will then have to simplify it and re-enter, but will not be penalized. (5th grade and anything after)'),r.createElement("p",null,'Select "will be accepted" only if the user is not expected to know how to simplify fractions yet. (Anything prior to 5th grade)'),r.createElement("p",null,'Select "will be marked wrong" only if we are specifically assessing the ability to simplify.'))),r.createElement("div",null,r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.inexact,onChange:function(t){e.props.onChange({inexact:t.target.checked})}})," ","Allow inexact answers"),r.createElement("label",null,r.createElement("input",{type:"checkbox",style:{visibility:"hidden"}}),"Max error:"," ",r.createElement("input",{type:"text",disabled:!this.props.inexact,defaultValue:this.props.maxError,onBlur:function(t){var n=""+(a.firstNumericalParse(t.target.value)||0);t.target.value=n,e.props.onChange({maxError:n})}}))),r.createElement("div",null,"Answer type:"," ",r.createElement("select",{value:this.props.answerType,onChange:function(t){e.props.onChange({answerType:t.target.value})}},t),r.createElement(l,null,r.createElement("p",null,'Use the default "Numbers" unless the answer must be in a specific form (e.g., question is about converting decimals to fractions).'))),r.createElement("div",null,r.createElement("label",null,"Width"," ",r.createElement("select",{value:this.props.size,onChange:function(t){e.props.onChange({size:t.target.value})}},r.createElement("option",{value:"normal"},"Normal (80px)"),r.createElement("option",{value:"small"},"Small (40px)"))),r.createElement(l,null,r.createElement("p",null,'Use size "Normal" for all text boxes, unless there are multiple text boxes in one line and the answer area is too narrow to fit them.'))))},focus:function(){return o.findDOMNode(this.refs.input).focus(),!0},serialize:function(){return i.pick(this.props,"value","simplify","size","inexact","maxError","answerType")}});e.exports=c},function(e,t,n){"use strict";var r=n(99),o=n(54),i=n(55),a=n(104),s=n(105),l=n(106).parseTex,u=n(107),c=n(10).ClassNames,p=n(10).Options,h=n(37),d=n(90),f=n(100).propTypes.keypadElementPropType,m=[{title:"Integers",value:"integer",content:"6"},{title:"Decimals",value:"decimal",content:"0.75"},{title:"Proper fractions",value:"proper",content:"⅗"},{title:"Improper fractions",value:"improper",content:"⁷⁄₄"},{title:"Mixed numbers",value:"mixed",content:"1¾"},{title:"Numbers with π",value:"pi",content:"π"}],g={integer:function(){return i18n._("an integer, like $6$")},proper:function(e){return"optional"===e.simplify?i18n._("a *proper* fraction, like $1/2$ or $6/10$"):i18n._("a *simplified proper* fraction, like $3/5$")},improper:function(e){return"optional"===e.simplify?i18n._("an *improper* fraction, like $10/7$ or $14/8$"):i18n._("a *simplified improper* fraction, like $7/4$")},mixed:function(){return i18n._("a mixed number, like $1\\ 3/4$");
},decimal:function(){return i18n._("an *exact* decimal, like $0.75$")},pi:function(){return i18n._("a multiple of pi, like $12\\ \\text{pi}$ or $2/3\\ \\text{pi}$")}},v=o.createClass({displayName:"NumericInput",propTypes:{currentValue:o.PropTypes.string,size:o.PropTypes.oneOf(["normal","small"]),apiOptions:p.propTypes,coefficient:o.PropTypes.bool,answerForms:o.PropTypes.arrayOf(o.PropTypes.shape({name:o.PropTypes.string.isRequired,simplify:o.PropTypes.oneOf(["required","optional"]).isRequired})),keypadElement:f,labelText:o.PropTypes.string,reviewModeRubric:o.PropTypes.object,trackInteraction:o.PropTypes.func.isRequired,widgetId:o.PropTypes.string.isRequired},getDefaultProps:function(){return{currentValue:"",size:"normal",apiOptions:p.defaults,coefficient:!1,answerForms:[],labelText:""}},render:function(){if(this.props.apiOptions.customKeypad)return o.createElement(s,{ref:"input",value:this.props.currentValue,keypadElement:this.props.keypadElement,onChange:this.handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur});var e,t,n=this.props.reviewModeRubric;if(n){var l=this.simpleValidate(n);if(e="points"===l.type&&l.earned===l.total,!e){var p=i.filter(n.answers,function(e){return"correct"===e.status}),h=i.map(p,function(e){var t="decimal";e.answerForms&&e.answerForms[0]&&(t=e.answerForms[0]);var n=d.toNumericString(e.value,t);return e.maxError&&(n+=" ± "+d.toNumericString(e.maxError,t)),n});t=o.createElement(u,{answers:h})}}var f={};f["perseus-input-size-"+this.props.size]=!0,f[c.CORRECT]=n&&e&&this.props.currentValue,f[c.INCORRECT]=n&&!e&&this.props.currentValue,f[c.UNANSWERED]=n&&!this.props.currentValue;var m=this.props.labelText;null!=m&&""!==m||(m=i18n._("Your answer:"));var g=o.createElement(a,{ref:"input",value:this.props.currentValue,onChange:this.handleChange,className:r(f),labelText:m,type:this._getInputType(),examples:this.examples(),shouldShowExamples:this.shouldShowExamples(),onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId,disabled:this.props.apiOptions.readOnly});return t?o.createElement("span",{className:"perseus-input-with-answer-blurb"},g,t):g},handleChange:function(e,t){this.props.onChange({currentValue:e},t),this.props.trackInteraction()},_getInputType:function(){return this.props.apiOptions.staticRender?"tex":"text"},_handleFocus:function(){this.props.onFocus([])},_handleBlur:function(){this.props.onBlur([])},focus:function(){return this.refs.input.focus(),!0},focusInputPath:function(e){this.refs.input.focus()},blurInputPath:function(e){this.refs.input.blur()},getInputPaths:function(){return[[]]},getGrammarTypeForPath:function(e){return"number"},setInputValue:function(e,t,n){this.props.onChange({currentValue:t},n)},getUserInput:function(){return{currentValue:this.props.currentValue}},simpleValidate:function(e){return v.validate(this.getUserInput(),e)},shouldShowExamples:function(){var e=0===this.props.answerForms.length,t=i.uniq(this.props.answerForms.map(function(e){return e.name})),n=t.length>=i.size(g);return!e&&!n},examples:function e(){var t=0!==this.props.answerForms.length?this.props.answerForms:i.map(i.keys(g),function(e){return{name:e,simplify:"required"}}),e=i.map(t,function(e){return g[e.name](e)});return e=i.uniq(e),[i18n._("**Your answer should be** ")].concat(e)}});i.extend(v,{validate:function(e,t){var n=i.pluck(m,"value"),r=function(e){return h.number.createValidatorFunctional(e.value,{message:e.message,simplify:"correct"===e.status?e.simplify:"optional",inexact:!0,maxError:e.maxError,forms:e.strict&&e.answerForms&&0!==e.answerForms.length?e.answerForms:n})},o=l(e.currentValue),a=i.where(t.answers,{status:"correct"}),s=i.find(i.map(a,function(e){var n=o;t.coefficient&&(n?"-"===n&&(n=-1):n=1);var i=r(e);return i(n)}),function(e){return e.correct||e.empty});if(!s){var u=[].concat(i.where(t.answers,{status:"ungraded"}),i.where(t.answers,{status:"wrong"})),c=i.find(u,function(e){var t=r(e);return t(o).correct});s={empty:!!c&&"ungraded"===c.status,correct:!!c&&"correct"===c.status,message:c?c.message:null,guess:o}}return s.empty?{type:"invalid",message:s.message}:{type:"points",earned:s.correct?1:0,total:1,message:s.message}}});var y=function(e){var t=function(e,t){return i.reduce(e,function(e,n){var r=i.find(e,t.bind(null,n));return r?e:e.concat([n])},[])},n=i.flatten(e),r=t(n,i.isEqual);return i.sortBy(r,function(e){return i.keys(g).indexOf(e.name)})},b=function(e){var t=i.extend(i.omit(e,"answers"),{answerForms:y(i.map(e.answers,function(e){return i.map(e.answerForms,function(t){return{simplify:e.simplify,name:t}})}))});return t};e.exports={name:"numeric-input",displayName:"Number text box",defaultAlignment:"inline-block",accessible:!0,widget:v,transform:b}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(109),s=n(56),l=n(18),u=n(40),c=u.iconGear,p=u.iconTrash,h=n(96),d=n(41),f=n(110),m=n(111),g=n(46),v=n(112),y=n(11).firstNumericalParse,b=[{title:"Integers",value:"integer",content:"6"},{title:"Decimals",value:"decimal",content:"0.75"},{title:"Proper fractions",value:"proper",content:"⅗"},{title:"Improper fractions",value:"improper",content:"⁷⁄₄"},{title:"Mixed numbers",value:"mixed",content:"1¾"},{title:"Numbers with π",value:"pi",content:"π"}],x=function(e){return{value:null,status:e,message:"",simplify:"required",answerForms:[],strict:!1,maxError:null}},E=r.createClass({displayName:"NumericInputEditor",mixins:[a,i],getDefaultProps:function(){return{answers:[x("correct")],size:"normal",coefficient:!1,labelText:""}},getInitialState:function(){return{lastStatus:"wrong",showOptions:o.map(this.props.answers,function(){return!1})}},render:function(){var e=this,t=this.props.answers,n=function(n){return r.createElement("div",{className:"perseus-widget-row"},r.createElement("label",null,"Unsimplified answers are"),r.createElement(s,{value:t[n].simplify,allowEmpty:!1,buttons:[{value:"required",content:"ungraded"},{value:"optional",content:"accepted"},{value:"enforced",content:"wrong"}],onChange:e.updateAnswer(n,"simplify")}),r.createElement(h,null,r.createElement("p",null,'Normally select "ungraded". This will give the user a message saying the answer is correct but not simplified. The user will then have to simplify it and re-enter, but will not be penalized. (5th grade and after)'),r.createElement("p",null,'Select "accepted" only if the user is not expected to know how to simplify fractions yet. (Anything prior to 5th grade)'),r.createElement("p",null,'Select "wrong" ',r.createElement("em",null,"only")," if we are specifically assessing the ability to simplify.")))},i=function(n){return r.createElement("div",null,r.createElement("div",{className:"perseus-widget-row"},r.createElement("label",null,"Choose the suggested answer formats"),r.createElement(f,{buttons:b,values:t[n].answerForms,onChange:e.updateAnswer(n,"answerForms")}),r.createElement(h,null,r.createElement("p",null,'Formats will be autoselected for you based on the given answer; to show no suggested formats and accept all types, simply have a decimal/integer be the answer. Values with π will have format "pi", and values that are fractions will have some subset (mixed will be "mixed" and "proper"; improper/proper will both be "improper" and "proper"). If you would like to specify that it is only a proper fraction (or only a mixed/improper fraction), deselect the other format. Except for specific cases, you should not need to change the autoselected formats.'),r.createElement("p",null,"To restrict the answer to ",r.createElement("em",null,"only"),' an improper fraction (i.e. 7/4), select the improper fraction and toggle "strict" to true. This ',r.createElement("b",null,"will not")," accept 1.75 as an answer. "),r.createElement("p",null,"Unless you are testing that specific skill, please do not restrict the answer format."))),r.createElement("div",{className:"perseus-widget-row"},r.createElement(g,{label:"Strictly match only these formats",strict:t[n].strict,onChange:e.updateAnswer.bind(e,n)})))},a=function(n){return r.createElement("div",{className:"perseus-widget-row"},r.createElement("label",null,"Max error"," ",r.createElement(m,{className:"max-error",value:t[n].maxError,onChange:e.updateAnswer(n,"maxError"),placeholder:"0"})))},u=r.createElement("div",{className:"perseus-widget-row"},r.createElement("label",null,"Width:"," "," "),r.createElement(s,{value:this.props.size,allowEmpty:!1,buttons:[{value:"normal",content:"Normal (80px)"},{value:"small",content:"Small (40px)"}],onChange:this.change("size")}),r.createElement(h,null,r.createElement("p",null,'Use size "Normal" for all text boxes, unless there are multiple text boxes in one line and the answer area is too narrow to fit them.'))),x=r.createElement("div",{className:"perseus-widget-row"},r.createElement("label",null,"Label text:"," ",r.createElement(v,{value:this.props.labelText,onChange:this.change("labelText")})),r.createElement(h,null,r.createElement("p",null,"Text to describe this input. This will be shown to users using screenreaders."))),E=r.createElement("div",null,r.createElement("div",{className:"perseus-widget-row"},r.createElement(g,{label:"Coefficient",coefficient:this.props.coefficient,onChange:this.props.onChange}),r.createElement(h,null,r.createElement("p",null,"A coefficient style number allows the student to use - for -1 and an empty string to mean 1.")))),w=r.createElement("div",null,r.createElement("a",{href:"javascript:void(0)",className:"simple-button orange",onClick:function(){return e.addAnswer()},onKeyDown:function(t){return e.onSpace(t,e.addAnswer)}},r.createElement("span",null,"Add new answer"))),T={wrong:"(address the mistake/misconception)",ungraded:"(explain in detail to avoid confusion)",correct:"(reinforce the user's understanding)"},C=function(){return t.map(function(s,u){var h=r.createElement(l,{apiOptions:e.props.apiOptions,content:s.message||"",placeholder:"Why is this answer "+s.status+"?\t"+T[s.status],widgetEnabled:!1,onChange:function(t){"content"in t&&e.updateAnswer(u,{message:t.content})}});return r.createElement("div",{className:"perseus-widget-row",key:u},r.createElement("div",{className:"input-answer-editor-value-container"+(s.maxError?" with-max-error":"")},r.createElement(m,{value:s.value,className:"numeric-input-value",placeholder:"answer",format:o.last(s.answerForms),onFormatChange:function(t,n){var r;"pi"===n?r=["pi"]:"mixed"===n?r=["proper","mixed"]:"proper"!==n&&"improper"!==n||(r=["proper","improper"]),e.updateAnswer(u,{value:y(t),answerForms:r})},onChange:function(t){e.updateAnswer(u,{value:y(t)})}}),s.strict&&r.createElement("div",{className:"is-strict-indicator",title:"strictly equivalent to"},"≡"),"required"!==s.simplify&&"correct"===s.status&&r.createElement("div",{className:"simplify-indicator "+s.simplify,title:"accepts unsimplified answers"},"‰"),s.maxError?r.createElement("div",{className:"max-error-container"},r.createElement("div",{className:"max-error-plusmn"},"±"),r.createElement(m,{placeholder:0,value:t[u].maxError,format:o.last(s.answerForms),onChange:e.updateAnswer(u,"maxError")})):null,r.createElement("div",{className:"value-divider"}),r.createElement("a",{href:"javascript:void(0)",className:"answer-status "+s.status,onClick:function(){return e.onStatusChange(u)},onKeyDown:function(t){return e.onSpace(t,e.onStatusChange,u)}},s.status),r.createElement("a",{href:"javascript:void(0)",className:"answer-trash",onClick:function(){return e.onTrashAnswer(u)},onKeyDown:function(t){return e.onSpace(t,e.onTrashAnswer,u)}},r.createElement(d,p)),r.createElement("a",{href:"javascript:void(0)",className:"options-toggle",onClick:function(){return e.onToggleOptions(u)},onKeyDown:function(t){return e.onSpace(t,e.onToggleOptions,u)}},r.createElement(d,c))),r.createElement("div",{className:"input-answer-editor-message"},h),e.state.showOptions[u]&&r.createElement("div",{className:"options-container"},a(u),"correct"===s.status&&n(u),i(u)))})};return r.createElement("div",{className:"perseus-input-number-editor"},r.createElement("div",{className:"ui-title"},"User input"),r.createElement("div",{className:"msg-title"},"Message shown to user on attempt"),C(),w,u,E,x)},onToggleOptions:function(e){var t=this.state.showOptions.slice();t[e]=!t[e],this.setState({showOptions:t})},onTrashAnswer:function(e){if(e>=0&&e<this.props.answers.length){var t=this.props.answers.slice(0);t.splice(e,1),this.props.onChange({answers:t})}},onSpace:function(e,t){if(" "===e.key){e.preventDefault();var n=o.toArray(arguments).slice(2);t.apply(this,n)}},onStatusChange:function(e){var t=["wrong","ungraded","correct"],n=this.props.answers,r=o.indexOf(t,n[e].status),i=t[(r+1)%t.length];this.updateAnswer(e,{status:i,simplify:"correct"===i?"required":"accepted"})},updateAnswer:function(e,t){var n=this;if(!o.isObject(t))return o.partial(function(e,t,r){var o={};o[t]=r,n.updateAnswer(e,o)},e,t);var r=o.clone(this.props.answers);if(e===r.length)var i=x(this.state.lastStatus),r=r.concat(i);r[e]=o.extend({},r[e],t),this.props.onChange({answers:r})},addAnswer:function(){var e=x(this.state.lastStatus),t=this.props.answers.concat(e);this.props.onChange({answers:t})},getSaveWarnings:function(){var e=[];return o.contains(o.pluck(this.props.answers,"value"),"")&&e.push("One or more answers is empty"),""===this.props.labelText&&e.push("No label is specified"),this.props.answers.forEach(function(t,n){var r=t.strict&&(!t.answerForms||0===t.answerForms.length);r&&e.push("Answer "+(n+1)+" is set to string format matching, but no format was selected")}),e}});e.exports=E},function(e,t,n){"use strict";var r=n(99),o=n(54),i=(n(58),n(113)),a=n(55),s=n(10).Options,l=n(103),s=n(10).Options,u=n(10).ClassNames,c=n(37),p=n(41),h=n(104),d=n(114),f=n(115),m=n(100).components.KeypadInput,g=n(100).propTypes,v=g.keypadConfigurationPropType,y=g.keypadElementPropType,b=n(100).consts.KeypadTypes,x=n(40),E=x.iconExclamationSign,w=(n(116),i18n._("Sorry, I don't understand that!")),T=(["An expression without an answer","is no expression to me.","Who can learn from an input","like the one that I see?","Put something in there","won't you please?","A few digits will do -","might I suggest some threes?"].join("\n"),function(e){return e.replace(/([_^])([^{])/g,"$1{$2}")}),C=o.createClass({displayName:"Expression",mixins:[l],propTypes:{apiOptions:s.propTypes,buttonSets:f.buttonSetsType,buttonsVisible:o.PropTypes.oneOf(["always","never","focused"]),functions:o.PropTypes.arrayOf(o.PropTypes.string),keypadConfiguration:v,keypadElement:y,times:o.PropTypes.bool,trackInteraction:o.PropTypes.func.isRequired,value:o.PropTypes.string,widgetId:o.PropTypes.string.isRequired},getDefaultProps:function(){return{value:"",times:!1,functions:[],buttonSets:["basic","trig","prealgebra","logarithms"],onFocus:function(){},onBlur:function(){},apiOptions:s.defaults}},getInitialState:function(){return{showErrorTooltip:!1,showErrorText:!1}},parse:function(e,t){var n=a.pick(t||this.props,"functions");return window.icu&&window.icu.getDecimalFormatSymbols&&a.extend(n,window.icu.getDecimalFormatSymbols()),KAS.parse(T(e),n)},render:function(){var e=this;if(this.props.apiOptions.customKeypad)return o.createElement(m,{ref:"input",value:this.props.value,keypadElement:this.props.keypadElement,onChange:this.changeAndTrack,onFocus:function(){e.props.keypadElement.configure(e.props.keypadConfiguration,function(){e.isMounted()&&e._handleFocus()})},onBlur:this._handleBlur});if(this.props.apiOptions.staticRender)return o.createElement(h,{ref:"input",value:this.props.value,type:"tex",examples:[],shouldShowExamples:!1,onChange:this.changeAndTrack,onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId});var t=o.createElement("span",{className:"error-tooltip"},o.createElement(i,{className:"error-text-container",horizontalPosition:"right",horizontalAlign:"left",verticalPosition:"top",arrowSize:10,borderColor:"#fcc335",show:this.state.showErrorText},o.createElement("span",{className:"error-icon",onMouseEnter:function(){e.setState({showErrorText:!0})},onMouseLeave:function(){e.setState({showErrorText:!1})},onClick:function(){e.setState({showErrorText:!e.state.showErrorText})}},o.createElement(p,E)),o.createElement("div",{className:"error-text"},w))),n=r({"perseus-widget-expression":!0,"show-error-tooltip":this.state.showErrorTooltip});return o.createElement("span",{className:n},o.createElement(d,{ref:"input",className:u.INTERACTIVE,value:this.props.value,onChange:this.changeAndTrack,convertDotToTimes:this.props.times,buttonsVisible:this.props.buttonsVisible||"focused",buttonSets:this.props.buttonSets,onFocus:this._handleFocus,onBlur:this._handleBlur}),this.state.showErrorTooltip&&t)},changeAndTrack:function(e,t){this.change("value",e,t),this.props.trackInteraction()},_handleFocus:function(){this.props.onFocus([])},_handleBlur:function(){this.props.onBlur([])},errorTimeout:null,componentWillReceiveProps:function(e){var t=this;a.isEqual(this.props.value,e.value)&&a.isEqual(this.props.functions,e.functions)||(clearTimeout(this.errorTimeout),this.parse(e.value,e).parsed?this.setState({showErrorTooltip:!1}):this.errorTimeout=setTimeout(function(){var e=t.props.apiOptions.onInputError(null,t.props.value,w);e!==!1&&t.setState({showErrorTooltip:!0})},2e3))},componentWillUnmount:function(){clearTimeout(this.errorTimeout)},focus:function(){return this.props.apiOptions.customKeypad&&this.refs.input.focus(),!0},focusInputPath:function(e){this.refs.input.focus()},blurInputPath:function(e){this.refs.input.blur()},insert:function(e){this.props.apiOptions.staticRender||this.refs.input.insert(e)},getInputPaths:function(){return[[]]},getGrammarTypeForPath:function(e){return"expression"},setInputValue:function(e,t,n){this.props.onChange({value:t},n)},getAcceptableFormatsForInputPath:function(){return null},getUserInput:function(){return T(this.props.value)},simpleValidate:function(e,t){return t=t||function(){},C.validate(this.getUserInput(),e,t)}});a.extend(C,{validate:function(e,t,n){var r=a.clone(t);window.icu&&window.icu.getDecimalFormatSymbols&&a.extend(r,window.icu.getDecimalFormatSymbols());var o,i,s=function(e){return c.expression.createValidatorFunctional(KAS.parse(e.value,t).expr,a({}).extend(r,{simplify:e.simplify,form:e.form}))},l=!0,u=!!a(t.answerForms).find(function(t){var n=s(t);return o=n(e),i=t,l=l&&o.empty,o.correct}),p=o&&o.message;if(u){if("ungraded"===i.considered){var h=n(null,e,p);return{type:"invalid",message:h===!1?null:p}}return{type:"points",earned:"correct"===i.considered?1:0,total:1,message:p}}return l?{type:"invalid",message:null}:{type:"points",earned:0,total:1}}});var S=function(e){for(var t=b.EXPRESSION,n={},r={},o=e.answerForms,i=Array.isArray(o),a=0,o=i?o:o[Symbol.iterator]();;){var s;if(i){if(a>=o.length)break;s=o[a++]}else{if(a=o.next(),a.done)break;s=a.value}var l=s,u=KAS.parse(l.value,e);u.parsed&&!function(){for(var e=u.expr,t=function(e){return"pi"===e||"theta"===e},o=function(e){return t(e)?e.toUpperCase():e},i=e.getVars(),a=Array.isArray(i),s=0,i=a?i:i[Symbol.iterator]();;){var l;if(a){if(s>=i.length)break;l=i[s++]}else{if(s=i.next(),s.done)break;l=s.value}var c=l;n[o(c)]=!0}for(var p=e.getConsts(),h=Array.isArray(p),d=0,p=h?p:p[Symbol.iterator]();;){var f;if(h){if(d>=p.length)break;f=p[d++]}else{if(d=p.next(),d.done)break;f=d.value}var m=f;r[o(m)]=!0}}()}var c=Object.keys(n);c.sort();var p=Object.keys(r);p.sort();var h=[].concat(c,p);return h.length||h.push("PI"),{keypadType:t,extraKeys:h}},k={1:function(e){return{times:e.times,buttonSets:e.buttonSets,functions:e.functions,buttonsVisible:e.buttonsVisible,answerForms:[{considered:"correct",form:e.form,simplify:e.simplify,value:e.value,key:0}]}}};e.exports={name:"expression",displayName:"Expression / Equation",defaultAlignment:"inline-block",widget:C,transform:function(e){var t=e.times,n=e.functions,r=e.buttonSets,o=e.buttonsVisible;return{keypadConfiguration:S(e),times:t,functions:n,buttonSets:r,buttonsVisible:o}},version:{major:1,minor:0},propUpgrades:k,Expression:C}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(116),a=n(103),s=n(96),l=n(46),u=n(185),c=n(81),p=n(115),h=n(70).Expression,d=["correct","wrong","ungraded"],f=r.PropTypes.shape({considered:r.PropTypes.oneOf(d).isRequired,value:r.PropTypes.string.isRequired,form:r.PropTypes.bool.isRequired,simplify:r.PropTypes.bool.isRequired}),m=r.createClass({displayName:"ExpressionEditor",mixins:[a],propTypes:{answerForms:r.PropTypes.arrayOf(f),times:r.PropTypes.bool,buttonSets:p.buttonSetsType,functions:r.PropTypes.arrayOf(r.PropTypes.string)},getDefaultProps:function(){return{answerForms:[],times:!1,buttonSets:["basic"],functions:["f","g","h"]}},getInitialState:function(){var e;return e=0===this.props.answerForms.length||o(this.props.answerForms).any(function(e){var t=e.value;return o.indexOf(t,"\\")!==-1||o.indexOf(t,"{")!==-1}),{isTex:e}},render:function(){var e=this,t=this.props.answerForms.map(function(t,n){var r={times:e.props.times,functions:e.props.functions,buttonSets:e.props.buttonSets,buttonsVisible:"focused",form:t.form,simplify:t.simplify,value:t.value,onChange:function(t){return e.updateForm(n,t)},trackInteraction:function(){},widgetId:e.props.widgetId+"-"+n};return i(t).merge([],{draggable:!0,onChange:function(t){return e.updateForm(n,t)},onDelete:function(){return e.handleRemoveForm(n)},expressionProps:r}).freeze()}).map(function(e){return r.createElement(v,e)}),n=r.createElement(u,{components:t,onReorder:this.handleReorder,className:"answer-options-list"}),a=o(p.buttonSets).map(function(t,n){var i="basic"===n,a=o.contains(e.props.buttonSets,n)||i,s=i?"button-set-label-float":"button-set-label";return r.createElement("label",{className:s,key:n},r.createElement("input",{type:"checkbox",checked:a,disabled:i,onChange:function(){return e.handleButtonSet(n)}}),n)});return a.splice(1,1,r.createElement("label",{key:"show-div"},r.createElement("input",{type:"checkbox",onChange:this.handleToggleDiv}),r.createElement("span",{className:"show-div-button"},"show ",r.createElement(c,null,"\\div")," button"))),r.createElement("div",{className:"perseus-widget-expression-editor"},r.createElement("h3",{className:"expression-editor-h3"},"Global Options"),r.createElement("div",null,r.createElement(l,{times:this.props.times,onChange:this.props.onChange,labelAlignment:"right",label:"Use × for rendering multiplication instead of a center dot."}),r.createElement(s,null,r.createElement("p",null,"For pre-algebra problems this option displays multiplication as \\times instead of \\cdot in both the rendered output and the acceptable formats examples."))),r.createElement("div",null,r.createElement("label",null,"Function variables: ",r.createElement("input",{type:"text",defaultValue:this.props.functions.join(" "),onChange:this.handleFunctions})),r.createElement(s,null,r.createElement("p",null,'Single-letter variables listed here will be interpreted as functions. This let us know that f(x) means "f of x" and not "f times x".'))),r.createElement("div",null,r.createElement("div",null,"Button sets:"),a),this.state.isTex&&r.createElement(p,{className:"math-input-buttons",sets:this.props.buttonSets,convertDotToTimes:this.props.times,onInsert:this.handleTexInsert}),r.createElement("h3",{className:"expression-editor-h3"},"Answers"),r.createElement("p",{style:{margin:"4px 0"}},"student responses area matched against these from top to bottom"),n,r.createElement("div",null,r.createElement("button",{className:"simple-button orange",style:{fontSize:13},onClick:this.newAnswer,type:"button"},"Add new answer")))},serialize:function(){var e=["value","form","simplify","considered","key"],t=["answerForms","buttonSets","functions","times"],n=this.props.answerForms.map(function(t){return o(t).pick(e)});return i(this.props).set(["answerForms"],n).mod([],function(e){return o(e).pick(t)}).freeze()},getSaveWarnings:function(){var e=this,t=[];if(0===this.props.answerForms.length)t.push("No answers specified");else{var n=!!o(this.props.answerForms).find(function(e){return"correct"===e.considered});n||t.push("No correct answer specified"),o(this.props.answerForms).each(function(n,r){if(""===e.props.value)t.push("Answer "+(r+1)+" is empty");else{var o=KAS.parse(n.value);o.parsed?n.simplify&&!o.expr.isSimplified()&&t.push(n.value+' isn\'t simplified, but is required" +\n                            " to be'):t.push("Couldn't parse "+n.value)}})}return t},_newEmptyAnswerForm:function(){return{considered:"correct",form:!1,key:this.props.answerForms.length,simplify:!1,value:""}},newAnswer:function(){var e=this.props.answerForms.slice();e.push(this._newEmptyAnswerForm()),this.change({answerForms:e})},handleRemoveForm:function(e){var t=this.props.answerForms.slice(0,-1);this.change({answerForms:t})},updateForm:function(e,t){var n=i(this.props.answerForms).merge([e],t).freeze();this.change({answerForms:n})},handleReorder:function(e){var t=o(e).map(function(e){var t=o(e.props).pick("considered","form","simplify","value");return t.key=e.key,t});this.change({answerForms:t})},handleButtonSet:function(e){var t=this,n=o(p.buttonSets).keys(),r=o(n).filter(function(n){return o(t.props.buttonSets).contains(n)!==(n===e)});this.props.onChange({buttonSets:r})},handleToggleDiv:function(){var e,t;o(this.props.buttonSets).contains("basic+div")?(e="basic",t="basic+div"):(e="basic+div",t="basic");var n=o(this.props.buttonSets).reject(function(e){return e===t}).concat(e);this.change("buttonSets",n)},handleTexInsert:function(e){this.refs.expression.insert(e)},handleFunctions:function(e){var t={};t.functions=o.compact(e.target.value.split(/[ ,]+/)),this.props.onChange(t)}}),g=function(e,t){var n=o(e).indexOf(t);return n=(n+1)%e.length,e[n]},v=r.createClass({displayName:"AnswerOption",mixins:[a],propTypes:{considered:r.PropTypes.oneOf(d).isRequired,expressionProps:r.PropTypes.object.isRequired,form:r.PropTypes.bool.isRequired,simplify:r.PropTypes.bool.isRequired,onChange:r.PropTypes.func.isRequired,onDelete:r.PropTypes.func.isRequired},getInitialState:function(){return{deleteFocused:!1}},handleDeleteBlur:function(){this.setState({deleteFocused:!1})},render:function(){var e=null;return e=this.state.deleteFocused?r.createElement("button",{type:"button",className:"simple-button orange",onClick:this.handleImSure,onBlur:this.handleDeleteBlur},"I'm sure!"):r.createElement("button",{type:"button",className:"simple-button orange",onClick:this.handleDelete},"Delete"),r.createElement("div",{className:"expression-answer-option"},r.createElement("div",{className:"answer-handle"}),r.createElement("div",{className:"answer-body"},r.createElement("div",{className:"answer-considered"},r.createElement("div",{onClick:this.toggleConsidered,className:"answer-status "+this.props.considered},this.props.considered),r.createElement("div",{className:"answer-expression"},r.createElement(h,this.props.expressionProps))),r.createElement("div",{className:"answer-option"},r.createElement(l,{form:this.props.form,onChange:this.props.onChange,labelAlignment:"right",label:"Answer expression must have the same form."}),r.createElement(s,null,r.createElement("p",null,"The student's answer must be in the same form. Commutativity and excess negative signs are ignored."))),r.createElement("div",{className:"answer-option"},r.createElement(l,{simplify:this.props.simplify,onChange:this.props.onChange,labelAlignment:"right",label:"Answer expression must be fully expanded and simplified."}),r.createElement(s,null,r.createElement("p",null,'The student\'s answer must be fully expanded and simplified. Answering this equation (x^2+2x+1) with this factored equation (x+1)^2 will render this response "Your answer is not fully expanded and simplified."'))),r.createElement("div",{className:"remove-container"},e)))},handleImSure:function(){this.props.onDelete()},handleDelete:function(){this.setState({deleteFocused:!0})},toggleConsidered:function(){var e=g(d,this.props.considered);this.change({considered:e})}});e.exports=m},function(e,t,n){"use strict";e.exports=[[n(117),n(118)],[n(119),n(120)],[n(121),n(122)],[n(123),n(124)],[n(125),n(126)],[n(127),n(128)],[n(129),n(130)],[n(131),n(132)],[n(133),n(134)],[n(135),n(136)],[n(137),n(138)],[n(139),n(140)],[n(141),n(142)],[n(143),n(144)],[n(145),n(146)],[n(147),n(148)],[n(149),n(150)],[n(151),n(152)],[n(153),n(154)],[n(155),n(156)],[n(157),n(158)],[n(159),n(160)],[n(161),n(162)],[n(163),n(164)],[n(165),n(166)],[n(167),n(168)],[n(169),n(170)],[n(171),n(172)],[n(173),n(174)],[n(175),n(176)],[n(177),n(178)],[n(179),n(180)],[n(181),n(182)],[n(183),n(184)]]},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(100).components.Keypad,a={propTypes:{apiOptions:r.PropTypes.shape({customKeypad:r.PropTypes.bool}),keypadStyle:r.PropTypes.any},getInitialState:function(){return{keypadElement:null}},componentDidMount:function(){var e=this;this.props.apiOptions&&this.props.apiOptions.customKeypad&&(this._keypadContainer=document.createElement("div"),document.body.appendChild(this._keypadContainer),o.render(r.createElement(i,{onElementMounted:function(t){e.setState({keypadElement:t})},onDismiss:function(){e.blur&&e.blur()},style:this.props.keypadStyle}),this._keypadContainer))},componentWillUnmount:function(){this._keypadContainer&&(o.unmountComponentAtNode(this._keypadContainer),this._keypadContainer.parentNode&&this._keypadContainer.parentNode.removeChild(this._keypadContainer),this._keypadContainer=null)},keypadElement:function(){return this.state.keypadElement}};e.exports=a},function(e,t,n){"use strict";var r=n(55),o=function(e,t){return r.object(r.map(e,function(e,n){return[n,e[t]]}))},i=function(e,t){var n={};return r.each(r.keys(e),function(r){n[r]=t(e[r],r)}),n},a=function(e,t){var n={};return r.each(e,function(e){n[e]=t(e)}),n};e.exports={pluck:o,mapObject:i,mapObjectFromArray:a}},function(e,t,n){"use strict";var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(54),a=n(186),s=a.StyleSheet,l=a.css,u=n(99),c=window.i18n,p=n(32),h=n(10).Options,d=n(76),f=n(78),m=f.baseUnitPx,g=f.hintBorderWidth,v=f.kaGreen,y=f.gray97,b=i.createClass({displayName:"HintRenderer",propTypes:{apiOptions:h.propTypes,className:i.PropTypes.string,hint:i.PropTypes.any,lastHint:i.PropTypes.bool,lastRendered:i.PropTypes.bool,pos:i.PropTypes.number,totalHints:i.PropTypes.number},getSerializedState:function(){return this.refs.renderer.getSerializedState()},restoreSerializedState:function(e,t){this.refs.renderer.restoreSerializedState(e,t)},render:function(){var e=this.props,t=e.apiOptions,n=e.className,r=e.hint,a=e.lastHint,s=e.lastRendered,h=e.pos,d=e.totalHints,f=t.isMobile,m=u(!f&&"perseus-hint-renderer",f&&l(x.newHint),f&&s&&l(x.lastRenderedNewHint),a&&"last-hint",s&&"last-rendered",n),g=o({},t,{customKeypad:!1,staticRender:!1});return i.createElement("div",{className:m,tabIndex:"-1"},!t.isMobile&&i.createElement("span",{className:"perseus-sr-only"},c._("Hint #%(pos)s",{pos:h+1})),!t.isMobile&&d&&null!=h&&i.createElement("span",{className:"perseus-hint-label",style:{display:"block"}},h+1+" / "+d),i.createElement(p,{ref:"renderer",widgets:r.widgets,content:r.content||"",images:r.images,apiOptions:g}))}}),x=s.create({newHint:(r={marginBottom:1.5*m,borderLeftColor:y,borderLeftStyle:"solid",borderLeftWidth:g},r[d.lgOrSmaller]={paddingLeft:m},r[d.smOrSmaller]={paddingLeft:0},r[":focus"]={outline:"none"},r),lastRenderedNewHint:{marginBottom:0,borderLeftColor:v}});e.exports=b},function(e,t,n){"use strict";var r=n(78),o=r.pureXsMax,i=r.pureSmMin,a=r.pureSmMax,s=r.pureMdMin,l=r.pureMdMax,u=r.pureLgMin,c=r.pureLgMax,p=r.pureXlMin;e.exports={xs:"@media screen and (max-width: "+o+")",sm:"@media screen and (min-width: "+i+") and "+("(max-width: "+a+")"),md:"@media screen and (min-width: "+s+") and "+("(max-width: "+l+")"),lg:"@media screen and (min-width: "+u+") and "+("(max-width: "+c+")"),xl:"@media screen and (min-width: "+p+"))",smOrSmaller:"@media screen and (max-width: "+a+")",mdOrSmaller:"@media screen and (max-width: "+l+")",lgOrSmaller:"@media screen and (max-width: "+c+")",
smOrLarger:"@media screen and (min-width: "+i+")",mdOrLarger:"@media screen and (min-width: "+s+")",lgOrLarger:"@media screen and (min-width: "+u+")"}},function(e,t,n){"use strict";var r,o,i,a,s=n(186),l=s.StyleSheet,u=n(76),c=n(78),p=c.zIndexAboveScratchpad,h=c.zIndexInteractiveComponent,d=c.radioBorderColor,f=c.checkedColor,m=c.circleSize;e.exports=l.create({perseusInteractive:{zIndex:h,position:"relative"},aboveScratchpad:{position:"relative",zIndex:p},blankBackground:{backgroundColor:"#FDFDFD"},perseusSrOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1},responsiveLabel:(r={},r[u.smOrSmaller]={fontSize:14,lineHeight:1.3},r[u.md]={fontSize:17,lineHeight:1.4},r[u.lgOrLarger]={fontSize:20,lineHeight:1.4},r),responsiveInput:(o={},o[u.lgOrSmaller]={display:"inline-block",WebkitAppearance:"none",appearance:"none",backgroundColor:"#fff",border:"2px solid #fff",boxShadow:"0 0px 0px 1px "+d,outline:"none",boxSizing:"border-box",flexShrink:0,marginBottom:0,marginLeft:15,marginRight:15,marginTop:0,height:m,width:m},o),responsiveRadioInput:(i={},i[u.lgOrSmaller]={borderRadius:"50%",":checked":{backgroundColor:f,border:"2px solid #fff",borderRadius:"50%",boxShadow:"0 0px 0px 2px "+f,height:m,width:m}},i),responsiveMobileRadioInput:(a={},a[u.lgOrSmaller]={display:"none"},a),disableTextSelection:{userSelect:"none"}})},function(e,t,n){"use strict";e.exports={baseFontFamily:"'Proxima Nova',sans-serif",boldFontFamily:"'Proxima Nova Semibold',sans-serif",green:"#76A005",kaGreen:"#71B307",blue:"#1C758A",gray:"#AAAAAA",red:"#FFBABA",questionWidth:"480px",grayLight:"#AAAAAA",grayLighter:"#DDDDDD",learnstormBlue:"#4898FC",white:"#FFFFFF",gray98:"#FAFAFA",gray97:"#F6F7F7",gray95:"#F0F1F2",gray90:"#E3E5E6",gray85:"#D6D8DA",gray76:"#BABEC2",gray68:"#888D93",gray41:"#626569",gray25:"#3B3e40",gray17:"#21242c",black:"#000000",pureSmMin:"568px",pureMdMin:"768px",pureLgMin:"1024px",pureXlMin:"1280px",pureXsMax:"567px",pureSmMax:"767px",pureMdMax:"1023px",pureLgMax:"1279px",tableBackgroundAccent:"#F9F9F9",satBlue:"#0084CE",satSelectedBackgroundColor:"#E4F3F9",satActiveBackgroundColor:"#D0EDF4",satCorrectColor:"#009900",satCorrectBorderColor:"#00CC00",satCorrectBackgroundColor:"#E4F7E4",satIncorrectColor:"#990000",satIncorrectBorderColor:"#CC5252",satIncorrectBackgroundColor:"#F2EBEB",zIndexScratchPad:"1",zIndexAboveScratchpad:"2",zIndexInteractiveComponent:"3",zIndexCurrentlyDragging:"4",zIndexCalculator:"5",phoneMargin:16,negativePhoneMargin:-16,hintBorderWidth:4,baseUnitPx:16,interactiveSizes:{defaultBoxSize:400,defaultBoxSizeSmall:288},circleSize:20},e.exports.radioBorderColor=e.exports.gray76,e.exports.checkedColor=e.exports.kaGreen},function(e,t,n){"use strict";var r=n(193),o={paragraph:{match:r.defaultRules.paragraph.match,order:1,parse:function(e,t,n){return e[1]}}},i=r.parserFor(o),a=function(e){var t=e.replace(/^\n\s*\n/,"")+"\n\n";return i(t,{inline:!1})},s=function(e){return e.join("\n\n")};e.exports={parseToArray:a,joinFromArray:s}},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"QuestionParagraph",render:function(){var e=this.props.className?"paragraph "+this.props.className:"paragraph";return r.createElement("div",{className:e,"data-perseus-component-index":this.props.translationIndex,"data-perseus-paragraph-index":this.props.paragraphIndex},this.props.children)}});e.exports=o},function(e,t,n){"use strict";var r=n(196),o=n(54),i=n(58),a=n(187),s=[],l=[],u=!1,c=function(e,t){s.push(e),l.push(t),u||(u=!0,setTimeout(h,0))},p=function(e){if("undefined"!=typeof MathJax)e();else{if("undefined"==typeof Khan||!Khan.mathJaxLoaded)throw new Error("MathJax wasn't loaded before it was needed by <TeX/>");Khan.mathJaxLoaded.then(e)}},h=function(){p(function(){MathJax.Hub.Queue(function(){var e=MathJax.Hub.elementScripts;MathJax.Hub.elementScripts=function(e){return s};try{return MathJax.Hub.Process(null,function(){for(var e=l,t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}var o=r;o()}s=[],l=[],u=!1})}catch(e){throw e}finally{MathJax.Hub.elementScripts=e}})})},d={border:0,clip:"rect(0,0,0,0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px"},f=o.createClass({displayName:"TeX",propTypes:{children:o.PropTypes.node,onClick:o.PropTypes.func,onRender:o.PropTypes.func,style:o.PropTypes.any},mixins:[r],getDefaultProps:function(){return{onRender:function(){},onClick:null}},componentDidMount:function(){var e=this;if(this._root=i.findDOMNode(this),this.refs.katex.childElementCount>0)return void this.props.onRender(this._root);var t=this.props.children;this.setScriptText(t),c(this.script,function(){return e.props.onRender(e._root)})},componentDidUpdate:function(e,t){var n=this;if(this.refs.katex.childElementCount>0)return this.script&&p(function(){var e=MathJax.Hub.getJaxFor(n.script);e&&e.Remove()}),void this.props.onRender();var r=this.props.children;this.script?p(function(){MathJax.Hub.Queue(function(){var e=MathJax.Hub.getJaxFor(n.script);return e?e.Text(r,n.props.onRender):(n.setScriptText(r),void c(n.script,n.props.onRender))})}):(this.setScriptText(r),c(this.script,this.props.onRender))},componentWillUnmount:function(){var e=this;this.script&&p(function(){var t=MathJax.Hub.getJaxFor(e.script);t&&t.Remove()})},setScriptText:function(e){this.script||(this.script=document.createElement("script"),this.script.type="math/tex",i.findDOMNode(this.refs.mathjax).appendChild(this.script)),"text"in this.script?this.script.text=e:this.script.textContent=e},render:function(){var e=null;try{e={__html:katex.renderToString(this.props.children)}}catch(e){if(e.__proto__!==katex.ParseError.prototype)throw e}var t=null;if(e)try{t={__html:a.renderString(this.props.children)}}catch(e){}return o.createElement("span",{style:this.props.style,onClick:this.props.onClick},o.createElement("span",{ref:"mathjax"}),o.createElement("span",{ref:"katex",dangerouslySetInnerHTML:e,"aria-hidden":!!e&&!!t}),o.createElement("span",{dangerouslySetInnerHTML:t,style:d}))}});e.exports=f},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(99),i=n(54),a=n(58),s=n(25),l=n(188),u=l.containerSizeClass,c=l.getClassFromWidth,p=i.createClass({displayName:"WidgetContainer",propTypes:{shouldHighlight:i.PropTypes.bool.isRequired,type:i.PropTypes.string,initialProps:i.PropTypes.object.isRequired},getInitialState:function(){return{sizeClass:u.MEDIUM,widgetProps:this.props.initialProps}},componentDidMount:function(){if(this.state.widgetProps.apiOptions.isMobile){var e=a.findDOMNode(this).offsetWidth;this.setState({sizeClass:c(e)})}},render:function(){var e=o({"perseus-widget-container":!0,"widget-highlight":this.props.shouldHighlight,"widget-nohighlight":!this.props.shouldHighlight}),t=this.props.type,n=s.getWidget(t);if(null==n)return i.createElement("div",{className:e});var a=this.state.widgetProps.alignment;"default"===a&&(a=s.getDefaultAlignment(t)),e+=" widget-"+a;var l=this.state.widgetProps.apiOptions,u=this.state.widgetProps.static||l.readOnly,c={position:"relative",overflow:"visible"},p={width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:100};return i.createElement("div",{className:e,style:u?c:{}},i.createElement(n,r({},this.state.widgetProps,{containerSizeClass:this.state.sizeClass,ref:"widget"})),u&&i.createElement("div",{style:p}))},componentWillReceiveProps:function(e){if(this.props.type!==e.type)throw new Error("WidgetContainer can't change widget type; set a different key instead to recreate the container.")},shouldComponentUpdate:function(e,t){return this.props.shouldHighlight!==e.shouldHighlight||this.props.type!==e.type||this.state.widgetProps!==t.widgetProps||this.state.sizeClass!==t.sizeClass},getWidget:function(){return this.refs.widget},replaceWidgetProps:function(e){this.setState({widgetProps:e})}});e.exports=p},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(58),a=n(84),s=o.createClass({displayName:"Zoomable",propTypes:{animateHeight:o.PropTypes.bool,children:o.PropTypes.element.isRequired,computeChildBounds:o.PropTypes.func,readyToMeasureDeferred:o.PropTypes.shape({then:o.PropTypes.func.isRequired,reject:o.PropTypes.func.isRequired}).isRequired},getDefaultProps:function(){var e=new a;return e.resolve(),{animateHeight:!1,readyToMeasureDeferred:e,computeChildBounds:function(e){var t=e.firstElementChild;return{width:t.offsetWidth+1,height:t.offsetHeight+1}}}},getInitialState:function(){return{visible:!1,marginBottomPx:0,zoomed:!0}},componentDidMount:function(){var e=this;this._node=i.findDOMNode(this),this.props.readyToMeasureDeferred.then(function(){e.isMounted()&&(e.scaleChildToFit(!1),window.MutationObserver&&(e._observer=new MutationObserver(function(t){if(e.isMounted())for(var n=t,r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if(o=n.next(),o.done)break;i=o.value}var a=i;if(a.target!==e._node){e.scaleChildToFit(e.state.zoomed);break}}}),e._observer.observe(e._node,{childList:!0,subtree:!0,attributes:!0})),window.addEventListener("resize",e.reset))})},componentWillUnmount:function(){window.removeEventListener("resize",this.reset),this._observer&&this._observer.disconnect()},reset:function(){var e=this;this.isMounted()&&this.state.visible&&(this._originalWidth=null,this.setState({visible:!1,compactHeight:null,expandedHeight:null,zoomed:!0},function(){e.scaleChildToFit(!1)}))},stopPropagationIfZoomed:function(e){this.state.zoomed||e.stopPropagation()},scaleChildToFit:function(e){var t=this,n={width:this._node.offsetWidth,height:this._node.offsetHeight},r=this.props.computeChildBounds(this._node,n),o=r.width,i=r.height;if(o>n.width){var a=n.width/o;this.setState({scale:a,zoomed:e,compactHeight:Math.ceil(a*i),expandedHeight:i}),setTimeout(function(){t.isMounted()&&t.setState({visible:!0})})}else this.setState({visible:!0})},handleClickIfZoomed:function(e){this.state.zoomed||(e.stopPropagation(),this.handleClick())},handleClick:function(){this.setState({zoomed:!this.state.zoomed})},render:function(){var e=this.state,t=e.visible,n=e.scale,i=e.compactHeight,a=e.expandedHeight,s=e.zoomed,l=this.props.animateHeight,u=l?"opacity transform height":"opacity transform",c=t?{transitionProperty:u,WebkitTransitionProperty:u,msTransitionProperty:u,transitionDuration:"0.3s",WebkitTransitionDuration:"0.3s",msTransitionDuration:"0.3s",transitionTimingFunction:"ease-out",WebkitTransitionTimingfunction:"ease-out",msTransitionTmingFunction:"ease-out"}:{},p=t?"":" translate(0, 8px)",h=s?"scale(1, 1) "+p:"scale("+n+", "+n+") "+p,d=r({display:"block",width:"100%",height:s?a:i,transform:h,WebkitTransform:h,msTransform:h,transformOrigin:"0 0",WebkitTransformOrigin:"0 0",msTransformOrigin:"0 0",opacity:t?1:0,WebkitTapHighlightColor:"transparent"},c);return o.createElement("span",{onClick:this.handleClick,onClickCapture:this.handleClickIfZoomed,onTouchCancelCapture:this.stopPropagationIfZoomed,onTouchEndCapture:this.stopPropagationIfZoomed,onTouchStartCapture:this.stopPropagationIfZoomed,style:d},this.props.children)}});e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){var t=this;r(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return e.prototype.then=function(e){return this.promise.then(e)},e}();e.exports=o},function(e,t,n){var r=function(){function e(e){return{newPos:e.newPos,components:e.components.slice(0)}}function t(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function n(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}var r=function(e){this.ignoreWhitespace=e};r.prototype={diff:function(t,n){if(n===t)return[{value:n}];if(!n)return[{value:t,removed:!0}];if(!t)return[{value:n,added:!0}];n=this.tokenize(n),t=this.tokenize(t);var r=n.length,o=t.length,i=r+o,a=[{newPos:-1,components:[]}],s=this.extractCommon(a[0],n,t,0);if(a[0].newPos+1>=r&&s+1>=o)return a[0].components;for(var l=1;l<=i;l++)for(var u=-1*l;u<=l;u+=2){var c,p=a[u-1],h=a[u+1];s=(h?h.newPos:0)-u,p&&(a[u-1]=void 0);var d=p&&p.newPos+1<r,f=h&&0<=s&&s<o;if(d||f){!d||f&&p.newPos<h.newPos?(c=e(h),this.pushComponent(c.components,t[s],void 0,!0)):(c=e(p),c.newPos++,this.pushComponent(c.components,n[c.newPos],!0,void 0));var s=this.extractCommon(c,n,t,u);if(c.newPos+1>=r&&s+1>=o)return c.components;a[u]=c}else a[u]=void 0}},pushComponent:function(e,t,n,r){var o=e[e.length-1];o&&o.added===n&&o.removed===r?e[e.length-1]={value:this.join(o.value,t),added:n,removed:r}:e.push({value:t,added:n,removed:r})},extractCommon:function(e,t,n,r){for(var o=t.length,i=n.length,a=e.newPos,s=a-r;a+1<o&&s+1<i&&this.equals(t[a+1],n[s+1]);)a++,s++,this.pushComponent(e.components,t[a],void 0,void 0);return e.newPos=a,s},equals:function(e,t){var n=/\S/;return!(!this.ignoreWhitespace||n.test(e)||n.test(t))||e===t},join:function(e,t){return e+t},tokenize:function(e){return e}};var o=new r,i=new r((!0)),a=new r;i.tokenize=a.tokenize=function(e){return t(e.split(/(\s+|\b)/))};var s=new r((!0));s.tokenize=function(e){return t(e.split(/([{}:;,]|\s+)/))};var l=new r;return l.tokenize=function(e){for(var t=[],n=e.split(/^/m),r=0;r<n.length;r++){var o=n[r],i=n[r-1];"\n"==o&&i&&"\r"===i[i.length-1]?t[t.length-1]+="\n":o&&t.push(o)}return t},{Diff:r,diffChars:function(e,t){return o.diff(e,t)},diffWords:function(e,t){return i.diff(e,t)},diffWordsWithSpace:function(e,t){return a.diff(e,t)},diffLines:function(e,t){return l.diff(e,t)},diffCss:function(e,t){return s.diff(e,t)},createPatch:function(e,t,n,r,o){function i(e){return e.map(function(e){return" "+e})}function a(e,t,n){var r=u[u.length-2],o=t===u.length-2,i=t===u.length-3&&(n.added!==r.added||n.removed!==r.removed);/\n$/.test(n.value)||!o&&!i||e.push("\\ No newline at end of file")}var s=[];s.push("Index: "+e),s.push("==================================================================="),s.push("--- "+e+("undefined"==typeof r?"":"\t"+r)),s.push("+++ "+e+("undefined"==typeof o?"":"\t"+o));var u=l.diff(t,n);u[u.length-1].value||u.pop(),u.push({value:"",lines:[]});for(var c=0,p=0,h=[],d=1,f=1,m=0;m<u.length;m++){var g=u[m],v=g.lines||g.value.replace(/\n$/,"").split("\n");if(g.lines=v,g.added||g.removed){if(!c){var y=u[m-1];c=d,p=f,y&&(h=i(y.lines.slice(-4)),c-=h.length,p-=h.length)}h.push.apply(h,v.map(function(e){return(g.added?"+":"-")+e})),a(h,m,g),g.added?f+=v.length:d+=v.length}else{if(c)if(v.length<=8&&m<u.length-2)h.push.apply(h,i(v));else{var b=Math.min(v.length,4);s.push("@@ -"+c+","+(d-c+b)+" +"+p+","+(f-p+b)+" @@"),s.push.apply(s,h),s.push.apply(s,i(v.slice(0,b))),v.length<=4&&a(s,m,g),c=0,p=0,h=[]}d+=v.length,f+=v.length}}return s.join("\n")+"\n"},applyPatch:function(e,t){for(var n=t.split("\n"),r=[],o=!1,i=!1,a="I"===n[0][0]?4:0;a<n.length;a++)if("@"===n[a][0]){var s=n[a].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:s[3],oldlength:s[2],oldlines:[],newlength:s[4],newlines:[]})}else"+"===n[a][0]?r[0].newlines.push(n[a].substr(1)):"-"===n[a][0]?r[0].oldlines.push(n[a].substr(1)):" "===n[a][0]?(r[0].newlines.push(n[a].substr(1)),r[0].oldlines.push(n[a].substr(1))):"\\"===n[a][0]&&("+"===n[a-1][0]?o=!0:"-"===n[a-1][0]&&(i=!0));for(var l=e.split("\n"),a=r.length-1;a>=0;a--){for(var u=r[a],c=0;c<u.oldlength;c++)if(l[u.start-1+c]!==u.oldlines[c])return!1;Array.prototype.splice.apply(l,[u.start-1,+u.oldlength].concat(u.newlines))}if(o)for(;!l[l.length-1];)l.pop();else i&&l.push("");return l.join("\n")},convertChangesToXML:function(e){for(var t=[],r=0;r<e.length;r++){var o=e[r];o.added?t.push("<ins>"):o.removed&&t.push("<del>"),t.push(n(o.value)),o.added?t.push("</ins>"):o.removed&&t.push("</del>")}return t.join("")},convertChangesToDMP:function(e){for(var t,n=[],r=0;r<e.length;r++)t=e[r],n.push([t.added?1:t.removed?-1:0,t.value]);return n}}}();e.exports=r},function(e,t,n){"use strict";var r=n(55),o=function(e){var t=[],n=[];return r.each(e,function(e){var o=e.value.split("\n");r.each(o,function(o,i){var a=i>0;a&&(t.push(n),n=[]);var s=r.extend({},e,{value:o});n.push(s)})}),n.length&&t.push(n),t};e.exports=o},function(e,t,n){"use strict";var r=n(85),o=n(55),i=function(e){return e.added?"added":e.removed?"removed":"unchanged"},a=function(e){return o.map(e.value,function(t){return{value:t,status:i(e)}})},s=function(e,t){return o.flatten(o.map(e,t),!0)},l=new r.Diff;l.tokenize=function(e){return o.map(e,function(e){return[e]})},l.join=function(e,t){return e.concat(t)},l.equals=o.isEqual;var u=function(e){return s(e,a)},c=function(e,t){var n=l.diff(e,t),r=u(n);return{before:o.filter(r,function(e){return"added"!==e.status}),after:o.filter(r,function(e){return"removed"!==e.status})}};e.exports=c},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=n(55),i="unchanged",a="changed",s="added",l="removed",u=function(e,t,n){var r;return r=e===t?i:void 0===e?s:void 0===t?l:a,{after:JSON.stringify(t),before:JSON.stringify(e),children:[],key:n,status:r}},c=function(e,t,n){var r,u=o.isObject(e)?o(e).keys():[],c=o.isObject(t)?o(t).keys():[],h=o.union(u,c),d=o.map(h,function(n){return p((e||{})[n],(t||{})[n],n)});if(void 0===e)r=s;else if(void 0===t)r=l;else{var f=o.any(d,function(e){return e.status!==i});r=f?a:i}return{after:"",before:"",children:d,key:n,status:r}},p=function(e,t,n){return"object"===("undefined"==typeof e?"undefined":r(e))||"object"===("undefined"==typeof t?"undefined":r(t))?c(e,t,n):u(e,t,n)};e.exports=p},function(e,t,n){"use strict";function r(e){if(!s[e]){var t=$("<span>").text(e).appendTo("body");s[e]=t.width()+5,t.remove()}return s[e]}var o=n(54),i=n(58),a=n(55),s={},l=o.createClass({displayName:"TextListEditor",propTypes:{options:o.PropTypes.array,layout:o.PropTypes.string,onChange:o.PropTypes.func.isRequired},getDefaultProps:function(){return{options:[],layout:"horizontal"}},getInitialState:function(){return{items:this.props.options.concat("")}},componentWillReceiveProps:function(e){this.setState({items:e.options.concat("")})},render:function(){var e=["perseus-text-list-editor","perseus-clearfix","layout-"+this.props.layout].join(" "),t=a.map(this.state.items,function(e,t){return o.createElement("li",{key:t},o.createElement("input",{ref:"input_"+t,type:"text",value:e,onChange:this.onChange.bind(this,t),onKeyDown:this.onKeyDown.bind(this,t),style:{width:r(e)}}))},this);return o.createElement("ul",{className:e},t)},onChange:function(e,t){var n=a.clone(this.state.items);n[e]=t.target.value,e===n.length-1&&(n=n.concat("")),this.setState({items:n}),this.props.onChange(a.compact(n))},onKeyDown:function(e,t){var n=t.nativeEvent.keyCode;if(8===n&&""===this.state.items[e]){t.preventDefault();var r=a.clone(this.state.items),o=0===e?0:e-1;e!==r.length-1||0!==e&&""===r[o]?(r.splice(e,1),this.setState({items:r},function(){i.findDOMNode(this.refs["input_"+o]).focus()})):i.findDOMNode(this.refs["input_"+o]).focus()}else if(8===n&&1===this.state.items[e].length&&e===this.state.items.length-2){t.preventDefault();var r=a.clone(this.state.items);r.splice(e,1),this.setState({items:r}),this.props.onChange(a.compact(r))}else if(13===n){t.preventDefault();var r=a.clone(this.state.items),o=e+1;e===r.length-2?i.findDOMNode(this.refs["input_"+o]).focus():(r.splice(o,0,""),this.setState({items:r},function(){i.findDOMNode(this.refs["input_"+o]).focus()}))}}});e.exports=l},function(e,t,n){"use strict";var r=n(55),o=n(201).number,i={cleanMath:function(e){return"string"==typeof e?e.replace(/\+\s*-/g,"- ").replace(/-\s*-/g,"+ ").replace(/\^1/g,""):e},bound:function(e){return 0===e?e:e<0?-i.bound(-e):Math.max(1e-6,Math.min(e,1e20))},factorial:function(e){return e<=1?e:e*i.factorial(e-1)},getGCD:function(e,t){if(arguments.length>2){var n=[].slice.call(arguments,1);return i.getGCD(e,i.getGCD.apply(i,n))}var r=void 0;for(e=Math.abs(e),t=Math.abs(t);t;)r=e%t,e=t,t=r;return e},getLCM:function(e,t){if(arguments.length>2){var n=[].slice.call(arguments,1);return i.getLCM(e,i.getLCM.apply(i,n))}return Math.abs(e*t)/i.getGCD(e,t)},primes:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],isPrime:function(e){if(e<=1)return!1;if(e<101)return!!$.grep(i.primes,function(t,n){return Math.abs(t-e)<=.5}).length;if(e<=1||e>2&&e%2===0)return!1;for(var t=3,n=Math.sqrt(e);t<=n;t+=2)if(e%t===0)return!1;return!0},getPrimeFactorization:function(e){if(1===e)return[];if(i.isPrime(e))return[e];for(var t=Math.sqrt(e),n=2;n<=t;n++)if(e%n===0)return $.merge(i.getPrimeFactorization(n),i.getPrimeFactorization(e/n))},roundToNearest:function(e,t){return Math.round(t/e)*e},roundTo:function(e,t){var n=Math.pow(10,e).toFixed(5);return Math.round((t*n).toFixed(5))/n},toFixedApprox:function(e,t){var n=e.toFixed(t);return o.equal(+n,e)?n:"\\approx "+n},roundToApprox:function(e,t){var n=i.roundTo(t,e);return o.equal(n,e)?String(n):i.toFixedApprox(e,t)},toFraction:function(e,t){if(null==t&&(t=Math.pow(2,-46)),e<0||e>1){var n=e%1;n+=n<0?1:0;var r=i.toFraction(n,t);return r[0]+=Math.round(e-n)*r[1],r}if(Math.abs(Math.round(Number(e))-e)<=t)return[Math.round(e),1];for(var o=0,a=1,s=1,l=1,u=1,c=2;;){if(Math.abs(Number(u/c)-e)<=t)return[u,c];u/c<e?(o=u,a=c):(s=u,l=c),u=o+s,c=a+l}},getNumericFormat:function(e){if(e=$.trim(e),e=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1"),e.match(/^[+-]?\d+$/))return"integer";if(e.match(/^[+-]?\d+\s+\d+\s*\/\s*\d+$/))return"mixed";var t=e.match(/^[+-]?(\d+)\s*\/\s*(\d+)$/);return t?parseFloat(t[1])>parseFloat(t[2])?"improper":"proper":e.replace(/[,. ]/g,"").match(/^\d+$/)?"decimal":e.match(/(pi?|\u03c0|t(?:au)?|\u03c4|pau)/)?"pi":null},toNumericString:function(e,t){if(null==e)return"";if(0===e)return"0";if("percent"===t)return 100*e+"%";if("pi"===t){var n=o.toFraction(e/Math.PI),i=Math.abs(n[0]),a=n[1];if(o.isInteger(i)){var s=e<0?"-":"",l="π";return s+(1===i?"":i)+l+(1===a?"":"/"+a)}}if(r(["proper","improper","mixed","fraction"]).contains(t)){var u=o.toFraction(e),c=Math.abs(u[0]),p=u[1],h=e<0?"-":"";if(1===p)return h+c;if("mixed"===t){var d=c%p,f=(c-d)/p;return h+(f?f+" ":"")+d+"/"+p}return h+c+"/"+p}return String(e)}};e.exports=i},function(e,t,n){"use strict";var r=n(99),o=n(54),i=n(78),a=i.negativePhoneMargin,s=480,l=o.createClass({displayName:"FixedToResponsive",propTypes:{width:o.PropTypes.number.isRequired,height:o.PropTypes.number.isRequired,className:o.PropTypes.string,constrainHeight:o.PropTypes.bool,allowFullBleed:o.PropTypes.bool},getDefaultProps:function(){return{className:"",constrainHeight:!1,allowFullBleed:!1}},getInitialState:function(){return{viewportHeight:null,viewportWidth:null}},componentDidMount:function(){window.innerHeight<s?setTimeout(this._cacheViewportSize,800):this._cacheViewportSize()},_cacheViewportSize:function(){this.isMounted()&&this.setState({viewportHeight:Math.max(s,window.innerHeight),viewportWidth:window.innerWidth})},render:function(){var e=this.props.width/this.props.height,t=o.createElement("div",{style:{paddingBottom:100*(1/e).toFixed(4)+"%"}}),n=this.props,i=n.width,s=n.height;if(this.props.constrainHeight&&this.state.viewportHeight){var l=2/3*this.state.viewportHeight;this.props.height>=l&&(s=l,i=l*e)}var u={maxWidth:i,maxHeight:s},c=r("fixed-to-responsive",this.props.className),p=o.createElement("div",{className:c,style:u},t,this.props.children),h=this.props.allowFullBleed&&this.state.viewportWidth&&i>=this.state.viewportWidth;return h?o.createElement("div",{style:{marginLeft:a,marginRight:a}},p):p}});e.exports=l},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=n(189),s=n(190),l=a.GraphieMovable,u=n(11).deepEq,c=n(11).nestedMap,p=n(191).assert,h=n(192),d=h.createGraphie,f=r.createClass({displayName:"Graphie",propTypes:{addMouseLayer:r.PropTypes.bool,box:r.PropTypes.arrayOf(r.PropTypes.number).isRequired,children:r.PropTypes.node,isMobile:r.PropTypes.bool,onClick:r.PropTypes.func,onMouseDown:r.PropTypes.func,onMouseMove:r.PropTypes.func,onMouseUp:r.PropTypes.func,options:r.PropTypes.shape({snapStep:r.PropTypes.arrayOf(r.PropTypes.number)}),range:r.PropTypes.arrayOf(r.PropTypes.arrayOf(r.PropTypes.number)),responsive:r.PropTypes.bool,setDrawingAreaAvailable:r.PropTypes.func,setup:r.PropTypes.func.isRequired},getDefaultProps:function(){return{range:[[-10,10],[-10,10]],options:{},responsive:!1,addMouseLayer:!0}},componentDidMount:function(){this._setupGraphie(),this._updateMovables()},shouldComponentUpdate:function(e){return!u(this.props,e)},componentDidUpdate:function(e){this.props.setup!==e.setup&&window.console&&window.console.warn&&window.console.warn("<Graphie> was given a new setup function. This is a bad idea; please refactor your code to give the same setup function reference to <Graphie> on every render."),u(this.props.options,e.options)&&u(this.props.box,e.box)&&u(this.props.range,e.range)||this._setupGraphie(),this._updateMovables()},getGraphie:function(){return this._graphie},_range:function(){return i.map(this.props.range,function(e){return e[0]>=e[1]?[-10,10]:e})},_box:function(){return i.map(this.props.box,function(e){return e>0?e:340})},_scale:function(){var e=this._box(),t=this._range();return i.map(e,function(e,n){var r=t[n][1]-t[n][0];return e/r})},_setupGraphie:function(){this._removeMovables();var e=o.findDOMNode(this.refs.graphieDiv);$(e).empty();var t=this._graphie=d(e);t.init({range:this._range(),scale:this._scale(),isMobile:this.props.isMobile}),this.props.addMouseLayer&&t.addMouseLayer({onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onMouseMove:this.props.onMouseMove,setDrawingAreaAvailable:this.props.setDrawingAreaAvailable}),t.snap=this.props.options.snapStep||[1,1],this.props.responsive&&($(e).css({width:"100%",height:"100%"}),t.raphael.setSize("100%","100%")),this.props.setup(t,i.extend({range:this._range(),scale:this._scale()},this.props.options))},_removeMovables:function(){i.invoke(this._movables,"remove"),this._movables={}},_renderMovables:function(e,t){var n=this,r=t.graphie,o=t.oldMovables,a=t.newMovables,s=function(e){i.each(e.movableProps,function(r){e.props[r]=n._renderMovables(e.props[r],t)})},u=!1;return c(e,function(e){if(!e)return t.nextKey++,e;var i=new e.type(e.props);p(i instanceof l,"All children of a Graphie component must be Graphie movables");var c=e.key,h=null==c?"_no_id_"+t.nextKey:c;t.nextKey++;var d=e.ref;s(i);var f=o[h];if(f)if(i.constructor===f.constructor){f.props=i.props;var m=f.modify(r);"reordered"===m&&(u=!0),a[h]=f}else null==c&&"undefined"!=typeof console&&console.warn&&console.warn("Replacing a <Graphie> child with a child of a different type. Please add keys to your <Graphie> children"),f.remove(),i.add(r),u=!0,a[h]=i;else i.add(r),u=!0,a[h]=i;return u&&a[h].toFront(),d&&(n.movables[d]=a[h]),a[h]})},_updateMovables:function(){var e=this._graphie,t=this._movables,n={};this._movables=n,this.movables={},this._renderMovables(this.props.children,{nextKey:1,graphie:e,oldMovables:t,newMovables:n}),i.each(t,function(e,t){n[t]||e.remove()})},render:function(){return r.createElement("div",{className:"graphie-container"},r.createElement("div",{className:"graphie",ref:"graphieDiv"}))}});i.extend(f,a),i.extend(f,s),e.exports=f},function(e,t,n){"use strict";var r=n(54),o=r.PropTypes,i={PENDING:"pending",LOADING:"loading",LOADED:"loaded",FAILED:"failed"},a=r.createClass({displayName:"ImageLoader",propTypes:{children:r.PropTypes.oneOfType([r.PropTypes.arrayOf(r.PropTypes.node),r.PropTypes.node]),imgProps:o.any,onError:o.func,onLoad:o.func,onUpdate:o.func,preloader:o.func,src:o.string},getInitialState:function(e){return{status:this.props.src?i.LOADING:i.PENDING}},componentDidMount:function(){this.state.status===i.LOADING&&this.createLoader()},componentWillReceiveProps:function(e){this.props.src!==e.src&&this.setState({status:e.src?i.LOADING:i.PENDING})},componentDidUpdate:function(e,t){this.state.status!==i.LOADING||this.img||this.createLoader(),t.status!==this.state.status&&this.props.onUpdate()},componentWillUnmount:function(){this.destroyLoader()},createLoader:function(){this.destroyLoader(),this.img=new Image,this.img.onload=this.handleLoad,this.img.onerror=this.handleError,this.img.src=this.props.src},destroyLoader:function(){this.img&&(this.img.onload=null,this.img.onerror=null,this.img=null)},handleLoad:function(e){this.destroyLoader(),this.setState({status:i.LOADED}),this.props.onLoad&&this.props.onLoad(e)},handleError:function(e){this.destroyLoader(),this.setState({status:i.FAILED}),this.props.onError&&this.props.onError(e)},renderImg:function(){var e=this.props,t=e.src,n=e.imgProps,o={src:t};for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);return r.createElement("img",o)},render:function(){switch(this.state.status){case i.LOADED:return this.renderImg();case i.FAILED:if(this.props.children)return this.props.children;break;default:if(this.props.preloader)return this.props.preloader()}return null}});e.exports=a},function(e,t,n){"use strict";function r(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}function o(e,t){var n=window.scrollX,r=window.scrollY,o=document.querySelector("meta[name=viewport]");o?o.setAttribute("content",e):$("head").append('<meta name="viewport" content="'+e+'">'),document.body.style.opacity=.9999,setTimeout(function(){document.body.style.opacity=1,window.scrollTo(n,r),t&&setTimeout(t,0)},0)}function i(){}function a(e,t){this._fullHeight=this._fullWidth=this._overlay=null,this._targetImage=e,this._enableMobilePinch=t,this._$body=$(document.body)}$.fn.emulateTransitionEnd=function(e){var t=!1,n=this;$(this).one("bsTransitionEnd",function(){t=!0});var r=function(){t||$(n).trigger($.support.transition.end)};return setTimeout(r,e),this},$(function(){$.support.transition=r(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}),i.prototype._initialize=function(e){this._$document||(this._activeZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null,this._$document=$(document),this._$window=$(window),this._$body=$(document.body),this._boundClick=$.proxy(this._clickHandler,this),this._enableMobilePinch=e)},i.prototype.handleZoomClick=function(e,t){var n=this;this._initialize(t);var r=e.target;if(r&&"IMG"===r.tagName&&!this._$body.hasClass("zoom-overlay-open"))return e.metaKey||e.ctrlKey?window.open(e.target.src,"_blank"):void(!t&&r.width>=window.innerWidth-a.getOffset()||(this._activeZoomClose(!0),t?o("width=device-width, initial-scale=1, minimum-scale=1",function(){return n._zoom(r)}):this._zoom(r),t||(this._$window.on("scroll.zoom",$.proxy(this._scrollHandler,this)),this._$document.on("keyup.zoom",$.proxy(this._keyHandler,this)),this._$document.on("touchstart.zoom",$.proxy(this._touchStart,this))),document.addEventListener("click",this._boundClick,!0),e.stopPropagation()))},i.prototype._zoom=function(e){this._activeZoom=new a(e,this._enableMobilePinch),this._activeZoom.zoomImage()},i.prototype._activeZoomClose=function(e){var t=this;this._activeZoom&&(e?(this._activeZoom.dispose(),this._disposeActiveZoom()):o("width=device-width, initial-scale=1, minimum-scale=1,\n            maximum-scale=1",function(){t._activeZoom.close(),t._disposeActiveZoom()}))},i.prototype._disposeActiveZoom=function(){
this._$window.off(".zoom"),this._$document.off(".zoom"),document.removeEventListener("click",this._boundClick,!0),this._activeZoom=null},i.prototype._scrollHandler=function(e){null===this._initialScrollPosition&&(this._initialScrollPosition=window.scrollY);var t=this._initialScrollPosition-window.scrollY;Math.abs(t)>=40&&this._activeZoomClose()},i.prototype._keyHandler=function(e){27===e.keyCode&&this._activeZoomClose()},i.prototype._clickHandler=function(e){e.stopPropagation(),e.preventDefault(),this._activeZoomClose()},i.prototype._touchStart=function(e){this._initialTouchPosition=e.originalEvent.touches[0].pageY,$(e.target).on("touchmove.zoom",$.proxy(this._touchMove,this))},i.prototype._touchMove=function(e){Math.abs(e.originalEvent.touches[0].pageY-this._initialTouchPosition)>10&&(this._activeZoomClose(),$(e.target).off("touchmove.zoom"))},a._OFFSET=80,a._MAX_WIDTH=2560,a._MAX_HEIGHT=4096,a.getOffset=function(e){return e?0:a._OFFSET},a.prototype.getOffset=function(){return a.getOffset(this._enableMobilePinch)},a.prototype.zoomImage=function(){var e=document.createElement("img"),t=$(e);e.onload=function(){this._fullHeight=Number(e.height),this._fullWidth=Number(e.width);var n=this._imageOffset=$(this._targetImage).offset(),r=this._left=n.left-$(window).scrollLeft(),o=this._top=n.top-$(window).scrollTop();t.css({left:r,top:o,width:this._targetImage.width,height:this._targetImage.height}),this._zoomOriginal()}.bind(this),e.src=this._targetImage.src,this.$zoomedImage=t},a.prototype._zoomOriginal=function(){this.$zoomedImage.addClass("zoom-img").attr("data-action","zoom-out"),$(this._targetImage).css("visibility","hidden"),this._backdrop=document.createElement("div"),this._backdrop.className="zoom-backdrop",document.body.appendChild(this._backdrop),this._overlay=document.createElement("div"),this._overlay.className="zoom-overlay",document.body.appendChild(this._overlay),this._overlay.appendChild(this.$zoomedImage[0]),this._calculateZoom(),this._triggerAnimation()},a.prototype._calculateZoom=function(){var e=this._fullWidth,t=this._fullHeight,n=window.innerHeight-this.getOffset(),r=window.innerWidth-this.getOffset(),o=e/this._targetImage.width,i=e/t,a=r/n;e<r&&t<n?this._imgScaleFactor=o:i<a?this._imgScaleFactor=n/t*o:this._imgScaleFactor=r/e*o},a.prototype._triggerAnimation=function(){var e=$(window).scrollTop()+window.innerHeight/2,t=$(window).scrollLeft()+window.innerWidth/2,n=this._imgScaleFactor,r=this._imageOffset.top+this._targetImage.height/2,o=this._imageOffset.left+this._targetImage.width/2;this._translateY=(e-r)/n,this._translateX=(t-o)/n,this._zoomedInTransformString="\n        scale("+n+")\n        translate3d("+this._translateX+"px, "+this._translateY+"px, 0)\n    ",this.$zoomedImage.css({transform:this._zoomedInTransformString}).addClass("zoom-transition").one($.support.transition.end,$.proxy(this._onZoomInFinish,this)).emulateTransitionEnd(300),this._$body.addClass("zoom-overlay-open")},a.prototype._onZoomInFinish=function(){var e=this._targetImage.height*this._imgScaleFactor,t=this._targetImage.width*this._imgScaleFactor,n=0,r=0,o=0,i=0,a=0,s=0;t<window.innerWidth?(n="50%",o=-t/2):a=(t-window.innerWidth)/2,e<window.innerHeight?(r="50%",i=-e/2):s=(e-window.innerHeight)/2,this.$zoomedImage.css({height:e,left:n,marginLeft:o,marginTop:i,top:r,transform:"",width:t}).removeClass("zoom-transition"),$(this._overlay).scrollLeft(a).scrollTop(s)},a.prototype.close=function(){var e=this;this._$body.removeClass("zoom-overlay-open").addClass("zoom-overlay-transitioning"),this.$zoomedImage.css({height:this._targetImage.height,left:this._left,marginLeft:0,marginTop:0,top:this._top,transform:this._zoomedInTransformString,width:this._targetImage.width}).removeClass("zoom-transition"),$(this._overlay).scrollLeft(0).scrollTop(0),setTimeout(function(){e.$zoomedImage.css({transform:"scale(1)"}).addClass("zoom-transition").one($.support.transition.end,$.proxy(e.dispose,e)).emulateTransitionEnd(300)},10)},a.prototype.dispose=function(){this.$zoomedImage&&this.$zoomedImage[0].parentNode&&(this.$zoomedImage.remove(),this.$zoomedImage=null,this._overlay.parentNode.removeChild(this._overlay),this._backdrop.parentNode.removeChild(this._backdrop),this._$body.removeClass("zoom-overlay-transitioning")),$(this._targetImage).css("visibility","visible")},t.ZoomService=new i},function(e,t,n){"use strict";function r(e,t,n,r){for(var o=e.getText(),i=void 0;null!==(i=n.exec(o));)if(r){var a=r(i),s=a.start,l=a.end;t(s,l)}else{var u=i.index;t(u,u+i[0].length)}}function o(e,t){for(var n=e.getBlockMap().values(),r=n,o=Array.isArray(r),i=0,r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if(i=r.next(),i.done)break;a=i.value}var s=a,l=t.exec(s.getText());if(null!==l){var u=S(s),c=u.merge({anchorOffset:l.index,focusOffset:l.index+l[0].length});return c}}}function i(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=C(e),o={};return o.contentState=b.replaceText(r.contentState,r.selection,t,null,n),r.editorState&&(o.editorState=v.push(r.editorState,o.contentState,"insert-characters")),o}function a(e){var t=C(e),n={};return n.contentState=b.removeRange(t.contentState,t.selection,"backward"),t.editorState&&(n.editorState=v.push(t.editorState,n.contentState,"remove-range")),n}function s(e,t){var n=null,r=function(){return!0};t?!function(){var o=k(e,t);n=m.createFromArray(o);var i=t.getStartKey(),a=t.getEndKey();r=function(e,n,r){return!(e===i&&n<t.getStartOffset())&&!(e===a&&r>t.getEndOffset())}}():n=e.getBlockMap();var o=[];return n.forEach(function(e,t){e.findEntityRanges(function(e){return null!==e.getEntity()},function(n,i){r(t,n,i)&&o.push(y.get(e.getEntityAt(n)))})}),o}function l(e,t){var n=e.getBlocksAsArray(),r=null;return n.some(function(e){return e.findEntityRanges(function(e){return null!==e.getEntity()&&t(y.get(e.getEntity()))},function(t,n){var o=S(e);r=o.merge({anchorOffset:t,focusOffset:n,isBackward:!1})}),!!r}),r}function u(e,t){var n=arguments.length<=2||void 0===arguments[2]?function(){return null}:arguments[2],r=C(e),o={},i=t.split(P),a=f.create(),s=i.map(function(e){var t=e,r=Array(e.length).fill(a),o=n(t,r);return null!==o&&(t=o.text,r=o.characterList),new g({key:E(),text:t,type:"unstyled",characterList:T(r)})}),l=m.createFromArray(s);return o.contentState=b.replaceWithFragment(r.contentState,r.selection,l),r.editorState&&(o.editorState=v.push(r.editorState,o.contentState,"insert-fragment")),o}function c(e){var t=S(e),n=t.merge({focusOffset:e.getCharacterList().size,anchorOffset:e.getCharacterList().size});return n}function p(e,t){var n=C(e),r=n.contentState,o=n.selection,i=n.editorState,a=r.getBlockForKey(o.getAnchorKey()),s=r.getBlockForKey(o.getFocusKey()),l=o.getAnchorOffset(),u=o.getFocusOffset(),c=o.getIsBackward()?-1:1,p=u-t.getFocusOffset(),h=o.getFocusKey()===t.getFocusKey();h&&1===Math.abs(p)&&!_(s,u)&&(u=M(s,u,p)),u=M(s,u,c),l=M(a,l,-c),o.isCollapsed()&&(l=u);var d={contentState:r};return d.selection=o.merge({focusOffset:u,anchorOffset:l}),i&&(d.editorState=v.set(i,{selection:d.selection,forceSelection:!0})),d}function h(e,t){var n=C(e),r={},o=n.contentState,i=n.selection,a=k(o,i),s=!0,l=n.contentState,u=n.contentState;if(a.forEach(function(e){var n=0,r=e.getLength();if(e.getKey()===i.getStartKey()&&(n=i.getStartOffset()),e.getKey()===i.getEndKey()&&(r=i.getEndOffset()),n!==r){var o=e.getText().substring(n,r);s&&o.endsWith(t)&&o.startsWith(t)?u=O(u,e,n,r,t):s=!1,l=N(l,e,n,r,t)}}),s?r.contentState=u:r.contentState=l,n.editorState){r.editorState=v.push(n.editorState,r.contentState,s?"remove-range":"insert-characters");var c=i.getEndOffset();if(c>0){var p=s?-2:2;c+=p*t.length}var h=null;h=i.getIsBackward()?i.merge({anchorOffset:c}):i.merge({focusOFfset:c}),r.editorState=v.forceSelection(r.editorState,h)}return r}var d=n(194),f=d.CharacterMetadata,m=d.BlockMapBuilder,g=d.ContentBlock,v=d.EditorState,y=d.Entity,b=d.Modifier,x=d.SelectionState,E=d.genKey,w=n(256),T=w.List,C=function(e){var t=e.editorState,n=e.contentState,r=e.selection,o={};return o.editorState=t||null,o.contentState=n||t&&t.getCurrentContent()||null,o.selection=r||t&&t.getSelection()||n&&n.getSelectionAfter()||null,o},S=function(e){return x.createEmpty(e.getKey()).set("hasFocus",!0)},k=function(e,t){for(var n=[],r=t.getStartKey(),o=t.getEndKey(),i=e.getKeyAfter(o),a=r;a!==i;a=e.getKeyAfter(a))n.push(e.getBlockForKey(a));return n},P=/\r\n?|\n/g,_=function(e,t){if(0===t||t===e.getLength())return!0;var n=e.getEntityAt(t-1),r=e.getEntityAt(t),o=!!r&&"IMMUTABLE"===y.get(r).mutability;return!(o&&n===r)},M=function(e,t,n){for(var r=t;r>0&&r<e.getLength()&&!_(e,r);)r+=n;return r},N=function(e,t,n,r,o){var i=S(t),a=e;return i=i.merge({anchorOffset:r,focusOffset:r}),a=b.insertText(a,i,o),i=i.merge({anchorOffset:n,focusOffset:n}),a=b.insertText(a,i,o)},O=function(e,t,n,r,o){var i=S(t),a=e;return i=i.merge({anchorOffset:r-o.length,focusOffset:r}),a=b.removeRange(a,i),i=i.merge({anchorOffset:n,focusOffset:n+o.length}),a=b.removeRange(a,i)};e.exports={regexStrategy:r,findPattern:o,replaceSelection:i,deleteSelection:a,getEntities:s,findEntity:l,insertText:u,selectEnd:c,snapSelectionOutsideEntities:p,toggleDecoration:h}},function(e,t,n){"use strict";var r=n(54),o=n(195),i=r.createClass({displayName:"InfoTip",getInitialState:function(){return{didMount:!1}},componentDidMount:function(){this.setState({didMount:!0})},render:function(){return this.state.didMount?r.createElement(o,this.props):r.createElement("div",null)}});e.exports=i},function(e,t,n){"use strict";var r=n(54),o=n(96),i=r.createClass({displayName:"ItemExtrasEditor",propTypes:{calculator:r.PropTypes.bool,chi2Table:r.PropTypes.bool,onChange:r.PropTypes.func.isRequired,periodicTable:r.PropTypes.bool,tTable:r.PropTypes.bool,zTable:r.PropTypes.bool},getDefaultProps:function(){return{calculator:!1,chi2Table:!1,periodicTable:!1,tTable:!1,zTable:!1}},serialize:function(){return{calculator:this.props.calculator,chi2Table:this.props.chi2Table,periodicTable:this.props.periodicTable,tTable:this.props.tTable,zTable:this.props.zTable}},render:function(){var e=this;return r.createElement("div",{className:"perseus-answer-editor"},r.createElement("div",{className:"perseus-answer-options"},r.createElement("div",null,r.createElement("label",null,"Show calculator:"," ",r.createElement("input",{type:"checkbox",checked:this.props.calculator,onChange:function(t){e.props.onChange({calculator:t.target.checked})}})),r.createElement(o,null,"Use the calculator when completing difficult calculations is NOT the intent of the question. DON’T use the calculator when testing the student’s ability to complete different types of computations.")),r.createElement("div",null,r.createElement("label",null,"Show periodic table:"," ",r.createElement("input",{type:"checkbox",checked:this.props.periodicTable,onChange:function(t){e.props.onChange({periodicTable:t.target.checked})}})),r.createElement(o,null,"This provides the student with the ability to view a periodic table of the elements, e.g., for answering chemistry questions.")),r.createElement("div",null,r.createElement("label",null,"Show z table (statistics):"," ",r.createElement("input",{type:"checkbox",checked:this.props.zTable,onChange:function(t){e.props.onChange({zTable:t.target.checked})}})),r.createElement(o,null,"This provides the student with the ability to view a table of critical values for the z distribution, e.g. for answering statistics questions.")),r.createElement("div",null,r.createElement("label",null,"Show t table (statistics):"," ",r.createElement("input",{type:"checkbox",checked:this.props.tTable,onChange:function(t){e.props.onChange({tTable:t.target.checked})}})),r.createElement(o,null,"This provides the student with the ability to view a table of critical values for the Student's t distribution, e.g. for answering statistics questions.")),r.createElement("div",null,r.createElement("label",null,"Show chi-squared table (statistics):"," ",r.createElement("input",{type:"checkbox",checked:this.props.chi2Table,onChange:function(t){e.props.onChange({chi2Table:t.target.checked})}})),r.createElement(o,null,"This provides the student with the ability to view a table of critical values for the chi-squared distribution, e.g. for answering statistics questions."))))}});e.exports=i},function(e,t,n){"use strict";var r=n(186).StyleSheet,o=r.create({buttonStyle:{backgroundColor:"white",border:"1px solid #ccc",borderLeft:"0",cursor:"pointer",margin:"0",padding:"5px 10px",position:"relative",":first-child":{borderLeft:"1px solid #ccc",borderTopLeftRadius:"3px",borderBottomLeftRadius:"3px"},":last-child":{borderRight:"1px solid #ccc",borderTopRightRadius:"3px",borderBottomRightRadius:"3px"},":hover":{backgroundColor:"#ccc"},":focus":{zIndex:"2"}},selectedStyle:{backgroundColor:"#ddd"}});e.exports={button:o}},function(e,t,n){function r(){for(var e=arguments,t=[],n=0;n<e.length;n++){var r=e[n];if(r)if("string"==typeof r||"number"==typeof r)t.push(r);else if("object"==typeof r)for(var o in r)r.hasOwnProperty(o)&&r[o]&&t.push(o)}return t.join(" ")}"undefined"!=typeof e&&e.exports&&(e.exports=r)},function(e,t,n){"use strict";var r={Keypad:n(197),KeypadInput:n(198)},o=n(199),i=o.KeypadTypes,a={KeypadTypes:i},s=n(200),l=s.keypadConfigurationPropType,u=s.keypadElementPropType,c={keypadConfigurationPropType:l,keypadElementPropType:u};e.exports={components:r,consts:a,propTypes:c}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(32),a=n(157),s=n(11),l=n(102),u=r.createClass({displayName:"Radio",propTypes:{apiOptions:l.propTypes.apiOptions,choices:l.propTypes.choices,deselectEnabled:r.PropTypes.bool,displayCount:r.PropTypes.any,interWidgets:r.PropTypes.func,multipleSelect:r.PropTypes.bool,onChange:r.PropTypes.func.isRequired,onePerLine:l.propTypes.onePerLine,questionCompleted:r.PropTypes.bool,reviewModeRubric:l.propTypes.reviewModeRubric,trackInteraction:r.PropTypes.func.isRequired,values:r.PropTypes.arrayOf(r.PropTypes.bool)},getDefaultProps:function(){return{choices:[{}],displayCount:null,multipleSelect:!1,deselectEnabled:!1}},_renderRenderer:function(e){e=e||"";var t=1,n={},o=e.replace(/\{\{passage-ref (\d+) (\d+)(?: "([^"]*)")?\}\}/g,function(e,r,o,i){var l="passage-ref "+t;return t++,n[l]={type:"passage-ref",graded:!1,options:{passageNumber:parseInt(r),referenceNumber:parseInt(o),summaryText:i},version:a.version},"[["+s.snowman+" "+l+"]]"});return r.createElement(i,{key:"choiceContentRenderer",content:o,widgets:n,interWidgets:this._interWidgets,alwaysUpdate:!0})},_interWidgets:function(e,t){return t.length?t:this.props.interWidgets(e)},focus:function(e){return this.refs.baseRadio.focus(e)},onCheckedChange:function(e){this.props.onChange({values:e}),this.props.trackInteraction()},getUserInput:function(){if(this.props.values){for(var e=null,t=!1,n=this.props.values.slice(),r=0;r<this.props.values.length;r++){var i=this.props.choices[r].originalIndex;n[i]=this.props.values[r],this.props.choices[r].isNoneOfTheAbove&&(e=i,n[r]&&(t=!0))}return{values:n,noneOfTheAboveIndex:e,noneOfTheAboveSelected:t}}return{values:o.map(this.props.choices,function(){return!1})}},simpleValidate:function(e){return u.validate(this.getUserInput(),e)},enforceOrdering:function(e){var t=o.pluck(e,"content");return o.isEqual(t,[i18n._("False"),i18n._("True")])||o.isEqual(t,[i18n._("No"),i18n._("Yes")])?[e[1]].concat([e[0]]):e},render:function(){var e=this,t=this.props.choices,n=this.props.values||o.map(t,function(){return!1});return t=o.map(t,function(t,r){var o=t.isNoneOfTheAbove&&!t.content?i18n._("None of the above"):t.content;return{content:e._renderRenderer(o),checked:n[r],correct:e.props.questionCompleted&&n[r],clue:e._renderRenderer(t.clue),isNoneOfTheAbove:t.isNoneOfTheAbove}}),t=this.enforceOrdering(t),r.createElement(l,{ref:"baseRadio",labelWrap:!0,onePerLine:this.props.onePerLine,multipleSelect:this.props.multipleSelect,choices:t,onCheckedChange:this.onCheckedChange,reviewModeRubric:this.props.reviewModeRubric,deselectEnabled:this.props.deselectEnabled,apiOptions:this.props.apiOptions})}});o.extend(u,{validate:function(e,t){var n=o.reduce(e.values,function(e,t){return e+(t?1:0)},0);if(0===n)return{type:"invalid",message:null};if(e.noneOfTheAboveSelected&&n>1)return{type:"invalid",message:i18n._("'None of the above' may not be selected when other answers are selected.")};var r=o.all(e.values,function(n,r){var i=void 0;return i=e.noneOfTheAboveIndex===r?o.all(t.choices,function(e,t){return r===t||!e.correct}):!!t.choices[r].correct,i===n});return{type:"points",earned:r?1:0,total:1,message:null}}}),e.exports=u},function(e,t,n){"use strict";var r,o,i,a,s,l=n(186),u=l.StyleSheet,c=l.css,p=n(99),h=n(54),d=n(58),f=n(55),m=n(10).ClassNames,g=n(32),v=n(77),y=n(78),b=n(76),x=n(11).captureScratchpadTouchStart,E=n(202),w=h.createClass({displayName:"ChoiceNoneAbove",propTypes:{className:h.PropTypes.string,content:h.PropTypes.node,showContent:h.PropTypes.bool},getDefaultProps:function(){return{showContent:!0}},render:function(){var e=f.extend({},this.props,{className:p(this.props.className,"none-of-above"),content:this.props.showContent?this.props.content:h.createElement(g,{key:"noneOfTheAboveRenderer",content:i18n._("None of the above")})});return h.createElement(E,e)}}),T=h.PropTypes.arrayOf(h.PropTypes.shape({checked:h.PropTypes.bool,content:h.PropTypes.node,clue:h.PropTypes.node,correct:h.PropTypes.bool,originalIndex:h.PropTypes.number,isNoneOfTheAbove:h.PropTypes.bool})),C=y.radioBorderColor,S=y.checkedColor,k="1px 16px",P="0px 15px",_=h.createClass({displayName:"BaseRadio",propTypes:{apiOptions:h.PropTypes.shape({readOnly:h.PropTypes.bool,satStyling:h.PropTypes.bool,isMobile:h.PropTypes.bool}),choices:T,deselectEnabled:h.PropTypes.bool,editMode:h.PropTypes.bool,labelWrap:h.PropTypes.bool,multipleSelect:h.PropTypes.bool,onCheckedChange:h.PropTypes.func,onePerLine:h.PropTypes.bool,reviewModeRubric:h.PropTypes.shape({choices:T})},statics:{styles:u.create({instructions:{display:"block",color:y.gray17,fontStyle:"normal",fontWeight:"bold",margin:"8px 0"},radio:{width:"100%"},responsiveRadio:(r={},r[b.lgOrSmaller]={borderBottom:"1px solid "+C,borderTop:"1px solid "+C,width:"auto"},r[b.smOrSmaller]={marginLeft:y.negativePhoneMargin,marginRight:y.negativePhoneMargin},r),responsiveMobileRadio:(o={},o[b.lgOrSmaller]={width:"auto"},o),satRadio:{background:"none",marginLeft:0,userSelect:"none"},satRadioOption:{margin:0,padding:0},satReviewRadioOption:{pointerEvents:"none"},item:{padding:"7px 0",marginLeft:20},inlineItem:{display:"inline-block",paddingLeft:20,verticalAlign:"top"},responsiveItem:(i={},i[b.lgOrSmaller]={marginLeft:0,padding:0,":active":{backgroundColor:y.grayLight},":not(:last-child)":{borderBottom:"1px solid "+C}},i),responsiveMobileItem:(a={backgroundColor:"#FFFFFF"},a[b.lgOrSmaller]={border:"1px solid "+C,borderRadius:"4px",margin:0,minHeight:48,padding:k,":active":{border:"2px solid "+C,padding:P},":not(:last-child)":{marginBottom:"16px"}},a),responsiveSelected:(s={},s[b.lgOrSmaller]={border:"2px solid "+S,padding:P},s),responsiveContainer:{overflow:"auto",marginLeft:y.negativePhoneMargin,marginRight:y.negativePhoneMargin,paddingLeft:y.phoneMargin},responsiveFieldset:{paddingRight:y.phoneMargin}})},getDefaultProps:function(){return{onePerLine:!0,editMode:!1}},checkOption:function(e,t){var n=void 0;n=this.props.multipleSelect?f.map(this.props.choices,function(n,r){return r===e?t:n.checked}):f.map(this.props.choices,function(n,r){return r===e&&t}),this.props.onCheckedChange(n)},focus:function(e){return d.findDOMNode(this.refs["radio"+(e||0)]).focus(),!0},getInstructionsText:function(){return this.props.apiOptions.isMobile?this.props.multipleSelect?i18n._("Choose all answers that apply."):i18n._("Choose 1 answer."):this.props.multipleSelect?i18n._("Select all that apply."):i18n._("Please choose from one of the following options.")},showOnePerLine:function(){return this.props.apiOptions.isMobile||this.props.onePerLine},deselectEnabled:function(){return this.props.apiOptions.isMobile||this.props.deselectEnabled},render:function(){var e=f.uniqueId("perseus_radio_"),t=this.props.multipleSelect?"checkbox":"radio",n=this.props.reviewModeRubric,r=_.styles,o=this.props.apiOptions.satStyling,i=this.props.apiOptions.isMobile,a=p("perseus-widget-radio",!this.props.editMode&&"perseus-rendered-radio",c(v.aboveScratchpad,!i&&v.blankBackground,r.radio,!o&&(i?r.responsiveMobileRadio:r.responsiveRadio),o&&r.satRadio)),s="instructions "+c(r.instructions,v.responsiveLabel),l=this.getInstructionsText(),u=i||this.props.multipleSelect,g=c(r.responsiveFieldset),y=h.createElement("fieldset",{className:"perseus-widget-radio-fieldset "+g},h.createElement("legend",{className:"perseus-sr-only"},l),u&&h.createElement("div",{className:s},l),h.createElement("ul",{className:a},this.props.choices.map(function(a,s){var l=this,u=!(!n||!n.choices[s].clue),g=E,v={ref:"radio"+s,apiOptions:this.props.apiOptions,checked:a.checked,reviewMode:!!n,correct:n&&n.choices[s].correct,clue:a.clue,content:a.content,disabled:this.props.apiOptions.readOnly,editMode:this.props.editMode,groupName:e,isLastChoice:s===this.props.choices.length-1,showClue:u,type:t,pos:s,deselectEnabled:this.deselectEnabled(),onChecked:function(e){l.checkOption(s,e)}};a.isNoneOfTheAbove&&(g=w,f.extend(v,{showContent:a.correct}));var y=function(e,t){return c(r.item,!l.showOnePerLine()&&r.inlineItem,!o&&(t?r.responsiveMobileItem:r.responsiveItem),e&&t&&r.responsiveSelected,o&&r.satRadioOption,o&&e&&r.satRadioSelected,o&&n&&r.satReviewRadioOption)};y(!0,i);var b=p(y(a.checked,i),m.RADIO.OPTION,!this.showOnePerLine()&&"inline",a.checked&&m.RADIO.SELECTED,n&&n.choices[s].correct&&m.CORRECT,n&&!n.choices[s].correct&&m.INCORRECT),T=null;return this.props.editMode&&(T=function(e){var t=l.refs["radio"+s],n=[b,a.content.className,d.findDOMNode(t).className];n.indexOf(e.target.className)!==-1&&l.checkOption(s,!0)}),h.createElement("li",{className:b,key:s,onClick:T,onTouchStart:this.props.labelWrap?x:null},h.createElement(g,v))},this)));return h.createElement("div",{className:c(!o&&r.responsiveContainer)},y)}});e.exports=_},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(49),a='Usage:\n  this.change({propName: 5}, callback);\n  this.change("propName", 5, callback);\n  this.change("propName")',s=function(e,t,n){var r=o.omit(e.props,i),a=o.extend(r,t);e.props.onChange(a,n)},l=function e(t,n,r,i){if(void 0===r)return o.partial(e,t,n);var a={};a[n]=r,s(t,a,i)},u=function(e,t,n){if(o.isObject(e)&&void 0===n)return n=t,s(this,e,n);if(o.isString(e))return l(this,e,t,n);throw new Error("Invalid types sent to this.change(): "+o.toArray(arguments).join()+"\n"+a)},c={propTypes:{onChange:r.PropTypes.func.isRequired},change:u};e.exports=c},function(e,t,n){"use strict";var r=n(54),o=n(113),i=n(55),a=n(10).ClassNames,s=n(114),l=n(32),u=n(112),c=n(203),p=n(11).captureScratchpadTouchStart,h="math",d="text",f="tex",m=r.createClass({displayName:"InputWithExamples",propTypes:{type:r.PropTypes.oneOf([h,d,f]),value:r.PropTypes.string,onChange:r.PropTypes.func.isRequired,className:r.PropTypes.string,examples:r.PropTypes.arrayOf(r.PropTypes.string).isRequired,shouldShowExamples:r.PropTypes.bool,convertDotToTimes:r.PropTypes.bool,buttonSet:r.PropTypes.string,buttonsVisible:r.PropTypes.oneOf(["always","never","focused"]),labelText:r.PropTypes.string,onFocus:r.PropTypes.func,onBlur:r.PropTypes.func,disabled:r.PropTypes.bool,id:r.PropTypes.string.isRequired},getDefaultProps:function(){return{type:d,shouldShowExamples:!0,onFocus:function(){},onBlur:function(){},disabled:!1}},getInitialState:function(){return{focused:!1,showExamples:!1}},_getUniqueId:function(){return"input-with-examples-"+btoa(this.props.id).replace(/=/g,"")},_getInputClassName:function(){if(this.props.type===f)return this.props.className;var e=a.INPUT+" "+a.INTERACTIVE;return this.state.focused&&(e+=" "+a.FOCUSED),this.props.className&&(e+=" "+this.props.className),e},_getPropsForInputType:function(){var e={"aria-describedby":this._getUniqueId(),ref:"input",className:this._getInputClassName(),labelText:this.props.labelText,value:this.props.value,onFocus:this._handleFocus,onBlur:this._handleBlur,disabled:this.props.disabled};return this.props.type===f?e:(i.extend(e,{buttonSet:this.props.buttonSet,buttonsVisible:this.props.buttonsVisible,onChange:this.props.onChange,onTouchStart:p}),this.props.type===h?i.extend({convertDotToTimes:this.props.convertDotToTimes},e):this.props.type===d?i.extend({autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:"false"},e):void 0)},_getComponentForInputType:function(){switch(this.props.type){case f:return c;case h:return s;case d:return u;default:return null}},_renderInput:function(){var e=this._getPropsForInputType(),t=this._getComponentForInputType();return r.createElement(t,e)},render:function(){var e=this._renderInput();if(this.props.type===f)return e;var t=i.map(this.props.examples,function(e){return"- "+e}).join("\n"),n=this.props.shouldShowExamples&&this.state.showExamples;return r.createElement(o,{ref:"tooltip",className:"perseus-formats-tooltip preview-measure",horizontalPosition:"left",horizontalAlign:"left",verticalPosition:"bottom",arrowSize:10,borderColor:"#ccc",show:n},e,r.createElement("div",{id:this._getUniqueId()},r.createElement(l,{content:t})))},_handleFocus:function(){this.props.onFocus(),this.setState({focused:!0,showExamples:!0})},show:function(){this.setState({showExamples:!0})},hide:function(){this.setState({showExamples:!1})},_handleBlur:function(){this.props.onBlur(),this.setState({focused:!1,showExamples:!1})},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},handleChange:function(e){this.props.onChange(e.target.value)}});e.exports=m},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(54),a=n(100).components.KeypadInput,s=n(100).consts.KeypadTypes,l=n(100).propTypes.keypadElementPropType,u=i.createClass({displayName:"SimpleKeypadInput",propTypes:{keypadElement:l,onFocus:i.PropTypes.func,value:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number])},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},getValue:function(){return this.props.value},render:function(){var e=this,t=this.props,n=t.keypadElement,l=t.onFocus,u=t.value,c=r(t,["keypadElement","onFocus","value"]);return i.createElement(a,o({ref:"input",keypadElement:n,onFocus:function(){n?n.configure({keypadType:s.FRACTION},function(){e.isMounted()&&l&&l()}):l&&l()},value:null==u?"":""+u},c))}});e.exports=u},function(e,t,n){"use strict";function r(e,t){for(var n=0,r=t,o=e.length;r<o;r++){var i=e[r];if("{"===i?n++:"}"===i&&n--,n<0)return r}return e.length}function o(e,t,n){var o=e.indexOf("{",t),i=o+1,s=r(e,i),l=e.substring(i,s),u=a(l,n);return{endpoint:s,expression:u}}function i(e,t){var n="\\dfrac",r="\\frac",o=e.indexOf(r,t),i=e.indexOf(n,t);return o>-1&&i>-1?Math.min(o,i):o>-1?o:i>-1?i:-1}function a(e,t){for(var n="",r=0,a=i(e,r);a>-1;){n+=e.substring(r,a),r=a;var s=o(e,r,t);r=s.endpoint+1;var l=o(e,r,t);r=l.endpoint+1,n.length&&(n+=" "),n+=t(s.expression,l.expression),a=i(e,r)}return n+=e.slice(r)}function s(e){function t(e){return e.indexOf("\\frac")>-1||e.indexOf("\\dfrac")>-1}var n=function(e,n){var r;return r=t(e)||t(n)?"\\dfrac":"\\frac",r+" {"+e+"}{"+n+"}"};return a(e,n)}function l(e){var t=function(e,t){return e+"/"+t};return a(e,t)}e.exports={parseTex:l,modifyTex:s}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=r.createClass({displayName:"PossibleAnswers",propTypes:{answers:r.PropTypes.arrayOf(r.PropTypes.string)},render:function(){var e=o.uniq(this.props.answers),t=o.map(e,function(e){return r.createElement("dd",{key:e},e)});return r.createElement("dl",{className:"perseus-possible-answers"},r.createElement("dt",null,"Correct Answer"),t)}});e.exports=i},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=o.createClass({displayName:"BlurInput",propTypes:{value:o.PropTypes.string.isRequired,onChange:o.PropTypes.func.isRequired},getInitialState:function(){return{value:this.props.value}},render:function(){return o.createElement("input",r({},this.props,{type:"text",value:this.state.value,onChange:this.handleChange,onBlur:this.handleBlur}))},componentWillReceiveProps:function(e){this.setState({value:e.value})},handleChange:function(e){this.setState({value:e.target.value})},handleBlur:function(e){this.props.onChange(e.target.value)}});e.exports=i},function(e,t,n){"use strict";var r=n(55),o=n(49),i={serialize:function(){return r.omit(this.props,o)}};e.exports=i},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=n(98),s=n(186).css,l=r.createClass({displayName:"MultiButtonGroup",propTypes:{values:r.PropTypes.arrayOf(r.PropTypes.any),buttons:r.PropTypes.arrayOf(r.PropTypes.shape({value:r.PropTypes.any.isRequired,content:r.PropTypes.node,title:r.PropTypes.string})).isRequired,onChange:r.PropTypes.func.isRequired,allowEmpty:r.PropTypes.bool},getDefaultProps:function(){return{values:[],allowEmpty:!0}},render:function(){var e=this,t=this.props.values,n=i(this.props.buttons).map(function(n,o){var l=i.contains(t,n.value);return r.createElement("button",{title:n.title,type:"button",id:""+o,key:""+o,ref:"button"+o,className:s(a.button.buttonStyle,l&&a.button.selectedStyle),onClick:e.toggleSelect.bind(e,n.value)},n.content||""+n.value)}),o={display:"inline-block"};return r.createElement("div",{style:o},n)},focus:function(){return o.findDOMNode(this).focus(),!0},toggleSelect:function(e){var t=this.props.values,n=this.props.allowEmpty;i.contains(t,e)&&(t.length>1||n)?this.props.onChange(i.without(t,e)):this.props.onChange(i.union(t,[e]))}});e.exports=l},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(99),i=n(54),a=n(58),s=n(55),l=n(11).firstNumericalParse,u=n(11).captureScratchpadTouchStart,c=n(201).number,p=n(90),h=p.toNumericString,d=p.getNumericFormat,f=i.createClass({displayName:"NumberInput",propTypes:{value:i.PropTypes.number,format:i.PropTypes.string,placeholder:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number]),onChange:i.PropTypes.func.isRequired,onFormatChange:i.PropTypes.func,checkValidity:i.PropTypes.func,size:i.PropTypes.string,label:i.PropTypes.oneOf(["put your labels outside your inputs!"])},getDefaultProps:function(){return{value:null,placeholder:null,format:null,onFormatChange:function(){return null},checkValidity:function(){return!0},useArrowKeys:!1}},getInitialState:function(){return{format:this.props.format}},render:function(){var e=o({"number-input":!0,"invalid-input":!this._checkValidity(this.props.value),mini:"mini"===this.props.size,small:"small"===this.props.size,normal:"normal"===this.props.size});return null!=this.props.className&&(e=e+" "+this.props.className),i.createElement("input",r({},this.props,{className:e,type:"text",ref:"input",onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyPress:this._handleBlur,onKeyDown:this._onKeyDown,onTouchStart:u,defaultValue:h(this.props.value,this.state.format),value:void 0}))},componentDidUpdate:function(e){c.equal(this.getValue(),this.props.value)||this._setValue(this.props.value,this.state.format)},getValue:function(){return this.parseInputValue(a.findDOMNode(this.refs.input).value)},getStringValue:function(){return a.findDOMNode(this.refs.input).value.toString()},parseInputValue:function(e){if(""===e){var t=this.props.placeholder;return s.isFinite(t)?+t:null}var n=l(e);return s.isFinite(n)?n:this.props.value;
},focus:function(){a.findDOMNode(this.refs.input).focus(),this._handleFocus()},blur:function(){a.findDOMNode(this.refs.input).blur(),this._handleBlur()},setSelectionRange:function(e,t){a.findDOMNode(this).setSelectionRange(e,t)},getSelectionStart:function(){return a.findDOMNode(this).selectionStart},getSelectionEnd:function(){return a.findDOMNode(this).selectionEnd},_checkValidity:function(e){if(null==e)return!0;var t=l(e),n=this.props.checkValidity;return s.isFinite(t)&&n(t)},_handleChange:function(e){var t=e.target.value,n=this.parseInputValue(t),r=d(t);this.props.onChange(n),r&&(this.props.onFormatChange(n,r),this.setState({format:r}))},_handleFocus:function(){this.props.onFocus&&this.props.onFocus()},_handleBlur:function(e){e&&"keypress"===e.type&&13!==e.keyCode||(this._setValue(this.props.value,this.state.format),this.props.onBlur&&this.props.onBlur())},_onKeyDown:function(e){if(this.props.onKeyDown&&this.props.onKeyDown(e),this.props.useArrowKeys&&s.contains(["ArrowUp","ArrowDown"],e.key)){var t=this.getValue();t===Math.floor(t)&&("ArrowUp"===e.key?t+=1:"ArrowDown"===e.key&&(t-=1),this._checkValidity(t)&&this.props.onChange(t))}},_setValue:function(e,t){$(a.findDOMNode(this.refs.input)).val(h(e,t))}});e.exports=f},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(58),a=o.createClass({displayName:"TextInput",propTypes:{value:o.PropTypes.string,onChange:o.PropTypes.func.isRequired,className:o.PropTypes.string,labelText:o.PropTypes.string,onFocus:o.PropTypes.func,onBlur:o.PropTypes.func,disabled:o.PropTypes.bool},getDefaultProps:function(){return{value:"",disabled:!1}},render:function(){var e=this;return o.createElement("input",r({},this.props,{type:"text",disabled:this.props.disabled,"aria-label":this.props.labelText,onChange:function(t){return e.props.onChange(t.target.value)}}))},focus:function(){i.findDOMNode(this).focus()},blur:function(){i.findDOMNode(this).blur()},getValue:function(){return i.findDOMNode(this).value},getStringValue:function(){return i.findDOMNode(this).value.toString()},setSelectionRange:function(e,t){i.findDOMNode(this).setSelectionRange(e,t)},getSelectionStart:function(){return i.findDOMNode(this).selectionStart},getSelectionEnd:function(){return i.findDOMNode(this).selectionEnd}});e.exports=a},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=10,s=r.createClass({displayName:"Triangle",propTypes:{color:r.PropTypes.string.isRequired,left:r.PropTypes.number.isRequired,top:r.PropTypes.number.isRequired,width:r.PropTypes.number.isRequired,height:r.PropTypes.number.isRequired,horizontalDirection:r.PropTypes.oneOf(["left","right"]).isRequired,verticalDirection:r.PropTypes.oneOf(["top","bottom"]).isRequired},render:function(){var e,t,n,o,i=this.props.width+"px solid transparent";"right"===this.props.horizontalDirection?e=i:t=i;var a=this.props.height+"px solid "+this.props.color;return"top"===this.props.verticalDirection?n=a:o=a,r.createElement("div",{style:{display:"block",height:0,width:0,position:"absolute",left:this.props.left,top:this.props.top,borderLeft:e,borderRight:t,borderTop:n,borderBottom:o}})}}),l=r.createClass({displayName:"TooltipArrow",propTypes:{position:r.PropTypes.string,visibility:r.PropTypes.string,left:r.PropTypes.number,top:r.PropTypes.number,color:r.PropTypes.string.isRequired,border:r.PropTypes.string.isRequired,width:r.PropTypes.number.isRequired,height:r.PropTypes.number.isRequired,horizontalDirection:r.PropTypes.oneOf(["left","right"]).isRequired,verticalDirection:r.PropTypes.oneOf(["top","bottom"]).isRequired},getDefaultProps:function(){return{position:"relative",visibility:"visible",left:0,top:0}},render:function(){var e="top"===this.props.verticalDirection,t=e?0:1,n=e?0:-1;return r.createElement("div",{style:{display:"block",position:this.props.position,visibility:this.props.visibility,left:this.props.left,top:this.props.top,width:this.props.width+2,height:this.props.height+1,marginTop:-1,marginBottom:-2,zIndex:a}},r.createElement(s,{horizontalDirection:this.props.horizontalDirection,verticalDirection:this.props.verticalDirection,color:this.props.border,left:0,top:n,width:this.props.width+2,height:this.props.height+2}),r.createElement(s,{horizontalDirection:this.props.horizontalDirection,verticalDirection:this.props.verticalDirection,color:this.props.color,left:1,top:t,width:this.props.width,height:this.props.height}))}}),u={top:{top:"-100%"},bottom:{top:0}},c={left:{targetLeft:0},right:{targetLeft:"100%"}},p={left:{tooltipLeft:0,arrowLeft:function(e){return 0}},right:{tooltipLeft:"-100%",arrowLeft:function(e){return-e-2}}},h=r.createClass({displayName:"Tooltip",propTypes:{show:r.PropTypes.bool.isRequired,className:r.PropTypes.string,arrowSize:r.PropTypes.number,borderColor:r.PropTypes.string,verticalPosition:r.PropTypes.oneOf(i.keys(u)),horizontalPosition:r.PropTypes.oneOf(i.keys(c)),horizontalAlign:r.PropTypes.oneOf(i.keys(p)),children:r.PropTypes.arrayOf(r.PropTypes.element).isRequired},getDefaultProps:function(){return{className:"",arrowSize:10,borderColor:"#ccc",verticalPosition:"bottom",horizontalPosition:"left",horizontalAlign:"left"}},getInitialState:function(){return{height:null}},componentWillReceiveProps:function(){this.setState({height:null})},render:function(){var e="top"===this.props.verticalPosition;return r.createElement("span",null,e&&this._renderToolTipDiv(e),r.createElement("div",null,i.first(this.props.children)),!e&&this._renderToolTipDiv())},_renderToolTipDiv:function(e){var t,n,o=i.extend({},c[this.props.horizontalPosition],p[this.props.horizontalAlign],u[this.props.verticalPosition]);return e?(t=r.createElement(l,{verticalDirection:"top",horizontalDirection:this.props.horizontalAlign,position:"absolute",color:"white",border:this.props.borderColor,left:o.arrowLeft(this.props.arrowSize),top:-this.props.arrowSize+2,width:this.props.arrowSize,height:this.props.arrowSize,zIndex:a}),n=r.createElement(l,{verticalDirection:"top",horizontalDirection:this.props.horizontalAlign,visibility:"hidden",color:"white",border:this.props.borderColor,left:o.arrowLeft(this.props.arrowSize),top:-1,width:this.props.arrowSize,height:this.props.arrowSize,zIndex:a})):(t=r.createElement(l,{verticalDirection:"bottom",horizontalDirection:this.props.horizontalAlign,color:"white",border:this.props.borderColor,left:o.arrowLeft(this.props.arrowSize),top:-1,width:this.props.arrowSize,height:this.props.arrowSize,zIndex:a}),n=null),r.createElement("div",{style:{position:"relative",height:0,display:this.props.show?"block":"none"}},r.createElement("div",{ref:"tooltipContainer",className:"tooltipContainer",style:{position:"absolute",height:this.state.height||void 0,left:o.targetLeft}},t,r.createElement("div",{className:this.props.className,ref:"tooltipContent",style:{position:"relative",top:o.top,left:o.tooltipLeft,border:"1px solid "+this.props.borderColor,WebkitBoxShadow:"0 1px 3px "+this.props.borderColor,MozBoxShadow:"0 1px 3px "+this.props.borderColor,boxShadow:"0 1px 3px "+this.props.borderColor,zIndex:a-1}},i.rest(this.props.children)),n))},componentDidMount:function(){this._updateHeight()},componentDidUpdate:function(){this._updateHeight()},_updateHeight:function(){var e=o.findDOMNode(this.refs.tooltipContainer).offsetHeight;e!==this.state.height&&this.setState({height:e})}});e.exports=h},function(e,t,n){"use strict";var r=n(99),o=n(54),i=n(58),a=n(55),s=n(115),l=window.MathQuill,u=o.PropTypes,c=o.createClass({displayName:"MathInput",propTypes:{value:u.string,onChange:u.func.isRequired,convertDotToTimes:u.bool,buttonsVisible:u.oneOf(["always","never","focused"]),buttonSets:s.buttonSetsType.isRequired,labelText:o.PropTypes.string,onFocus:u.func,onBlur:u.func},render:function(){var e=r({"perseus-math-input":!0,"mq-editable-field":!0,"mq-math-mode":!0});this.props.className&&(e=e+" "+this.props.className);var t=null;return this._shouldShowButtons()&&(t=o.createElement(s,{sets:this.props.buttonSets,className:"math-input-buttons absolute",convertDotToTimes:this.props.convertDotToTimes,onInsert:this.insert})),o.createElement("div",{style:{display:"inline-block"}},o.createElement("div",{style:{display:"inline-block"}},o.createElement("span",{className:e,ref:"mathinput","aria-label":this.props.labelText,onFocus:this.handleFocus,onBlur:this.handleBlur})),o.createElement("div",{style:{position:"relative"}},t))},handleFocus:function(){this.setState({focused:!0})},handleMouseDown:function(e){var t=i.findDOMNode(this).contains(e.target);this.mouseDown=t,t||this.setState({focused:!1})},handleMouseUp:function(){this.mouseDown&&this.focus(),this.mouseDown=!1},handleBlur:function(){this.mouseDown||this.setState({focused:!1})},_shouldShowButtons:function(){return"always"===this.props.buttonsVisible||"never"!==this.props.buttonsVisible&&this.state.focused},getDefaultProps:function(){return{value:"",convertDotToTimes:!1,buttonsVisible:"focused"}},getInitialState:function(){return{focused:!1}},insert:function(e){var t=this.mathField();a(e).isFunction()?e(t):"\\"===e[0]?t.cmd(e).focus():t.write(e).focus(),t.focus()},mathField:function(e){var t=l.getInterface(2);return t.MathField(i.findDOMNode(this.refs.mathinput),e)},componentWillUnmount:function(){window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("mouseup",this.handleMouseUp)},componentDidMount:function(){var e=this;window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("mouseup",this.handleMouseUp);var t=!1;this.mathField({autoCommands:"pi theta phi sqrt nthroot",charsThatBreakOutOfSupSub:"+-*/=<>≠≤≥",supSubsRequireOperand:!0,spaceBehavesLikeTab:!0,handlers:{edited:function(n){var r=n.latex();if(r=r.replace(/<>/g,"\\ne"),e.props.convertDotToTimes){r=r.replace(/\\cdot/g,"\\times");var o=n.__controller.cursor[l.L];o&&"\\cdot "===o.ctrlSeq&&(n.__controller.backspace(),n.cmd("\\times"))}else r=r.replace(/\\times/g,"\\cdot");t&&e.props.value!==r&&e.props.onChange(r)},enter:function(){$(i.findDOMNode(e.refs.mathinput)).submit()},upOutOf:function(e){e.typedText("^")}}}),this.mathField().latex(this.props.value),t=!0},componentDidUpdate:function(){a.isEqual(this.mathField().latex(),this.props.value)||this.mathField().latex(this.props.value)},focus:function(){this.mathField().focus(),this.setState({focused:!0})},blur:function(){this.mathField().blur(),this.setState({focused:!1})}});e.exports=c},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(81),a={fontSize:"150%"},s={fontSize:"120%"},l={fontSize:"130%"},u=[function(){return[r.createElement("span",{key:"plus",style:s},"+"),"+"]},function(){return[r.createElement("span",{key:"minus",style:a},"-"),"-"]},function(e){return e.convertDotToTimes?[r.createElement(i,{key:"times",style:a},"\\times"),"\\times"]:[r.createElement(i,{key:"times",style:a},"\\cdot"),"\\cdot"]},function(){return[r.createElement(i,{key:"frac",style:a},"\\frac{□}{□}"),function(e){var t=e.latex();e.typedText("/"),e.latex()===t&&e.cmd("\\frac")}]}],c={basic:u,"basic+div":u.concat([function(){return[r.createElement(i,{key:"div"},"\\div"),"\\div"]}]),trig:[function(){return[r.createElement(i,{key:"sin"},"\\sin"),"\\sin"]},function(){return[r.createElement(i,{key:"cos"},"\\cos"),"\\cos"]},function(){return[r.createElement(i,{key:"tan"},"\\tan"),"\\tan"]},function(){return[r.createElement(i,{key:"theta",style:l},"\\theta"),"\\theta"]},function(){return[r.createElement(i,{key:"pi",style:l},"\\phi"),"\\phi"]}],prealgebra:[function(){return[r.createElement(i,{key:"sqrt"},"\\sqrt{x}"),"\\sqrt"]},function(){return[r.createElement(i,{key:"nthroot"},"\\sqrt[3]{x}"),function(e){e.typedText("nthroot3"),e.keystroke("Right")}]},function(){return[r.createElement(i,{key:"pow",style:s},"□^a"),function(e){var t=e.latex();e.typedText("^"),e.latex()===t&&e.typedText("a^b")}]},function(){return[r.createElement(i,{key:"pi",style:s},"\\pi"),"\\pi"]}],logarithms:[function(){return[r.createElement(i,{key:"log"},"\\log"),"\\log"]},function(){return[r.createElement(i,{key:"ln"},"\\ln"),"\\ln"]},function(){return[r.createElement(i,{key:"log_b"},"\\log_b"),function(e){e.typedText("log_"),e.keystroke("Right"),e.typedText("("),e.keystroke("Left"),e.keystroke("Left")}]}],"basic relations":[function(){return[r.createElement(i,{key:"eq"},"="),"="]},function(){return[r.createElement(i,{key:"lt"},"\\lt"),"\\lt"]},function(){return[r.createElement(i,{key:"gt"},"\\gt"),"\\gt"]}],"advanced relations":[function(){return[r.createElement(i,{key:"neq"},"\\neq"),"\\neq"]},function(){return[r.createElement(i,{key:"leq"},"\\leq"),"\\leq"]},function(){return[r.createElement(i,{key:"geq"},"\\geq"),"\\geq"]}]},p=r.PropTypes.arrayOf(r.PropTypes.oneOf(o(c).keys())),h=r.createClass({displayName:"TexButtons",propTypes:{sets:p.isRequired,onInsert:r.PropTypes.func.isRequired},render:function(){var e=this,t=o.sortBy(this.props.sets,function(e){return o.keys(c).indexOf(e)}),n=o(t).map(function(e){return c[e]}),i=o(n).map(function(t){return t.map(function(t){var n=t(e.props);return r.createElement("button",{onClick:function(){return e.props.onInsert(n[1])},className:"tex-button",key:n[0].key,tabIndex:-1,type:"button"},n[0])})}),a=o(i).map(function(t,n){return r.createElement("div",{className:"clearfix tex-button-row",key:e.props.sets[n]},t)});return r.createElement("div",{className:this.props.className+" preview-measure"},a)},statics:{buttonSets:c,buttonSetsType:p}});e.exports=h},function(e,t,n){var r=n(204),o=r.clone,i=r.isObject,a=r.merge,s=n(205),l=n(206),u=n(207),c=function(e){return Array.isArray(e)?s:i(e)?l:"string"==typeof e?u:void 0},p=function(e){if(e instanceof p)return e;if(!(this instanceof p))return new p(e);var t=c(e);this._wrapped=t.thaw?t.thaw(e):e};p.prototype.freeze=function(){var e=this._wrapped,t=c(e);return t.freeze?t.freeze(e):e},p.prototype.zoom=function(e){return void 0===this._zoomStack&&(this._zoomStack=[]),this._zoomStack.push({zoom:e,wrapped:this._wrapped}),this._wrapped=p(this._wrapped).get(e),this},p.prototype.deZoom=function(){var e=this._zoomStack.pop();return this._wrapped=p(e.wrapped).set(e.zoom,this._wrapped).freeze(),this},p.prototype.get=function(e){for(var t=this._wrapped,n=0;n<e.length;n++)t=c(t).get(t,e[n]);return t},p.prototype.mod=function(e,t){var n=this._wrapped,r=o(n),i=c(n);if(0===e.length)this._wrapped=t(this._wrapped);else if(1===e.length)this._wrapped=i.mod(r,e[0],t);else{var a=e[0],s=e.slice(1);r[a]=p(n[a]).mod(s,t).freeze(),this._wrapped=r}return this},p.prototype.merge=function(e,t){return this._wrapped=p(this._wrapped).mod(e,function(e){return a(e,t)}).freeze(),this},p.prototype.del=function(e){var t=this._wrapped,n=c(t);if(1===e.length)this._wrapped=n.del(t,e[0]);else{var r=e[0],o=e.slice(1),i=n.get(t,r);this._wrapped=n.set(t,r,n.del(i,o))}return this},p.prototype.set=function(e,t){return this.mod(e,function(){return t})},e.exports=p},function(e,t,n){"use strict";var r,o=n(186),i=o.StyleSheet,a=o.css,s=n(54),l=n(99),u=n(103),c=n(208),p=n(55),h=n(10).ClassNames,d=n(10).Options,f=n(40),m=f.iconCircle,g=f.iconCircleThin,v=n(41),y=n(32),b=n(11),x=n(76),E=n(77),w=s.createClass({displayName:"Categorizer",mixins:[c,u],propTypes:{apiOptions:d.propTypes,categories:s.PropTypes.arrayOf(s.PropTypes.string),items:s.PropTypes.arrayOf(s.PropTypes.string),trackInteraction:s.PropTypes.func.isRequired,values:s.PropTypes.arrayOf(s.PropTypes.number)},getDefaultProps:function(){return{items:[],categories:[],values:[]}},getInitialState:function(){return{uniqueId:p.uniqueId("perseus_radio_")}},render:function(){var e=this,t=this,n=this.props.apiOptions.isMobile,r=this.props.items.map(function(e,t){return[e,t]});this.props.randomizeItems&&(r=b.shuffle(r,this.props.problemNum));var o=s.createElement("table",{className:"categorizer-table"},s.createElement("thead",null,s.createElement("tr",null,s.createElement("th",null," "),this.props.categories.map(function(e,t){return s.createElement("th",{className:a(C.header),key:t},s.createElement(y,{content:e}))}))),s.createElement("tbody",null,r.map(function(r){var o=r[0],i=r[1],l=t.state.uniqueId+"_"+i;return s.createElement("tr",{key:i},s.createElement("td",null,s.createElement(y,{content:o})),p.range(t.props.categories.length).map(function(r){var o=t.props.values[i]===r;return s.createElement("td",{className:"category "+a(C.cell,C.responsiveCell),key:r},s.createElement("div",{className:h.INTERACTIVE,onClick:e.onChange.bind(e,i,r)},n&&s.createElement("input",{type:"radio",name:l,className:a(E.responsiveInput,E.responsiveRadioInput),checked:o,onChange:e.onChange.bind(e,i,r),onClick:function(e){return e.stopPropagation()}}),!n&&s.createElement("span",{className:a(C.responsiveSpan,C.radioSpan,o&&C.checkedRadioSpan,e.props.static&&o&&C.staticCheckedRadioSpan)},o?s.createElement(v,m):s.createElement(v,g))))}))}))),i=l({"categorizer-container":!0,"static-mode":this.props.static}),u=this.props.apiOptions.isMobile?[C.fullBleedContainer]:[];return s.createElement("div",{className:i+" "+a.apply(void 0,u)},o)},onChange:function(e,t){var n=p.clone(this.props.values);n[e]=t,this.change("values",n),this.props.trackInteraction()},simpleValidate:function(e){return w.validate(this.getUserInput(),e)}});p.extend(w,{validate:function(e,t){var n=!0,r=!0;return p.each(t.values,function(t,o){null==e.values[o]&&(n=!1),e.values[o]!==t&&(r=!1)}),n?{type:"points",earned:r?1:0,total:1,message:null}:{type:"invalid",message:i18n._("Make sure you select something for every row.")}}});var T=16,C=i.create({fullBleedContainer:(r={},r[x.mdOrSmaller]={marginLeft:-T,marginRight:-T,overflowX:"auto"},r),header:{textAlign:"center",verticalAlign:"bottom"},cell:{textAlign:"center",padding:0,color:"#ccc",verticalAlign:"middle"},radioSpan:{fontSize:30,paddingRight:3,":hover":{color:"#999"}},checkedRadioSpan:{color:"#333"},staticCheckedRadioSpan:{color:"#888"}});e.exports={name:"categorizer",displayName:"Categorizer",widget:w,transform:function(e){return p.pick(e,"items","categories","randomizeItems")},staticTransform:function(e){return p.pick(e,"items","categories","values","randomizeItems")}}},function(e,t,n){"use strict";var r=n(54),o=n(103),i=n(55),a=n(10).Options,s=n(109),l=n(46),u=n(89),c=n(117).widget,p=r.createClass({displayName:"CategorizerEditor",mixins:[s,o],propTypes:{apiOptions:a.propTypes,items:r.PropTypes.arrayOf(r.PropTypes.string),categories:r.PropTypes.arrayOf(r.PropTypes.string),values:r.PropTypes.arrayOf(r.PropTypes.number),randomizeItems:r.PropTypes.bool},getDefaultProps:function(){return{items:[],categories:[],values:[],randomizeItems:!1}},render:function(){var e=this;return r.createElement("div",null,r.createElement("div",{className:"perseus-widget-row"},r.createElement(l,{label:"Randomize item order",labelAlignment:"right",randomizeItems:this.props.randomizeItems,onChange:this.props.onChange})),"Categories:",r.createElement(u,{options:this.props.categories,onChange:function(t){e.change("categories",t)},layout:"horizontal"}),"Items:",r.createElement(u,{options:this.props.items,onChange:function(t){e.change({items:t,values:i.first(e.props.values,t.length)})},layout:"vertical"}),r.createElement(c,{apiOptions:this.props.apiOptions,items:this.props.items,categories:this.props.categories,values:this.props.values,onChange:function(t){e.props.onChange(t)},trackInteraction:function(){}}))}});e.exports=p},function(e,t,n){"use strict";function r(e){var t=c.replace("{programID}",e),n=document.location.hostname,r="www.khanacademy.org";return u.test(n)&&(r=n),t.replace("{hostname}",r)}var o=n(54),i=n(55),a=n(103),s=n(11).updateQueryString,l=2,u=/khanacademy\.org/,c="https://{hostname}/computer-programming/program/{programID}/embedded?embed=yes&author=no",p=o.createClass({displayName:"CSProgram",mixins:[a],propTypes:{programID:o.PropTypes.string,width:o.PropTypes.number,height:o.PropTypes.number,settings:o.PropTypes.array,showEditor:o.PropTypes.bool,showButtons:o.PropTypes.bool,status:o.PropTypes.oneOf(["incomplete","incorrect","correct"]),message:o.PropTypes.string},getDefaultProps:function(){return{showEditor:!1,showButtons:!1,status:"incomplete",message:null}},handleMessageEvent:function(e){var t={};try{t=JSON.parse(e.originalEvent.data)}catch(e){return}if(!i.isUndefined(t.testsPassed)){var n=t.testsPassed?"correct":"incorrect";this.change({status:n,message:t.message})}},componentDidMount:function(){$(window).on("message",this.handleMessageEvent)},componentWillUnmount:function(){$(window).off("message",this.handleMessageEvent)},render:function(){if(!this.props.programID)return o.createElement("div",null);var e,t=r(this.props.programID),n={height:this.props.height};if(this.props.showEditor?(t+="&editor=yes",n.width="100%",e="perseus-scratchpad-editor"):(t+="&editor=no",n.width=this.props.width+l,e="perseus-scratchpad"),this.props.showButtons?(t+="&buttons=yes",n.height+=50):t+="&buttons=no",this.props.settings){var a={};i.each(this.props.settings,function(e){e.name&&e.value&&(a[e.name]=e.value)}),t=s(t,"settings",JSON.stringify(a))}return o.createElement("iframe",{sandbox:"allow-same-origin allow-scripts",src:t,style:n,className:e,allowFullScreen:!0})},simpleValidate:function(e){return p.validate({status:this.props.status,message:this.props.message},e)},statics:{validate:function(e,t){return"correct"===e.status?{type:"points",earned:1,total:1,message:e.message||null}:"incorrect"===e.status?{type:"points",earned:0,total:1,message:e.message||null}:{type:"invalid",message:"Keep going, you're not there yet!"}}}});e.exports={name:"cs-program",displayName:"CS Program",supportedAlignments:["block","full-width"],widget:p}},function(e,t,n){"use strict";function r(e){var t=m.exec(e);return t&&(e=t[1]),e}var o=n(54),i=n(55),a=n(103),s=n(109),l=n(108),u=n(96),c=n(46),p=400,h=400,d=o.createClass({displayName:"PairEditor",mixins:[a,s],propTypes:{name:o.PropTypes.string,value:o.PropTypes.string},getDefaultProps:function(){return{name:"",value:""}},render:function(){return o.createElement("fieldset",{className:"pair-editor"},o.createElement("label",null,"Name:"," ",o.createElement(l,{value:this.props.name,onChange:this.change("name")})),o.createElement("label",null," Value:"," ",o.createElement(l,{value:this.props.value,onChange:this.change("value")})))}}),f=o.createClass({displayName:"PairsEditor",mixins:[a,s],propTypes:{pairs:o.PropTypes.arrayOf(o.PropTypes.shape({name:o.PropTypes.string,value:o.PropTypes.string})).isRequired},render:function(){var e=this,t=i.map(this.props.pairs,function(t,n){return o.createElement(d,{key:n,name:t.name,value:t.value,onChange:e.handlePairChange.bind(e,n)})});return o.createElement("div",null,t)},handlePairChange:function(e,t){var n=this.props.pairs.slice();n[e]=t;var r=n[n.length-1];r.name&&r.value&&n.push({name:"",value:""}),this.change("pairs",n)}}),m=/khanacademy\.org\/computer-programming\/[^\/]+\/(\d+)/,g=o.createClass({displayName:"CSProgramEditor",mixins:[a,s],getDefaultProps:function(){return{programID:"",settings:[{name:"",value:""}],showEditor:!1,showButtons:!1,width:p,height:h}},render:function(){return o.createElement("div",null,o.createElement("label",null,"Url or Program ID:"," ",o.createElement(l,{name:"programID",value:this.props.programID,onChange:this._handleProgramIDChange})),o.createElement("br",null),o.createElement(c,{label:"Show Editor",showEditor:this.props.showEditor,onChange:this.props.onChange}),o.createElement(u,null,'If you show the editor, you should use the "full-width" alignment to make room for the width of the editor.'),o.createElement("br",null),o.createElement(c,{label:"Show Buttons",showButtons:this.props.showButtons,onChange:this.props.onChange}),o.createElement("br",null),o.createElement("label",null,"Settings:",o.createElement(f,{name:"settings",pairs:this.props.settings,onChange:this._handleSettingsChange}),o.createElement(u,null,"Settings that you add here are available to the program as an object returned by ",o.createElement("code",null,"Program.settings()"))))},_handleSettingsChange:function(e){this.change({settings:e.pairs})},_handleProgramIDChange:function(e){var t=this;e=r(e),$.getJSON("https://www.khanacademy.org/api/internal/scratchpads/"+e).done(function(n){t.change({width:n.width,height:n.height,programID:e})}).fail(function(n,r,o){console.error("Error retrieving scratchpad info for program ID ",e),console.error(r+", "+o),t.change({width:p,height:h,programID:e})})}});e.exports=g},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(186),i=o.StyleSheet,a=o.css,s=n(99),l=n(54),u=n(58),c=n(55),p=n(10).ClassNames,h=n(10).Options,d=n(41),f=n(78),m=n(40),g=m.iconDropdownArrow,v=n(11).captureScratchpadTouchStart,y=24,b=l.createClass({displayName:"Dropdown",propTypes:{apiOptions:h.propTypes,choices:l.PropTypes.arrayOf(l.PropTypes.string),onChange:l.PropTypes.func.isRequired,placeholder:l.PropTypes.string,selected:l.PropTypes.number,trackInteraction:l.PropTypes.func.isRequired},getDefaultProps:function(){return{choices:[],selected:0,placeholder:"",apiOptions:h.defaults}},render:function(){var e=this.props.choices.slice(),t=s({"perseus-widget-dropdown":!0});return l.createElement("div",null,l.createElement("select",{onChange:this._handleChangeEvent,onTouchStart:v,className:t+" "+a(E.dropdown)+" "+p.INTERACTIVE,disabled:this.props.apiOptions.readOnly,value:this.props.selected},l.createElement("option",{value:0,disabled:!0},this.props.placeholder),e.map(function(e,t){return l.createElement("option",{key:""+(t+1),value:t+1},e)})),l.createElement(d,r({},g,{style:{marginLeft:"-"+y+"px",height:y,width:y}})))},focus:function(){return u.findDOMNode(this).focus(),!0},_handleChangeEvent:function(e){this._handleChange(parseInt(e.target.value))},_handleChange:function(e){this.props.trackInteraction(),this.props.onChange({selected:e})},getUserInput:function(){return{value:this.props.selected}},simpleValidate:function(e){return b.validate(this.getUserInput(),e)}});c.extend(b,{validate:function(e,t){var n=e.value;if(0===n)return{type:"invalid",message:null};var r=t.choices[n-1].correct;return{type:"points",earned:r?1:0,total:1,message:null}}});var x=function(e){return{placeholder:e.placeholder,choices:c.map(e.choices,function(e){return e.content})}},E=i.create({dropdown:{appearance:"none",backgroundColor:"transparent",border:"1px solid "+f.gray76,borderRadius:4,boxShadow:"none",fontFamily:f.baseFontFamily,padding:"9px "+(y+1)+"px 9px 9px",":focus":{outline:"none",border:"2px solid "+f.kaGreen,padding:"8px "+y+"px 8px 8px"},":focus + svg":{color:""+f.kaGreen},":disabled":{color:f.gray68},":disabled + svg":{color:f.gray68}}});e.exports={name:"dropdown",displayName:"Drop down",defaultAlignment:"inline-block",accessible:!0,widget:b,transform:x}},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=n(40),s=a.iconPlus,l=a.iconTrash,u=n(96),c=n(41),p=n(109),h=r.createClass({displayName:"DropdownEditor",mixins:[p],propTypes:{choices:r.PropTypes.arrayOf(r.PropTypes.shape({content:r.PropTypes.string,correct:r.PropTypes.bool})),placeholder:r.PropTypes.string},getDefaultProps:function(){return{placeholder:"",choices:[{content:"",correct:!1}]}},render:function(){var e=i.uniqueId("perseus_dropdown_");return r.createElement("div",{className:"perseus-widget-dropdown"},r.createElement("div",{className:"dropdown-info"},"Dropdown",r.createElement(u,null,r.createElement("p",null,"The drop down is useful for making inequalities in a custom format. We normally use the symbols ","<",", ",">",', ≤, ≥ (in that order) which you can copy into the choices. When possible, use the "multiple choice" answer type instead.'))),r.createElement("div",{className:"dropdown-placeholder"},r.createElement("input",{type:"text",placeholder:"Placeholder value",value:this.props.placeholder,onChange:this.onPlaceholderChange}),r.createElement(u,null,r.createElement("p",null,"This value will appear as the drop down default. It should give the user some indication of the values available in the drop down itself, e.g., Yes/No/Maybe."))),r.createElement("div",{className:"clearfix"}),r.createElement("ul",{className:"dropdown-choices"},this.props.choices.map(function(t,n){var o=t.correct?"correct":"incorrect";return r.createElement("li",{key:""+n},r.createElement("div",null,r.createElement("input",{ref:"radio"+n,type:"radio",name:e,checked:t.correct?"checked":"",onChange:this.onCorrectChange.bind(this,n),value:n}),r.createElement("input",{type:"text",ref:"editor"+n,onChange:this.onContentChange.bind(this,n),className:o,value:t.content}),r.createElement("a",{href:"#",className:"simple-button orange",onClick:this.removeChoice.bind(this,n)},r.createElement("span",{className:"remove-choice"},r.createElement(c,l)))))},this)),r.createElement("div",{className:"add-choice-container"},r.createElement("a",{href:"#",className:"simple-button orange",onClick:this.addChoice},r.createElement(c,s)," ","Add a choice"," ")))},onPlaceholderChange:function(e){var t=e.target.value;this.props.onChange({placeholder:t})},onCorrectChange:function(e){var t=i.map(this.props.choices,function(t,n){return i.extend({},t,{correct:n===e})});this.props.onChange({choices:t})},onContentChange:function(e,t){var n=this.props.choices.slice(),r=i.clone(n[e]);r.content=t.target.value,n[e]=r,this.props.onChange({choices:n})},addChoice:function(e){e.preventDefault();var t=this.props.choices,n={content:"",correct:!1};this.props.onChange({choices:t.concat([n])},this.focus.bind(this,t.length))},removeChoice:function(e,t){t.preventDefault();var n=i(this.props.choices).clone();n.splice(e,1),this.props.onChange({choices:n})},focus:function(e){return o.findDOMNode(this.refs["editor"+e]).focus(),!0}});e.exports=h},function(e,t,n){"use strict";var r,o,i=n(186),a=i.StyleSheet,s=i.css,l=n(54),u=n(58),c=n(55),p=n(103),h=n(10),d=n(32),f=n(76),m=n(78),g={showPrompt:"Explain",hidePrompt:"Hide explanation",explanation:"explanation goes here\n\nmore explanation",widgets:{}},v=l.createClass({displayName:"Explanation",mixins:[p],propTypes:{apiOptions:h.Options.propTypes,explanation:l.PropTypes.string,hidePrompt:l.PropTypes.string,showPrompt:l.PropTypes.string,trackInteraction:l.PropTypes.func.isRequired,widgets:l.PropTypes.object},getDefaultProps:function(){return g},getInitialState:function(){return{expanded:!1,contentHeight:0}},_onClick:function(){this._updateHeight(),this.setState({expanded:!this.state.expanded}),this.props.trackInteraction()},_updateHeight:function(){var e=u.findDOMNode(this.refs.content),t=this.props.apiOptions.isMobile,n=2*b+2*E,r=Array.prototype.reduce.call(e.childNodes,function(e,t){return e+(t.offsetHeight||0)},t?0:n);r!==this.state.contentHeight&&this.setState({contentHeight:r})},componentDidMount:function(){this._updateHeight()},componentDidUpdate:function(e,t){e!==this.props&&this._updateHeight()},render:function(){var e=this.props.apiOptions.baseElements.Link,t=this.props.apiOptions,n=t.readOnly,r=t.isMobile,o=this.state.expanded?this.props.hidePrompt:this.props.showPrompt,i=void 0,a=n?null:"javascript:void(0)",u=n?null:this._onClick;i=r?l.createElement("div",{className:s(T.linkContainer)},l.createElement("a",{className:s(T.mobileExplanationLink),href:a,onClick:u},o),this.state.expanded&&l.createElement("svg",{className:s(T.disclosureArrow)},l.createElement("polygon",{style:{fill:w},points:"0,"+E+" "+(x+","+E+" ")+(x/2+",0")}))):l.createElement("div",{className:s(T.linkContainer)},l.createElement(e,{className:s(T.explanationLink),href:a,onClick:u},"["+o+"]"));var c=r?T.contentExpandedMobile:T.contentExpanded;return l.createElement("div",{className:s(T.container)},i,l.createElement("div",{className:s(T.content,r&&T.contentMobile,this.state.expanded&&c),style:{height:this.state.expanded?this.state.contentHeight:0,overflow:this.state.expanded?"visible":"hidden"},ref:"content"},l.createElement(d,{apiOptions:this.props.apiOptions,content:this.props.explanation,widgets:this.props.widgets
})))},getUserInput:function(){return{}},simpleValidate:function(e){return v.validate(this.getUserInput(),e)}}),y=23,b=10,x=30,E=14,w=m.gray95,T=a.create({container:{display:"inline",position:"relative"},linkContainer:{display:"inline-block"},explanationLink:(r={fontStyle:"italic",color:"#007d96"},r[f.xl]={fontSize:20,lineHeight:1.1},r[f.lgOrSmaller]={fontSize:17,lineHeight:1.4},r[f.smOrSmaller]={fontSize:14,lineHeight:1.3},r),mobileExplanationLink:(o={color:m.kaGreen,borderBottom:"dashed 1px "+m.kaGreen,textDecoration:"none"},o[f.xl]={fontSize:22,lineHeight:1.4},o[f.lgOrSmaller]={fontSize:20,lineHeight:1.5},o[f.smOrSmaller]={fontSize:18,lineHeight:1.2},o),content:{position:"relative",transition:"all 0.1s"},contentExpanded:{borderLeft:"5px solid #ccc",marginLeft:-y,paddingLeft:y,paddingBottom:b,marginBottom:E,marginTop:E},contentExpandedMobile:{boxSizing:"content-box",paddingTop:32,paddingBottom:32,marginTop:E},contentMobile:{background:w,marginLeft:m.negativePhoneMargin,marginRight:m.negativePhoneMargin,paddingLeft:m.phoneMargin,paddingRight:m.phoneMargin},disclosureArrow:{bottom:-(E+5),height:E,left:"50%",marginLeft:-(x/2),position:"absolute",width:x}});c.extend(v,{validate:function(e,t){return{type:"points",earned:0,total:0,message:null}}}),e.exports={name:"explanation",displayName:"Explanation (for hints)",defaultAlignment:"inline",widget:v,transform:c.identity}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(109),s=n(18),l=n(112),u={showPrompt:"Explain",hidePrompt:"Hide explanation",explanation:"explanation goes here\n\nmore explanation",widgets:{}},c=r.createClass({displayName:"ExplanationEditor",mixins:[a,i],propTypes:{showPrompt:r.PropTypes.string,hidePrompt:r.PropTypes.string,explanation:r.PropTypes.string,widgets:r.PropTypes.object,apiOptions:r.PropTypes.any},getDefaultProps:function(){return u},getInitialState:function(){return{}},render:function(){var e=this;return r.createElement("div",{className:"perseus-widget-explanation-editor"},r.createElement("div",{className:"perseus-widget-row"},r.createElement("label",null,"Prompt to show explanation: ",r.createElement(l,{value:this.props.showPrompt,onChange:this.change("showPrompt")}))),r.createElement("div",{className:"perseus-widget-row"},r.createElement("label",null,"Prompt to hide explanation: ",r.createElement(l,{value:this.props.hidePrompt,onChange:this.change("hidePrompt")}))),r.createElement("div",{className:"perseus-widget-row"},r.createElement(s,{apiOptions:this.props.apiOptions,content:this.props.explanation,widgets:this.props.widgets,widgetEnabled:!0,immutableWidgets:!1,onChange:function(t){var n={};o.has(t,"content")&&(n.explanation=t.content),o.has(t,"widgets")&&(n.widgets=t.widgets),e.change(n)}})))}});e.exports=c},function(e,t,n){"use strict";function r(e,t,n){var r=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])};return r(n[0],n[1],t)>0!=r(n[0],n[1],e)>0}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(54),a=n(55),s=n(209),l=n(38),u=n(11),c=n(56),p=n(92),h=p.MovablePoint,d=p.MovableLine,f=n(210),m=n(201).number,g=n(201).vector,v=n(201).point,y=n(211),b=n(188),x=b.containerSizeClassPropType,E=n(78),w=E.interactiveSizes,T=n(188),C=T.getInteractiveBoxFromSizeClass,S=n(103),k=n(212),P=k.GrapherUtil,_=k.typeToButton,M=k.functionForType,N=k.DEFAULT_GRAPHER_PROPS,O={padding:"5px 5px"},A=i.createClass({displayName:"FunctionGrapher",mixins:[S],_coords:function(e){e=e||this.props;var t=e.graph,n=e.model&&P.maybePointsFromNormalized(e.model.defaultCoords,t.range,t.step,t.snapStep);return e.coords||n||null},_asymptote:function(e){return e=e||this.props,e.asymptote},propTypes:{flexibleType:i.PropTypes.bool,graph:i.PropTypes.any,hideHairlines:i.PropTypes.func,isMobile:i.PropTypes.bool,model:i.PropTypes.any,onChange:i.PropTypes.func,setDrawingAreaAvailable:i.PropTypes.func,showHairlines:i.PropTypes.func,showTooltips:i.PropTypes.bool,static:i.PropTypes.bool},getDefaultProps:function(){return{graph:{range:[[-10,10],[-10,10]],step:[1,1]},coords:null,asymptote:null,isMobile:!1}},render:function(){var e=this,t=function(t,n){return i.createElement(h,{key:n,coord:t,static:e.props.static,constraints:[s.MovablePoint.constraints.bound(),s.MovablePoint.constraints.snap(),function(t){var r=a.all(e._coords(),function(e,r){return n===r||!e||!m.equal(t[0],e[0])});if(!r)return!1;if(e.props.model&&e.props.model.extraCoordConstraint){var o=e.props.model.extraCoordConstraint,i=a.clone(e._coords()),s=a.clone(i[n]);return i[n]=t,o(t,s,i,e._asymptote(),e.props.graph)}return r}],onMove:function(t,o){var i,s=e._asymptote();i=s&&e.props.model.allowReflectOverAsymptote&&r(t,o,s)?a.map(e._coords(),function(e){return v.reflectOverLine(e,s)}):a.clone(e._coords()),i[n]=t,e.props.onChange({coords:i})},showHairlines:e.props.showHairlines,hideHairlines:e.props.hideHairlines,showTooltips:e.props.showTooltips,isMobile:e.props.isMobile})},n=a.map(this._coords(),t),u=this.props.graph.box,c=this.props.graph.backgroundImage,d=null;if(c.url){var f=u[0]/w.defaultBoxSize;d=i.createElement(l,{src:c.url,width:c.width,height:c.height,scale:f})}return i.createElement("div",{className:"perseus-widget perseus-widget-grapher",style:{width:u[0],height:this.props.flexibleType?"auto":u[1],boxSizing:"initial"}},i.createElement("div",{className:"graphie-container above-scratchpad",style:{width:u[0],height:u[1]}},d,i.createElement(p,o({},this.props.graph,{setDrawingAreaAvailable:this.props.setDrawingAreaAvailable}),this.props.model&&this.renderPlot(),this.props.model&&this.renderAsymptote(),this.props.model&&n)))},renderPlot:function(){var e=this.props.model,t=this.props.graph.range[0],n=o({stroke:this.props.isMobile?y.BLUE_C:y.DYNAMIC},this.props.isMobile?{"stroke-width":3}:{}),r=e.getCoefficients(this._coords(),this._asymptote());if(r){var a=e.getPropsForCoeffs(r,t);return i.createElement(e.Movable,o({},a,{key:this.props.model.url,range:t,style:n}))}},renderAsymptote:function(){var e=this,t=this.props.model,n=this.props.graph,r=this._asymptote(),o={strokeDasharray:"- "};return r&&i.createElement(d,{onMove:function(t,n){var r=g.subtract(t,n),o=a.map(e._asymptote(),function(e){return g.add(e,r)});e.props.onChange({asymptote:o})},constraints:[s.MovableLine.constraints.bound(),s.MovableLine.constraints.snap(),function(r,o){var i=g.subtract(r,o),s=a.map(e._asymptote(),function(e){return g.add(e,i)});return!t.extraAsymptoteConstraint||t.extraAsymptoteConstraint(r,o,e._coords(),s,n)}],normalStyle:o,highlightStyle:o},a.map(r,function(t,n){return i.createElement(h,{key:"asymptoteCoord-"+n,coord:t,static:!0,draw:null,extendLine:!0,showHairlines:e.props.showHairlines,hideHairlines:e.props.hideHairlines,showTooltips:e.props.showTooltips,isMobile:e.props.isMobile})}))}}),I=i.createClass({displayName:"Grapher",propTypes:{apiOptions:i.PropTypes.any,availableTypes:i.PropTypes.arrayOf(i.PropTypes.any),containerSizeClass:x.isRequired,graph:i.PropTypes.any,markings:i.PropTypes.string,onChange:i.PropTypes.func,plot:i.PropTypes.any,static:i.PropTypes.bool,trackInteraction:i.PropTypes.func.isRequired},getDefaultProps:function(){return N},render:function(){var e=this.props.plot.type,t=this.props.plot.coords,n=this.props.plot.asymptote,r=i.createElement("div",{style:O,className:"above-scratchpad"},i.createElement(c,{value:e,allowEmpty:!0,buttons:a.map(this.props.availableTypes,_),onChange:this.handleActiveTypeChange})),s=C(this.props.containerSizeClass),l=o({},this.props.graph,P.getGridAndSnapSteps(this.props.graph,s[0]),{gridConfig:this._getGridConfig(o({},this.props.graph,{box:s},P.getGridAndSnapSteps(this.props.graph,s[0])))}),u={graph:{box:s,range:l.range,step:l.step,snapStep:l.snapStep,backgroundImage:l.backgroundImage,options:l,setup:this._setupGraphie},onChange:this.handlePlotChanges,model:e&&M(e),coords:t,asymptote:n,static:this.props.static,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable,isMobile:this.props.apiOptions.isMobile,showTooltips:this.props.graph.showTooltips,showHairlines:this.showHairlines,hideHairlines:this.hideHairlines};return i.createElement("div",null,i.createElement(A,u),this.props.availableTypes.length>1&&r)},handlePlotChanges:function(e){var t=a.extend({},this.props.plot,e);this.props.onChange({plot:t}),this.props.trackInteraction()},handleActiveTypeChange:function(e){var t=this.props.graph,n=a.extend({},this.props.plot,P.defaultPlotProps(e,t));this.props.onChange({plot:n})},_getGridConfig:function(e){return a.map(e.step,function(t,n){return u.gridDimensionConfig(t,e.range[n],e.box[n],e.gridStep[n])})},_setupGraphie:function(e,t){var n=this.props.apiOptions.isMobile;if("graph"===t.markings?(e.graphInit({range:t.range,scale:a.pluck(t.gridConfig,"scale"),axisArrows:"<->",labelFormat:function(e){return"\\small{"+e+"}"},gridStep:t.gridStep,snapStep:t.snapStep,tickStep:n?u.constrainedTickStepsFromTickSteps(a.pluck(t.gridConfig,"tickStep"),t.range):a.pluck(t.gridConfig,"tickStep"),labelStep:1,unityLabels:a.pluck(t.gridConfig,"unityLabel"),isMobile:n}),e.label([0,t.range[1][1]],t.labels[1],n?"below right":"above"),e.label([t.range[0][1],0],t.labels[0],n?"above left":"right")):"grid"===t.markings?e.graphInit({range:t.range,scale:a.pluck(t.gridConfig,"scale"),gridStep:t.gridStep,axes:!1,ticks:!1,labels:!1,isMobile:n}):"none"===t.markings&&e.init({range:t.range,scale:a.pluck(t.gridConfig,"scale")}),this.props.apiOptions.isMobile){var r={normalStyle:{strokeWidth:1}};this.horizHairline=new f(e,[0,0],[0,0],r),this.horizHairline.attr({stroke:y.INTERACTIVE}),this.horizHairline.hide(),this.vertHairline=new f(e,[0,0],[0,0],r),this.vertHairline.attr({stroke:y.INTERACTIVE}),this.vertHairline.hide()}},showHairlines:function(e){this.props.apiOptions.isMobile&&"none"!==this.props.markings&&(this.horizHairline.moveTo([this.props.graph.range[0][0],e[1]],[this.props.graph.range[0][1],e[1]]),this.horizHairline.show(),this.vertHairline.moveTo([e[0],this.props.graph.range[1][0]],[e[0],this.props.graph.range[1][1]]),this.vertHairline.show())},hideHairlines:function(){this.props.apiOptions.isMobile&&(this.horizHairline.hide(),this.vertHairline.hide())},simpleValidate:function(e){return P.validate(this.getUserInput(),e)},getUserInput:function(){return this.props.plot},focus:$.noop}),R=function(e){var t={availableTypes:e.availableTypes,graph:e.graph};if(1===t.availableTypes.length){var n=t.graph,r=P.chooseType(t.availableTypes);t.plot=P.defaultPlotProps(r,n)}return t},D=function(e){return a.extend({},R(e),{availableTypes:[e.correct.type],plot:e.correct})};e.exports={name:"grapher",displayName:"Grapher",widget:I,transform:R,staticTransform:D}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(55),a=n(103),s=n(213),l=n(96),u=n(110),c=n(125).widget,p=n(212),h=p.GrapherUtil,d=p.allTypes,f=p.typeToButton,m=p.DEFAULT_GRAPHER_PROPS,g=n(188),v=g.containerSizeClass,y=g.getInteractiveBoxFromSizeClass,b=o.createClass({displayName:"GrapherEditor",mixins:[a],getDefaultProps:function(){return{correct:m.plot,graph:m.graph,availableTypes:m.availableTypes}},render:function(){var e=this,t=v.SMALL,n=void 0,a=void 0;if(this.props.graph.valid===!0){var p={graph:this.props.graph,plot:this.props.correct,availableTypes:this.props.availableTypes,onChange:function(t,n){var r=e.props.correct;r=r.type===t.plot.type?i.extend({},r,t.plot):t.plot,e.props.onChange({correct:r},n)},trackInteraction:function(){}};a=o.createElement(c,r({},p,{apiOptions:this.props.apiOptions,containerSizeClass:t})),n=h.getEquationString(p)}else a=o.createElement("div",{className:"perseus-error"},this.props.graph.valid);return o.createElement("div",null,o.createElement("div",null,"Correct answer"," ",o.createElement(l,null,o.createElement("p",null,"Graph the correct answer in the graph below and ensure the equation or point coordinates displayed represent the correct answer."))," ",": ",n),o.createElement(s,{editableSettings:["graph","snap","image"],box:y(t),range:this.props.graph.range,labels:this.props.graph.labels,step:this.props.graph.step,gridStep:this.props.graph.gridStep,snapStep:this.props.graph.snapStep,valid:this.props.graph.valid,backgroundImage:this.props.graph.backgroundImage,markings:this.props.graph.markings,rulerLabel:this.props.graph.rulerLabel,rulerTicks:this.props.graph.rulerTicks,showTooltips:this.props.graph.showTooltips,onChange:this.change("graph")}),o.createElement("div",{className:"perseus-widget-row"},o.createElement("label",null,"Available functions:"," "," "),o.createElement(u,{allowEmpty:!1,values:this.props.availableTypes,buttons:i.map(d,f),onChange:this.handleAvailableTypesChange})),a)},handleAvailableTypesChange:function(e){var t=this.props.correct;if(!i.contains(e,this.props.correct.type))var n=this.props.graph,r=h.chooseType(e),t=h.defaultPlotProps(r,n);this.props.onChange({availableTypes:e,correct:t})},serialize:function(){return i.chain(this.props).pick("correct","availableTypes").extend({graph:i.omit(this.props.graph,"box")}).value()}});e.exports=b},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(99),i=n(54),a=n(55),s=n(10).Options,l=n(103),u=n(40),c=u.iconOk,p=u.iconRemove,h=(u.icon,n(41)),d=n(32),f=n(214),m=n(78),g=m.gray76,v=m.phoneMargin,y=m.negativePhoneMargin,b=m.tableBackgroundAccent,x=m.kaGreen,E=n(186),w=E.StyleSheet,T=E.css,C={ungraded:"ungraded",correct:"correct",incorrect:"incorrect",invalid:"invalid"},S=f.ANSWER_BAR_STATES,k=function(e,t){switch(e){case S.HIDDEN:return t?S.ACTIVE:e;case S.ACTIVE:return t?e:S.INACTIVE;case S.INACTIVE:return t?S.ACTIVE:e;case S.INCORRECT:return t?S.ACTIVE:S.INACTIVE;default:return e}},P="We couldn't grade your answer.",_="It looks like you left something blank or entered in an invalid answer.",M=i.createClass({displayName:"GradedGroup",propTypes:{apiOptions:s.propTypes,content:i.PropTypes.string,hasHint:i.PropTypes.bool,hint:i.PropTypes.object,images:i.PropTypes.object,inGradedGroupSet:i.PropTypes.bool,onBlur:i.PropTypes.func,onFocus:i.PropTypes.func,onNextQuestion:i.PropTypes.func,title:i.PropTypes.string,trackInteraction:i.PropTypes.func.isRequired,widgets:i.PropTypes.object},mixins:[l],getDefaultProps:function(){return{title:"",content:"",widgets:{},images:{},hint:null,hasHint:!1}},getInitialState:function(){return{status:C.ungraded,showHint:!1,message:"",answerBarState:S.HIDDEN}},shouldComponentUpdate:function(e,t){return e!==this.props||t!==this.state},_onInteractWithWidget:function(e){if(this.setState({status:C.ungraded,message:""}),this.refs.renderer){this.change("widgets",this.props.widgets);var t=this.refs.renderer.emptyWidgets(),n=0===t.length,r=this.state.answerBarState;this.setState({answerBarState:k(r,n)})}},_checkAnswer:function(){var e=this.refs.renderer.score(),t=void 0,n=void 0;"points"===e.type?(t=e.total===e.earned?C.correct:C.incorrect,n=e.message||""):(t=C.invalid,n=e.message?P+" "+e.message:P+" "+_),this.setState({status:t,message:n,answerBarState:"correct"===t?S.CORRECT:S.INCORRECT}),this.props.trackInteraction({status:t})},getInputPaths:function(){return this.refs.renderer.getInputPaths()},setInputValue:function(e,t,n){return this.refs.renderer.setInputValue(e,t,n)},getAcceptableFormatsForInputPath:function(e){return this.refs.renderer.getAcceptableFormatsForInputPath(e)},focus:function(){return this.refs.renderer.focus()},focusInputPath:function(e){this.refs.renderer.focusPath(e)},blurInputPath:function(e){this.refs.renderer.blurPath(e)},render:function(){var e,t=this,n=a.extend({},s.defaults,this.props.apiOptions,{onFocusChange:function(e,n){n&&t.props.onBlur(n),e&&t.props.onFocus(e)}}),l=null;this.state.status===C.correct?l=i.createElement(h,r({},c,{style:{color:"#526f03"}})):this.state.status===C.incorrect&&(l=i.createElement(h,r({},p,{style:{color:"#ff5454"}})));var u=T(this.props.inGradedGroupSet?O.gradedGroupInSet:O.gradedGroup),m=o((e={},e[u]=n.isMobile,e["perseus-graded-group"]=!0,e["answer-correct"]=!n.isMobile&&this.state.status===C.correct,e["answer-incorrect"]=!n.isMobile&&this.state.status===C.incorrect,e)),g=this.state.answerBarState,v=g===S.CORRECT,y=n.readOnly||n.isMobile&&v;return i.createElement("div",{className:m},!!this.props.title&&i.createElement("div",{className:T(O.title)},this.props.title),i.createElement(d,r({},this.props,{ref:"renderer",apiOptions:r({},n,{readOnly:y}),onInteractWithWidget:this._onInteractWithWidget})),!n.isMobile&&l&&i.createElement("div",{className:"group-icon"},l),!n.isMobile&&i.createElement("p",null,this.state.message),!n.isMobile&&i.createElement("input",{type:"button",value:i18n._("Check"),className:"simple-button",disabled:this.props.apiOptions.readOnly,onClick:this._checkAnswer}),!n.isMobile&&v&&this.props.onNextQuestion&&i.createElement("input",{type:"button",value:i18n._("Next question"),className:"simple-button",disabled:this.props.apiOptions.readOnly,onClick:this.props.onNextQuestion,style:{marginLeft:5}}),this.props.hint&&this.props.hint.content&&(this.state.showHint?i.createElement("div",null,i.createElement("div",{className:T(O.explanationTitle),onClick:function(){return t.setState({showHint:!1})}},i18n._("Hide explanation")),i.createElement(d,r({},this.props.hint,{ref:"hints-renderer",apiOptions:n}))):i.createElement("div",{onClick:function(){return t.setState({showHint:!0})},className:T(O.showHintLink)},i18n._("Explain"))),n.isMobile&&g!==S.HIDDEN&&i.createElement(f,{apiOptions:n,answerBarState:g,onCheckAnswer:this._checkAnswer,onNextQuestion:this.props.onNextQuestion}))}}),N=function(e,t){return a.extend({},e,t(e))};e.exports={name:"graded-group",displayName:"Graded Group",widget:M,traverseChildWidgets:N,hidden:!1,tracking:"all"};var O=w.create({gradedGroupInSet:{marginLeft:0,paddingLeft:0},gradedGroup:{borderTop:"1px solid "+g,borderBottom:"1px solid "+g,backgroundColor:b,marginLeft:y,marginRight:y,paddingBottom:v,paddingLeft:v,paddingRight:v,paddingTop:10,width:"auto"},showHintLink:{marginTop:20,color:x,cursor:"pointer"},explanationTitle:{marginTop:20,color:x,marginBottom:10,cursor:"pointer"},title:{fontSize:12,color:g,textTransform:"uppercase",marginBottom:11,letterSpacing:.8}})},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=(n(55),n(186)),a=i.StyleSheet,s=i.css,l=n(10).Options,u=n(103),c=n(18),p=n(112),h=n(41),d=n(40),f=d.iconPlus,m=d.iconTrash,g=o.createClass({displayName:"GradedGroupEditor",mixins:[u],propTypes:{title:o.PropTypes.string,content:o.PropTypes.string,widgets:o.PropTypes.object,images:o.PropTypes.object,apiOptions:l.propTypes},getDefaultProps:function(){return{title:"",content:"",widgets:{},images:{},hint:null}},handleAddHint:function(){var e=this,t={content:""};this.props.onChange({hint:t},function(){e.refs["hint-editor"].focus()})},handleRemoveHint:function(e){this.props.onChange({hint:null})},render:function(){var e=this;return o.createElement("div",{className:"perseus-group-editor"},o.createElement("div",{className:"perseus-widget-row"},o.createElement("label",{className:s(v.title)},"Title: ",o.createElement(p,{value:this.props.title,className:s(v.input),onChange:this.change("title")}))),o.createElement(c,{ref:"editor",content:this.props.content,widgets:this.props.widgets,apiOptions:this.props.apiOptions,images:this.props.images,widgetEnabled:!0,immutableWidgets:!1,onChange:this.props.onChange,warnNoPrompt:!0,warnNoWidgets:!0}),!this.props.hint&&o.createElement("button",{type:"button",style:{marginTop:10},className:"add-hint simple-button orange",onClick:this.handleAddHint},o.createElement(h,f)," ","Add a hint"),this.props.hint&&o.createElement("div",{className:"perseus-hint-editor"},o.createElement("div",{className:s(v.hintsTitle)},"Hint"),o.createElement(c,{ref:"hint-editor",content:this.props.hint?this.props.hint.content:"",widgets:this.props.hint?this.props.hint.widgets:{},apiOptions:this.props.apiOptions,images:this.props.hint&&this.props.hint.images,widgetEnabled:!0,immutableWidgets:!1,onChange:function(t){e.change("hint",Object.assign({},e.props.hint,t))}}),o.createElement("button",{type:"button",className:"remove-hint simple-button orange",onClick:this.handleRemoveHint},o.createElement(h,m)," ","Remove this hint")))},getSaveWarnings:function(){return this.refs.editor.getSaveWarnings()},serialize:function(){return r({title:this.props.title},this.refs.editor.serialize(),{hint:this.refs["hint-editor"]&&this.refs["hint-editor"].serialize()})}}),v=a.create({title:{fontSize:18,fontWeight:"bold"},input:{fontSize:18},hintsTitle:{marginTop:10,fontSize:"110%",fontWeight:"bold"}});e.exports=g},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=(n(55),n(186)),a=i.StyleSheet,s=i.css,l=n(10).Options,u=n(103),c=n(127).widget,p=n(78),h=p.grayLight,d=p.gray76,f=p.tableBackgroundAccent,m=p.kaGreen,g=p.phoneMargin,v=p.negativePhoneMargin,y=o.createClass({displayName:"Indicators",propTypes:{currentGroup:o.PropTypes.number.isRequired,numGroups:o.PropTypes.number.isRequired,onChangeCurrentGroup:o.PropTypes.func.isRequired},render:function(){for(var e=this,t=[],n=function(n){t.push(o.createElement("div",{key:n,className:s(E.indicator,n===e.props.currentGroup&&E.selectedIndicator),onClick:function(){return e.props.onChangeCurrentGroup(n)}}))},r=0;r<this.props.numGroups;r++)n(r);return o.createElement("div",{className:s(E.indicatorContainer)},t)}}),b=o.createClass({displayName:"GradedGroupSet",propTypes:{apiOptions:l.propTypes,gradedGroups:o.PropTypes.array,trackInteraction:o.PropTypes.func.isRequired},mixins:[u],getDefaultProps:function(){return{gradedGroups:[]}},getInitialState:function(){return{currentGroup:0}},shouldComponentUpdate:function(e,t){return e!==this.props||t!==this.state},getInputPaths:function(){return this._childGroup.getInputPaths()},setInputValue:function(e,t,n){return this._childGroup.setInputValue(e,t,n)},getAcceptableFormatsForInputPath:function(e){return this._childGroup.getAcceptableFormatsForInputPath(e)},focus:function(){return this._childGroup.focus()},focusInputPath:function(e){this._childGroup.focusInputPath(e)},blurInputPath:function(e){this._childGroup.blurInputPath(e)},handleNextQuestion:function(){var e=this.state.currentGroup,t=this.props.gradedGroups.length;e<t-1&&this.setState({currentGroup:e+1})},render:function(){var e=this,t=this.props.gradedGroups[this.state.currentGroup];if(!t)return o.createElement("span",null,"No current group...");var n=this.props.gradedGroups.length,i=this.state.currentGroup<n-1?this.handleNextQuestion:null;return o.createElement("div",{className:s(E.container)},o.createElement("div",{className:s(E.top)},o.createElement("div",{className:s(E.title)},t.title),o.createElement("div",{className:s(E.spacer)}),o.createElement(y,{numGroups:n,currentGroup:this.state.currentGroup,onChangeCurrentGroup:function(t){return e.setState({currentGroup:t})}})),o.createElement(c,r({key:this.state.currentGroup,ref:function(t){return e._childGroup=t}},this.props,t,{inGradedGroupSet:!0,title:null,onNextQuestion:i})))}}),x=function(e,t){return{groups:e.gradedGroups.map(t)}};e.exports={name:"graded-group-set",displayName:"Graded Group Set",widget:b,traverseChildWidgets:x,hidden:!1,tracking:"all"};var E=a.create({top:{display:"flex",flexDirection:"row"},spacer:{flex:1},title:{fontSize:12,color:d,textTransform:"uppercase",marginBottom:11,letterSpacing:.8},indicatorContainer:{display:"flex",flexDirection:"row"},indicator:{width:10,height:10,borderRadius:5,backgroundColor:h,marginLeft:5,cursor:"pointer"},selectedIndicator:{backgroundColor:m},container:{borderTop:"1px solid "+d,borderBottom:"1px solid "+d,backgroundColor:f,marginLeft:v,marginRight:v,paddingBottom:g,paddingLeft:g,paddingRight:g,paddingTop:10,width:"auto"}})},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=(n(55),n(10).Options),a=n(103),s=n(128),l=o.createClass({displayName:"GradedGroupSetEditor",propTypes:{apiOptions:i.propTypes,gradedGroups:o.PropTypes.array,onChange:o.PropTypes.func.isRequired},mixins:[a],getDefaultProps:function(){return{gradedGroups:[]}},componentWillMount:function(){this._editors=[]},getSaveWarnings:function(){var e;return(e=[]).concat.apply(e,this._editors.map(function(e){return e.getSaveWarnings()}))},serialize:function(){return{gradedGroups:this.props.gradedGroups}},renderGroups:function(){var e=this;return this.props.gradedGroups?this.props.gradedGroups.map(function(t,n){return o.createElement(s,r({key:n,ref:function(t){return e._editors[n]=t}},t,{apiOptions:e.props.apiOptions,widgetEnabled:!0,immutableWidgets:!1,onChange:function(t){return e.change("gradedGroups",u(e.props.gradedGroups,n,r({},e.props.gradedGroups[n],t)))}}))}):null},addGroup:function(){var e=this.props.gradedGroups||[];this.change("gradedGroups",e.concat([s.getDefaultProps()]))},render:function(){return o.createElement("div",{className:"perseus-group-editor"},this.renderGroups(),o.createElement("button",{onClick:this.addGroup},"Add group"))}}),u=function(e,t,n){return[].concat(e.slice(0,t),[n],e.slice(t+1))};e.exports=l},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(55),a=n(10).Options,s=n(103),l=n(32),u=o.createClass({displayName:"Group",mixins:[s],propTypes:{content:o.PropTypes.string,widgets:o.PropTypes.object,images:o.PropTypes.object,icon:o.PropTypes.object,reviewModeRubric:o.PropTypes.object},getDefaultProps:function(){return{content:"",widgets:{},images:{},icon:null}},componentDidMount:function(){this.forceUpdate()},render:function(){var e=this,t=i.extend({},a.defaults,this.props.apiOptions,{onFocusChange:function(t,n){n&&e.props.onBlur(n),t&&e.props.onFocus(t)}}),n=i.indexOf(this.props.interWidgets("group"),this),s=this.props.apiOptions.groupAnnotator(n,this.props.widgetId),u=function(t){e.refs.renderer&&e.change("widgets",e.refs.renderer.props.widgets)};return o.createElement("div",{className:"perseus-group"},s,o.createElement(l,r({},this.props,{ref:"renderer",apiOptions:t,interWidgets:this._interWidgets,reviewMode:!!this.props.reviewModeRubric,onInteractWithWidget:u})),this.props.icon&&o.createElement("div",{className:"group-icon"},this.props.icon))},_interWidgets:function(e,t){return t.length?t:this.props.interWidgets(e)},getUserInput:function(){return this.refs.renderer.getUserInput()},getSerializedState:function(){return this.refs.renderer.getSerializedState()},restoreSerializedState:function(e,t){return this.refs.renderer.restoreSerializedState(e,t),null},simpleValidate:function(e){return this.refs.renderer.score()},getInputPaths:function(){return this.refs.renderer.getInputPaths()},setInputValue:function(e,t,n){return this.refs.renderer.setInputValue(e,t,n)},getAcceptableFormatsForInputPath:function(e){return this.refs.renderer.getAcceptableFormatsForInputPath(e)},getRenderer:function(){return this.refs.renderer},focus:function(){return this.refs.renderer.focus()},focusInputPath:function(e){this.refs.renderer.focusPath(e)},blurInputPath:function(e){this.refs.renderer.blurPath(e)}}),c=function(e,t){return i.extend({},e,t(e))};e.exports={name:"group",displayName:"Group",widget:u,traverseChildWidgets:c,hidden:!1}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(10).Options,a=n(103),s=n(18),l=r.createClass({displayName:"GroupEditor",mixins:[a],propTypes:{content:r.PropTypes.string,widgets:r.PropTypes.object,images:r.PropTypes.object,metadata:r.PropTypes.any,apiOptions:i.propTypes},getDefaultProps:function(){return{content:"",widgets:{},images:{},metadata:void 0}},render:function(){return r.createElement("div",{className:"perseus-group-editor"},r.createElement("div",null,this._renderMetadataEditor()),r.createElement(s,{ref:"editor",content:this.props.content,widgets:this.props.widgets,apiOptions:this.props.apiOptions,images:this.props.images,widgetEnabled:!0,immutableWidgets:!1,onChange:this.props.onChange}))},_renderMetadataEditor:function(){var e=this.props.apiOptions.GroupMetadataEditor;return r.createElement(e,{value:this.props.metadata,onChange:this.change("metadata")})},getSaveWarnings:function(){return this.refs.editor.getSaveWarnings()},serialize:function(){return o.extend({},this.refs.editor.serialize(),{metadata:this.props.metadata})}});e.exports=l},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(208),s=n(11).updateQueryString,l=r.createClass({displayName:"Iframe",mixins:[i,a],propTypes:{width:r.PropTypes.string,height:r.PropTypes.string,url:r.PropTypes.string,settings:r.PropTypes.array,status:r.PropTypes.oneOf(["incomplete","incorrect","correct"]),message:r.PropTypes.string,allowFullScreen:r.PropTypes.bool},getDefaultProps:function(){return{status:"incomplete",message:null,allowFullScreen:!1}},handleMessageEvent:function(e){var t={};try{t=JSON.parse(e.originalEvent.data)}catch(e){return}if(!o.isUndefined(t.testsPassed)){var n=t.testsPassed?"correct":"incorrect";this.change({status:n,message:t.message})}},componentDidMount:function(){$(window).on("message",this.handleMessageEvent)},componentWillUnmount:function(){$(window).off("message",this.handleMessageEvent)},render:function(){var e={width:this.props.width,height:this.props.height},t=this.props.url;if(t&&t.length&&0!==t.indexOf("http")&&(t="https://www.khanacademy.org/computer-programming/program/"+t+"/embedded?buttons=no&embed=yes&editor=no&author=no",t=s(t,"width",this.props.width),t=s(t,"height",this.props.height),t=s(t,"origin",window.location.origin)),"undefined"!=typeof KA&&KA.isZeroRated&&(t.match(/https?:\/\/[^\/]*khanacademy.org/)?t.match(/zero.khanacademy.org/)||(t=t.replace("khanacademy.org","zero.khanacademy.org")):t="/zero/external-link?context=iframe&url="+encodeURIComponent(t)),this.props.settings){var n={};o.each(this.props.settings,function(e){e.name&&e.value&&(n[e.name]=e.value)}),t=s(t,"settings",JSON.stringify(n))}return r.createElement("iframe",{sandbox:"allow-same-origin allow-scripts",style:e,src:t,allowFullScreen:this.props.allowFullScreen})},simpleValidate:function(e){return l.validate(this.getUserInput(),e)}});o.extend(l,{validate:function(e,t){return"correct"===e.status?{type:"points",earned:1,total:1,message:e.message||null}:"incorrect"===e.status?{type:"points",earned:0,total:1,message:e.message||null}:{type:"invalid",message:"Keep going, you're not there yet!"}}}),e.exports={name:"iframe",displayName:"Iframe",widget:l,hidden:!0}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(109),s=n(108),l=n(46),u=r.createClass({displayName:"PairEditor",mixins:[i,a],propTypes:{name:r.PropTypes.string,value:r.PropTypes.string},getDefaultProps:function(){return{name:"",value:""}},render:function(){return r.createElement("fieldset",null,r.createElement("label",null,"Name:",r.createElement(s,{value:this.props.name,onChange:this.change("name")})),r.createElement("label",null,"Value:",r.createElement(s,{value:this.props.value,onChange:this.change("value")})))}}),c=r.createClass({displayName:"PairsEditor",mixins:[i,a],propTypes:{pairs:r.PropTypes.arrayOf(r.PropTypes.shape({name:r.PropTypes.string,value:r.PropTypes.string})).isRequired},render:function(){var e=this,t=o.map(this.props.pairs,function(t,n){return r.createElement(u,{key:n,name:t.name,value:t.value,onChange:e.handlePairChange.bind(e,n)})});return r.createElement("div",null,t)},handlePairChange:function(e,t){
var n=this.props.pairs.slice();n[e]=t;var r=n[n.length-1];r.name&&r.value&&n.push({name:"",value:""}),this.change("pairs",n)}}),p=r.createClass({displayName:"IframeEditor",mixins:[i,a],getDefaultProps:function(){return{url:"",settings:[{name:"",value:""}],width:"400",height:"400",allowFullScreen:!1}},render:function(){return r.createElement("div",null,r.createElement("div",{style:{fontWeight:"bold",textAlign:"center"}},"This widget is deprecated! ",r.createElement("br",null),"Try using the Video or CS Program widgets instead."),r.createElement("label",null,"Url or Program ID:",r.createElement(s,{name:"url",value:this.props.url,onChange:this.change("url")})),r.createElement("br",null),r.createElement("label",null,"Settings:",r.createElement(c,{name:"settings",pairs:this.props.settings,onChange:this.handleSettingsChange})),r.createElement("br",null),r.createElement("label",null,"Width:",r.createElement(s,{name:"width",value:this.props.width,onChange:this.change("width")})),r.createElement("label",null,"Height:",r.createElement(s,{name:"height",value:this.props.height,onChange:this.change("height")})),r.createElement(l,{label:"Allow full screen",allowFullScreen:this.props.allowFullScreen,onChange:this.props.onChange}))},handleSettingsChange:function(e){this.change({settings:e.pairs})}});e.exports=p},function(e,t,n){"use strict";var r,o=n(99),i=n(186),a=i.StyleSheet,s=i.css,l=n(54),u=n(55),c=n(10).Options,p=n(78),h=p.baseUnitPx,d=n(103),f=n(76),m=n(32),g=n(38),v=400,y=[0,10],b={url:null,width:0,height:0},x=["block","float-left","float-right","full-width"],E=["block","full-width"],w="block",T=l.createClass({displayName:"ImageWidget",propTypes:{alignment:l.PropTypes.oneOf(x),alt:l.PropTypes.string,apiOptions:c.propTypes,backgroundImage:l.PropTypes.shape({url:l.PropTypes.string,width:l.PropTypes.number,height:l.PropTypes.number}),box:l.PropTypes.arrayOf(l.PropTypes.number),caption:l.PropTypes.string,labels:l.PropTypes.arrayOf(l.PropTypes.shape({content:l.PropTypes.string,coordinates:l.PropTypes.arrayOf(l.PropTypes.number),alignment:l.PropTypes.string})),range:l.PropTypes.arrayOf(l.PropTypes.arrayOf(l.PropTypes.number)),title:l.PropTypes.string,trackInteraction:l.PropTypes.func.isRequired},statics:{styles:a.create({caption:(r={display:"inline-block",marginTop:h,maxWidth:640},r[f.lgOrSmaller]={maxWidth:540},r[f.smOrSmaller]={maxWidth:450},r)})},mixins:[d],getDefaultProps:function(){return{alignment:w,title:"",range:[y,y],box:[v,v],backgroundImage:b,labels:[],alt:"",caption:""}},render:function(){var e,t,n=this.props.apiOptions,r=this.props.backgroundImage;if(r.url&&(e=l.createElement(g,{src:r.url,alt:this.props.alt?"":void 0,width:r.width,height:r.height,preloader:n.imagePreloader,extraGraphie:{box:this.props.box,range:this.props.range,labels:this.props.labels},trackInteraction:this.props.trackInteraction,zoomToFullSizeOnMobile:n.isMobile,constrainHeight:n.isMobile,allowFullBleed:n.isMobile})),this.props.alt&&(t=l.createElement("span",{className:"perseus-sr-only"},l.createElement(m,{content:this.props.alt,apiOptions:n}))),n.isMobile){var i;if(this.props.title||this.props.caption){var a=this.props.title;a&&(this.props.caption&&!/[.?!"']\s*$/.test(a)&&(a+="."),a="**"+a+"** ");var u=o({"perseus-image-caption":!0,"has-title":!!a}),c=this.props.alignment,p="block"===c||"full-width"===c,h=p?null:"0 !important";i=l.createElement("div",{className:u},l.createElement("div",{className:s(T.styles.caption),style:{minWidth:h}},l.createElement(m,{content:a+this.props.caption,apiOptions:n})))}return l.createElement("div",{className:"perseus-image-widget"},e,t,i)}var d,f;return this.props.title&&(d=l.createElement("div",{className:"perseus-image-title"},l.createElement(m,{content:this.props.title,apiOptions:n}))),this.props.caption&&(f=l.createElement("div",{className:"perseus-image-caption"},l.createElement(m,{content:this.props.caption,apiOptions:n}))),l.createElement("div",{className:"perseus-image-widget"},d,e,t,f)},getUserInput:function(){return null},simpleValidate:function(e){return T.validate(this.getUserInput(),e)},focus:$.noop});u.extend(T,{validate:function(e,t){return{type:"points",earned:0,total:0,message:null}}}),e.exports={name:"image",accessible:function(e){var t=e.backgroundImage;return!(t&&t.url&&!e.alt)},defaultAlignment:w,supportedAlignments:E,displayName:"Image",widget:T}},function(e,t,n){"use strict";function r(){return{content:"",coordinates:[0,0],alignment:"center"}}var o=n(54),i=n(55),a=n(40),s=a.iconTrash,l=n(11),u=n(103),c=n(109),p=n(108),h=n(18),d=n(96),f=n(41),m=n(215),g=400,v=[0,10],y={url:null,width:0,height:0},b="(ka-.*.s3.amazonaws.com|(fastly|cdn).kastatic.org|khanacademy.org|kasandbox.org)",x=new RegExp("^(https?|web\\+graphie)://[^/]*"+b),E=["center","above","above right","right","below right","below","below left","left","above left"],w=o.createClass({displayName:"ImageEditor",mixins:[u,c],componentDidMount:function(){var e=this;i.defer(function(){var t=e.props.backgroundImage.url;e.onUrlChange(t,!0)})},getDefaultProps:function(){return{title:"",range:[v,v],box:[g,g],backgroundImage:y,labels:[],alt:"",caption:""}},getInitialState:function(){return{showAdvancedSettings:this.props.title.length>0||this.props.labels.length>0,backgroundImageError:""}},render:function(){var e=this,t=this.props.backgroundImage,n=o.createElement("div",{className:"image-settings"},o.createElement("div",null,o.createElement("label",null,o.createElement("div",null,"Alt text:",o.createElement(d,null,"This is important for screenreaders. The content of this alt text will be formatted as markdown (tables, emphasis, etc. are supported).")),o.createElement(h,{apiOptions:this.props.apiOptions,content:this.props.alt,onChange:function(t){null!=t.content&&e.change("alt",t.content)},widgetEnabled:!1}))),o.createElement("div",null,o.createElement("label",null,o.createElement("div",null,"Caption:"),o.createElement(h,{apiOptions:this.props.apiOptions,content:this.props.caption,onChange:function(t){null!=t.content&&e.change("caption",t.content)},widgetEnabled:!1})))),r=o.createElement("div",{className:"graph-settings"},o.createElement("div",null,o.createElement("label",null,"Graphie X range:"," ",o.createElement(m,{value:this.props.range[0],onChange:i.partial(this.onRangeChange,0)}))),o.createElement("div",null,o.createElement("label",null,"Graphie Y range:"," ",o.createElement(m,{value:this.props.range[1],onChange:i.partial(this.onRangeChange,1)}))),o.createElement("div",{className:"add-label"},o.createElement("button",{onClick:this.addLabel}," ","Add a label"," ")),this.props.labels.length>0&&o.createElement("table",{className:"label-settings"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Coordinates"),o.createElement("th",null,"Content"),o.createElement("th",null,"Alignment"),o.createElement("th",null))),o.createElement("tbody",null,this.props.labels.map(this._renderRowForLabel))),o.createElement("div",null,o.createElement("label",null,o.createElement("div",null,"Title:",o.createElement(d,null,"Appears above the image.")),o.createElement(h,{apiOptions:this.props.apiOptions,content:this.props.title,onChange:function(t){null!=t.content&&e.change("title",t.content)},widgetEnabled:!1})))),a=o.createElement("div",null,o.createElement("a",{href:"#",onClick:this._toggleAdvancedSettings},this.state.showAdvancedSettings?"Hide ":"Show ","advanced settings"),this.state.showAdvancedSettings&&r),s=o.createElement("div",{className:"renderer-widget-error"},this.state.backgroundImageError);return o.createElement("div",{className:"perseus-image-editor"},o.createElement("label",null,"Image url:",o.createElement(d,null,"Paste an image or graphie image URL."),this.state.backgroundImageError&&s,o.createElement(p,{value:t.url||"",style:{width:332},onChange:function(t){return e.onUrlChange(t,!1)}})),t.url&&n,t.url&&a)},_toggleAdvancedSettings:function(e){e.preventDefault(),this.setState({showAdvancedSettings:!this.state.showAdvancedSettings})},_renderRowForLabel:function(e,t){return o.createElement("tr",{key:t},o.createElement("td",null,o.createElement(m,{value:e.coordinates,onChange:this.onCoordinateChange.bind(this,t)})),o.createElement("td",{style:{verticalAlign:"bottom",width:"5px"}},o.createElement("input",{type:"text",className:"graph-settings-axis-label",value:e.content,onChange:this.onContentChange.bind(this,t)})),o.createElement("td",null,o.createElement("select",{className:"perseus-widget-dropdown",value:e.alignment,onChange:this.onAlignmentChange.bind(this,t)},E.map(function(e,t){return o.createElement("option",{key:""+t,value:e},e)},this))),o.createElement("td",null,o.createElement("a",{href:"#",className:"simple-button orange delete-label",title:"Remove this label",onClick:this.removeLabel.bind(this,t)},o.createElement(f,s))))},addLabel:function(e){e.preventDefault();var t=this.props.labels.slice(),n=r();t.push(n),this.props.onChange({labels:t})},removeLabel:function(e,t){t.preventDefault();var n=i(this.props.labels).clone();n.splice(e,1),this.props.onChange({labels:n})},onCoordinateChange:function(e,t){var n=this.props.labels.slice();n[e]=i.extend({},n[e],{coordinates:t}),this.props.onChange({labels:n})},onContentChange:function(e,t){var n=t.target.value,r=this.props.labels.slice();r[e]=i.extend({},r[e],{content:n}),this.props.onChange({labels:r})},onAlignmentChange:function(e,t){var n=t.target.value,r=this.props.labels.slice();r[e]=i.extend({},r[e],{alignment:n}),this.props.onChange({labels:r})},setUrl:function(e,t,n,r){if(this.isMounted()){var o=i.clone(this.props.backgroundImage);o.url=e,o.width=t,o.height=n;var a=[o.width,o.height];this.props.onChange({backgroundImage:o,box:a},null,r)}},onUrlChange:function(e,t){var n=this;return x.test(e)?(this.setState({backgroundImageError:""}),this._leadingUrl=e,e?void l.getImageSize(e,function(t,r){n._leadingUrl===e&&n.setUrl(e,t,r,!0)}):void this.setUrl(e,0,0,t)):void this.setState({backgroundImageError:"Images must be from sites hosted by Khan Academy. Please input a Khan Academy-owned address, or use the Add Image tool to rehost an existing image"})},onRangeChange:function(e,t){var n=this.props.range.slice();n[e]=t,this.props.onChange({range:n})},getSaveWarnings:function(){var e=[];return this.props.backgroundImage.url&&!this.props.alt&&e.push("No alt text"),e}});e.exports=w},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(92),s=a.Label,l=a.Line,u=a.MovablePoint,c=a.MovableLine,p=a.Plot,h=a.PlotParametric,d=a.Point,f=a.Rect,m=n(201).vector,g=function(e,t){t=t||{};for(var n=e+"||"+t.decimal_separatpr+"||",r=t.functions,o=r?r.length:0,i=0;i<o;i++)n+=r[i]+"|";return n},v=Object.create(null),y=function(e,t){var n=g(e,t),r=v[n];return r?r:(r=KAS.parse(e,t),v[n]=r,r)},b=Object.create(null),x=function(e,t){var n=g(e,t),r=b[n];if(r)return r;var o=KAS.parse(e,t).expr;return r=o?o.compile():function(){return 0},b[n]=r,r},E={graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],tickStep:[1,1],gridStep:[1,1],markings:"graph"},elements:[]},w=r.createClass({displayName:"Interaction",mixins:[i],propTypes:{graph:r.PropTypes.object,elements:r.PropTypes.arrayOf(r.PropTypes.object)},getDefaultProps:function(){return E},getInitialState:function(){return{variables:this._getInitialVariables(this.props.elements),functions:this._getInitialFunctions(this.props.elements)}},_getInitialVariables:function(e){var t={};return o.each(o.where(e,{type:"movable-point"}),function(e){var n=e.options.varSubscript,r=y(e.options.startX||"0").expr,o=y(e.options.startY||"0").expr,i=0,a=0;r&&(i=r.eval({})||0),o&&(a=o.eval({})||0),t["x_"+n]=i,t["y_"+n]=a},this),o.each(o.where(e,{type:"movable-line"}),function(e){var n=e.options.startSubscript,r=e.options.endSubscript,o=y(e.options.startX||"0").expr,i=y(e.options.startY||"0").expr,a=y(e.options.endX||"0").expr,s=y(e.options.endY||"0").expr,l=0,u=0,c=0,p=0;o&&(l=o.eval({})||0),i&&(u=i.eval({})||0),a&&(c=a.eval({})||0),s&&(p=s.eval({})||0),t["x_"+n]=l,t["y_"+n]=u,t["x_"+r]=c,t["y_"+r]=p},this),o.each(o.where(e,{type:"function"}),function(e){t[e.options.funcName]=e.options.value}),t},_getInitialFunctions:function(e){return o.map(o.where(e,{type:"function"}),function(e){return e.options.funcName})},componentWillReceiveProps:function(e){this.setState({variables:this._getInitialVariables(e.elements),functions:this._getInitialFunctions(e.elements)})},_setupGraphie:function(e,t){if(e.graphInit(o.extend({},t,{grid:o.contains(["graph","grid"],this.props.graph.markings),axes:o.contains(["graph"],this.props.graph.markings),ticks:o.contains(["graph"],this.props.graph.markings),labels:o.contains(["graph"],this.props.graph.markings),labelFormat:function(e){return"\\small{"+e+"}"},axisArrows:"<->",unityLabels:!1})),"graph"===this.props.graph.markings){var n=this.props.graph.labels,r=this.props.graph.range;e.label([0,r[1][1]],n[1],"above"),e.label([r[0][1],0],n[0],"right")}},_updatePointLocation:function(e,t){var n=o.clone(this.state.variables);n["x_"+e]=t[0],n["y_"+e]=t[1],this.setState({variables:n}),this.props.trackInteraction()},_updateLineLocation:function(e,t){var n=this._eval("("+e.endX+")-("+e.startX+")"),r=this._eval("("+e.endY+")-("+e.startY+")"),i=m.add(t,[n,r]),a=o.clone(this.state.variables);a["x_"+e.startSubscript]=t[0],a["y_"+e.startSubscript]=t[1],a["x_"+e.endSubscript]=i[0],a["y_"+e.endSubscript]=i[1],this.setState({variables:a}),this.props.trackInteraction()},_eval:function(e,t){var n=this,r=x(e,{functions:this.state.functions}),i=o.extend({},this.state.variables,t);return o.each(o.keys(i),function(e){if(o.isString(i[e])){var t=x(i[e],{functions:n.state.functions});i[e]=function(e){return t(o.extend({},i,{x:e}))}}}),r(i)||0},_extractVars:function(e){if(null==e)return[];var t=[];return o.each(e.args(),function(e){e&&"Expr"===e.constructor.name&&(t=t.concat(this._extractVars(e)))},this),"Var"===e.name()&&t.push(e.prettyPrint()),t},render:function(){return r.createElement(a,{box:this.props.graph.box,range:this.props.graph.range,options:this.props.graph,setup:this._setupGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable},o.map(this.props.elements,function(e,t){var n=this;if("point"===e.type)return r.createElement(d,{key:e.key,coord:[this._eval(e.options.coordX),this._eval(e.options.coordY)],color:e.options.color});if("line"===e.type){var i=[this._eval(e.options.startX),this._eval(e.options.startY)],a=[this._eval(e.options.endX),this._eval(e.options.endY)];return r.createElement(l,{key:e.key,start:i,end:a,style:{stroke:e.options.color,strokeWidth:e.options.strokeWidth,strokeDasharray:e.options.strokeDasharray,arrows:e.options.arrows}})}if("movable-point"===e.type){var m=[function(t){var r=Math.max(n._eval(e.options.constraintXMin),Math.min(n._eval(e.options.constraintXMax),t[0])),o=Math.max(n._eval(e.options.constraintYMin),Math.min(n._eval(e.options.constraintYMax),t[1]));return[r,o]}];return"snap"===e.options.constraint?m.push(u.constraints.snap(e.options.snap)):"x"===e.options.constraint?m.push(function(t){return[n._eval(e.options.constraintFn,{y:t[1]}),t[1]]}):"y"===e.options.constraint&&m.push(function(t){return[t[0],n._eval(e.options.constraintFn,{x:t[0]})]}),r.createElement(u,{key:e.key,coord:[this.state.variables["x_"+e.options.varSubscript],this.state.variables["y_"+e.options.varSubscript]],constraints:m,foo_x:e.options.constraint,foo_y:e.options.constraintFn,foo_z:e.options.snap,onMove:o.partial(this._updatePointLocation,e.options.varSubscript)})}if("movable-line"===e.type){var m=[function(t){var r=Math.max(n._eval(e.options.constraintXMin),Math.min(n._eval(e.options.constraintXMax),t[0])),o=Math.max(n._eval(e.options.constraintYMin),Math.min(n._eval(e.options.constraintYMax),t[1]));return[r,o]}];"snap"===e.options.constraint?m.push(u.constraints.snap(e.options.snap)):"x"===e.options.constraint?m.push(function(t){return[n._eval(e.options.constraintFn,{y:t[1]}),t[1]]}):"y"===e.options.constraint&&m.push(function(t){return[t[0],n._eval(e.options.constraintFn,{x:t[0]})]});var i=[this.state.variables["x_"+e.options.startSubscript],this.state.variables["y_"+e.options.startSubscript]],a=[this.state.variables["x_"+e.options.endSubscript],this.state.variables["y_"+e.options.endSubscript]];return r.createElement(c,{key:e.key,constraints:m,onMove:o.bind(this._updateLineLocation,this,e.options),foo_x:e.options.constraint,foo_y:e.options.constraintFn,foo_z:e.options.snap},r.createElement(u,{coord:i,static:!0,normalStyle:{stroke:"none",fill:"none"}}),r.createElement(u,{coord:a,static:!0,normalStyle:{stroke:"none",fill:"none"}}))}if("function"===e.type){var g=function(t){return n._eval(e.options.value,{x:t})},v=o.without(this._extractVars(y(e.options.value).expr),"x"),b=o.object(v,o.map(v,function(e){return n.state.variables[e]})),x=[this._eval(e.options.rangeMin,this.state.variables),this._eval(e.options.rangeMax,this.state.variables)];return r.createElement(p,{key:e.key,fn:g,foo_fn:e.options.value,foo_varvalues:b,range:x,style:{stroke:e.options.color,strokeWidth:e.options.strokeWidth,strokeDasharray:e.options.strokeDasharray,plotPoints:100}})}if("parametric"===e.type){var g=function(t){return[n._eval(e.options.x,{t:t}),n._eval(e.options.y,{t:t})]},v=o.without(this._extractVars(y(e.options.x).expr).concat(this._extractVars(y(e.options.y).expr)),"t"),b=o.object(v,o.map(v,function(e){return n.state.variables[e]})),x=[this._eval(e.options.rangeMin,this.state.variables),this._eval(e.options.rangeMax,this.state.variables)];return r.createElement(h,{key:e.key,fn:g,foo_fnx:e.options.x,foo_fny:e.options.y,foo_varvalues:b,range:x,style:{stroke:e.options.color,strokeWidth:e.options.strokeWidth,strokeDasharray:e.options.strokeDasharray,plotPoints:100}})}if("label"===e.type){var E=[this._eval(e.options.coordX),this._eval(e.options.coordY)];return r.createElement(s,{key:t+1,coord:E,text:e.options.label,style:{color:e.options.color}})}return"rectangle"===e.type?r.createElement(f,{key:t+1,x:this._eval(e.options.coordX),y:this._eval(e.options.coordY),width:o.max([this._eval(e.options.width),0]),height:o.max([this._eval(e.options.height),0]),style:{stroke:"none",fill:e.options.color}}):void 0},this))},getUserInput:function(){return{}},simpleValidate:function(e){return w.validate(this.getUserInput(),e)}});o.extend(w,{validate:function(e,t){return{type:"points",earned:0,total:0,message:null}}}),e.exports={name:"interaction",displayName:"Interaction",widget:w,transform:o.identity}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(55),a=n(103),s=n(109),l=n(216),u=n(217),c=n(218),p=n(219),h=n(220),d=n(213),f=n(114),m=n(111),g=n(81),v=n(112),y=n(211),b={graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],tickStep:[1,1],gridStep:[1,1],markings:"graph"},elements:[]},x=o.createClass({displayName:"PointEditor",mixins:[s,a],propTypes:{coordX:o.PropTypes.string,coordY:o.PropTypes.string,color:o.PropTypes.string},getDefaultProps:function(){return{coordX:"0",coordY:"0",color:y.BLACK}},render:function(){return o.createElement("div",{className:"graph-settings"},o.createElement("div",{className:"perseus-widget-row"},"Coordinate: ",o.createElement(g,null,"\\Large("),o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.coordX,onChange:this.change("coordX")}),o.createElement(g,null,",")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.coordY,onChange:this.change("coordY")}),o.createElement(g,null,"\\Large)")),o.createElement("div",{className:"perseus-widget-row"},o.createElement(u,{value:this.props.color,onChange:this.change("color")})))}}),E=o.createClass({displayName:"LineEditor",mixins:[s,a],propTypes:{startX:o.PropTypes.string,startY:o.PropTypes.string,endX:o.PropTypes.string,endY:o.PropTypes.string,color:o.PropTypes.string,strokeDasharray:o.PropTypes.string,arrows:o.PropTypes.string,strokeWidth:o.PropTypes.number},getDefaultProps:function(){return{startX:"-5",startY:"5",endX:"5",endY:"5",color:y.BLACK,strokeDasharray:"",arrows:"",strokeWidth:2}},render:function(){return o.createElement("div",{className:"graph-settings"},o.createElement("div",{className:"perseus-widget-row"},"Start: ",o.createElement(g,null,"\\Large("),o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.startX,onChange:this.change("startX")}),o.createElement(g,null,",")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.startY,onChange:this.change("startY")}),o.createElement(g,null,"\\Large)")),o.createElement("div",{className:"perseus-widget-row"},"End: ",o.createElement(g,null,"\\Large("),o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.endX,onChange:this.change("endX")}),o.createElement(g,null,",")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.endY,onChange:this.change("endY")}),o.createElement(g,null,"\\Large)")),o.createElement("div",{className:"perseus-widget-row"},o.createElement(u,{value:this.props.color,onChange:this.change("color")})),o.createElement("div",{className:"perseus-widget-row"},o.createElement(p,{value:this.props.strokeDasharray,onChange:this.change("strokeDasharray")}),"   ",o.createElement(l,{value:this.props.arrows,onChange:this.change("arrows")})),o.createElement("div",{className:"perseus-widget-row"},o.createElement("div",{className:"perseus-widget-left-col"},"Width: ",o.createElement(m,{value:this.props.strokeWidth,placeholder:2,onChange:this.change("strokeWidth")}))))}}),w=o.createClass({displayName:"MovablePointEditor",mixins:[s,a],propTypes:{startX:o.PropTypes.string,startY:o.PropTypes.string,constraint:o.PropTypes.string,snap:o.PropTypes.number,constraintFn:o.PropTypes.string},getDefaultProps:function(){return{startX:"0",startY:"0",constraint:"none",snap:.5,constraintFn:"0",constraintXMin:"-10",constraintXMax:"10",constraintYMin:"-10",constraintYMax:"10"}},render:function(){return o.createElement("div",{className:"graph-settings"},o.createElement("div",{className:"perseus-widget-row"},"Start: ",o.createElement(g,null,"\\Large("),o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.startX,onChange:this.change("startX")}),o.createElement(g,null,",")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.startY,onChange:this.change("startY")}),o.createElement(g,null,"\\Large)")),o.createElement("div",{className:"perseus-widget-row"},"Update ",o.createElement(g,null,"(x_n, y_n)")," for ",o.createElement(g,null,"n =")," ",o.createElement(m,{value:this.props.varSubscript,placeholder:0,onChange:this.change("varSubscript")})),o.createElement(c,this.props))}}),T=o.createClass({displayName:"MovableLineEditor",mixins:[s,a],propTypes:{startX:o.PropTypes.string,startY:o.PropTypes.string,endX:o.PropTypes.string,endY:o.PropTypes.string,constraint:o.PropTypes.string,snap:o.PropTypes.number,constraintFn:o.PropTypes.string},getDefaultProps:function(){return{startX:"-5",startY:"5",endX:"5",endY:"5",constraint:"none",snap:.5,constraintFn:"0",constraintXMin:"-10",constraintXMax:"10",constraintYMin:"-10",constraintYMax:"10"}},render:function(){return o.createElement("div",{className:"graph-settings"},"Initial position:",o.createElement("div",{className:"perseus-widget-row"},"Start: ",o.createElement(g,null,"\\Large("),o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.startX,onChange:this.change("startX")}),o.createElement(g,null,",")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.startY,onChange:this.change("startY")}),o.createElement(g,null,"\\Large)")),o.createElement("div",{className:"perseus-widget-row"},"End: ",o.createElement(g,null,"\\Large("),o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.endX,onChange:this.change("endX")}),o.createElement(g,null,",")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.endY,onChange:this.change("endY")}),o.createElement(g,null,"\\Large)")),o.createElement("div",{className:"perseus-widget-row"},"Start updates ",o.createElement(g,null,"(x_n, y_n)")," for ",o.createElement(g,null,"n ="),o.createElement(m,{value:this.props.startSubscript,placeholder:0,onChange:this.change("startSubscript")})),o.createElement("div",{className:"perseus-widget-row"},"End updates ",o.createElement(g,null,"(x_m, y_m)")," for ",o.createElement(g,null,"m ="),o.createElement(m,{value:this.props.endSubscript,placeholder:0,onChange:this.change("endSubscript")})),o.createElement("div",{className:"perseus-widget-row"},"All constraints are applied to the start point."),o.createElement(c,this.props))}}),C=o.createClass({displayName:"FunctionEditor",mixins:[s,a],propTypes:{value:o.PropTypes.string,rangeMin:o.PropTypes.string,rangeMax:o.PropTypes.string,color:o.PropTypes.string,strokeDashArray:o.PropTypes.string,strokeWidth:o.PropTypes.number},getDefaultProps:function(){return{value:"x",rangeMin:"-10",rangeMax:"10",color:y.BLUE,strokeDasharray:"",strokeWidth:2}},render:function(){return o.createElement("div",{className:"graph-settings"},o.createElement("div",{className:"perseus-widget-row"},o.createElement(g,null,this.props.funcName+"(x)=")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.value,onChange:this.change("value")})),o.createElement("div",{className:"perseus-widget-row"},"Range: ",o.createElement(g,null,"\\Large("),o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.rangeMin,onChange:this.change("rangeMin")}),o.createElement(g,null,",")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.rangeMax,onChange:this.change("rangeMax")}),o.createElement(g,null,"\\Large)")),o.createElement("div",{className:"perseus-widget-row"},o.createElement(u,{value:this.props.color,onChange:this.change("color")})),o.createElement("div",{className:"perseus-widget-row"},o.createElement(p,{value:this.props.strokeDasharray,onChange:this.change("strokeDasharray")})),o.createElement("div",{className:"perseus-widget-row"},o.createElement("div",{className:"perseus-widget-left-col"},"Width: ",o.createElement(m,{value:this.props.strokeWidth,placeholder:2,onChange:this.change("strokeWidth")}))))}}),S=o.createClass({displayName:"ParametricEditor",mixins:[s,a],propTypes:{x:o.PropTypes.string,y:o.PropTypes.string,rangeMin:o.PropTypes.string,rangeMax:o.PropTypes.string,color:o.PropTypes.string,strokeDashArray:o.PropTypes.string,strokeWidth:o.PropTypes.number},getDefaultProps:function(){return{x:"cos(t)",y:"sin(t)",rangeMin:"0",rangeMax:"2\\pi",color:y.BLUE,strokeDasharray:"",strokeWidth:2}},render:function(){return o.createElement("div",{className:"graph-settings"},o.createElement("div",{className:"perseus-widget-row"},o.createElement(g,null,"X(t) =")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.x,onChange:this.change("x")})),o.createElement("div",{className:"perseus-widget-row"},o.createElement(g,null,"Y(t) =")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.y,onChange:this.change("y")})),o.createElement("div",{className:"perseus-widget-row"},"Range: ",o.createElement(g,null,"\\Large("),o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.rangeMin,onChange:this.change("rangeMin")}),o.createElement(g,null,",")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.rangeMax,onChange:this.change("rangeMax")}),o.createElement(g,null,"\\Large)")),o.createElement("div",{className:"perseus-widget-row"},o.createElement(u,{value:this.props.color,onChange:this.change("color")})),o.createElement("div",{className:"perseus-widget-row"},o.createElement(p,{value:this.props.strokeDasharray,onChange:this.change("strokeDasharray")})),o.createElement("div",{className:"perseus-widget-row"},o.createElement("div",{className:"perseus-widget-left-col"},"Width: ",o.createElement(m,{value:this.props.strokeWidth,placeholder:2,onChange:this.change("strokeWidth")}))))}}),k=o.createClass({displayName:"LabelEditor",mixins:[s,a],propTypes:{color:o.PropTypes.string,coordX:o.PropTypes.string,coordY:o.PropTypes.string,label:o.PropTypes.string},getDefaultProps:function(){return{coordX:"0",coordY:"0",color:y.BLACK,label:"\\phi"}},render:function(){return o.createElement("div",{className:"graph-settings"},o.createElement("div",{className:"perseus-widget-row"},o.createElement(v,{value:this.props.label,onChange:this.change("label"),style:{width:"100%"}})),o.createElement("div",{className:"perseus-widget-row"},"Location: ",o.createElement(g,null,"\\Large("),o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.coordX,onChange:this.change("coordX")}),o.createElement(g,null,",")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.coordY,onChange:this.change("coordY")}),o.createElement(g,null,"\\Large)")),o.createElement("div",{className:"perseus-widget-row"},o.createElement(u,{value:this.props.color,onChange:this.change("color")})))}}),P=o.createClass({displayName:"RectangleEditor",mixins:[s,a],propTypes:{color:o.PropTypes.string,coordX:o.PropTypes.string,coordY:o.PropTypes.string,height:o.PropTypes.string,width:o.PropTypes.string},getDefaultProps:function(){return{coordX:"-5",coordY:"5",width:"2",height:"3",color:y.LIGHT_BLUE}},render:function(){return o.createElement("div",{className:"graph-settings"},o.createElement("div",{className:"perseus-widget-row"},"Bottom left: ",o.createElement(g,null,"\\Large("),o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.coordX,onChange:this.change("coordX")}),o.createElement(g,null,",")," ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.coordY,onChange:this.change("coordY")}),o.createElement(g,null,"\\Large)")),o.createElement("div",{className:"perseus-widget-row"},"Width: ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.width,onChange:this.change("width")})),o.createElement("div",{className:"perseus-widget-row"},"Height: ",o.createElement(f,{buttonSets:[],buttonsVisible:"never",value:this.props.height,onChange:this.change("height")})),o.createElement("div",{className:"perseus-widget-row"},o.createElement(u,{value:this.props.color,lightColors:!0,onChange:this.change("color")})),o.createElement("div",{className:"perseus-widget-row"},"You want a border? Sorry, draw your own."))}}),_=o.createClass({displayName:"InteractionEditor",mixins:[s,a],propTypes:{elements:o.PropTypes.arrayOf(o.PropTypes.object),graph:o.PropTypes.objectOf(o.PropTypes.any)},getDefaultProps:function(){return b},getInitialState:function(){return{usedVarSubscripts:this._getAllVarSubscripts(this.props.elements),usedFunctionNames:this._getAllFunctionNames(this.props.elements)}},componentWillReceiveProps:function(e){this.setState({usedVarSubscripts:this._getAllVarSubscripts(e.elements),usedFunctionNames:this._getAllFunctionNames(e.elements)})},_getAllVarSubscripts:function(e){return i.map(i.where(e,{type:"movable-point"}),function(e){return e.options.varSubscript}).concat(i.map(i.where(e,{type:"movable-line"}),function(e){return e.options.startSubscript})).concat(i.map(i.where(e,{type:"movable-line"}),function(e){return e.options.endSubscript}))},_getAllFunctionNames:function(e){return i.map(i.where(e,{type:"function"}),function(e){return e.options.funcName})},_updateGraphProps:function(e){this.change({graph:i.extend(i.omit(e,"step"),{tickStep:e.step})})},_addNewElement:function(e){var t=e.target.value;if(""!==t){e.target.value="";var n,r={type:t,key:t+"-"+(16777215*Math.random()<<0).toString(16),options:"point"===t?i.clone(x.defaultProps):"line"===t?i.clone(E.defaultProps):"movable-point"===t?i.clone(w.defaultProps):"movable-line"===t?i.clone(T.defaultProps):"function"===t?i.clone(C.defaultProps):"parametric"===t?i.clone(S.defaultProps):"label"===t?i.clone(k.defaultProps):"rectangle"===t?i.clone(P.defaultProps):{}};if("movable-point"===t)n=i.max([i.max(this.state.usedVarSubscripts),-1])+1,
r.options.varSubscript=n;else if("movable-line"===t)n=i.max([i.max(this.state.usedVarSubscripts),-1])+1,r.options.startSubscript=n,r.options.endSubscript=n+1;else if("function"===t){var o=String.fromCharCode(i.max([i.max(i.map(this.state.usedFunctionNames,function(e){return e.charCodeAt(0)})),"e".charCodeAt(0)])+1);r.options.funcName=o}this.change({elements:this.props.elements.concat(r)})}},_deleteElement:function(e){var t=this.props.elements[e];this.change({elements:i.without(this.props.elements,t)})},_moveElementUp:function(e){var t=this.props.elements[e],n=i.without(this.props.elements,t);n.splice(e-1,0,t),this.change({elements:n})},_moveElementDown:function(e){var t=this.props.elements[e],n=i.without(this.props.elements,t);n.splice(e+1,0,t),this.change({elements:n})},render:function(){return o.createElement("div",{className:"perseus-widget-interaction-editor"},o.createElement(h,{title:"Grid settings"},o.createElement(d,{editableSettings:["canvas","graph"],box:this.props.graph.box,labels:this.props.graph.labels,range:this.props.graph.range,step:this.props.graph.tickStep,gridStep:this.props.graph.gridStep,markings:this.props.graph.markings,onChange:this._updateGraphProps}),this.props.graph.valid===!0||o.createElement("div",null,this.props.graph.valid)),i.map(this.props.elements,function(e,t){var n=this;return"movable-point"===e.type?o.createElement(h,{title:o.createElement("span",null,"Movable point ",o.createElement(g,null,"(x_{"+e.options.varSubscript+"}, y_{"+e.options.varSubscript+"})")),onUp:0===t?null:this._moveElementUp.bind(this,t),onDown:t===this.props.elements.length-1?null:this._moveElementDown.bind(this,t),onDelete:this._deleteElement.bind(this,t),key:e.key},o.createElement(w,r({},e.options,{onChange:function(e){var r=JSON.parse(JSON.stringify(n.props.elements));i.extend(r[t].options,e),n.change({elements:r})}}))):"movable-line"===e.type?o.createElement(h,{title:o.createElement("span",null,"Movable line ",o.createElement(g,null,"(x_{"+e.options.startSubscript+"}, y_{"+e.options.startSubscript+"})")," to ",o.createElement(g,null,"(x_{"+e.options.endSubscript+"}, y_{"+e.options.endSubscript+"})")),onUp:0===t?null:this._moveElementUp.bind(this,t),onDown:t===this.props.elements.length-1?null:this._moveElementDown.bind(this,t),onDelete:this._deleteElement.bind(this,t),key:e.key},o.createElement(T,r({},e.options,{onChange:function(e){var r=JSON.parse(JSON.stringify(n.props.elements));i.extend(r[t].options,e),n.change({elements:r})}}))):"point"===e.type?o.createElement(h,{title:o.createElement("span",null,"Point ",o.createElement(g,null,"("+e.options.coordX+", "+e.options.coordY+")")),onUp:0===t?null:this._moveElementUp.bind(this,t),onDown:t===this.props.elements.length-1?null:this._moveElementDown.bind(this,t),onDelete:this._deleteElement.bind(this,t),key:e.key},o.createElement(x,r({},e.options,{onChange:function(e){var r=JSON.parse(JSON.stringify(n.props.elements));i.extend(r[t].options,e),n.change({elements:r})}}))):"line"===e.type?o.createElement(h,{title:o.createElement("span",null,"Line ",o.createElement(g,null,"("+e.options.startX+", "+e.options.startY+")")," to ",o.createElement(g,null,"("+e.options.endX+", "+e.options.endY+")")),onUp:0===t?null:this._moveElementUp.bind(this,t),onDown:t===this.props.elements.length-1?null:this._moveElementDown.bind(this,t),onDelete:this._deleteElement.bind(this,t),key:e.key},o.createElement(E,r({},e.options,{onChange:function(e){var r=JSON.parse(JSON.stringify(n.props.elements));i.extend(r[t].options,e),n.change({elements:r})}}))):"function"===e.type?o.createElement(h,{title:o.createElement("span",null,"Function ",o.createElement(g,null,e.options.funcName+"(x) = "+e.options.value)),onUp:0===t?null:this._moveElementUp.bind(this,t),onDown:t===this.props.elements.length-1?null:this._moveElementDown.bind(this,t),onDelete:this._deleteElement,key:e.key},o.createElement(C,r({},e.options,{onChange:function(e){var r=JSON.parse(JSON.stringify(n.props.elements));i.extend(r[t].options,e),n.change({elements:r})}}))):"parametric"===e.type?o.createElement(h,{title:o.createElement("span",null,"Parametric"),onUp:0===t?null:this._moveElementUp.bind(this,t),onDown:t===this.props.elements.length-1?null:this._moveElementDown.bind(this,t),onDelete:this._deleteElement,key:e.key},o.createElement(S,r({},e.options,{onChange:function(e){var r=JSON.parse(JSON.stringify(n.props.elements));i.extend(r[t].options,e),n.change({elements:r})}}))):"label"===e.type?o.createElement(h,{title:o.createElement("span",null,"Label ",o.createElement(g,null,e.options.label)," "),onUp:0===t?null:this._moveElementUp.bind(this,t),onDown:t===this.props.elements.length-1?null:this._moveElementDown.bind(this,t),onDelete:this._deleteElement,key:e.key},o.createElement(k,r({},e.options,{onChange:function(e){var r=JSON.parse(JSON.stringify(n.props.elements));i.extend(r[t].options,e),n.change({elements:r})}}))):"rectangle"===e.type?o.createElement(h,{title:o.createElement("span",null,"Rectangle ",o.createElement(g,null,"("+e.options.coordX+", "+e.options.coordY+")")," — ",o.createElement(g,null,e.options.width+" \\times "+e.options.height)),onUp:0===t?null:this._moveElementUp.bind(this,t),onDown:t===this.props.elements.length-1?null:this._moveElementDown.bind(this,t),onDelete:this._deleteElement,key:e.key},o.createElement(P,r({},e.options,{onChange:function(e){var r=JSON.parse(JSON.stringify(n.props.elements));i.extend(r[t].options,e),n.change({elements:r})}}))):void 0},this),o.createElement("div",{className:"perseus-widget-interaction-editor-select-element"},o.createElement("select",{onChange:this._addNewElement},o.createElement("option",{value:""},"Add an element","…"),o.createElement("option",{disabled:!0},"--"),o.createElement("option",{value:"point"},"Point"),o.createElement("option",{value:"line"},"Line segment"),o.createElement("option",{value:"function"},"Function plot"),o.createElement("option",{value:"parametric"},"Parametric plot"),o.createElement("option",{value:"label"},"Label"),o.createElement("option",{value:"rectangle"},"Rectangle"),o.createElement("option",{value:"movable-point"},"★ Movable point"),o.createElement("option",{value:"movable-line"},"★ Movable line segment"))))}});e.exports=_},function(e,t,n){"use strict";function r(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function o(e,t,n){return W(r(e,t,n),0)}function i(e){return W(e,0)?0:e>0?1:-1}function a(e,t){return null==e?t:e}function s(e,t,n){return n[0]<=Math.max(e[0],t[0])&&n[0]>=Math.min(e[0],t[0])&&n[1]<=Math.max(e[1],t[1])&&n[1]>=Math.min(e[1],t[1])}function l(e,t){var n=[[e[0],e[1],t[0]],[e[0],e[1],t[1]],[t[0],t[1],e[0]],[t[0],t[1],e[1]]],o=S.map(n,function(e){return i(r.apply(null,e))});if(o[0]!==o[1]&&o[2]!==o[3])return!0;for(var a=0;a<4;a++)if(0===o[a]&&s.apply(null,n[a]))return!0;return!1}function u(e,t){return S.map(S.zip(e,t),function(e){return e[0]-e[1]})}function c(e){return Math.sqrt(S.reduce(e,function(e,t){return e+Math.pow(t,2)},0))}function p(e,t){return S.reduce(S.zip(e,t),function(e,t){return e+t[0]*t[1]},0)}function h(e){var t=S.zip(e,y(e));return S.map(t,function(e){return c(u.apply(null,e))})}function d(e){var t=S.zip(y(e,-1),e,y(e,1)),n=S.map(t,function(e){var t=u(e[1],e[0]),n=u(e[2],e[1]),o=Math.acos(p(t,n)/(c(t)*c(n)));return i(r.apply(null,e))>0?o:-o}),o=S.reduce(n,function(e,t){return e+t},0);return S.map(n,function(e){return o>0?Math.PI-e:Math.PI+e})}function f(e,t,n){if(e.length!==t.length)return!1;for(var r=e.length,o=d(e),i=d(t),a=h(e),s=h(t),l=0;l<2*r;l++){var u=i.slice(),c=s.slice();if(l>=r&&(u.reverse(),c.reverse(),c=y(c,1)),u=y(u,l),c=y(c,l),H(o,u)){var p=S.zip(a,c),f=S.map(p,function(e){return e[0]/e[1]}),m=S.all(f,function(e){return W(f[0],e)}),g=S.all(p,function(e){return O.equal(e[0],e[1],n)});if(m&&g)return!0}}return!1}function m(e,t){return e<t||W(e,t)}function g(e,t,n){return 180*Math.acos((e*e+t*t-n*n)/(2*e*t))/Math.PI}function v(e){var t=e[0],n=e[1],r=e[2],o=e[3];t<0&&(t*=-1,n*=-1,r*=-1);var i=2*Math.PI;for(n<0&&(n*=-1,r*=-1,r+=i/2);r>0;)r-=i;for(;r<0;)r+=i;return[t,n,r,o]}function y(e,t){return t="undefined"==typeof t?1:t%e.length,e.slice(t).concat(e.slice(0,t))}function b(e){return e.replace(/(?:^|-)(.)/g,function(e,t){return t.toUpperCase()})}function x(e,t){if(W(e[0],t[0]))return"x = "+e[0].toFixed(3);var n=(t[1]-e[1])/(t[0]-e[0]),r=e[1]-n*e[0];return"y = "+n.toFixed(3)+"x + "+r.toFixed(3)}function E(e,t){var n=e[0][0],r=e[0][1],o=e[1][0],i=e[1][1],a=t[0][0],s=t[0][1],l=t[1][0],u=t[1][1],c=(n-o)*(s-u)-(r-i)*(a-l);if(Math.abs(c)<1e-9)return"Lines are parallel";var p=((n*i-r*o)*(a-l)-(n-o)*(a*u-s*l))/c,h=((n*i-r*o)*(s-u)-(r-i)*(a*u-s*l))/c;return"Intersection: ("+p.toFixed(3)+", "+h.toFixed(3)+")"}function w(e,t){return Math.floor((e[1]-e[0])/t)}var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C=n(54),S=n(55),k=n(221),P=n(96),_=n(209),M=n(111),N=n(11),O=n(201).number,A=n(201).point,I=n(211),R=n(192),D=n(78),L=(D.interactiveSizes,n(188)),F=L.containerSizeClassPropType,B=L.getInteractiveBoxFromSizeClass,j=n(210),q=N.DeprecationMixin,z="https://ka-perseus-graphie.s3.amazonaws.com/b1452c0d79fd0f7ff4c3af9488474a0a0decb361.png",U={url:null},W=N.eq,H=N.deepEq,V="unlimited",K={showGraph:function(e){return{markings:e.showGraph?"graph":"none"}}},G=C.createClass({displayName:"InteractiveGraph",propTypes:{containerSizeClass:F.isRequired,trackInteraction:C.PropTypes.func.isRequired},getInitialState:function(){return{shouldShowInstructions:this._getShouldShowInstructions()}},getDefaultProps:function(){return{labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:U,markings:"graph",showTooltips:!1,showProtractor:!1,showRuler:!1,rulerLabel:"",rulerTicks:10,graph:{type:"linear"}}},mixins:[q],deprecatedProps:K,_getShouldShowInstructions:function(e){return e=e||this.props,this.isClickToAddPoints(e)&&(null==e.graph.coords||0===e.graph.coords.length)},componentDidUpdate:function(e,t){var n=e.graph.type,r=this.props.graph.type;n===r&&e.graph.allowReflexAngles===this.props.graph.allowReflexAngles&&e.graph.angleOffsetDeg===this.props.graph.angleOffsetDeg&&e.graph.numPoints===this.props.graph.numPoints&&e.graph.numSides===this.props.graph.numSides&&e.graph.numSegments===this.props.graph.numSegments&&e.graph.showAngles===this.props.graph.showAngles&&e.graph.showSides===this.props.graph.showSides&&e.graph.snapTo===this.props.graph.snapTo&&e.graph.snapDegrees===this.props.graph.snapDegrees||(this["remove"+b(n)+"Controls"](),this["add"+b(r)+"Controls"]()),this.shouldResetGraphie&&this.resetGraphie()},render:function(){var e,t,n=this;if(this.props.flexibleType)if(e=C.createElement("select",{value:this.props.graph.type,onChange:function(e){var t=e.target.value;n.onChange({graph:{type:t}})}},C.createElement("option",{value:"linear"},"Linear function"),C.createElement("option",{value:"quadratic"},"Quadratic function"),C.createElement("option",{value:"sinusoid"},"Sinusoid function"),C.createElement("option",{value:"circle"},"Circle"),C.createElement("option",{value:"point"},"Point(s)"),C.createElement("option",{value:"linear-system"},"Linear System"),C.createElement("option",{value:"polygon"},"Polygon"),C.createElement("option",{value:"segment"},"Line Segment(s)"),C.createElement("option",{value:"ray"},"Ray"),C.createElement("option",{value:"angle"},"Angle")),"point"===this.props.graph.type)t=C.createElement("select",{key:"point-select",value:this.props.graph.numPoints||1,onChange:function(e){var t=+e.target.value||e.target.value;n.onChange({graph:{type:"point",numPoints:t,coords:null}})}},S.map(S.range(1,7),function(e){return C.createElement("option",{value:e},e," point",e>1&&"s")}),C.createElement("option",{value:V},"unlimited"));else if("polygon"===this.props.graph.type)t=C.createElement("div",null,C.createElement("div",null,C.createElement("select",{key:"polygon-select",value:this.props.graph.numSides||3,onChange:function(e){var t=+e.target.value||e.target.value,r=S.extend({},n.props.graph,{numSides:t,coords:null,snapTo:"grid"});n.onChange({graph:r})}},S.map(S.range(3,13),function(e){return C.createElement("option",{value:e},e," sides")}),C.createElement("option",{value:V},"unlimited sides"))),C.createElement("div",null,C.createElement("label",null," Snap to"," ",C.createElement("select",{key:"polygon-snap",value:this.props.graph.snapTo,onChange:function(e){var t=S.extend({},n.props.graph,{snapTo:e.target.value,coords:null});n.onChange({graph:t})}},C.createElement("option",{value:"grid"},"grid"),this.props.graph.numSides!==V&&[C.createElement("option",{value:"angles"}," ","interior angles"," "),C.createElement("option",{value:"sides"}," ","side measures"," ")])),C.createElement(P,null,C.createElement("p",null,"These options affect the movement of the vertex points. The grid option will guide the points to the nearest half step along the grid."),C.createElement("p",null,"The interior angle and side measure options guide the points to the nearest whole angle or side")," measure respectively."," ")),C.createElement("div",null,C.createElement("label",null,"Show angle measures:"," ",C.createElement("input",{type:"checkbox",checked:this.props.graph.showAngles,onChange:this.toggleShowAngles})),C.createElement(P,null,C.createElement("p",null,"Displays the interior angle measures."))),C.createElement("div",null,C.createElement("label",null,"Show side measures:"," ",C.createElement("input",{type:"checkbox",checked:this.props.graph.showSides,onChange:this.toggleShowSides})),C.createElement(P,null,C.createElement("p",null,"Displays the side lengths."))));else if("segment"===this.props.graph.type)t=C.createElement("select",{key:"segment-select",value:this.props.graph.numSegments||1,onChange:function(e){var t=+e.target.value;n.onChange({graph:{type:"segment",numSegments:t,coords:null}})}},S.map(S.range(1,7),function(e){return C.createElement("option",{value:e},e," segment",e>1&&"s")}));else if("angle"===this.props.graph.type){var r=a(this.props.graph.allowReflexAngles,!0);t=C.createElement("div",null,C.createElement("div",null,C.createElement("label",null,"Show angle measure:"," ",C.createElement("input",{type:"checkbox",checked:this.props.graph.showAngles,onChange:this.toggleShowAngles}))),C.createElement("div",null,C.createElement("label",null,"Allow reflex angles:"," ",C.createElement("input",{type:"checkbox",checked:r,onChange:function(e){n.onChange({graph:S.extend({},n.props.graph,{allowReflexAngles:!r,coords:null})})}})),C.createElement(P,null,C.createElement("p",null,"Reflex angles are angles with a measure greater than 180 degrees."),C.createElement("p",null,"By default, these should remain enabled."))),C.createElement("div",null,C.createElement("label",null,"Snap to increments of"," ",C.createElement(M,{key:"degree-snap",placeholder:1,value:this.props.graph.snapDegrees,onChange:function(e){n.onChange({graph:S.extend({},n.props.graph,{snapDegrees:Math.abs(e),coords:null})})}})," ","degrees"," ")),C.createElement("div",null,C.createElement("label",null," ","With an offset of"," ",C.createElement(M,{key:"angle-offset",placeholder:0,value:this.props.graph.angleOffsetDeg,onChange:function(e){n.onChange({graph:S.extend({},n.props.graph,{angleOffsetDeg:e,coords:null})})}})," ","degrees"," ")))}var o,i=B(this.props.containerSizeClass);this.isClickToAddPoints()&&this.state.shouldShowInstructions?"point"===this.props.graph.type?o=i18n._("Click to add points"):"polygon"===this.props.graph.type&&(o=i18n._("Click to add vertices")):o=void 0;var s=this.isClickToAddPoints()?this.handleAddPointsMouseDown:null,l=this.props.gridStep||N.getGridStep(this.props.range,this.props.step,i[0]),u=this.props.snapStep||N.snapStepFromGridStep(l),c=this.props.apiOptions.isMobile;return C.createElement("div",{className:"perseus-widget perseus-widget-interactive-graph",style:{width:i[0],height:this.props.flexibleType?"auto":i[1]}},C.createElement(k,{instructions:o,ref:"graph",box:i,labels:this.props.labels,range:this.props.range,step:c?N.constrainedTickStepsFromTickSteps(this.props.step,this.props.range):this.props.step,gridStep:l,snapStep:u,markings:this.props.markings,backgroundImage:this.props.backgroundImage,showProtractor:this.props.showProtractor,showRuler:this.props.showRuler,rulerLabel:this.props.rulerLabel,rulerTicks:this.props.rulerTicks,onMouseDown:s,onGraphieUpdated:this.setGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable,isMobile:c}),e,t)},componentDidMount:function(){this.setGraphie(this.refs.graph.graphie())},setGraphie:function(e){this.graphie=e,this.setupGraphie()},handleAddPointsMouseDown:function(e){if(!this.isClickToAddPoints())throw new Error("handleAddPointsClick should not be registeredwhen isClickToAddPoints() is false");if(!this.isCoordInTrash(e)){var t;if("point"===this.props.graph.type){if(t=this.createPointForPointsType(e,this.points.length),!t.constrain())return void t.remove();this.points.push(t);var n=this.points.length-1;this.points[n].grab(e),this.updateCoordsFromPoints()}else if("polygon"===this.props.graph.type){if(this.polygon.closed())return;t=this.createPointForPolygonType(e,this.points.length),this.points.push(t);var n=this.points.length-1;this.points[n].grab(e),this.updatePolygon()}this.setState({shouldShowInstructions:!1})}},resetGraphie:function(){this.shouldResetGraphie=!1,this.parabola=null,this.sinusoid=null,this.refs.graph.reset()},setupGraphie:function(){this.setTrashCanVisibility(0),this.isClickToAddPoints()&&this.setTrashCanVisibility(.5),this.props.apiOptions.isMobile&&(this.horizHairline=new j(this.graphie,[0,0],[0,0],{normalStyle:{strokeWidth:1}}),this.horizHairline.attr({stroke:I.INTERACTIVE}),this.horizHairline.hide(),this.vertHairline=new j(this.graphie,[0,0],[0,0],{normalStyle:{strokeWidth:1}}),this.vertHairline.attr({stroke:I.INTERACTIVE}),this.vertHairline.hide());var e=this.props.graph.type;this["add"+b(e)+"Controls"]()},showHairlines:function(e){this.props.apiOptions.isMobile&&"none"!==this.props.markings&&(this.horizHairline.moveTo([this.props.range[0][0],e[1]],[this.props.range[0][1],e[1]]),this.horizHairline.show(),this.vertHairline.moveTo([e[0],this.props.range[1][0]],[e[0],this.props.range[1][1]]),this.vertHairline.show())},hideHairlines:function(){this.props.apiOptions.isMobile&&(this.horizHairline.hide(),this.vertHairline.hide())},setTrashCanVisibility:function(e){var t=this.graphie;O.equal(e,0)?this.trashCan&&(this.trashCan.remove(),this.trashCan=null):this.props.apiOptions.isMobile||(this.trashCan||(this.trashCan=t.raphael.image(z,t.xpixels-40,t.ypixels-40,40,40)),this.trashCan.attr({opacity:e}))},componentWillReceiveProps:function(e){this.isClickToAddPoints()!==this.isClickToAddPoints(e)&&(this.shouldResetGraphie=!0,this.setState({shouldShowInstructions:this._getShouldShowInstructions(e)})),this.props.containerSizeClass!==e.containerSizeClass&&(this.shouldResetGraphie=!0)},isClickToAddPoints:function(e){return e=e||this.props,"point"===e.graph.type&&e.graph.numPoints===V||"polygon"===e.graph.type&&e.graph.numSides===V},_lineStroke:function(){return this.props.isMobile?{"stroke-width":3}:{}},addLine:function(e){var t=this,n=this,r=n.graphie,o=G.getLineCoords(n.props.graph,n.props),i=n.points=S.map(o,function(e){return _.addMaybeMobileMovablePoint(t,{coord:e,constraints:[_.MovablePoint.constraints.bound(),_.MovablePoint.constraints.snap()],onMove:function(){var e=S.extend({},n.props.graph,{coords:S.invoke(i,"coord")});n.onChange({graph:e})}})}),a={points:i,static:!0,normalStyle:T({stroke:this.props.apiOptions.isMobile?I.BLUE_C:I.INTERACTIVE},this._lineStroke())};"line"===e?a.extendLine=!0:"ray"===e&&(a.extendRay=!0);n.line=_.addMovableLine(r,a);i[0].listen("constraints","isLine",function(e){return!A.equal(e,i[1].coord())}),i[1].listen("constraints","isLine",function(e){return!A.equal(e,i[0].coord())})},removeLine:function(){S.invoke(this.points,"remove"),this.line.remove()},addLinearControls:function(){this.addLine("line")},removeLinearControls:function(){this.removeLine()},addQuadraticControls:function(){var e=this,t=(this.graphie,this.props.graph.coords);t||(t=G.defaultQuadraticCoords(this.props));var n,r,o,i=function(){var t=S.extend({},e.props.graph,{coords:[n.coord(),r.coord(),o.coord()]});e.onChange({graph:t}),e.updateQuadratic()};n=this.pointA=_.addMaybeMobileMovablePoint(this,{coord:t[0],constraints:[_.MovablePoint.constraints.bound(),_.MovablePoint.constraints.snap(),function(e){return!n||e[0]!==r.coord()[0]&&e[0]!==o.coord()[0]}],onMove:i}),r=this.pointB=_.addMaybeMobileMovablePoint(this,{coord:t[1],constraints:[_.MovablePoint.constraints.bound(),_.MovablePoint.constraints.snap(),function(e){return!r||e[0]!==n.coord()[0]&&e[0]!==o.coord()[0]}],onMove:i}),o=this.pointC=_.addMaybeMobileMovablePoint(this,{coord:t[2],constraints:[_.MovablePoint.constraints.bound(),_.MovablePoint.constraints.snap(),function(e){return!o||e[0]!==n.coord()[0]&&e[0]!==r.coord()[0]}],onMove:i}),this.updateQuadratic()},updateQuadratic:function(){var e=G.getCurrentQuadraticCoefficients(this.props);if(e){var t=e[0],n=e[1],r=e[2];if(this.parabola){var o=this.graphie.svgParabolaPath(t,n,r);this.parabola.attr({path:o})}else this.parabola=this.graphie.parabola(t,n,r),this.parabola.attr(T({stroke:this.props.apiOptions.isMobile?I.BLUE_C:I.DYNAMIC},this._lineStroke())),this.parabola.toBack()}},removeQuadraticControls:function(){this.pointA.remove(),this.pointB.remove(),this.pointC.remove(),this.parabola&&(this.parabola.remove(),this.parabola=null)},addSinusoidControls:function(){var e=this,t=(this.graphie,this.props.graph.coords);t||(t=G.defaultSinusoidCoords(this.props));var n,r,o=function(){var t=S.extend({},e.props.graph,{coords:[n.coord(),r.coord()]});e.onChange({graph:t}),e.updateSinusoid()};n=this.pointA=_.addMaybeMobileMovablePoint(this,{coord:t[0],constraints:[_.MovablePoint.constraints.bound(),_.MovablePoint.constraints.snap(),function(e){return!n||e[0]!==r.coord()[0]}],onMove:o}),r=this.pointB=_.addMaybeMobileMovablePoint(this,{coord:t[1],constraints:[_.MovablePoint.constraints.bound(),_.MovablePoint.constraints.snap(),function(e){return!n||e[0]!==n.coord()[0]}],onMove:o}),this.updateSinusoid()},updateSinusoid:function(){var e=G.getCurrentSinusoidCoefficients(this.props);if(e){var t=e[0],n=e[1],r=e[2],o=e[3];if(this.sinusoid){var i=this.graphie.svgSinusoidPath(t,n,r,o);this.sinusoid.attr({path:i})}else this.sinusoid=this.graphie.sinusoid(t,n,r,o),this.sinusoid.attr(T({stroke:this.props.apiOptions.isMobile?I.BLUE_C:I.DYNAMIC},this._lineStroke())),this.sinusoid.toBack()}},removeSinusoidControls:function(){this.pointA.remove(),this.pointB.remove(),this.sinusoid&&(this.sinusoid.remove(),this.sinusoid=null)},addCircleControls:function(){var e=this,t=this.graphie,n=S.min(t.snap),r=this.circle=t.addCircleGraph({center:this.props.graph.center||[0,0],radius:this.props.graph.radius||S.min(this.props.step),snapX:t.snap[0],snapY:t.snap[1],minRadius:2*n,snapRadius:n});$(r).on("move",function(){var t=S.extend({},e.props.graph,{center:r.center,radius:r.radius});e.onChange({graph:t})})},removeCircleControls:function(){this.circle.remove()},addLinearSystemControls:function(){var e=this,t=this.graphie,n=G.getLinearSystemCoords(this.props.graph,this.props),r=[I.INTERACTIVE,I.GREEN],o=this.points=S.map(n,function(t,n){var o=S.map(t,function(t,i){return _.addMaybeMobileMovablePoint(e,{coord:t,constraints:[_.MovablePoint.constraints.bound(),_.MovablePoint.constraints.snap(),function(e){if(o)return!A.equal(e,o[1-i].coord())}],onMove:function(){var t=S.extend({},e.props.graph,{coords:S.map(e.points,function(e){return S.invoke(e,"coord")})});e.onChange({graph:t})},normalStyle:{fill:r[n]},highlightStyle:{fill:r[n]}})});return o});this.lines=S.map(o,function(e,n){return _.addMovableLine(t,{points:e,static:!0,extendLine:!0,normalStyle:{stroke:r[n]}})})},removeLinearSystemControls:function(){S.invoke(this.lines,"remove"),S.map(this.points,function(e){return S.invoke(e,"remove")})},isCoordInTrash:function(e){if(this.props.apiOptions.isMobile)return!1;var t=this.graphie,n=t.scalePoint(e);return n[0]>=t.xpixels-40&&n[1]>=t.ypixels-40},createPointForPointsType:function(e,t){var n=this,r=(n.graphie,function(){n.points=S.filter(n.points,function(e){return e!==o}),n.updateCoordsFromPoints(),setTimeout(o.remove.bind(o),0)}),o=_.addMaybeMobileMovablePoint(this,T({coord:e,constraints:[_.MovablePoint.constraints.bound(),_.MovablePoint.constraints.snap(),function(e){return S.all(n.points,function(t){return o===t||!A.equal(e,t.coord())})}],onMoveStart:function(){n.isClickToAddPoints()&&n.setTrashCanVisibility(1)},onMove:n.updateCoordsFromPoints,onMoveEnd:function(e){n.isClickToAddPoints()&&(n.isCoordInTrash(e)&&r(),n.setTrashCanVisibility(.5))}},this.props.apiOptions.isMobile&&n.isClickToAddPoints()?{onRemove:r}:{}));return o},removePoint:function(e){var t=null;return this.points=S.filter(this.points,function(n,r){return n!==e||(t=r,!1)}),t},createPointForPolygonType:function(e,t){var n=this,a=(this.graphie,!S.contains(["angles","sides"],this.props.graph.snapTo)),s=function(e){return(t+e+n.points.length)%n.points.length},p=function(){var e=n.removePoint(v);n.polygon.closed()&&(n.points=y(n.points,e),n.polygon.update({closed:!1})),n.updatePolygon(),n.clearCoords(),setTimeout(v.remove.bind(v),0)},h=function(e){if(n.isClickToAddPoints()){if(n.isCoordInTrash(e))p();else if(n.points.length>1&&(v===n.points[0]&&A.equal(e,S.last(n.points).coord())||v===S.last(n.points)&&A.equal(e,n.points[0].coord()))){var t=n.points.pop();n.points.length>2?(n.polygon.update({closed:!0}),n.updateCoordsFromPoints()):(n.polygon.update({closed:!1}),n.clearCoords()),n.updatePolygon(),setTimeout(t.remove.bind(t),0)}else{var r=S.any(n.points,function(t){return t!==v&&A.equal(t.coord(),e)});r?(n.removePoint(v),n.points.length<3?(n.polygon.update({closed:!1}),n.clearCoords()):n.polygon.closed()&&n.updateCoordsFromPoints(),n.updatePolygon(),setTimeout(v.remove.bind(v),0)):v!==n.points[0]&&v!==S.last(n.points)||v.hasMoved()||v.state.isInitialMove||n.polygon.closed()||!(n.points.length>2)||(n.polygon.update({closed:!0}),n.updatePolygon(),n.updateCoordsFromPoints())}n.setTrashCanVisibility(.5)}v.state.isInitialMove=!1},f=function(e){if(null==n.points||0===n.points.length)return!0;var a=S.invoke(n.points,"coord");if(a[t]=e,!n.isClickToAddPoints()){if(o(a[s(-2)],a[s(-1)],a[t])||o(a[s(-1)],a[t],a[s(1)])||o(a[t],a[s(1)],a[s(2)]))return!1;var p=S.zip(a,y(a));if(n.points.length>3)for(var h=-1;h<=0;h++)for(var f=p[s(h)],v=S.without(p,f,p[s(h-1)],p[s(h+1)]),b=0;b<v.length;b++){var x=v[b];if(l(f,x))return!1}}if("angles"===n.props.graph.snapTo&&n.points.length>2){var E=S.map(d(a),function(e){return 180*e/Math.PI});S.each([-1,1],function(e){E[s(e)]=Math.round(E[s(e)])});var w=function(e,t,n){var r=R.findAngle(a[s(e)],a[s(n)],a[s(t)]);return(r+360)%360},T=[E[s(-1)]-w(-2,-1,1),E[s(1)]-w(-1,1,2)];if(T[2]=180-(T[0]+T[1]),S.any(T,function(e){return m(e,1)}))return!1;var C=c(u(a[s(-1)],a[s(1)])),k=1===i(r(a[s(-1)],a[s(1)],a[t])),P=Math.sin(T[1]*Math.PI/180)/Math.sin(T[2]*Math.PI/180)*C,_=R.findAngle(a[s(1)],a[s(-1)]),M=n.graphie.polar(P,_+(k?1:-1)*T[0]);return n.graphie.addPoints(a[s(-1)],M)}if("sides"===n.props.graph.snapTo&&n.points.length>1){var N=S.map([[a[s(-1)],a[t]],[a[t],a[s(1)]],[a[s(-1)],a[s(1)]]],function(e){return c(u.apply(null,e))});if(S.each([0,1],function(e){N[e]=Math.round(N[e])}),m(N[1]+N[2],N[0])||m(N[0]+N[2],N[1])||m(N[0]+N[1],N[2]))return!1;var O=g(N[0],N[2],N[1]),_=R.findAngle(a[s(1)],a[s(-1)]),k=1===i(r(a[s(-1)],a[s(1)],a[t])),M=n.graphie.polar(N[0],_+(k?1:-1)*O);return n.graphie.addPoints(a[s(-1)],M)}return!0},v=_.addMaybeMobileMovablePoint(this,T({coord:e,constraints:[_.MovablePoint.constraints.bound(),a?_.MovablePoint.constraints.snap():null,f],onMoveStart:function(){n.isClickToAddPoints()&&n.setTrashCanVisibility(1)},onMove:function(){n.polygon.closed()&&n.updateCoordsFromPoints()},onMoveEnd:h},this.props.apiOptions.isMobile&&this.isClickToAddPoints()?{onRemove:p}:{}));return v.state.isInitialMove=!0,v},updateCoordsFromPoints:function(){var e=S.extend({},this.props.graph,{coords:S.map(this.points,function(e){return S.result(e,"coord")})});this.onChange({graph:e})},clearCoords:function(){var e=S.extend({},this.props.graph,{coords:null});this.onChange({graph:e})},onChange:function(e){this.props.onChange(e),this.props.trackInteraction()},addPointControls:function(){var e=G.getPointCoords(this.props.graph,this.props);this.points=[],this.points=S.map(e,this.createPointForPointsType,this)},removePointControls:function(){S.invoke(this.points,"remove")},addSegmentControls:function(){var e=this,t=this,n=this.graphie,r=G.getSegmentCoords(this.props.graph,this.props),o=function(t){return _.addMaybeMobileMovablePoint(e,t)};this.points=[],this.lines=S.map(r,function(e,r){var i=function(){var e=S.extend({},t.props.graph,{coords:S.invoke(t.lines,"coords")});t.onChange({graph:e})},a=S.map(e,function(e,t){return o({coord:e,constraints:[_.MovablePoint.constraints.bound(),_.MovablePoint.constraints.snap(),function(e){if(a)return!A.equal(e,a[1-t].coord())}],onMove:i})});t.points=t.points.concat(a);var s=_.addMovableLine(n,{points:a,static:!1,constraints:[_.MovableLine.constraints.bound(),_.MovableLine.constraints.snap()],onMove:[_.MovableLine.onMove.updatePoints,i],normalStyle:T({stroke:this.props.apiOptions.isMobile?I.BLUE_C:I.INTERACTIVE},this._lineStroke()),highlightStyle:T({stroke:this.props.apiOptions.isMobile?I.BLUE_C:I.INTERACTING},this._lineStroke())});return S.invoke(a,"toFront"),s},this)},removeSegmentControls:function(){S.invoke(this.points,"remove"),S.invoke(this.lines,"remove")},addRayControls:function(){this.addLine("ray")},removeRayControls:function(){this.removeLine()},addPolygonControls:function(){this.polygon=null;var e=G.getPolygonCoords(this.props.graph,this.props);this.points=[],this.points=S.map(e,this.createPointForPolygonType,this),this.updatePolygon()},updatePolygon:function(){var e;e=this.polygon?this.polygon.closed():this.points.length>=3;var t=this.graphie,n=this.points.length,r=!S.contains(["angles","sides"],this.props.graph.snapTo),o=S.times(n,function(t){return this.props.graph.showAngles&&(e||0!==t&&t!==n-1)?"angles"===this.props.graph.snapTo?"$deg0":"$deg1":""},this),i=S.times(n,function(t){return e||0!==t&&t!==n-1},this),a=S.times(n,function(t){return this.props.graph.showAngles&&(e||0!==t&&t!==n-1)?1:0},this),s=S.times(n,function(t){return!this.props.graph.showSides||!e&&t===n-1?"":"sides"===this.props.graph.snapTo?"$len0":"$len1"},this);if(null==this.polygon){var l=this;l.polygon=_.addMovablePolygon(t,{constraints:[_.MovablePolygon.constraints.bound(),r?_.MovablePolygon.constraints.snap():null],closed:e,points:l.points,angleLabels:o,showRightAngleMarkers:i,numArcs:a,sideLabels:s,onMove:[_.MovablePolygon.onMove.updatePoints,function(){this.closed()&&l.updateCoordsFromPoints()}],normalStyle:T({stroke:this.props.apiOptions.isMobile?I.BLUE_C:I.INTERACTIVE},this._lineStroke())})}else this.polygon.update({closed:e,points:this.points,angleLabels:o,showRightAngleMarkers:i,numArcs:a,sideLabels:s})},removePolygonControls:function(){S.invoke(this.points,"remove"),this.polygon.remove()},addAngleControls:function(){var e=this,t=this.graphie,n=G.getAngleCoords(this.props.graph,this.props);this.points=S.map(n,function(e,n){return t.addMovablePoint(S.extend({coord:e,normalStyle:{stroke:I.INTERACTIVE,fill:I.INTERACTIVE}},1===n?{snapX:t.snap[0],snapY:t.snap[1]}:{}))}),this.angle=t.addMovableAngle({points:this.points,snapDegrees:this.props.graph.snapDegrees||1,snapOffsetDeg:this.props.graph.angleOffsetDeg||0,angleLabel:this.props.graph.showAngles?"$deg0":"",pushOut:2,allowReflex:a(this.props.graph.allowReflexAngles,!0)}),$(this.angle).on("move",function(){var t=S.extend({},e.props.graph,{coords:e.angle.getClockwiseCoords()});e.onChange({graph:t})})},removeAngleControls:function(){S.invoke(this.points,"remove"),this.angle.remove()},toggleShowAngles:function(){var e=S.extend({},this.props.graph,{
showAngles:!this.props.graph.showAngles});this.onChange({graph:e})},toggleShowSides:function(){var e=S.extend({},this.props.graph,{showSides:!this.props.graph.showSides});this.onChange({graph:e})},getUserInput:function(){return this.props.graph},simpleValidate:function(e){return G.validate(this.getUserInput(),e,this)},focus:$.noop});S.extend(G,{getQuadraticCoefficients:function(e){var t=e[0],n=e[1],r=e[2],o=(t[0]-n[0])*(t[0]-r[0])*(n[0]-r[0]);if(0!==o){var i=(r[0]*(n[1]-t[1])+n[0]*(t[1]-r[1])+t[0]*(r[1]-n[1]))/o,a=(r[0]*r[0]*(t[1]-n[1])+n[0]*n[0]*(r[1]-t[1])+t[0]*t[0]*(n[1]-r[1]))/o,s=(n[0]*r[0]*(n[0]-r[0])*t[1]+r[0]*t[0]*(r[0]-t[0])*n[1]+t[0]*n[0]*(t[0]-n[0])*r[1])/o;return[i,a,s]}},getSinusoidCoefficients:function(e){var t=e[0],n=e[1],r=n[1]-t[1],o=Math.PI/(2*(n[0]-t[0])),i=t[0]*o,a=t[1];return[r,o,i,a]},getLineCoords:function(e,t){return e.coords||G.pointsFromNormalized(t,[[.25,.75],[.75,.75]])},getPointCoords:function(e,t){var n=e.numPoints||1,r=e.coords;if(r)return r;switch(n){case 1:r=[e.coord||[0,0]];break;case 2:r=[[-5,0],[5,0]];break;case 3:r=[[-5,0],[0,0],[5,0]];break;case 4:r=[[-6,0],[-2,0],[2,0],[6,0]];break;case 5:r=[[-6,0],[-3,0],[0,0],[3,0],[6,0]];break;case 6:r=[[-5,0],[-3,0],[-1,0],[1,0],[3,0],[5,0]];break;case V:r=[]}var o=[[-10,10],[-10,10]];r=G.normalizeCoords(r,o);var r=G.pointsFromNormalized(t,r);return r},getLinearSystemCoords:function(e,t){return e.coords||S.map([[[.25,.75],[.75,.75]],[[.25,.25],[.75,.25]]],function(e){return G.pointsFromNormalized(t,e)})},getPolygonCoords:function(e,t){var n=e.coords;if(n)return n;var r=e.numSides||3;if(r===V)n=[];else{var o=2*Math.PI/r,i=(1/r-.5)*Math.PI,a="sides"===e.snapTo?Math.sqrt(3)/3*7:4;n=S.times(r,function(e){return[a*Math.cos(e*o+i),a*Math.sin(e*o+i)]})}var s=[[-10,10],[-10,10]];n=G.normalizeCoords(n,s);var l=!S.contains(["angles","sides"],e.snapTo);return n=G.pointsFromNormalized(t,n,!l)},getSegmentCoords:function(e,t){var n=e.coords;if(n)return n;var r=e.numSegments||1,o={1:[5],2:[5,-5],3:[5,0,-5],4:[6,2,-2,-6],5:[6,3,0,-3,-6],6:[5,3,1,-1,-3,-5]}[r],i=[[-10,10],[-10,10]];return S.map(o,function(e){var n=[[-5,e],[5,e]];return n=G.normalizeCoords(n,i),n=G.pointsFromNormalized(t,n)})},getAngleCoords:function(e,t){var n=e.coords;if(n)return n;for(var r=e.snapDegrees||1,o=r;o<20;)o+=r;o=o*Math.PI/180;var i=(e.angleOffsetDeg||0)*Math.PI/180;n=G.pointsFromNormalized(t,[[.85,.5],[.5,.5]]);var a=c(u.apply(null,n));return n[0]=[n[1][0]+a*Math.cos(i),n[1][1]+a*Math.sin(i)],n[2]=[n[1][0]+a*Math.cos(o+i),n[1][1]+a*Math.sin(o+i)],n},normalizeCoords:function(e,t){return S.map(e,function(e){return S.map(e,function(e,n){var r=t[n][1]-t[n][0];return(e+t[n][1])/r})})},getEquationString:function(e){var t=e.graph.type,n="get"+b(t)+"EquationString";return G[n](e)},pointsFromNormalized:function(e,t,n){return S.map(t,function(t){return S.map(t,function(t,r){var o=e.range[r];if(n)return o[0]+(o[1]-o[0])*t;var i=e.step[r],a=w(o,i),s=Math.round(t*a);return o[0]+i*s})})},getLinearEquationString:function(e){var t=G.getLineCoords(e.graph,e);if(W(t[0][0],t[1][0]))return"x = "+t[0][0].toFixed(3);var n=(t[1][1]-t[0][1])/(t[1][0]-t[0][0]),r=t[0][1]-n*t[0][0];return W(n,0)?"y = "+r.toFixed(3):"y = "+n.toFixed(3)+"x + "+r.toFixed(3)},getCurrentQuadraticCoefficients:function(e){var t=e.graph.coords||G.defaultQuadraticCoords(e);return G.getQuadraticCoefficients(t)},defaultQuadraticCoords:function(e){var t=[[.25,.75],[.5,.25],[.75,.75]];return G.pointsFromNormalized(e,t)},getQuadraticEquationString:function(e){var t=G.getCurrentQuadraticCoefficients(e);return"y = "+t[0].toFixed(3)+"x^2 + "+t[1].toFixed(3)+"x + "+t[2].toFixed(3)},getCurrentSinusoidCoefficients:function(e){var t=e.graph.coords||G.defaultSinusoidCoords(e);return G.getSinusoidCoefficients(t)},defaultSinusoidCoords:function(e){var t=[[.5,.5],[.65,.6]];return G.pointsFromNormalized(e,t)},getSinusoidEquationString:function(e){var t=G.getCurrentSinusoidCoefficients(e);return"y = "+t[0].toFixed(3)+"sin("+t[1].toFixed(3)+"x - "+t[2].toFixed(3)+") + "+t[3].toFixed(3)},getCircleEquationString:function(e){var t=e.graph,n=t.center||[0,0],r=t.radius||2;return"center ("+n[0]+", "+n[1]+"), radius "+r},getLinearSystemEquationString:function(e){var t=G.getLinearSystemCoords(e.graph,e);return"\n"+x(t[0][0],t[0][1])+"\n"+x(t[1][0],t[1][1])+"\n"+E(t[0],t[1])},getPointEquationString:function(e){var t=G.getPointCoords(e.graph,e);return t.map(function(e){return"("+e[0]+", "+e[1]+")"}).join(", ")},getSegmentEquationString:function(e){var t=G.getSegmentCoords(e.graph,e);return S.map(t,function(e){return"["+S.map(e,function(e){return"("+e.join(", ")+")"}).join(" ")+"]"}).join(" ")},getRayEquationString:function(e){var t=G.getLineCoords(e.graph,e),n=t[0],r=t[1],o=G.getLinearEquationString(e);return o+=n[0]>r[0]?" (for x <= "+n[0].toFixed(3)+")":n[0]<r[0]?" (for x >= "+n[0].toFixed(3)+")":n[1]>r[1]?" (for y <= "+n[1].toFixed(3)+")":" (for y >= "+n[1].toFixed(3)+")"},getPolygonEquationString:function(e){var t=G.getPolygonCoords(e.graph,e);return S.map(t,function(e){return"("+e.join(", ")+")"}).join(" ")},getAngleEquationString:function(e){var t=G.getAngleCoords(e.graph,e),n=R.findAngle(t[2],t[0],t[1]);return n.toFixed(0)+"° angle at ("+t[1].join(", ")+")"},validate:function(e,t,n){var r=!!(e.coords||e.center&&e.radius);if(e.type===t.correct.type&&r)if("linear"===e.type){var i=e.coords,a=t.correct.coords;if(o(a[0],a[1],i[0])&&o(a[0],a[1],i[1]))return{type:"points",earned:1,total:1,message:null}}else if("linear-system"===e.type){var i=e.coords,a=t.correct.coords;if(o(a[0][0],a[0][1],i[0][0])&&o(a[0][0],a[0][1],i[0][1])&&o(a[1][0],a[1][1],i[1][0])&&o(a[1][0],a[1][1],i[1][1])||o(a[0][0],a[0][1],i[1][0])&&o(a[0][0],a[0][1],i[1][1])&&o(a[1][0],a[1][1],i[0][0])&&o(a[1][0],a[1][1],i[0][1]))return{type:"points",earned:1,total:1,message:null}}else if("quadratic"===e.type){var s=this.getQuadraticCoefficients(e.coords),l=this.getQuadraticCoefficients(t.correct.coords);if(H(s,l))return{type:"points",earned:1,total:1,message:null}}else if("sinusoid"===e.type){var s=this.getSinusoidCoefficients(e.coords),l=this.getSinusoidCoefficients(t.correct.coords),u=v(s),c=v(l);if(H(u,c))return{type:"points",earned:1,total:1,message:null}}else if("circle"===e.type){if(H(e.center,t.correct.center)&&W(e.radius,t.correct.radius))return{type:"points",earned:1,total:1,message:null}}else if("point"===e.type){var i=e.coords,a=G.getPointCoords(t.correct,n);if(i=i.slice(),a=a.slice(),i.sort(),a.sort(),H(i,a))return{type:"points",earned:1,total:1,message:null}}else if("polygon"===e.type){var p,i=e.coords.slice(),a=t.correct.coords.slice();if("similar"===t.correct.match?p=f(i,a,Number.POSITIVE_INFINITY):"congruent"===t.correct.match?p=f(i,a,O.DEFAULT_TOLERANCE):"approx"===t.correct.match?p=f(i,a,.1):(i.sort(),a.sort(),p=H(i,a)),p)return{type:"points",earned:1,total:1,message:null}}else if("segment"===e.type){var i=e.coords.slice(),a=t.correct.coords.slice();if(i=S.invoke(i,"sort").sort(),a=S.invoke(a,"sort").sort(),H(i,a))return{type:"points",earned:1,total:1,message:null}}else if("ray"===e.type){var i=e.coords,a=t.correct.coords;if(H(i[0],a[0])&&o(a[0],a[1],i[1]))return{type:"points",earned:1,total:1,message:null}}else if("angle"===e.type){var p,i=e.coords,a=t.correct.coords;if("congruent"===t.correct.match){var h=S.map([i,a],function(e){var t=R.findAngle(e[2],e[0],e[1]);return(t+360)%360});p=W.apply(null,h)}else p=H(i[1],a[1])&&o(a[1],a[0],i[0])&&o(a[1],a[2],i[2]);if(p)return{type:"points",earned:1,total:1,message:null}}return!r||S.isEqual(e,t.graph)?{type:"invalid",message:null}:{type:"points",earned:0,total:1,message:null}}}),e.exports={name:"interactive-graph",displayName:"Interactive graph",widget:G}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(55),a=n(11),s=a.DeprecationMixin,l=n(213),u=n(96),c=n(139).widget,p=n(78),h=p.interactiveSizes,d=n(188),f=d.containerSizeClass,m=d.getInteractiveBoxFromSizeClass,g={url:null},v={showGraph:function(e){return{markings:e.showGraph?"graph":"none"}}},y=o.createClass({displayName:"InteractiveGraphEditor",className:"perseus-widget-interactive-graph",getDefaultProps:function(){return{labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],valid:!0,backgroundImage:g,markings:"graph",showProtractor:!1,showRuler:!1,showTooltips:!1,rulerLabel:"",rulerTicks:10,correct:{type:"linear",coords:null}}},mixins:[s],deprecatedProps:v,render:function(){var e,t,n=this,s=this.props.gridStep||a.getGridStep(this.props.range,this.props.step,h.defaultBoxSize),p=this.props.snapStep||a.snapStepFromGridStep(s),d=f.SMALL;if(this.props.valid===!0){var g={ref:"graph",box:this.props.box,range:this.props.range,labels:this.props.labels,step:this.props.step,gridStep:s,snapStep:p,graph:this.props.correct,backgroundImage:this.props.backgroundImage,markings:this.props.markings,showProtractor:this.props.showProtractor,showRuler:this.props.showRuler,rulerLabel:this.props.rulerLabel,rulerTicks:this.props.rulerTicks,trackInteraction:function(){},flexibleType:!0,onChange:function(e){var t=n.props.correct;t=t.type===e.graph.type?i.extend({},t,e.graph):e.graph,n.props.onChange({correct:t})}};e=o.createElement(c,r({},g,{containerSizeClass:d,apiOptions:r({},this.props.apiOptions,{isMobile:!1})})),t=c.getEquationString(g)}else e=o.createElement("div",{className:"perseus-error"},this.props.valid);return o.createElement("div",{className:"perseus-widget-interactive-graph"},o.createElement("div",null,"Correct answer"," ",o.createElement(u,null,o.createElement("p",null,"Graph the correct answer in the graph below and ensure the equation or point coordinates displayed represent the correct answer."))," ",": ",t),o.createElement(l,{box:m(d),range:this.props.range,labels:this.props.labels,step:this.props.step,gridStep:s,snapStep:p,valid:this.props.valid,backgroundImage:this.props.backgroundImage,markings:this.props.markings,showProtractor:this.props.showProtractor,showRuler:this.props.showRuler,showTooltips:this.props.showTooltips,rulerLabel:this.props.rulerLabel,rulerTicks:this.props.rulerTicks,onChange:this.props.onChange}),"polygon"===this.props.correct.type&&o.createElement("div",{className:"type-settings"},o.createElement("label",null," ","Student answer must"," ",o.createElement("select",{value:this.props.correct.match,onChange:this.changeMatchType},o.createElement("option",{value:"exact"},"match exactly"),o.createElement("option",{value:"congruent"},"be congruent"),o.createElement("option",{value:"approx"},"be approximately congruent"),o.createElement("option",{value:"similar"},"be similar"))),o.createElement(u,null,o.createElement("ul",null,o.createElement("li",null,o.createElement("p",null,o.createElement("b",null,"Match Exactly:")," Match exactly in size, orientation, and location on the grid even if it is not shown in the background.")),o.createElement("li",null,o.createElement("p",null,o.createElement("b",null,"Be Congruent:")," Be congruent in size and shape, but can be located anywhere on the grid.")),o.createElement("li",null,o.createElement("p",null,o.createElement("b",null,"Be Approximately Congruent:")," Be exactly similar, and congruent in size and shape to within 0.1 units, but can be located anywhere on the grid. ",o.createElement("em",null,"Use this with snapping to angle measure."))),o.createElement("li",null,o.createElement("p",null,o.createElement("b",null,"Be Similar:")," Be similar with matching interior angles, and side measures that are matching or a multiple of the correct side measures. The figure can be located anywhere on the grid."))))),"angle"===this.props.correct.type&&o.createElement("div",{className:"type-settings"},o.createElement("div",null,o.createElement("label",null," ","Student answer must"," ",o.createElement("select",{value:this.props.correct.match,onChange:this.changeMatchType},o.createElement("option",{value:"exact"},"match exactly"),o.createElement("option",{value:"congruent"},"be congruent"))),o.createElement(u,null,o.createElement("p",null,"Congruency requires only that the angle measures are the same. An exact match implies congruency, but also requires that the angles have the same orientation and that the vertices are in the same position.")))),e)},changeMatchType:function(e){var t=i.extend({},this.props.correct,{match:e.target.value});this.props.onChange({correct:t})},serialize:function(){var e=i.pick(this.props,"step","backgroundImage","markings","labels","showProtractor","showRuler","showTooltips","rulerLabel","rulerTicks","range","gridStep","snapStep"),t=this.refs.graph;if(t){var n=t&&t.getUserInput();i.extend(e,{graph:{type:n.type},correct:n}),i.each(["allowReflexAngles","angleOffsetDeg","numPoints","numSides","numSegments","showAngles","showSides","snapTo","snapDegrees"],function(t){i.has(n,t)&&(e.graph[t]=n[t])})}return e}});e.exports=y},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(208),s=5,l={display:"table",tableLayout:"fixed"},u={display:"table-row"},c={display:"table-cell",padding:s},p={borderRadius:10,cursor:"pointer"},h={padding:s,display:"inline-block"},d={float:"right",paddingRight:s},f=50,m={plus:function(){return[[!1,!0,!1],[!0,!0,!0],[!1,!0,!1]]},x:function(){return[[!0,!1,!0],[!1,!0,!1],[!0,!1,!0]]},"plus/x":function(e){return e%2?m.x():m.plus()}},g=r.createClass({displayName:"Tile",propTypes:{value:r.PropTypes.bool.isRequired,size:r.PropTypes.number.isRequired},render:function(){var e=this.props.value?"#55dd55":"#115511",t=o.extend({},p,{width:this.props.size,height:this.props.size,backgroundColor:e});return r.createElement("div",{style:t,onClick:this._flip})},_flip:function(){this.props.onChange(!this.props.value)}}),v=r.createClass({displayName:"TileGrid",propTypes:{cells:r.PropTypes.arrayOf(r.PropTypes.arrayOf(r.PropTypes.bool)).isRequired,size:r.PropTypes.number.isRequired},render:function(){var e=this;return r.createElement("div",{style:l,className:"no-select"},o.map(this.props.cells,function(t,n){return r.createElement("div",{key:n,style:u},o.map(t,function(t,i){return r.createElement("div",{key:i,style:c},r.createElement(g,{value:t,size:e.props.size,onChange:o.partial(e.props.onChange,n,i)}))}))}))}}),y=function(e,t){return o.map(e,function(e,n){return o.map(e,function(e,r){return t(n,r)?!e:e})})},b=function(e,t,n,r){return y(e,function(e,o){var i=e-t,a=o-n;return Math.abs(i)<=1&&Math.abs(a)<=1&&r[i+1][a+1]})},x=r.createClass({displayName:"LightsPuzzle",mixins:[i,a],propTypes:{cells:r.PropTypes.arrayOf(r.PropTypes.arrayOf(r.PropTypes.bool)),startCells:r.PropTypes.arrayOf(r.PropTypes.arrayOf(r.PropTypes.bool)),flipPattern:r.PropTypes.string.isRequired,moveCount:r.PropTypes.number.isRequired},getDefaultProps:function(){return{cells:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],startCells:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],flipPattern:"plus",moveCount:0}},render:function(){var e=this._width(),t=f,n=e*(t+2*s);return r.createElement("div",null,r.createElement(v,{cells:this.props.cells,size:t,onChange:this._flipTile}),r.createElement("div",{style:{width:n}},r.createElement("div",{style:h},"Moves: ",this.props.moveCount),r.createElement("div",{style:d},r.createElement("input",{type:"button",value:"Reset",onClick:this._reset,className:"simple-button"}))),r.createElement("div",{className:"clearfix"}))},_width:function(){return 0!==this.props.cells.length?this.props.cells[0].length:0},componentDidMount:function(){this._initNextPatterns()},componentDidUpdate:function(e){e.flipPattern!==this.props.flipPattern&&this._initNextPatterns()},_initNextPatterns:function(){this._currPattern=m[this.props.flipPattern](0),this._nextPattern=m[this.props.flipPattern](1),this._patternIndex=2},_shiftPatterns:function(){this._currPattern=this._nextPattern,this._nextPattern=m[this.props.flipPattern](this._patternIndex),this._patternIndex++},_flipTile:function(e,t){var n=b(this.props.cells,e,t,this._currPattern);this._shiftPatterns(),this.change({cells:n,moveCount:this.props.moveCount+1})},_reset:function(){this.change({cells:this.props.startCells,moveCount:0})},simpleValidate:function(e){return E(e,this.getUserInput())}}),E=function(e,t){var n=o.all(t.cells,function(t,n){return o.all(t,function(t,r){return t===e.startCells[n][r]})});if(n)return{type:"invalid",message:i18n._("Click on the tiles to change the lights.")};var r=o.all(t.cells,function(e){return o.all(e,function(e){return e})});return r?{type:"points",earned:1,total:1,message:null}:e.gradeIncompleteAsWrong?{type:"points",earned:0,total:1,message:null}:{type:"invalid",message:i18n._("You must turn on all of the lights to continue.")}},w=function(e){return{cells:e.startCells,startCells:e.startCells,flipPattern:e.flipPattern}};e.exports={name:"lights-puzzle",displayName:"Lights Puzzle",hidden:!0,widget:x,transform:w}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(109),s=n(111),l=n(46),u=n(96),c=8,p=5,h={display:"table",tableLayout:"fixed"},d={display:"table-row"},f={display:"table-cell",padding:p},m={borderRadius:10,cursor:"pointer"},g={plus:function(){return[[!1,!0,!1],[!0,!0,!0],[!1,!0,!1]]},x:function(){return[[!0,!1,!0],[!1,!0,!1],[!0,!1,!0]]},"plus/x":function(e){return e%2?g.x():g.plus()}},v=function(e,t,n){return e=Math.floor(e),e=Math.max(e,t),e=Math.min(e,n)},y=function(e,t){return o.map(e,function(e,n){return o.map(e,function(e,r){return t(n,r)?!e:e})})},b=r.createClass({displayName:"Tile",propTypes:{value:r.PropTypes.bool.isRequired,size:r.PropTypes.number.isRequired},render:function(){var e=this.props.value?"#55dd55":"#115511",t=o.extend({},m,{width:this.props.size,height:this.props.size,backgroundColor:e});return r.createElement("div",{style:t,onClick:this._flip})},_flip:function(){this.props.onChange(!this.props.value)}}),x=r.createClass({displayName:"TileGrid",propTypes:{cells:r.PropTypes.arrayOf(r.PropTypes.arrayOf(r.PropTypes.bool)).isRequired,size:r.PropTypes.number.isRequired},render:function(){var e=this;return r.createElement("div",{style:h,className:"no-select"},o.map(this.props.cells,function(t,n){return r.createElement("div",{key:n,style:d},o.map(t,function(t,i){return r.createElement("div",{key:i,style:f},r.createElement(b,{value:t,size:e.props.size,onChange:o.partial(e.props.onChange,n,i)}))}))}))}}),E=r.createClass({displayName:"LightsPuzzleEditor",mixins:[i,a],propTypes:{startCells:r.PropTypes.arrayOf(r.PropTypes.arrayOf(r.PropTypes.bool)),flipPattern:r.PropTypes.string.isRequired,gradeIncompleteAsWrong:r.PropTypes.bool.isRequired},getDefaultProps:function(){return{startCells:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],flipPattern:"plus",gradeIncompleteAsWrong:!1}},_height:function(){return this.props.startCells.length},_width:function(){return 0!==this.props.startCells.length?this.props.startCells[0].length:0},render:function(){return r.createElement("div",null,r.createElement("div",null,"Width:",r.createElement(s,{value:this._width(),placeholder:5,onChange:this._changeWidth}),", ","Height:",r.createElement(s,{value:this._height(),placeholder:5,onChange:this._changeHeight})),r.createElement("div",null,"Flip pattern:",r.createElement("select",{value:this.props.flipPattern,onChange:this._handlePatternChange},o.map(o.keys(g),function(e,t){return r.createElement("option",{value:e,key:t},e)}))),r.createElement("div",null,"Grade incomplete puzzles as wrong:"," ",r.createElement(l,{gradeIncompleteAsWrong:this.props.gradeIncompleteAsWrong,onChange:this.props.onChange}),r.createElement(u,null,"By default, incomplete puzzles are graded as empty.")),r.createElement("div",null,"Starting configuration:"),r.createElement("div",{style:{overflowX:"auto"}},r.createElement(x,{cells:this.props.startCells,size:50,onChange:this._switchTile})))},_handlePatternChange:function(e){this.change("flipPattern",e.target.value)},_changeWidth:function(e){e=v(e,1,c),this._truncateCells(e,this._height())},_changeHeight:function(e){e=v(e,1,c),this._truncateCells(this._width(),e)},_truncateCells:function(e,t){var n=this,r=o.times(t,function(t){return o.times(e,function(e){return!(!n.props.startCells[t]||!n.props.startCells[t][e])})});this.change({startCells:r})},_switchTile:function(e,t){var n=y(this.props.startCells,function(n,r){return n===e&&r===t});this.change({startCells:n})}});e.exports=E},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(99),i=n(54),a=n(58),s=n(55),l=n(111),u=n(32),c=n(112),p=n(203),h=n(105),d=n(10).Options,f=n(37),m=n(100).propTypes.keypadElementPropType,g=n(191).assert,v=n(11).stringArrayOfSize,y={INPUT_MARGIN:4,INPUT_HEIGHT:38,INPUT_WIDTH:82},b={INPUT_MARGIN:3,INPUT_HEIGHT:30,INPUT_WIDTH:40},x={INPUT_MARGIN:4,INPUT_HEIGHT:36,INPUT_WIDTH:64},E=function(e,t){return[""+e,""+t]},w=function(){return E(0,0)},T=function(e){return g(s.isArray(e)&&2===e.length),+e[0]},C=function(e){return g(s.isArray(e)&&2===e.length),+e[1]},S=function(e){var t=T(e),n=C(e);return"answer"+t+","+n},k=function(e){var t=[1,1];return s(e).each(function(e,n){var r=0;s(e).each(function(e,t){null!=e&&e.toString().length&&(r=t+1)}),t[1]=Math.max(t[1],r),r>0&&(t[0]=Math.max(t[0],n+1))}),t},P=i.createClass({displayName:"Matrix",propTypes:{answers:i.PropTypes.arrayOf(i.PropTypes.arrayOf(i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number]))),apiOptions:d.propTypes,cursorPosition:i.PropTypes.arrayOf(i.PropTypes.number),keypadElement:m,matrixBoardSize:i.PropTypes.arrayOf(i.PropTypes.number).isRequired,prefix:i.PropTypes.string,suffix:i.PropTypes.string,trackInteraction:i.PropTypes.func.isRequired},getDefaultProps:function(){return{matrixBoardSize:[3,3],answers:[[]],prefix:"",suffix:"",cursorPosition:[0,0],apiOptions:d.defaults}},getInitialState:function(){return{enterTheMatrix:0}},componentDidMount:function(){this.cursorPosition=[0,0]},render:function(){var e=this,t=void 0;t=this.props.apiOptions.customKeypad?x:this.props.apiOptions.staticRender?y:b;var n=t,a=n.INPUT_MARGIN,d=n.INPUT_HEIGHT,f=n.INPUT_WIDTH,m=k(this.props.answers),g=this.props.matrixBoardSize[0],v=this.props.matrixBoardSize[1],w=this.props.cursorPosition[0],T=this.props.cursorPosition[1],C=Math.max(w,m[0]-1),P=Math.max(T,m[1]-1),_=(C+1)*(d+2*a),M=(P+1)*(f+2*a),N=o({"perseus-matrix":!0,"static-mode":this.props.static,"the-matrix":this.state.enterTheMatrix>=5});return i.createElement("div",{className:N},this.props.prefix&&i.createElement("div",{className:"matrix-prefix"},i.createElement(u,{content:this.props.prefix})),i.createElement("div",{className:"matrix-input"},i.createElement("div",{className:"matrix-bracket bracket-left",style:{height:_}}),i.createElement("div",{className:"matrix-bracket bracket-right",style:{height:_,left:M}}),s(g).times(function(t){var n=e.props.answers[t];return i.createElement("div",{className:"matrix-row",key:t},s(v).times(function(o){var s=t>C||o>P,u={className:s?"outside":"inside",ref:S(E(t,o)),value:n?n[o]:null,style:{height:d,width:f,margin:a},disabled:e.props.apiOptions.readOnly,onFocus:function(){e.cursorPosition=[t,o],e.props.onChange({cursorPosition:[t,o]},function(){return!1}),e._handleFocus(t,o)},onBlur:function(){t===e.cursorPosition[0]&&o===e.cursorPosition[1]&&e.props.onChange({cursorPosition:[0,0]},function(){return!1}),e._handleBlur(t,o)},onKeyDown:function(n){e.handleKeyDown(t,o,n)},onChange:function(n,r){e.onValueChange(t,o,n,r)}},m=void 0;if(e.props.apiOptions.customKeypad){var g={margin:a,minWidth:f,minHeight:d,boxSizing:"border-box",backgroundColor:s?"#f3f3f3":"#fff"};m=i.createElement(h,r({},u,{style:g,scrollable:!0,keypadElement:e.props.keypadElement}))}else m=e.props.apiOptions.staticRender?i.createElement(p,u):e.props.numericInput?i.createElement(l,u):i.createElement(c,u);return i.createElement("span",{key:o,className:"matrix-input-field"},m)}))})),this.props.suffix&&i.createElement("div",{className:"matrix-suffix"},i.createElement(u,{content:this.props.suffix})))},getInputPaths:function(){var e=[],t=this.props.matrixBoardSize[0],n=this.props.matrixBoardSize[1];return s(t).times(function(t){s(n).times(function(n){var r=E(t,n);e.push(r)})}),e},getGrammarTypeForPath:function(e){return"number"},_handleFocus:function(e,t){this.props.onFocus(E(e,t))},_handleBlur:function(e,t){this.props.onBlur(E(e,t))},focus:function(){return this.focusInputPath(w()),!0},focusInputPath:function(e){var t=S(e);this.refs[t].focus()},blurInputPath:function(e){0===e.length&&(e=w());var t=S(e);this.refs[t].blur()},getDOMNodeForPath:function(e){var t=S(e);return a.findDOMNode(this.refs[t])},setInputValue:function(e,t,n){var r=T(e),o=C(e);this.onValueChange(r,o,t,n)},handleKeyDown:function(e,t,n){var r=this.props.matrixBoardSize[0],o=this.props.matrixBoardSize[1],i=null,a=this.refs[S(E(e,t))],s=a.getStringValue(),l=a.getSelectionStart(),u=a.getSelectionEnd(),c=null;if("ArrowUp"===n.key&&e>0?c=E(e-1,t):"ArrowDown"===n.key&&e+1<r?c=E(e+1,t):"ArrowLeft"===n.key&&t>0?0===l&&0===u&&(c=E(e,t-1)):"ArrowRight"===n.key&&t+1<o?l===s.length&&(c=E(e,t+1)):"Enter"===n.key?i=this.state.enterTheMatrix+1:"Escape"===n.key&&(i=0),c){n.preventDefault();var p=this.refs[S(c)],h=p.getStringValue(),d=2*h.length;p.focus(),"ArrowRight"===n.key?p.setSelectionRange(0,0):p.setSelectionRange(d,d)}null!=i&&this.setState({enterTheMatrix:i})},onValueChange:function(e,t,n,r){var o=s.map(this.props.answers,s.clone);o[e]||(o[e]=[]),o[e][t]=n,this.props.onChange({answers:o},r),this.props.trackInteraction()},getUserInput:function(){return{answers:this.props.answers}},simpleValidate:function(e){return P.validate(this.getUserInput(),e)}});s.extend(P,{validate:function(e,t){var n=t.answers,r=e.answers,o=k(n),i=k(r),a=o[0]!==i[0]||o[1]!==i[1],l=f.number.createValidatorFunctional,u=null,c=!1,p=!1;return s(i[0]).times(function(e){s(i[1]).times(function(t){null!=r[e][t]&&0!==r[e][t].toString().length||(c=!0);var o=l(n[e][t],{simplify:!0}),i=o(r[e][t]);i.message&&(u=i.message),i.correct||(p=!0)})}),c?{type:"invalid",message:i18n._("Make sure you fill in all cells in the matrix.")}:a?{type:"points",earned:0,total:1,message:null}:{type:"points",earned:p?0:1,total:1,message:u}}});var _=function(e){var t=s(e.matrixBoardSize[0]).times(function(){return v(e.matrixBoardSize[1])});return e=s.pick(e,"matrixBoardSize","prefix","suffix"),s.extend(e,{answers:t})},M=function(e){var t=s.pick(e,"matrixBoardSize","prefix","suffix");return t.answers=s.map(e.answers,function(e){return s.map(e,function(e){return null!=e?String(e):""})}),t};e.exports={name:"matrix",displayName:"Matrix",widget:P,transform:_,staticTransform:M}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(109),s=n(18),l=n(215),u=n(143).widget,c=6,p=function(e){var t=[1,1];return o(e).each(function(e,n){var r=0;o(e).each(function(e,t){null!=e&&e.toString().length&&(r=t+1)}),t[1]=Math.max(t[1],r),r>0&&(t[0]=Math.max(t[0],n+1))}),t},h=r.createClass({displayName:"MatrixEditor",mixins:[a,i],propTypes:{matrixBoardSize:r.PropTypes.arrayOf(r.PropTypes.number).isRequired,answers:r.PropTypes.arrayOf(r.PropTypes.arrayOf(r.PropTypes.number)),prefix:r.PropTypes.string,suffix:r.PropTypes.string,cursorPosition:r.PropTypes.arrayOf(r.PropTypes.number)},getDefaultProps:function(){return{matrixBoardSize:[3,3],answers:[[]],prefix:"",suffix:"",cursorPosition:[0,0]}},render:function(){var e=this,t=o.extend({numericInput:!0,onBlur:function(){},onFocus:function(){},trackInteraction:function(){}},this.props);return r.createElement("div",{className:"perseus-matrix-editor"},r.createElement("div",{className:"perseus-widget-row"}," ","Max matrix size:"," ",r.createElement(l,{value:this.props.matrixBoardSize,onChange:this.onMatrixBoardSizeChange,format:this.props.labelStyle,useArrowKeys:!0})),r.createElement("div",{className:"perseus-widget-row"},r.createElement(u,t)),r.createElement("div",{className:"perseus-widget-row"}," ","Matrix prefix:"," ",r.createElement(s,{ref:"prefix",apiOptions:this.props.apiOptions,content:this.props.prefix,widgetEnabled:!1,onChange:function(t){e.change({prefix:t.content})}})),r.createElement("div",{className:"perseus-widget-row"}," ","Matrix suffix:"," ",r.createElement(s,{ref:"suffix",apiOptions:this.props.apiOptions,content:this.props.suffix,widgetEnabled:!1,onChange:function(t){e.change({suffix:t.content})}})))},onMatrixBoardSizeChange:function(e){var t=this,n=p(this.props.answers);if(null!==e[0]&&null!==e[1]){e=[Math.round(Math.min(Math.max(e[0],1),c)),Math.round(Math.min(Math.max(e[1],1),c))];var r=o(Math.min(e[0],n[0])).times(function(r){return o(Math.min(e[1],n[1])).times(function(e){return t.props.answers[r][e]})});this.props.onChange({matrixBoardSize:e,answers:r})}}});e.exports=h},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(32),a=n(222),s=n(10).Options,l=n(11).shuffle,u=n(11).seededRNG,c=r.createClass({displayName:"Matcher",propTypes:{apiOptions:s.propTypes,labels:r.PropTypes.array,left:r.PropTypes.array,onChange:r.PropTypes.func,orderMatters:r.PropTypes.bool,padding:r.PropTypes.bool,problemNum:r.PropTypes.number,right:r.PropTypes.array,trackInteraction:r.PropTypes.func.isRequired},getDefaultProps:function(){return{left:[],right:[],labels:["",""],orderMatters:!1,padding:!0,problemNum:0,onChange:function(){}}},getInitialState:function(){return{leftHeight:0,rightHeight:0}},render:function(){var e,t=u(this.props.problemNum);e=this.props.orderMatters?l(this.props.left,t,!0):this.props.left;var n=l(this.props.right,t,!0),s=o.any(this.props.labels),c={height:o.max([this.state.leftHeight,this.state.rightHeight])},p=this.props.apiOptions.isMobile?8:5;return r.createElement("div",{className:"perseus-widget-matcher"},s&&r.createElement("div",{className:"perseus-clearfix"},r.createElement("div",{className:"column"},r.createElement("div",{className:"column-label"},r.createElement(i,{content:this.props.labels[0]||"..."}))),r.createElement("div",{className:"column"},r.createElement("div",{className:"column-label"},r.createElement(i,{content:this.props.labels[1]||"..."})))),r.createElement("div",{className:"perseus-clearfix"},r.createElement("div",{className:"column"},r.createElement(a,{options:e,layout:"vertical",padding:this.props.padding,disabled:!this.props.orderMatters,constraints:c,onMeasure:this.onMeasureLeft,onChange:this.changeAndTrack,margin:p,ref:"left"})),r.createElement("div",{className:"column"},r.createElement(a,{options:n,layout:"vertical",padding:this.props.padding,constraints:c,onMeasure:this.onMeasureRight,onChange:this.changeAndTrack,margin:p,ref:"right"}))))},changeAndTrack:function(e){this.props.onChange(e),this.props.trackInteraction()},onMeasureLeft:function(e){var t=o.max(e.heights);this.setState({leftHeight:t})},onMeasureRight:function(e){var t=o.max(e.heights);this.setState({rightHeight:t})},getUserInput:function(){return{left:this.refs.left.getOptions(),right:this.refs.right.getOptions()}},simpleValidate:function(e){return c.validate(this.getUserInput(),e)}});o.extend(c,{validate:function(e,t){var n=o.isEqual(e.left,t.left)&&o.isEqual(e.right,t.right);return{type:"points",earned:n?1:0,total:1,message:null}}}),e.exports={name:"matcher",displayName:"Two column matcher",widget:c}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(96),a=n(46),s=n(89),l=r.createClass({displayName:"MatcherEditor",propTypes:{left:r.PropTypes.array,right:r.PropTypes.array,labels:r.PropTypes.array,orderMatters:r.PropTypes.bool,padding:r.PropTypes.bool},getDefaultProps:function(){return{left:["$x$","$y$","$z$"],right:["$1$","$2$","$3$"],labels:["test","label"],orderMatters:!1,padding:!0}},render:function(){var e=this;return r.createElement("div",{className:"perseus-matcher-editor"},r.createElement("div",null," ","Correct answer:"," ",r.createElement(i,null,r.createElement("p",null,"Enter the correct answers here. The preview on the right will show the cards in a randomized order, which is how the student will see them."))),r.createElement("div",{className:"perseus-clearfix"},r.createElement(s,{options:this.props.left,onChange:function(t,n){
e.props.onChange({left:t},n)},layout:"vertical"}),r.createElement(s,{options:this.props.right,onChange:function(t,n){e.props.onChange({right:t},n)},layout:"vertical"})),r.createElement("span",null," ","Labels:"," ",r.createElement(i,null,r.createElement("p",null,"These are entirely optional."))),r.createElement("div",null,r.createElement("input",{type:"text",defaultValue:this.props.labels[0],onChange:this.onLabelChange.bind(this,0)}),r.createElement("input",{type:"text",defaultValue:this.props.labels[1],onChange:this.onLabelChange.bind(this,1)})),r.createElement("div",null,r.createElement(a,{label:"Order of the matched pairs matters:",orderMatters:this.props.orderMatters,onChange:this.props.onChange}),r.createElement(i,null,r.createElement("p",null,"With this option enabled, only the order provided above will be treated as correct. This is useful when ordering is significant, such as in the context of a proof."),r.createElement("p",null,"If disabled, pairwise matching is sufficient. To make this clear, the left column becomes fixed in the provided order and only the cards in the right column can be moved."))),r.createElement("div",null,r.createElement(a,{label:"Padding:",padding:this.props.padding,onChange:this.props.onChange}),r.createElement(i,null,r.createElement("p",null,"Padding is good for text, but not needed for images."))))},onLabelChange:function(e,t){var n=o.clone(this.props.labels);n[e]=t.target.value,this.props.onChange({labels:n})},getSaveWarnings:function(){return this.props.left.length!==this.props.right.length?["The two halves of the matcher have different numbers of cards."]:[]},serialize:function(){return o.pick(this.props,"left","right","labels","orderMatters","padding")}});e.exports=l},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=n(10).Options,s=n(192),l={url:null,top:0,left:0},u=r.createClass({displayName:"Measurer",propTypes:{apiOptions:a.propTypes,box:r.PropTypes.arrayOf(r.PropTypes.number),image:r.PropTypes.shape({url:r.PropTypes.string,top:r.PropTypes.number,left:r.PropTypes.number}),showProtractor:r.PropTypes.bool,protractorX:r.PropTypes.number,protractorY:r.PropTypes.number,showRuler:r.PropTypes.bool,rulerLabel:r.PropTypes.string,rulerTicks:r.PropTypes.number,rulerPixels:r.PropTypes.number,rulerLength:r.PropTypes.number},getDefaultProps:function(){return{box:[480,480],image:{},showProtractor:!0,protractorX:7.5,protractorY:.5,showRuler:!1,rulerLabel:"",rulerTicks:10,rulerPixels:40,rulerLength:10}},getInitialState:function(){return{}},render:function(){var e=i.extend({},l,this.props.image);return r.createElement("div",{className:"perseus-widget perseus-widget-measurer graphie-container above-scratchpad",style:{width:this.props.box[0],height:this.props.box[1]}},e.url&&r.createElement("img",{src:e.url,style:{top:e.top,left:e.left}}),r.createElement("div",{className:"graphie",ref:"graphieDiv"}))},componentDidMount:function(){this.setupGraphie()},componentDidUpdate:function(e){var t=i.any(["box","showProtractor","showRuler","rulerLabel","rulerTicks","rulerPixels","rulerLength"],function(t){return e[t]!==this.props[t]},this);t&&this.setupGraphie()},setupGraphie:function(){var e=o.findDOMNode(this.refs.graphieDiv);$(e).empty();var t=this.graphie=s.createGraphie(e),n=[40,40],r=[[0,this.props.box[0]/n[0]],[0,this.props.box[1]/n[1]]];t.init({range:r,scale:n}),t.addMouseLayer({allowScratchpad:!0,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable}),this.protractor&&this.protractor.remove(),this.props.showProtractor&&(this.protractor=t.protractor([this.props.protractorX,this.props.protractorY])),this.ruler&&this.ruler.remove(),this.props.showRuler&&(this.ruler=t.ruler({center:[(r[0][0]+r[0][1])/2,(r[1][0]+r[1][1])/2],label:this.props.rulerLabel,pixelsPerUnit:this.props.rulerPixels,ticksPerUnit:this.props.rulerTicks,units:this.props.rulerLength}))},getUserInput:function(){return{}},simpleValidate:function(e){return u.validate(this.getUserInput(),e)},focus:$.noop});i.extend(u,{validate:function(e,t){return{type:"points",earned:1,total:1,message:null}}});var c={1:function(e){var t=i(e).chain().omit("imageUrl","imageTop","imageLeft").extend({image:{url:e.imageUrl,top:e.imageTop,left:e.imageLeft}}).value();return t}};e.exports={name:"measurer",displayName:"Measurer",widget:u,version:{major:1,minor:0},propUpgrades:c}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(109),s=n(96),l=n(111),u=n(46),c=n(215),p={url:null,top:0,left:0},h=r.createClass({displayName:"MeasurerEditor",mixins:[i,a],className:"perseus-widget-measurer",propTypes:{box:r.PropTypes.arrayOf(r.PropTypes.number),image:r.PropTypes.shape({url:r.PropTypes.string,top:r.PropTypes.number,left:r.PropTypes.number}),showProtractor:r.PropTypes.bool,showRuler:r.PropTypes.bool,rulerLabel:r.PropTypes.string,rulerTicks:r.PropTypes.number,rulerPixels:r.PropTypes.number,rulerLength:r.PropTypes.number},getDefaultProps:function(){return{box:[480,480],image:{},showProtractor:!0,showRuler:!1,rulerLabel:"",rulerTicks:10,rulerPixels:40,rulerLength:10}},render:function(){var e=this,t=o.extend({},p,this.props.image);return r.createElement("div",{className:"perseus-widget-measurer"},r.createElement("div",null,"Image displayed under protractor and/or ruler:"),r.createElement("div",null,"URL:"," ",r.createElement("input",{type:"text",className:"perseus-widget-measurer-url",ref:"image-url",defaultValue:t.url,onChange:this._changeUrl}),r.createElement(s,null,r.createElement("p",null,'Create an image in graphie, or use the "Add image" function to create a background.'))),t.url&&r.createElement("div",{className:"perseus-widget-row"},r.createElement("label",{className:"perseus-widget-left-col"},"Pixels from top:"," ",r.createElement(l,{placeholder:0,onChange:this._changeTop,value:t.top,useArrowKeys:!0})),r.createElement("label",{className:"perseus-widget-right-col"},"Pixels from left:"," ",r.createElement(l,{placeholder:0,onChange:this._changeLeft,value:t.left,useArrowKeys:!0}))),r.createElement("div",null,"Containing area [width, height]:"," ",r.createElement(c,{onChange:this.change("box"),value:this.props.box,useArrowKeys:!0})),r.createElement("div",{className:"perseus-widget-row"},r.createElement("div",{className:"perseus-widget-left-col"},r.createElement(u,{label:"Show ruler",showRuler:this.props.showRuler,onChange:this.props.onChange})),r.createElement("div",{className:"perseus-widget-right-col"},r.createElement(u,{label:"Show protractor",showProtractor:this.props.showProtractor,onChange:this.props.onChange}))),this.props.showRuler&&r.createElement("div",null,r.createElement("div",null,r.createElement("label",null," ","Ruler label:"," ",r.createElement("select",{onChange:function(t){return e.change("rulerLabel",t.target.value)},value:this.props.rulerLabel},r.createElement("option",{value:""},"None"),r.createElement("optgroup",{label:"Metric"},this.renderLabelChoices([["milimeters","mm"],["centimeters","cm"],["meters","m"],["kilometers","km"]])),r.createElement("optgroup",{label:"Imperial"},this.renderLabelChoices([["inches","in"],["feet","ft"],["yards","yd"],["miles","mi"]]))))),r.createElement("div",null,r.createElement("label",null," ","Ruler ticks:"," ",r.createElement("select",{onChange:function(t){return e.change("rulerTicks",+t.target.value)},value:this.props.rulerTicks},o.map([1,2,4,8,10,16],function(e){return r.createElement("option",{key:e,value:e},e)})))),r.createElement("div",null,r.createElement("label",null,"Ruler pixels per unit:"," ",r.createElement(l,{placeholder:40,onChange:this.change("rulerPixels"),value:this.props.rulerPixels,useArrowKeys:!0}))),r.createElement("div",null,r.createElement("label",null,"Ruler length in units:"," ",r.createElement(l,{placeholder:10,onChange:this.change("rulerLength"),value:this.props.rulerLength,useArrowKeys:!0})))))},_changeUrl:function(e){this._changeImage("url",e.target.value)},_changeTop:function(e){this._changeImage("top",e)},_changeLeft:function(e){this._changeImage("left",e)},_changeImage:function(e,t){var n=o.clone(this.props.image);n[e]=t,this.change("image",n)},renderLabelChoices:function(e){return o.map(e,function(e){var t=e[0],n=e[1];return r.createElement("option",{key:n,value:n},t)})}});e.exports=h},function(e,t,n){"use strict";var r=n(54),o=n(223),i=n(224),a=i.layout,s=n(225),l=s.parse,u=s.ParseError,c=30,p=r.createClass({displayName:"Molecule",propTypes:{id:r.PropTypes.string.isRequired,rotationAngle:r.PropTypes.number,smiles:r.PropTypes.string},getInitialState:function(){return{parsedSmiles:null,error:null}},componentWillMount:function(){this.stateFromSmiles(this.props.smiles)},componentDidMount:function(){this.canvasRender()},componentWillReceiveProps:function(e){this.stateFromSmiles(e.smiles)},componentDidUpdate:function(){this.canvasRender()},stateFromSmiles:function(e){try{this.setState({parsedSmiles:l(e),error:null})}catch(e){if(!(e instanceof u))throw e;this.setState({error:e.message})}},setCanvasBounds:function(e,t){var n=Math.max.apply(Math,t.map(function(e){return e.pos?e.pos[0]:-(1/0)})),r=Math.max.apply(Math,t.map(function(e){return e.pos?e.pos[1]:-(1/0)})),o=Math.min.apply(Math,t.map(function(e){return e.pos?e.pos[0]:1/0})),i=Math.min.apply(Math,t.map(function(e){return e.pos?e.pos[1]:1/0})),a=n-o+2*c,s=r-i+2*c;return e.width=a,e.height=s,[c-o,c-i]},canvasRender:function(){if(!this.state.error&&this.state.parsedSmiles){var e=a(this.state.parsedSmiles,this.props.rotationAngle),t=this.refs.canvas,n=this.setCanvasBounds(t,e),r=t.getContext("2d");r.clearRect(0,0,t.width,t.height),r.save(),r.translate(n[0],n[1]),o(r,e),r.restore()}},render:function(){var e=r.createElement("canvas",{className:"molecule-canvas",id:this.props.id+"-molecule",ref:"canvas"},"A molecular structure drawing.  SMILES notation:",this.props.smiles,".");return this.state.error&&(e=r.createElement("div",{className:"error"},this.state.error)),r.createElement("div",{className:"molecule-canvas"},e)}}),h=r.createClass({displayName:"MoleculeWidget",propTypes:{rotationAngle:r.PropTypes.number,smiles:r.PropTypes.string,widgetId:r.PropTypes.string},getDefaultProps:function(){return{rotationAngle:0}},simpleValidate:function(){return{type:"points",earned:0,total:0,message:null}},getUserInput:function(){return[]},validate:function(e,t){return{type:"points",earned:0,total:0,message:null}},render:function(){return r.createElement(p,{id:this.props.widgetId,smiles:this.props.smiles,rotationAngle:this.props.rotationAngle})}});e.exports={name:"molecule-renderer",displayName:"Molecule renderer",hidden:!1,widget:h,molecule:p}},function(e,t,n){"use strict";var r=n(54),o=n(109),i=n(103),a=n(111),s=n(112),l=r.createClass({displayName:"MoleculeWidgetEditor",propTypes:{rotationAngle:r.PropTypes.number,smiles:r.PropTypes.string},mixins:[i,o],updateMolecule:function(e){this.change({smiles:e})},updateRotation:function(e){this.change({rotationAngle:e})},render:function(){return r.createElement("div",null,r.createElement("div",null,r.createElement("label",null,"SMILES: ",r.createElement(s,{onChange:this.updateMolecule,value:this.props.smiles}))),r.createElement("div",null,r.createElement("label",null,"Rotation (deg): ",r.createElement(a,{onChange:this.updateRotation,value:this.props.rotationAngle}))))}});e.exports=l},function(e,t,n){"use strict";function r(e,t){return 1===t?""+e:e+"/"+t}function o(e,t){if(e<0)return"-"+o(-e,t);var n=Math.floor(e/t);return 0===n?r(e,t):e-n*t===0?""+n:n+"\\:"+r(e-n*t,t)}function i(e,t,n){var o=Math.floor(n/t);return r(e*o,n)}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(54),l=n(58),u=n(55),c=n(103),p=n(111),h=n(203),d=n(105),f=n(10).Options,m=n(100).propTypes.keypadElementPropType,g=n(92),v=g.MovablePoint,y=g.Line,b=n(201).number,x=n(90),E=n(211),w=function(e,t,n){return Math.min(Math.max(e,t),n)},T=n(191).assert,C="–",S=30,k={ge:"le",gt:"lt",le:"ge",lt:"gt"},P={ge:"gt",gt:"ge",le:"lt",lt:"le"},_=function(e,t,n,a,s){if(a=a||n,"decimal"===t||"decimal ticks"===t)return e.label([n,-.53],Math.round(100*a)/100,"center");if("improper"===t){var l=x.toFraction(a);return e.label([n,-.53],r(l[0],l[1]),"center")}if("mixed"===t){var u=x.toFraction(a);return e.label([n,-.53],o(u[0],u[1]),"center")}if("non-reduced"===t){var c=x.toFraction(a);return e.label([n,-.53],i(c[0],c[1],s),"center")}},M=g.createSimpleClass(function(e,t){if(!u.isFinite(t.tickStep)||t.tickStep<=0)return[];var n,r=[],o=t.range,i=t.labelRange,a=null==i[0]?o[0]:i[0],s=null==i[1]?o[1]:i[1];if("non-reduced"===t.labelStyle){for(var l=[a,s],c=0;c<=t.numDivisions;c++){var p=o[0]+c*t.tickStep;l.push(p)}var h=function(e){return b.toFraction(e)[1]},d=u.map(l,h);n=u.reduce(d,function(e,t){return x.getLCM(e,t)})}else n=void 0;for(var f=0;f<=t.numDivisions;f++){var m=o[0]+f*t.tickStep;r.push(e.line([m,-.2],[m,.2]));var g=t.labelTicks;(g||"decimal ticks"===t.labelStyle)&&r.push(_(e,t.labelStyle,m,m,n))}return r.push(e.style(t.isMobile?{color:E.BLUE_D}:{},function(){return _(e,t.labelStyle,a,a,n)})),r.push(e.style(t.isMobile?{color:E.BLUE_D}:{},function(){return _(e,t.labelStyle,s,s,n)})),e.style({stroke:t.isMobile?E.BLUE_D:E.DYNAMIC,strokeWidth:3.5},function(){r.push(e.line([a,-.2],[a,.2])),r.push(e.line([s,-.2],[s,.2]))}),r}),N=s.createClass({displayName:"NumberLine",propTypes:{range:s.PropTypes.arrayOf(s.PropTypes.number).isRequired,labelRange:s.PropTypes.arrayOf(s.PropTypes.number).isRequired,labelStyle:s.PropTypes.string.isRequired,labelTicks:s.PropTypes.bool.isRequired,divisionRange:s.PropTypes.arrayOf(s.PropTypes.number).isRequired,numDivisions:s.PropTypes.number.isRequired,snapDivisions:s.PropTypes.number.isRequired,isTickCtrl:s.PropTypes.bool.isRequired,isInequality:s.PropTypes.bool.isRequired,numLinePosition:s.PropTypes.number.isRequired,rel:s.PropTypes.oneOf(["lt","gt","le","ge"]),onFocus:s.PropTypes.func.isRequired,onBlur:s.PropTypes.func.isRequired,onChange:s.PropTypes.func.isRequired,apiOptions:f.propTypes,keypadElement:m,static:s.PropTypes.bool,showTooltips:s.PropTypes.bool,trackInteraction:s.PropTypes.func.isRequired},mixins:[c],getDefaultProps:function(){return{range:[0,10],labelStyle:"decimal",labelRange:[null,null],divisionRange:[1,12],labelTicks:!0,isTickCtrl:!1,isInequality:!1,numLinePosition:0,snapDivisions:2,showTooltips:!1,rel:"ge",apiOptions:f.defaults}},getInitialState:function(){return{numDivisionsEmpty:!1}},isValid:function(){var e=this.props.range,t=this.props.numLinePosition,n=this.props.divisionRange;return t=null==t?e[0]:t,e[0]<e[1]&&b.sign(t-e[0])>=0&&b.sign(t-e[1])<=0&&n[0]<n[1]&&0<this.props.numDivisions&&0<this.props.snapDivisions},onNumDivisionsChange:function(e,t){var n=this,r=this.props.divisionRange.slice(),o=this.props.range[1]-this.props.range[0];if(e=Math.round(e),e=e<0?e*-1:e){var i=u.extend({},this.props,{tickStep:o/e}),a=this.snapNumLinePosition(i,this.props.numLinePosition);this.setState({numDivisionsEmpty:!1},function(){n.props.onChange({divisionRange:r,numDivisions:e,numLinePosition:a},t)})}else this.setState({numDivisionsEmpty:!0},t)},_handleTickCtrlFocus:function(){this.props.onFocus(["tick-ctrl"])},_handleTickCtrlBlur:function(){this.props.onBlur(["tick-ctrl"])},focus:function(){if(this.props.isTickCtrl)return this.refs["tick-ctrl"].focus(),!0},focusInputPath:function(e){1===e.length&&this.refs[e[0]].focus()},blurInputPath:function(e){1===e.length&&this.refs[e[0]].blur()},getInputPaths:function(){return this.props.isTickCtrl?[["tick-ctrl"]]:[]},getDOMNodeForPath:function(e){if(1===e.length)return l.findDOMNode(this.refs[e[0]])},getGrammarTypeForPath:function(e){if(1===e.length&&"tick-ctrl"===e[0])return"number"},setInputValue:function(e,t,n){1===e.length&&"tick-ctrl"===e[0]&&this.onNumDivisionsChange(t,n)},_renderGraphie:function(){var e=this,t=this.props.range,n=t[1]-t[0],r=u.pick(this.props,["range","isTickCtrl"]),o=u.extend({},this.props,{tickStep:n/this.props.numDivisions});return s.createElement(g,{ref:"graphie",box:[460,80],options:r,onMouseDown:function(t){e.refs.graphie.movables.numberLinePoint.grab(t)},setup:this._setupGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable,isMobile:this.props.apiOptions.isMobile},s.createElement(M,a({},u.pick(o,["range","numDivisions","labelTicks","labelStyle","labelRange","tickStep"]),{isMobile:this.props.apiOptions.isMobile})),this._renderInequality(o),this._renderNumberLinePoint(o))},snapNumLinePosition:function(e,t){var n=e.range[0],r=e.range[1],o=e.tickStep/e.snapDivisions,i=w(t,n,r);return i=n+b.roundTo(i-n,o),T(u.isFinite(i)),i},_renderNumberLinePoint:function(e){var t,n=this,r=u(["lt","gt"]).contains(e.rel);t=r?E._BACKGROUND:e.static?E.DYNAMIC:E.INTERACTIVE;var o={fill:t,stroke:e.static?E.DYNAMIC:E.INTERACTIVE,"stroke-width":r?3:1},i={fill:r?E._BACKGROUND:E.INTERACTING,"stroke-width":r?3:1},a=e.isInequality?{stroke:E.INTERACTIVE,"fill-opacity":r?0:1}:{};return s.createElement(v,{ref:"numberLinePoint",pointSize:6,coord:[e.numLinePosition,0],constraints:[function(e,t){return[e[0],t[1]]},function(t,r){var o=n.snapNumLinePosition(e,t[0]);return[o,t[1]]}],normalStyle:o,highlightStyle:i,onMove:function(e){n.change({numLinePosition:e[0]}),n.props.trackInteraction()},isMobile:this.props.apiOptions.isMobile,mobileStyleOverride:a,showTooltips:this.props.showTooltips,xOnlyTooltip:!0})},handleReverse:function(){var e=k[this.props.rel];this.props.onChange({rel:e})},handleToggleStrict:function(){var e=P[this.props.rel];this.props.onChange({rel:e})},_getInequalityEndpoint:function(e){var t=u(["ge","gt"]).contains(e.rel),n=400,r=e.range,o=(r[1]-r[0])/n,i=S*o,a=r[0]-i,s=r[1]+i,l=t?[s,0]:[a,0];return l},_renderInequality:function(e){if(e.isInequality){var t=this._getInequalityEndpoint(e),n={arrows:"->",stroke:this.props.apiOptions.isMobile?E.INTERACTIVE:E.DYNAMIC,strokeWidth:3.5},r=["ge","gt"].includes(e.rel);return s.createElement(y,{start:[(r?.4:-.4)+e.numLinePosition,0],end:t,style:n})}return null},_setupGraphie:function(e,t){if(this.isValid()){var n=this.props.apiOptions.isMobile?288-2*S:400,r=t.range,o=(r[1]-r[0])/n,i=S*o,a=r[0]-i,s=r[1]+i,l=-1,u=1;e.init({range:[[a,s],[l,u]],scale:[1/o,40],isMobile:this.props.apiOptions.isMobile});var c=(r[0]+r[1])/2;e.line([c,0],[s,0],{arrows:"->"}),e.line([c,0],[a,0],{arrows:"->"})}},getUserInput:function(){return{numLinePosition:this.props.numLinePosition,rel:this.props.isInequality?this.props.rel:"eq",numDivisions:this.props.numDivisions,divisionRange:this.props.divisionRange}},simpleValidate:function(e){return N.validate(this.getUserInput(),e)},render:function(){var e,t=this.props.divisionRange,n=t[0]+C+t[1],r=this.props.numDivisions<t[0]||this.props.numDivisions>t[1],o=s.createElement("div",null,s.createElement("input",{type:"button",className:"simple-button",value:i18n._("Switch direction"),onClick:this.handleReverse}),s.createElement("input",{type:"button",className:"simple-button",value:u(["le","ge"]).contains(this.props.rel)?i18n._("Make circle open"):i18n._("Make circle filled"),onClick:this.handleToggleStrict}));if(this.props.isTickCtrl){var i;i=this.props.apiOptions.customKeypad?d:this.props.apiOptions.staticRender?h:p,e=s.createElement("label",null,i18n._("Number of divisions:")," ",s.createElement(i,{ref:"tick-ctrl",value:this.state.numDivisionsEmpty?null:this.props.numDivisions||t[0],checkValidity:function(e){return e>=t[0]&&e<=t[1]},onChange:this.onNumDivisionsChange,onFocus:this._handleTickCtrlFocus,onBlur:this._handleTickCtrlBlur,useArrowKeys:!0,keypadElement:this.props.keypadElement}))}return s.createElement("div",{className:"perseus-widget perseus-widget-interactive-number-line"},e,this.isValid()?this.props.isTickCtrl&&r?s.createElement("div",{className:"perseus-error"},$_({divRangeString:n},"Please make sure the number of divisions is in the range %(divRangeString)s.")):this._renderGraphie():s.createElement("div",{className:"perseus-error"},"Invalid number line configuration."),!this.props.static&&this.props.isInequality&&o)}});u.extend(N,{validate:function(e,t){var n=t.range,r=e.divisionRange,o=null!=t.initialX?t.initialX:n[0],i=t.isInequality?"ge":"eq",a=t.correctRel||"eq",s=b.equal(e.numLinePosition,t.correctX||0),l=e.numDivisions>r[1]||e.numDivisions<r[0];return e.isTickCrtl&&l?{type:"invalid",message:"Number of divisions is outside the allowed range."}:s&&a===e.rel?{type:"points",earned:1,total:1,message:null}:e.numLinePosition===o&&e.rel===i?{type:"invalid",message:null}:{type:"points",earned:0,total:1,message:null}}});var O=function(e){var t,n=u.pick(e,["range","labelRange","labelStyle","labelTicks","divisionRange","snapDivisions","isTickCtrl","isInequality","showTooltips"]),r=null!=e.initialX?e.initialX:e.range[0],o=e.range[1]-e.range[0];return t=null!=e.numDivisions?e.numDivisions:null!=e.tickStep?o/e.tickStep:void 0,u.extend(n,{numLinePosition:r,numDivisions:t,snapDivisions:n.snapDivisions||void 0}),n},A=function(e){var t,n=u.pick(e,["range","labelRange","labelStyle","labelTicks","divisionRange","snapDivisions","isInequality"]),r=null!=e.correctX?e.correctX:e.range[0],o=e.range[1]-e.range[0];return t=null!=e.numDivisions?e.numDivisions:null!=e.tickStep?o/e.tickStep:void 0,u.extend(n,{numLinePosition:r,numDivisions:t,rel:e.isInequality?e.correctRel:null,snapDivisions:n.snapDivisions||void 0}),n};e.exports={name:"number-line",displayName:"Number line",widget:N,transform:O,staticTransform:A}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(109),a=n(56),s=n(96),l=n(111),u=n(46),c=n(215),p=n(201).number,h=function(e,t,n){return Math.min(Math.max(e,t),n)},d="–",f=r.createClass({displayName:"NumberLineEditor",propTypes:{range:r.PropTypes.arrayOf(r.PropTypes.number).isRequired,labelRange:r.PropTypes.arrayOf(r.PropTypes.number).isRequired,labelStyle:r.PropTypes.string.isRequired,labelTicks:r.PropTypes.bool,divisionRange:r.PropTypes.arrayOf(r.PropTypes.number).isRequired,numDivisions:r.PropTypes.number.isRequired,snapDivisions:r.PropTypes.number,tickStep:r.PropTypes.number,correctRel:r.PropTypes.oneOf(["lt","gt","le","ge","eq"]),correctX:r.PropTypes.number,initialX:r.PropTypes.number,isTickCtrl:r.PropTypes.bool,onChange:r.PropTypes.func.isRequired,static:r.PropTypes.bool,showTooltips:r.PropTypes.bool},mixins:[i],getDefaultProps:function(){return{range:[0,10],labelRange:[null,null],labelStyle:"decimal",labelTicks:!0,divisionRange:[1,12],numDivisions:5,snapDivisions:2,tickStep:null,correctRel:"eq",correctX:null,initialX:null,showTooltips:!1}},onRangeChange:function(e){this.props.onChange({range:e})},onLabelRangeChange:function(e,t){var n=this.props.labelRange.slice(),r=n[1-e];null==t||null==r?n[e]=t:n=[Math.min(t,r),Math.max(t,r)],this.props.onChange({labelRange:n})},onDivisionRangeChange:function(e){var t=this.props.numDivisions;t=h(t,e[0],e[1]),this.props.onChange({divisionRange:e,numDivisions:t})},onNumChange:function(e,t){var n={};n[e]=t,this.props.onChange(n)},onNumDivisionsChange:function(e){var t=this.props.divisionRange.slice();o.isFinite(e)||(e=null),e=Math.round(e),e=e<0?e*-1:e,e&&(e=Math.min(t[1],Math.max(t[0],e)),this.props.onChange({tickStep:null,divisionRange:t,numDivisions:e}))},onTickStepChange:function(e){this.props.onChange({numDivisions:null,tickStep:e})},onChangeRelation:function(e){var t=e.target.value;this.props.onChange({correctRel:t,isInequality:"eq"!==t})},onLabelStyleChange:function(e){this.props.onChange({labelStyle:e})},render:function(){var e=this.props.range,t=this.props.labelRange,n=this.props.divisionRange;e[0]=+e[0],e[1]=+e[1];var o=e[1]-e[0],i=this.props.numDivisions,h=this.props.snapDivisions,f=this.props.tickStep,m=this.props.isTickCtrl,g=void 0;g=m?null:f?f/h:o/i/h;var v=[{value:"decimal",content:"0.75",title:"Decimals"},{value:"improper",content:"⁷⁄₄",title:"Improper fractions"},{value:"mixed",content:"1¾",title:"Mixed numbers"},{value:"non-reduced",content:"⁸⁄₄",title:"Non-reduced"}];return r.createElement("div",{className:"perseus-widget-number-line-editor"},r.createElement("div",{className:"perseus-widget-row"},"Correct x"," ",r.createElement("select",{value:this.props.correctRel,onChange:this.onChangeRelation},r.createElement("option",{value:"eq"}," = "),r.createElement("option",{value:"lt"}," < "),r.createElement("option",{value:"gt"}," > "),r.createElement("option",{value:"le"}," ≤ "),r.createElement("option",{value:"ge"}," ≥ "))," ",r.createElement(l,{value:this.props.correctX,format:this.props.labelStyle,onChange:this.onNumChange.bind(this,"correctX"),checkValidity:function(t){return t>=e[0]&&t<=e[1]&&(!g||p.isInteger((t-e[0])/g))},placeholder:"answer",size:"normal",useArrowKeys:!0}),r.createElement(s,null,r.createElement("p",null,"This is the correct answer. The answer is validated (as right or wrong) by using only the end position of the point and the relation (=, <, >, ≤, ≥)."))),r.createElement("div",{className:"perseus-widget-row"},this.props.static?r.createElement("label",null,"Range:"):r.createElement("label",null,"Position:"," ",r.createElement(l,{value:this.props.initialX,format:this.props.labelStyle,onChange:this.onNumChange.bind(this,"initialX"),placeholder:e[0],checkValidity:function(t){return t>=e[0]&&t<=e[1]},useArrowKeys:!0})," ∈ "),r.createElement(c,{value:e,onChange:this.onRangeChange,format:this.props.labelStyle,useArrowKeys:!0}),r.createElement(s,null,r.createElement("p",null,"This controls the initial position of the point along the number line and the ",r.createElement("strong",null,"range"),", the position of the endpoints of the number line. Setting the range constrains the position of the answer and the labels."),r.createElement("p",null,"In static mode, the initial position of the point is determined by Correct x instead of position."))),r.createElement("div",{className:"perseus-widget-row"},r.createElement("div",{className:"perseus-widget-left-col"},"Labels:"," ",r.createElement(l,{value:t[0],placeholder:e[0],format:this.props.labelStyle,checkValidity:function(t){return t>=e[0]&&t<=e[1]},onChange:this.onLabelRangeChange.bind(this,0),useArrowKeys:!0}),r.createElement("span",null," & "),r.createElement(l,{value:t[1],placeholder:e[1],format:this.props.labelStyle,checkValidity:function(t){return t>=e[0]&&t<=e[1]},onChange:this.onLabelRangeChange.bind(this,1),useArrowKeys:!0}),r.createElement(s,null,r.createElement("p",null,"This controls the position of the left / right labels. By default, the labels are set by the range ",r.createElement("br",null),r.createElement("strong",null,"Note:")," Ensure that the labels line up with the tick marks, or it may be confusing for users.")))),r.createElement("div",{className:"perseus-widget-row"},"Style:"," ",r.createElement(a,{allowEmpty:!1,value:this.props.labelStyle,buttons:v,onChange:this.onLabelStyleChange}),r.createElement(s,null,r.createElement("p",null,"This controls the styling of the labels for the two main labels as well as all the tick mark labels, if applicable. Your choices are decimal, improper fractions, mixed fractions, and non-reduced fractions."))),r.createElement("div",{className:"perseus-widget-row"},!this.props.static&&r.createElement("div",{className:"perseus-widget-left-col"},r.createElement(u,{label:"Show tick controller",isTickCtrl:this.props.isTickCtrl,onChange:this.props.onChange})),r.createElement("div",{className:"perseus-widget-right-col"},r.createElement(u,{label:"Show label ticks",labelTicks:this.props.labelTicks,onChange:this.props.onChange}))),r.createElement("div",{className:"perseus-widget-row"},!this.props.static&&r.createElement(u,{label:"Show tooltips",showTooltips:this.props.showTooltips,onChange:this.props.onChange})),r.createElement("div",{className:"perseus-widget-row"},m&&r.createElement("span",null,r.createElement("label",null,"Start num divisions at"," ",r.createElement(l,{value:this.props.numDivisions||null,format:"decimal",onChange:this.onNumDivisionsChange,checkValidity:function(e){return e>=n[0]&&e<=n[1]},placeholder:o/this.props.tickStep,useArrowKeys:!0})),r.createElement(s,null,r.createElement("p",null,"This controls the number (and position) of the tick marks. The number of divisions is constrained to"," "+n[0]+d+n[1],".",r.createElement("br",null),r.createElement("strong",null,"Note:")," The user will be able to specify the number of divisions in a number input."))),!m&&r.createElement("span",null,r.createElement("label",null,"Num divisions:"," ",r.createElement(l,{value:this.props.numDivisions||null,format:"decimal",onChange:this.onNumDivisionsChange,checkValidity:function(e){return e>=n[0]&&e<=n[1]},placeholder:o/this.props.tickStep,useArrowKeys:!0}))," ",r.createElement("label",null,"or tick step:"," ",r.createElement(l,{value:this.props.tickStep||null,format:this.props.labelStyle,onChange:this.onTickStepChange,checkValidity:function(e){return e>0&&e<=o},placeholder:o/this.props.numDivisions,useArrowKeys:!0})),r.createElement(s,null,r.createElement("p",null,"This controls the number (and position) of the tick marks; you can either set the number of divisions (2 divisions would split the entire range in two halves), or the tick step (the distance between ticks) and the other value will be updated accordingly. ",r.createElement("br",null),r.createElement("strong",null,"Note:")," There is no check to see if labels coordinate with the tick marks, which may be confusing for users if the blue labels and black ticks are off-step.")))),r.createElement("div",{className:"perseus-widget-row"},r.createElement("label",null,"Snap increments per tick:"," ",r.createElement(l,{value:h,checkValidity:function(e){return e>0},format:this.props.labelStyle,onChange:this.onNumChange.bind(this,"snapDivisions"),useArrowKeys:!0})),r.createElement(s,null,r.createElement("p",null,"This determines the number of different places the point will snap between two adjacent tick marks. ",r.createElement("br",null),r.createElement("strong",null,"Note:"),"Ensure the required number of snap increments is provided to answer the question."))))}});e.exports=f},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=n(32),s=n(11),l=n(10).ClassNames,u=r.createClass({displayName:"PlaceholderCard",propTypes:{width:r.PropTypes.number.isRequired,height:r.PropTypes.number.isRequired},render:function(){return r.createElement("div",{className:"card-wrap "+l.INTERACTIVE,style:{width:this.props.width}},r.createElement("div",{className:"card placeholder",style:{height:this.props.height}}))}}),c=r.createClass({displayName:"DragHintCard",render:function(){return r.createElement("div",{className:"card-wrap "+l.INTERACTIVE},r.createElement("div",{className:"card drag-hint"}))}}),p={position:r.PropTypes.shape({left:r.PropTypes.number,top:r.PropTypes.number})},h=r.createClass({displayName:"Card",propTypes:{floating:r.PropTypes.bool.isRequired,animating:r.PropTypes.bool,width:r.PropTypes.number,stack:r.PropTypes.bool,onMouseDown:r.PropTypes.func,onMouseMove:r.PropTypes.func,onMouseUp:r.PropTypes.func,startMouse:p.position,startOffset:p.position,animateTo:p.position,onAnimationEnd:r.PropTypes.func},getDefaultProps:function(){return{stack:!1,animating:!1}},render:function(){var e={};this.props.floating&&(e={position:"absolute",left:this.props.startOffset.left,top:this.props.startOffset.top}),this.props.width&&(e.width=this.props.width);var t=["card"];this.props.stack&&t.push("stack"),this.props.floating&&!this.props.animating&&(t.push("dragging"),e.left+=this.props.mouse.left-this.props.startMouse.left,e.top+=this.props.mouse.top-this.props.startMouse.top);var n=i.pick(this.props,"content"),o=this.props.animating?$.noop:this.onMouseDown;return r.createElement("div",{className:"card-wrap "+l.INTERACTIVE,style:e,onMouseDown:o,onTouchStart:o,onTouchMove:this.onMouseMove,onTouchEnd:this.onMouseUp,onTouchCancel:this.onMouseUp},r.createElement("div",{className:t.join(" ")},r.createElement(a,n)))},shouldComponentUpdate:function(e,t){return this.props.floating||e.floating||this.props.content!==e.content||this.props.fakeRef!==e.fakeRef},componentDidMount:function(){this.mouseMoveUpBound=!1},componentDidUpdate:function(e,t){
if(this.props.animating&&!e.animating){var n=15*Math.sqrt(Math.sqrt(Math.pow(this.props.animateTo.left-this.props.startOffset.left,2)+Math.pow(this.props.animateTo.top-this.props.startOffset.top,2)));$(o.findDOMNode(this)).animate(this.props.animateTo,Math.max(n,1),this.props.onAnimationEnd)}},componentWillUnmount:function(){this.mouseMoveUpBound&&(console.warn("Removing an element with bound event handlers."),this.unbindMouseMoveUp(),s.resetTouchHandlers())},bindMouseMoveUp:function(){this.mouseMoveUpBound=!0,$(document).on("mousemove",this.onMouseMove),$(document).on("mouseup",this.onMouseUp)},unbindMouseMoveUp:function(){this.mouseMoveUpBound=!1,$(document).off("mousemove",this.onMouseMove),$(document).off("mouseup",this.onMouseUp)},onMouseDown:function(e){e.preventDefault();var t=s.extractPointerLocation(e);t&&(this.bindMouseMoveUp(),this.props.onMouseDown&&this.props.onMouseDown(t,this))},onMouseMove:function(e){e.preventDefault();var t=s.extractPointerLocation(e);t&&this.props.onMouseMove&&this.props.onMouseMove(t)},onMouseUp:function(e){e.preventDefault();var t=s.extractPointerLocation(e);t&&(this.unbindMouseMoveUp(),this.props.onMouseUp&&this.props.onMouseUp(t))}}),d="normal",f="auto",m="horizontal",g="vertical",v=r.createClass({displayName:"Orderer",propTypes:{correctOptions:r.PropTypes.array,current:r.PropTypes.array,height:r.PropTypes.oneOf([d,f]),layout:r.PropTypes.oneOf([m,g]),options:r.PropTypes.array,trackInteraction:r.PropTypes.func.isRequired},getDefaultProps:function(){return{current:[],options:[],correctOptions:[],height:d,layout:m}},getInitialState:function(){return{current:[],dragging:!1,placeholderIndex:null}},componentWillReceiveProps:function(e){i.isEqual(this.props.current,e.current)||this.setState({current:e.current})},render:function(){var e=this,t=this.state.dragging&&r.createElement(h,{ref:"dragging",floating:!0,content:this.state.dragContent,startOffset:this.state.offsetPos,startMouse:this.state.grabPos,mouse:this.state.mousePos,width:this.state.dragWidth,onMouseUp:this.onRelease,onMouseMove:this.onMouseMove,key:this.state.dragKey||"draggingCard"}),n=this.state.animating&&r.createElement(h,{floating:!0,animating:!0,content:this.state.dragContent,startOffset:this.state.offsetPos,width:this.state.dragWidth,animateTo:this.state.animateTo,onAnimationEnd:this.state.onAnimationEnd,key:this.state.dragKey||"draggingCard"}),o=i.map(this.state.current,function(e,t){return r.createElement(h,{ref:"sortable"+t,fakeRef:"sortable"+t,floating:!1,content:e.content,width:e.width,key:e.key,onMouseDown:this.state.animating?$.noop:this.onClick.bind(null,"current",t)})},this);if(null!=this.state.placeholderIndex){var a=r.createElement(u,{ref:"placeholder",width:this.state.dragWidth,height:this.state.dragHeight,key:"placeholder"});o.splice(this.state.placeholderIndex,0,a)}var s=o.length>0;o.push(t,n);var p=r.createElement("div",{className:"perseus-clearfix draggable-box"},!s&&r.createElement(c,null),r.createElement("div",{ref:"dragList"},o)),d=r.createElement("div",{ref:"bank",className:"bank perseus-clearfix"},i.map(this.props.options,function(t,n){return r.createElement(h,{ref:"bank"+n,floating:!1,content:t.content,stack:!0,key:n,onMouseDown:e.state.animating?$.noop:e.onClick.bind(null,"bank",n),onMouseMove:e.onMouseMove,onMouseUp:e.onRelease})},this));return r.createElement("div",{className:"draggy-boxy-thing orderer height-"+this.props.height+" layout-"+this.props.layout+" above-scratchpad blank-background perseus-clearfix "+l.INTERACTIVE,ref:"orderer"},d,p)},onClick:function(e,t,n,r){var i,a=$(o.findDOMNode(r)),s=this.state.current.slice(),l=null;"current"===e?(s.splice(t,1),i=this.state.current[t],l=t):"bank"===e&&(i=this.props.options[t]),this.setState({current:s,dragging:!0,placeholderIndex:l,dragKey:i.key,dragContent:i.content,dragWidth:a.width(),dragHeight:a.height(),grabPos:n,mousePos:n,offsetPos:a.position()})},onRelease:function(e){var t=this,n=this.refs.dragging;if(null!=n){var r=this.isCardInBank(n),a=this.state.placeholderIndex,s=function(){var e=t.state.current.slice();if(!r){var n={content:t.state.dragContent,key:i.uniqueId("perseus_draggable_card_"),width:t.state.dragWidth};e.splice(a,0,n)}t.props.onChange({current:e}),t.setState({current:e,dragging:!1,placeholderIndex:null,animating:!1}),t.props.trackInteraction()},l=$(o.findDOMNode(n)).position(),u=null;r?i.each(this.props.options,function(e,t){if(e.content===this.state.dragContent){var n=o.findDOMNode(this.refs["bank"+t]);u=$(n).position()}},this):null!=this.refs.placeholder&&(u=$(o.findDOMNode(this.refs.placeholder)).position()),null==u?s():this.setState({offsetPos:l,animateTo:u,onAnimationEnd:s,animating:!0,dragging:!1})}},onMouseMove:function(e){var t=this.refs.dragging;if(null!=t){var n;n=this.isCardInBank(t)?null:this.findCorrectIndex(t,this.state.current),this.setState({mousePos:e,placeholderIndex:n})}},findCorrectIndex:function(e,t){var n=this.props.layout===m,r=$(o.findDOMNode(this.refs.dragList)),a=r.offset().left,s=r.offset().top,l=$(o.findDOMNode(e)).offset().left-a,u=$(o.findDOMNode(e)).offset().top-s,c=0,p=0,h=0;return n?i.each(t,function(e,t){var n=o.findDOMNode(this.refs["sortable"+t]),r=$(n).outerWidth(!0);l>p+r/2&&(c+=1),p+=r},this):i.each(t,function(e,t){var n=o.findDOMNode(this.refs["sortable"+t]),r=$(n).outerHeight(!0);u>h+r/2&&(c+=1),h+=r},this),c},isCardInBank:function(e){if(null==e)return!1;var t=this.props.layout===m,n=$(o.findDOMNode(e)),r=$(o.findDOMNode(this.refs.bank)),i=n.offset(),a=r.offset(),s=n.outerHeight(!0),l=r.outerHeight(!0),u=r.outerWidth(!0),c=o.findDOMNode(this.refs.dragList),p=($(c).width(),n.outerWidth(!0));return t?i.top+s/2<a.top+l:i.left+p/2<a.left+u},getUserInput:function(){return{current:i.map(this.props.current,function(e){return e.content})}},simpleValidate:function(e){return v.validate(this.getUserInput(),e)}});i.extend(v,{validate:function(e,t){if(0===e.current.length)return{type:"invalid",message:null};var n=i.isEqual(e.current,i.pluck(t.correctOptions,"content"));return{type:"points",earned:n?1:0,total:1,message:null}}}),e.exports={name:"orderer",displayName:"Orderer",widget:v}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(96),a=n(89),s="normal",l="auto",u="horizontal",c="vertical",p=r.createClass({displayName:"OrdererEditor",propTypes:{correctOptions:r.PropTypes.array,otherOptions:r.PropTypes.array,height:r.PropTypes.oneOf([s,l]),layout:r.PropTypes.oneOf([u,c]),onChange:r.PropTypes.func.isRequired},getDefaultProps:function(){return{correctOptions:[{content:"$x$"}],otherOptions:[{content:"$y$"}],height:s,layout:u}},render:function(){return r.createElement("div",{className:"perseus-widget-orderer"},r.createElement("div",null," ","Correct answer:"," ",r.createElement(i,null,r.createElement("p",null,"Place the cards in the correct order. The same card can be used more than once in the answer but will only be displayed once at the top of a stack of identical cards."))),r.createElement(a,{options:o.pluck(this.props.correctOptions,"content"),onChange:this.onOptionsChange.bind(this,"correctOptions"),layout:this.props.layout}),r.createElement("div",null," ","Other cards:"," ",r.createElement(i,null,r.createElement("p",null,"Create cards that are not part of the answer."))),r.createElement(a,{options:o.pluck(this.props.otherOptions,"content"),onChange:this.onOptionsChange.bind(this,"otherOptions"),layout:this.props.layout}),r.createElement("div",null,r.createElement("label",null," ","Layout:"," ",r.createElement("select",{value:this.props.layout,onChange:this.onLayoutChange},r.createElement("option",{value:u},"Horizontal"),r.createElement("option",{value:c},"Vertical"))),r.createElement(i,null,r.createElement("p",null,"Use the horizontal layout for short text and small images. The vertical layout is best for longer text (e.g. proofs)."))),r.createElement("div",null,r.createElement("label",null," ","Height:"," ",r.createElement("select",{value:this.props.height,onChange:this.onHeightChange},r.createElement("option",{value:s},"Normal"),r.createElement("option",{value:l},"Automatic"))),r.createElement(i,null,r.createElement("p",null,'Use "Normal" for text, "Automatic" for images.'))))},onOptionsChange:function(e,t,n){var r={};r[e]=o.map(t,function(e){return{content:e}}),this.props.onChange(r,n)},onLayoutChange:function(e){this.props.onChange({layout:e.target.value})},onHeightChange:function(e){this.props.onChange({height:e.target.value})},serialize:function(){var e=o.chain(o.pluck(this.props.correctOptions,"content")).union(o.pluck(this.props.otherOptions,"content")).uniq().reject(function(e){return""===e}).sort().sortBy(function(e){return/\d/.test(e)?0:/^\$?[a-zA-Z]+\$?$/.test(e)?2:1}).map(function(e){return{content:e}}).value();return{options:e,correctOptions:this.props.correctOptions,otherOptions:this.props.otherOptions,height:this.props.height,layout:this.props.layout}}});e.exports=p},function(e,t,n){"use strict";var r=n(186),o=r.StyleSheet,i=r.css,a=n(54),s=n(58),l=n(55),u=n(103),c=n(32),p=n(226),h=a.createClass({displayName:"LineHeightMeasurer",measureLineHeight:function(){this.$body.text(" ");var e=this.$end.offset().top-this.$body.offset().top;return this.$body.text(""),e},render:function(){var e=this;return a.createElement("div",{className:i(d.measurer)},a.createElement("div",null,a.createElement("div",{ref:function(t){return e.$body=$(t)},className:"paragraph"}),a.createElement("div",{ref:function(t){return e.$end=$(t)}})))}}),d=o.create({measurer:{position:"absolute",width:"100%",top:0,left:0}}),f=a.createClass({displayName:"Passage",mixins:[u],propTypes:{passageTitle:a.PropTypes.string,passageText:a.PropTypes.string,footnotes:a.PropTypes.string,showLineNumbers:a.PropTypes.bool,onChange:a.PropTypes.func,highlightRanges:a.PropTypes.arrayOf(a.PropTypes.arrayOf(a.PropTypes.number)),reviewModeRubric:a.PropTypes.shape({passageTitle:a.PropTypes.string,passageText:a.PropTypes.string,footnotes:a.PropTypes.string,showLineNumbers:a.PropTypes.bool,static:a.PropTypes.bool})},getDefaultProps:function(){return{passageTitle:"",passageText:"",footnotes:"",showLineNumbers:!0,highlightRanges:[]}},getInitialState:function(){return{nLines:null,startLineNumbersAfter:0,newHighlightRange:null,selectedHighlightRange:null,mouseX:null,mouseY:null}},supportsHighlighting:function(){return!this.props.passageText.match(/\[\[1\]\]/)},canUpdateHighlighting:function(){return!this.props.reviewModeRubric&&this.supportsHighlighting()},wordsInSection:function(e){e=e.replace(/_+/g,""),e=e.replace(/\[Marker for question [0-9]+\]/g," "),e=e.replace(/\[Sentence [0-9]+\]/g," ");var t=e.split(/\s+/).filter(function(e){return e.length>0});return t.length},compareRanges:function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0},mergeOverlappingRanges:function(e){for(var t=[].concat(e).sort(this.compareRanges),n=[],r=t,o=Array.isArray(r),i=0,r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if(i=r.next(),i.done)break;a=i.value}var s=a,l=n[n.length-1];l&&s[0]<=l[1]?n[n.length-1]=[l[0],Math.max(l[1],s[1])]:n.push(s)}return n},addHighlightRange:function(){var e=[].concat(this.props.highlightRanges);e.push(this.state.newHighlightRange),e=this.mergeOverlappingRanges(e),this.props.onChange({highlightRanges:e}),this.forceUpdate()},isAnchorFirst:function(e,t,n,r){return e===t?n<r:4===e.compareDocumentPosition(t)},sortIndices:function(e){var t=this.getSelectionIndex(e,"anchor"),n=this.getSelectionIndex(e,"focus"),r=e.anchorNode,o=e.focusNode,i=e.anchorOffset,a=e.focusOffset;return this.isAnchorFirst(r,o,i,a)?{selectionStartIndex:t,selectionEndIndex:n,startNode:r,endNode:o,startNodeOffset:i,endNodeOffset:a}:{selectionStartIndex:n,selectionEndIndex:t,startNode:o,endNode:r,startNodeOffset:a,endNodeOffset:i}},getSelectionRange:function(e){var t=this.sortIndices(e),n=t.selectionStartIndex,r=t.selectionEndIndex,o=t.startNode,i=t.endNode,a=t.startNodeOffset,s=t.endNodeOffset;return null===n||null===r?null:(" "===o.textContent.charAt(a)&&r>n&&(n+=1)," "===i.textContent.charAt(s-1)&&r>n&&(r-=1),[n,r])},isInPassageText:function(e){for(var t=e;t;){if(t.classList&&t.classList.contains("passage-text")){for(;1!==e.nodeType;)e=e.parentNode;return t.contains(e)}t=t.parentNode}return!1},getSelectionIndex:function(e,t){var n=null,r=0,o=".?;:!,'\"";if("anchor"===t?(n=e.anchorNode,r=e.anchorOffset):(n=e.focusNode,r=e.focusOffset),!this.isInPassageText(n))return null;var i=n.textContent;o.indexOf(i.charAt(0))!==-1&&(i=i.slice(1));for(var a=this.charToWordOffset(r,i),s="",l="";n&&(!n.classList||!n.classList.contains("passage-text"));){for(;n.previousSibling;){n=n.previousSibling,l=n.textContent;var u="",c=l.charAt(l.length-1),p=o.indexOf(c)!==-1||!n.nextSibling||"_"===c&&n.nextSibling.textContent.charAt(0).match(/[\w ]/);p&&s.length>0&&(u=" "),s=l+u+s}n=n.parentNode}return a+=this.wordsInSection(s),"_"!==s.charAt(s.length-1)||i.charAt(0).match(/[\w ]/)||(a-=1),a},charToWordOffset:function(e,t){for(;e>0&&" "!==t.charAt(e-1);)e-=1;var n=t.substring(0,e),r=this.wordsInSection(n);return" "===t.charAt(0)&&0===e&&(r-=1),r},handleConfirmHighlightClick:function(){this.setState({newHighlightRange:null}),this.addHighlightRange();var e=window.getSelection();e.collapse(e.anchorNode,e.anchorOffset)},isHighlighted:function(e){for(var t=this.props.highlightRanges,n=t,r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if(o=n.next(),o.done)break;i=o.value}var a=i;if(e[0]>=a[0]&&e[1]<=a[1])return a}return null},handleMouseDown:function(e){e.target.getAttribute("data-highlighting-tooltip")||this.setState({newHighlightRange:null,selectedHighlightRange:null})},handleMouseUp:function(e){var t=this.state.newHighlightRange||this.state.selectedHighlightRange;if(this.canUpdateHighlighting()&&!t){this.setState({mouseX:e.clientX,mouseY:e.clientY-60});var n=window.getSelection(),r=this.getSelectionRange(n);if(r){var o=this.isHighlighted(r);o?this.setState({newHighlightRange:null,selectedHighlightRange:o}):" "===n.toString()||n.isCollapsed||this.setState({newHighlightRange:r,selectedHighlightRange:null})}}},handleRemoveHighlightClick:function(){var e=this.state.selectedHighlightRange,t=this.props.highlightRanges.findIndex(function(t){return t[0]===e[0]&&t[1]===e[1]}),n=[].concat(this.props.highlightRanges);n.splice(t,1),this.setState({selectedHighlightRange:null}),this.props.onChange({highlightRanges:n})},stringToArrayOfWords:function(e){var t;return e=e.split(" "),e=e.map(function(e){var t=e.match(/\s+/);if(t){var n=t.index+t[0].length;return[e.slice(0,n),e.slice(n)]}return[e]}),e=(t=[]).concat.apply(t,e),e=e.filter(function(e){return""!==e})},adjustIndexforMarkdownAndWhitespace:function(e,t){for(var n=0;n<=e;n++){var r=t[n].match(/^\s+$/)||["{highlighting.end}{highlighting.start}","{highlighting.end}","{highlighting.start}"].includes(t[n]);r&&e++}return e},shouldComponentUpdate:function(e,t){return!l.isEqual(this.props,e)||!l.isEqual(this.state,t)},renderAddHighlightTooltip:function(){var e=this.state.mouseX+"px",t=this.state.mouseY+"px";return a.createElement("span",{onClick:this.handleConfirmHighlightClick,style:{position:"absolute",left:e,top:t}},a.createElement("img",{"data-highlighting-tooltip":!0,width:"130",height:"44",style:{position:"absolute",top:"-54px",left:"-65px"},src:"/images/perseus/add-highlight.svg"}))},renderRemoveHighlightTooltip:function(){var e=this.state.mouseX+"px",t=this.state.mouseY+"px";return a.createElement("span",{onClick:this.handleRemoveHighlightClick,style:{position:"absolute",left:e,top:t}},a.createElement("img",{"data-highlighting-tooltip":!0,width:"163",height:"44",style:{position:"absolute",top:"-54px",left:"-81px"},src:"/images/perseus/remove-highlight.svg"}))},render:function(){var e=this,t=void 0,n=this.state.nLines;this.props.showLineNumbers&&n&&(t=l.range(1,n+1).map(function(t){return 4===t&&n>4?a.createElement("span",{key:"line-marker",className:"line-marker"},"Line"):t+e.state.startLineNumbersAfter}));var r="{highlighting.start}",o="{highlighting.end}";this.props.reviewModeRubric&&(r="{review-highlighting.start}",o="{review-highlighting.end}");var i=this.props.passageText;l.each(this.props.highlightRanges,function(e){i=i.replace(/\n +\n/g,"\n\n"),i=i.replace(/\r\n +\r\n/g,"\r\n\r\n");var t=this.stringToArrayOfWords(i),n=this.adjustIndexforMarkdownAndWhitespace(e[0],t),a=this.adjustIndexforMarkdownAndWhitespace(e[1],t);i=t.slice(0,n).join(" ")+" "+t.slice(n,a+1).map(function(e){var t=new RegExp("[\\(\\)\\—\\-\\—\\-\\‑\\.                                            \\[\\]\\+\\$\\?,!A-Za-z0-9                                            À-ſ:;'‘’\"“”=%<>s]+"),n=e.match(t);if(n){var i=n.index,a=i+n[0].length;return e.slice(0,i)+r+e.slice(i,a)+o+e.slice(a)}return e}).join(r+" "+o)+" "+t.slice(a+1).join(" ")},this);var s={},u=p.parse(i,s);return a.createElement("div",null,a.createElement("div",{onMouseUp:this.handleMouseUp,className:"perseus-widget-passage-container"},this._renderInstructions(s),a.createElement("div",{className:"perseus-widget-passage"},a.createElement("div",{className:"passage-title"},a.createElement(c,{content:this.props.passageTitle})),t&&a.createElement("div",{className:"line-numbers","aria-hidden":!0},t),a.createElement("h3",{className:"perseus-sr-only"},i18n._("Beginning of reading passage.")),a.createElement("div",{className:"passage-text"},this._renderContent(u)),this._hasFootnotes()&&[a.createElement("h4",{key:"footnote-start",className:"perseus-sr-only"},i18n._("Beginning of reading passage footnotes.")),a.createElement("div",{key:"footnotes",className:"footnotes"},this._renderFootnotes())],a.createElement("div",{className:"perseus-sr-only"},i18n._("End of reading passage.")))),this.state.newHighlightRange&&this.renderAddHighlightTooltip(),this.state.selectedHighlightRange&&this.renderRemoveHighlightTooltip())},componentDidMount:function(){this._updateState(),window.addEventListener("mousedown",this.handleMouseDown),this._throttledUpdateState=l.throttle(this._updateState,500),window.addEventListener("resize",this._throttledUpdateState)},componentWillUnmount:function(){window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("resize",this._throttledUpdateState)},componentDidUpdate:function(){this._updateState()},_updateState:function(){this.setState({nLines:this._measureLines(),startLineNumbersAfter:this._getInitialLineNumber()})},_measureLines:function(){var e=$(s.findDOMNode(this.refs.content)),t=e.height(),n=this._getLineHeight(),r=Math.round(t/n);return r},_getInitialLineNumber:function(){var e=this,t=!0,n=this.props.interWidgets(function(n,r){return"passage"===r.type&&(n===e.props.widgetId&&(t=!1),t)});return n.map(function(e){return e.getLineCount()}).reduce(function(e,t){return e+t},0)},getLineCount:function(){return null!=this.state.nLines?this.state.nLines:this._measureLines()},_renderInstructions:function(e){var t=e.firstQuestionRef,n=e.firstSentenceRef,r="";t&&(r+=i18n._("The symbol %(questionSymbol)s indicates that question %(questionNumber)s references this portion of the passage.",{questionSymbol:"[["+t+"]]",questionNumber:t})),n&&(r+=i18n._(" The symbol %(sentenceSymbol)s indicates that the following sentence is referenced in a question.",{sentenceSymbol:"["+n+"]"}));var o=p.parse(r);return a.createElement("div",{className:"perseus-widget-passage-instructions"},p.output(o))},_renderContent:function(e){var t=this;return a.createElement("div",{ref:"content"},a.createElement(h,{ref:function(e){return t._lineHeightMeasurer=e}}),p.output(e))},_hasFootnotes:function(){var e=this.props.footnotes,t=/^\s*$/.test(e);return!t},_renderFootnotes:function(){var e=this.props.footnotes,t=p.parse(e);return p.output(t)},_getStartRefLineNumber:function(e){var t=p.START_REF_PREFIX+e,n=this.refs[t];if(!n)return null;var r=$(s.findDOMNode(n)),o=r.next();0===o.length&&(o=r);var i=o.offset().top;return this.state.startLineNumbersAfter+1+this._convertPosToLineNumber(i)},_getEndRefLineNumber:function(e){var t=p.END_REF_PREFIX+e,n=this.refs[t];if(!n)return null;var r=$(s.findDOMNode(n)),o=r.prev();0===o.length&&(o=r);var i=o.height(),a=o.offset().top,l=this._convertPosToLineNumber(a+i);return 0===i&&(l+=1),this.state.startLineNumbersAfter+l},_getLineHeight:function(){return this._lineHeightMeasurer.measureLineHeight()},_convertPosToLineNumber:function(e){var t=$(s.findDOMNode(this.refs.content)),n=e-t.offset().top,r=this._getLineHeight(),o=Math.round(n/r);return o},_getRefContent:function(e){var t=p.START_REF_PREFIX+e,n=this.refs[t];return n?n.getRefContent():null},getReference:function(e){var t=this._getStartRefLineNumber(e),n=this._getEndRefLineNumber(e);if(null==t||null==n)return null;var r=this._getRefContent(e);return{startLine:t,endLine:n,content:r}},getUserInput:function(){return null},simpleValidate:function(e){return f.validate(this.getUserInput(),e)}});l.extend(f,{validate:function(e,t){return{type:"points",earned:0,total:0,message:null}}}),e.exports={name:"passage",displayName:"Passage",widget:f,transform:function(e){return l.pick(e,"passageTitle","passageText","footnotes","showLineNumbers")}}},function(e,t,n){"use strict";var r=n(54),o=(n(55),n(103)),i=n(109),a=n(18),s=n(96),l=n(46),u=r.createClass({displayName:"PassageEditor",mixins:[i,o],propTypes:{passageTitle:r.PropTypes.string,passageText:r.PropTypes.string,footnotes:r.PropTypes.string,showLineNumbers:r.PropTypes.bool},getDefaultProps:function(){return{passageTitle:"",passageText:"",footnotes:"",showLineNumbers:!0}},render:function(){var e=this,t=r.createElement(a,{ref:"passage-editor",apiOptions:this.props.apiOptions,content:this.props.passageText,widgetEnabled:!1,placeholder:"Type passage here...",onChange:function(t){e.change({passageText:t.content})},showWordCount:!0}),n=r.createElement(a,{ref:"passage-footnotes-editor",apiOptions:this.props.apiOptions,content:this.props.footnotes,widgetEnabled:!1,placeholder:"Type footnotes here...",onChange:function(t){e.change({footnotes:t.content})}});return r.createElement("div",{className:"perseus-widget-passage-editor"},r.createElement("div",{className:"perseus-widget-row"},r.createElement(l,{label:"Show line numbers",labelAlignment:"right",showLineNumbers:this.props.showLineNumbers,onChange:this.props.onChange})),r.createElement("div",null,"Passage title:",r.createElement(s,null,r.createElement("p",null,"An optional title that will appear directly above the passage in the same font style. (E.g. Passage 1)")),r.createElement("div",null,r.createElement("input",{type:"text",defaultValue:this.props.passageTitle,onChange:function(t){e.change({passageTitle:t.target.value})}}))),r.createElement("div",null,"Passage Text:",t),r.createElement("div",null,"Footnotes:",r.createElement(s,null,r.createElement("p",null,"To add footnotes, add ^ characters where they belong in the passage. Then, add ^ in the footnotes area to reference the footnotes in the passage.")),n))}});e.exports=u},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(43),s=n(208),l="–",u=r.createClass({displayName:"PassageRef",mixins:[s,i],propTypes:{passageNumber:r.PropTypes.number,referenceNumber:r.PropTypes.number,summaryText:r.PropTypes.string},getDefaultProps:function(){return{passageNumber:1,referenceNumber:1,summaryText:""}},getInitialState:function(){return{lineRange:null,content:null}},shouldComponentUpdate:function(e,t){return!o.isEqual(this.props,e)||!o.isEqual(this.state,t)},render:function(){var e,t=this.state.lineRange;e=t?t[0]===t[1]?$_({lineNumber:t[0]},"line %(lineNumber)s"):$_({lineRange:t[0]+l+t[1]},"lines %(lineRange)s"):$_({lineRange:"?"+l+"?"},"lines %(lineRange)s");var n;if(this.props.summaryText){var o=a.parseInline(this.props.summaryText);n=r.createElement("span",{"aria-hidden":!0}," ","(“",a.basicOutput(o),"”)")}else n=null;return r.createElement("span",null,e,n,t&&r.createElement("div",{className:"perseus-sr-only"},this.state.content))},componentDidMount:function(){this._deferredUpdateRange(),this._throttledUpdateRange=o.throttle(this._deferredUpdateRange,500),window.addEventListener("resize",this._throttledUpdateRange)},componentDidUpdate:function(){this._deferredUpdateRange()},componentWillUnmount:function(){window.removeEventListener("resize",this._throttledUpdateRange)},_deferredUpdateRange:function(){o.defer(this._updateRange)},_updateRange:function(){var e=this.props.interWidgets("passage "+this.props.passageNumber)[0],t=null;e&&(t=e.getReference(this.props.referenceNumber)),this.isMounted()&&(t?this.setState({lineRange:[t.startLine,t.endLine],content:t.content}):this.setState({lineRange:null,content:null}))},simpleValidate:function(e){return u.validate(this.getUserInput(),e)}});o.extend(u,{validate:function(e,t){return{type:"points",earned:0,total:0,message:null}}}),e.exports={name:"passage-ref",displayName:"PassageRef",defaultAlignment:"inline",widget:u,transform:function(e){return o.pick(e,"passageNumber","referenceNumber","summaryText")},version:{major:0,minor:1}}},function(e,t,n){"use strict";var r=n(54),o=n(103),i=n(109),a=n(96),s=n(111),l=n(112),u=r.createClass({displayName:"PassageRefEditor",mixins:[i,o],propTypes:{passageNumber:r.PropTypes.number,referenceNumber:r.PropTypes.number,summaryText:r.PropTypes.string},getDefaultProps:function(){return{passageNumber:1,referenceNumber:1,summaryText:""}},render:function(){return r.createElement("div",null,r.createElement("div",null,r.createElement("label",null,"Passage Number: ",r.createElement(s,{value:this.props.passageNumber,onChange:this.change("passageNumber")}))),r.createElement("div",null,r.createElement("label",null,"Reference Number: ",r.createElement(s,{value:this.props.referenceNumber,onChange:this.change("referenceNumber")}))),r.createElement("div",null,r.createElement("label",null,"Summary Text: ",r.createElement(l,{value:this.props.summaryText,onChange:this.change("summaryText")}),r.createElement(a,null,r.createElement("p",null,"Short summary of the referenced section. This will be included in parentheses and quotes automatically."),r.createElement("p",null,"Ex: The start ... the end")))))}});e.exports=u},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(208),s=n(32),l=r.createClass({displayName:"PassageRefTarget",mixins:[a,i],propTypes:{content:r.PropTypes.string},getDefaultProps:function(){return{content:""}},render:function(){return r.createElement(s,{content:this.props.content,inline:!0,apiOptions:this.props.apiOptions})},simpleValidate:function(e){return l.validate(this.getUserInput(),e)}});o.extend(l,{validate:function(e,t){return{type:"points",earned:0,total:0,message:null}}}),e.exports={name:"passage-ref-target",displayName:"PassageRefTarget",defaultAlignment:"inline",widget:l,hidden:!0,transform:function(e){return o.pick(e,"content")},version:{major:0,minor:0}}},function(e,t,n){"use strict";var r=n(54),o=(n(55),n(103)),i=n(109),a=r.createClass({displayName:"PassageRefTargetEditor",mixins:[i,o],propTypes:{content:r.PropTypes.string},getDefaultProps:function(){return{content:""}},render:function(){return r.createElement("div",null,"Content:",r.createElement("input",{type:"text",value:this.props.content,onChange:this.handleContentChange}))},handleContentChange:function(e){this.change({content:e.target.value})}});e.exports=a},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=n(10).ClassNames,s=n(11).deepEq,l=n(90),u=n(211),c=n(192),p=n(209),h=n(210),d="bar",f="line",m="pic",g="histogram",v="dotplot",y=({type:r.PropTypes.oneOf([d,f,m,g,v]),labels:r.PropTypes.arrayOf(r.PropTypes.string),categories:r.PropTypes.arrayOf(r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.string])),scaleY:r.PropTypes.number,maxY:r.PropTypes.number,snapsPerLine:r.PropTypes.number,picSize:r.PropTypes.number,pixBoxHeight:r.PropTypes.number,picUrl:r.PropTypes.string,plotDimensions:r.PropTypes.arrayOf(r.PropTypes.number),labelInterval:r.PropTypes.number,starting:r.PropTypes.arrayOf(r.PropTypes.number),static:r.PropTypes.bool},r.createClass({displayName:"Plotter",propTypes:{onChange:r.PropTypes.func.isRequired,trackInteraction:r.PropTypes.func.isRequired},getDefaultProps:function(){return{type:d,labels:["",""],categories:[""],scaleY:1,maxY:10,snapsPerLine:2,picSize:40,picBoxHeight:48,picUrl:"",plotDimensions:[380,300],labelInterval:1}},getInitialState:function(){return{values:this.props.starting||[1]}},DOT_PLOT_POINT_SIZE:function(){return this.props.apiOptions.isMobile?6:4},DOT_PLOT_POINT_PADDING:function(){return 8},DOT_TICK_POINT_SIZE:function(){return 2},render:function(){return r.createElement("div",{className:"perseus-widget-plotter graphie "+a.INTERACTIVE,ref:"graphieDiv"})},componentDidUpdate:function(e,t){this.shouldSetupGraphie&&this.setupGraphie(t)},componentDidMount:function(){this.setupGraphie(this.state)},componentWillReceiveProps:function(e){var t=["type","labels","categories","scaleY","maxY","snapsPerLine","picUrl","labelInterval","static"];this.shouldSetupGraphie=i.any(t,function(t){return!i.isEqual(this.props[t],e[t])},this),i.isEqual(this.props.starting,e.starting)||i.isEqual(this.state.values,e.starting)||(this.shouldSetupGraphie=!0,this.setState({values:e.starting}))},setupGraphie:function(e){var t=this;t.shouldSetupGraphie=!1;var n=o.findDOMNode(t.refs.graphieDiv);$(n).empty();var r=c.createGraphie(n);t.graphie=r,t.graphie.pics=[],t.graphie.dotTicks=[];var a=t.props.type===d,s=t.props.type===f,p=t.props.type===m,y=t.props.type===g,b=t.props.type===v,x=p||b,E={},w=E,T=this.props.apiOptions.isMobile;w.graph={lines:[],bars:[],points:[],dividers:[]},w.scaleY=t.props.scaleY,w.dimX=t.props.categories.length;var C=T?[288,336]:t.props.plotDimensions;if(s)w.dimX+=T?-.2:1;else if(y)w.barPad=0,w.barWidth=1;else if(a)w.barPad=T?.08:.15,w.barWidth=1-2*w.barPad,w.dimX+=(T?-2:2)*w.barPad;else if(x){w.picBoxHeight=t.props.picBoxHeight,w.picBoxWidthPx=C[0]/t.props.categories.length;var S=C[0]-w.dimX*w.picBoxWidthPx;w.picPad=S/(2*w.dimX+2);var k=w.picBoxWidthPx+2*w.picPad;w.picPad=w.picPad/k,w.picBoxWidth=w.picBoxWidthPx/k,w.dimX+=2*w.picPad}b&&(w.picBoxHeight=2*this.DOT_PLOT_POINT_SIZE()+this.DOT_PLOT_POINT_PADDING()),w.dimY=Math.ceil(t.props.maxY/w.scaleY)*w.scaleY;var P=25,_=25;if((a||s)&&T&&(P=0!==t.props.labels[1].length?17:11),b&&(P/=2),T&&x&&0===t.props.labels[1].length&&(P=0),T?w.scale=i.map([[w.dimX,P],[w.dimY,_]],function(e,t){var n=e[0],r=e[1];return(C[t]-4*r)/n}):w.scale=i.map([w.dimX,w.dimY],function(e,t){return C[t]/e}),P/=w.scale[0],_/=w.scale[1],x&&(w.scale[1]=w.picBoxHeight/w.scaleY),r.init({range:[[-3*P,w.dimX+P],[-3*_,w.dimY+_]],scale:w.scale,isMobile:this.props.apiOptions.isMobile}),r.addMouseLayer({allowScratchpad:!0,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable}),!x)for(var M=T?w.scaleY:0,N=M;N<=w.dimY;N+=w.scaleY)r.label([0,N],l.roundToApprox(N,2),"left",!0),r.style({stroke:T?"#e9ebec":"#000",strokeWidth:1,opacity:T?1:.3},function(){r.line([0,N],[w.dimX,N])});(a||s)&&T&&(t.graphie.dragPrompt=r.label([w.dimX/2,w.dimY/2],"Drag handles to make graph","center",!1).css("font-weight","bold").css("color",u.KA_GREEN).css("display","none")),t.setupCategories(E),x&&T&&(t.graphie.dotPrompt=r.label([w.dimX/2,w.dimY/2],"Tap to add points","center",!1).css("font-weight","bold").css("color",u.KA_GREEN).css("display","none")),x&&t.drawPicHeights(t.state.values,e.values),r.style({stroke:"#000",strokeWidth:2,opacity:1},function(){x?b?r.style({stroke:T?u.GRAY_G:"#000",strokeWidth:T?1:2},function(){return r.line([T?0:.5,0],[w.dimX-(T?0:.5),0])}):(r.line([0,0],[w.dimX,0]),0===t.props.labels[1].length&&T||r.style({stroke:T?u.GRAY_G:"#000",strokeWidth:T?1:2},function(){return r.line([0,0],[0,w.dimY])})):(r.style({stroke:T?u.GRAY_G:"#000",strokeWidth:T?1:2},function(){return r.line([T?3*-P:0,0],[w.dimX+(T?P:0),0])}),(a||s)&&T||r.style({stroke:T?u.GRAY_G:"#000",strokeWidth:T?1:2},function(){return r.line([0,0],[0,w.dimY])}))}),r.label([w.dimX/2,T?3*-_:-35/w.scale[1]],t.props.labels[0],T?"above":"below",!1).css("font-weight","bold").css("color",T&&u.GRAY_F),r.label([(T?-35:-60)/w.scale[0],w.dimY/2],t.props.labels[1],"center",!1).css("font-weight","bold").css("color",T&&u.GRAY_F).addClass("rotate"),
this.props.apiOptions.isMobile&&(this.horizHairline=new h(this.graphie,[0,0],[0,0],{normalStyle:{strokeWidth:1}}),this.horizHairline.attr({stroke:u.INTERACTIVE}),this.horizHairline.hide(),this.hairlineRange=[[0,w.dimX],[0,w.dimY]])},showHairlines:function(e){this.props.apiOptions.isMobile&&"none"!==this.props.markings&&(this.horizHairline.moveTo([this.hairlineRange[0][0],e[1]],[this.hairlineRange[0][1],e[1]]),this.horizHairline.show())},hideHairlines:function(){this.props.apiOptions.isMobile&&this.horizHairline.hide()},labelCategory:function(e,t){var n=this.props.apiOptions.isMobile,r=this.graphie;t+="";var o=!1,i=t.match(/^\$(.*)\$$/);i&&(t=i[1],o=!0);var a=(0!==this.props.labels[0].length,"translateX(-50%) translateX(5px) translateY(-50%) rotate(-45deg)");r.style({color:n?u.GRAY_G:"inherit",transform:n&&!i?a:"none",transformOrigin:"100%"},function(){return r.label([e,n?-.5:0],t,"below",o)})},setupCategories:function(e){var t=this,n=e,r=t.graphie,o=this.props.apiOptions.isMobile;t.props.type===g?(i.times(t.props.categories.length-1,function(n){t.setupBar({index:n,startHeight:t.state.values[n],config:e,isHistogram:!0})}),i.each(t.props.categories,function(e,i){var a=.5+i*n.barWidth;t.labelCategory(a,e);var s=6/n.scale[1];r.style({stroke:"#000",strokeWidth:o?1:2,opacity:1},function(){r.line([a,-s],[a,0])})})):i.each(t.props.categories,function(i,a){var s,l=t.state.values[a];t.props.type===d?s=t.setupBar({index:a,startHeight:l,config:e,isHistogram:!1}):t.props.type===f?s=t.setupLine(a,l,e):t.props.type===m?s=t.setupPic(a,e):t.props.type===v&&(s=t.setupDotplot(a,e));var c=0,p=-6/n.scale[1];t.props.type!==v||o||(c=-p),t.props.type===v?a%t.props.labelInterval!==0&&a!==t.props.categories.length-1||(t.labelCategory(s,i),c*=1.5,p*=1.5):t.labelCategory(s,i),r.style({stroke:o?u.GRAY_G:"#000",strokeWidth:o?1:2,opacity:1},function(){r.line([s,c],[s,p])})})},_clampValue:function(e,t,n){return Math.max(Math.min(e,n),t)},_updateDragPrompt:function(e){var t=e.every(function(e){return 0===e});this.graphie.dragPrompt[0].style.display=t?"inline":"none"},setupBar:function(e){var t,n=this,r=this.props.apiOptions.isMobile,o=e.index,a=e.startHeight,s=e.config,l=e.isHistogram,c=this,h=c.graphie,d=s.barWidth/2;t=l?.5+o*s.barWidth+d:(r?d:.5+s.barPad)+o;var f=function(e,t){var n=h.scalePoint(0);if(s.graph.bars[e].scale(1,Math.max(r?.2:.01,t/s.scaleY),n[0],n[1]),l){var o=s.graph.dividers[e-1],i=s.graph.dividers[e];if(o){var a=Math.min(c.state.values[e-1],t);o.scale(1,Math.max(.01,a/s.scaleY),n[0],n[1])}if(i){var a=Math.min(c.state.values[e+1],t);i.scale(1,Math.max(.01,a/s.scaleY),n[0],n[1])}}};return h.style({stroke:"none",fill:r?u.BLUE_C:u.LIGHT_BLUE,opacity:1},function(){s.graph.bars[o]=h.path([[t-d,0],[t-d,s.scaleY],[t+d,s.scaleY],[t+d,0],[t-d,0]])}),l&&o>0&&h.style({stroke:"#000",strokeWidth:1,opacity:.3},function(){s.graph.dividers.push(h.path([[t-d,0],[t-d,s.scaleY]]))}),r?!function(){var e=s.scaleY/c.props.snapsPerLine;s.graph.lines[o]=p.addMaybeMobileMovablePoint(n,{coord:[t,a],constraints:[function(r,o,i){return[t,n._clampValue(Math.round(r[1]/e)*e,0,s.dimY)]}],onMoveStart:function(){s.graph.bars[o].attr({fill:u.INTERACTIVE})},onMove:function(){var e=s.graph.lines[o].coord()[1],t=i.clone(c.state.values);t[o]=e,c.setState({values:t}),c.changeAndTrack({values:t}),c._updateDragPrompt(t),f(o,e)},onMoveEnd:function(){s.graph.bars[o].attr({fill:u.BLUE_C})}}),s.graph.lines[o].state.visibleShape.wrapper.style.zIndex="1",c._updateDragPrompt(c.state.values)}():(s.graph.lines[o]=h.addMovableLineSegment({coordA:[t-d,a],coordZ:[t+d,a],snapY:s.scaleY/c.props.snapsPerLine,constraints:{constrainX:!0},normalStyle:{stroke:u.INTERACTIVE,"stroke-width":this.props.static?0:4}}),s.graph.lines[o].onMove=function(e,t){var n=this.coordA[1];(n<0||n>s.dimY)&&(n=Math.min(Math.max(n,0),s.dimY),this.coordA[1]=this.coordZ[1]=n,this.transform());var r=i.clone(c.state.values);r[o]=n,c.setState({values:r}),c.changeAndTrack({values:r}),f(o,n)}),f(o,a),t},setupLine:function(e,t,n){var r=this,o=this.props.apiOptions.isMobile,a=this,s=n,l=a.graphie,c=e+(o?.4:1);return o?!function(){var o=n.scaleY/a.props.snapsPerLine;s.graph.points[e]=p.addMaybeMobileMovablePoint(r,{coord:[c,t],constraints:[function(e,t,i){return[c,r._clampValue(Math.round(e[1]/o)*o,0,n.dimY)]}],onMove:function(){var t=s.graph.points[e].coord()[1],n=i.clone(a.state.values);n[e]=t,a.setState({values:n}),a.changeAndTrack({values:n}),a._updateDragPrompt(n)}}),a._updateDragPrompt(a.state.values),e>0&&(s.graph.lines[e]=p.addMovableLine(l,{points:[s.graph.points[e-1],s.graph.points[e]],constraints:p.MovablePoint.constraints.fixed(),normalStyle:{stroke:u.BLUE_C,"stroke-width":2},highlightStyle:{stroke:u.BLUE_C,"stroke-width":2}}))}():(s.graph.points[e]=l.addMovablePoint({coord:[c,t],constraints:{constrainX:!0},normalStyle:{fill:u.INTERACTIVE,stroke:u.INTERACTIVE},snapY:s.scaleY/a.props.snapsPerLine}),s.graph.points[e].onMove=function(t,n){n=Math.min(Math.max(n,0),s.dimY);var r=i.clone(a.state.values);return r[e]=n,a.setState({values:r}),a.changeAndTrack({values:r}),[t,n]},e>0&&(s.graph.lines[e]=l.addMovableLineSegment({pointA:s.graph.points[e-1],pointZ:s.graph.points[e],constraints:{fixed:!0},normalStyle:{stroke:"#9ab8ed","stroke-width":2}}))),c},setupDotplot:function(e,t){var n=this,r=this.graphie,o=this.props.apiOptions.isMobile;return this.setupTiledPlot(e,o?.5:1,t,function(e,t){return r.ellipse([e,t],[n.DOT_PLOT_POINT_SIZE()/r.scale[0],n.DOT_PLOT_POINT_SIZE()/r.scale[1]],{fill:u.INTERACTIVE,stroke:u.INTERACTIVE})})},setupPic:function(e,t){var n=this,r=this.graphie;return this.setupTiledPlot(e,0,t,function(e,t){var o=r.scalePoint([e,t]),i=n.props.picSize;return r.raphael.image(n.props.picUrl,o[0]-i/2,o[1]-i/2,i,i)})},setupTiledPlot:function(e,t,n,r){var o=this,a=n,s=o.graphie,l=s.pics,u=s.dotTicks,c=e+.5+a.picPad;l[e]=[],u[e]=[];var p=Math.round(a.dimY/a.scaleY)+1;return i(p).times(function(n){n-=1;var i=(n+.5)*a.scaleY,p=c-a.picBoxWidth/2,h=i+.5*a.scaleY,d=s.scalePoint([p,h+t]),f=s.mouselayer.rect(d[0],d[1],a.picBoxWidthPx,a.picBoxHeight);$(f[0]).css({fill:"#000",opacity:0,cursor:"pointer"}).on("vmousedown",function(n){n.preventDefault(),o.whichPicClicked=e,o.setPicHeight(e,h),$(document).on("vmouseup.plotTile",function(e){$(document).unbind(".plotTile")}),$(document).on("vmousemove.plotTile",function(e){e.preventDefault();var n=s.getMouseCoord(e)[1],r=Math.floor(n-t),i=Math.max(-1,Math.floor(r/a.scaleY)),l=(i+.5)*a.scaleY,u=l+.5*a.scaleY;o.setPicHeight(o.whichPicClicked,u)})}),n<0||(l[e][n]=r(c,i+t),u[e][n]=s.ellipse([c,i+t],[o.DOT_TICK_POINT_SIZE()/s.scale[0],o.DOT_TICK_POINT_SIZE()/s.scale[1]],{fill:"#dee1e3",stroke:"#dee1e3"}))}),c},setPicHeight:function(e,t){var n=i.clone(this.state.values);n[e]=t,this.drawPicHeights(n,this.state.values),this.setState({values:n}),this.changeAndTrack({values:n})},changeAndTrack:function(e){this.props.onChange(e),this.props.trackInteraction()},drawPicHeights:function(e,t){var n=this,r=n.graphie,o=r.pics,a=this.props.apiOptions.isMobile;if(a){var s=e.every(function(e){return 0===e});r.dotPrompt[0].style.display=s?"inline":"none"}i.each(o,function(o,s){i.each(o,function(o,i){var l=(i+1)*n.props.scaleY,u=l<=e[s];if(n.props.type===v){var c=l<=t[s],p=u&&!c;p&&o.animate({"stroke-width":8},75,function(){return o.animate({"stroke-width":2},75)})}$(o[0]).css({display:u?"inline":"none"}),r.dotTicks[s][i][0].style.display=u||!a?"none":"inline"})})},getUserInput:function(){return this.state.values},simpleValidate:function(e){return y.validate(this.getUserInput(),e)}}));i.extend(y,{validate:function(e,t){return s(e,t.starting)?{type:"invalid",message:null}:{type:"points",earned:s(e,t.correct)?1:0,total:1,message:null}}});var b=i.identity;e.exports={name:"plotter",displayName:"Plotter",widget:y,staticTransform:b}},function(e,t,n){"use strict";function r(e,t,n){var r=s.clone(e);r.length=t;for(var o=e.length;o<t;o++)r[o]=n;return r}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(54),a=n(58),s=n(55),l=n(108),u=n(96),c=n(111),p=n(215),h=n(38),d=n(89),f=n(161).widget,m=n(201).knumber,g="bar",v="line",y="pic",b="histogram",x="dotplot",E={scaleY:1,maxY:10,snapsPerLine:2},w={type:i.PropTypes.oneOf([g,v,y,b,x]),labels:i.PropTypes.arrayOf(i.PropTypes.string),categories:i.PropTypes.arrayOf(i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string])),scaleY:i.PropTypes.number,maxY:i.PropTypes.number,snapsPerLine:i.PropTypes.number,picSize:i.PropTypes.number,pixBoxHeight:i.PropTypes.number,picUrl:i.PropTypes.string,plotDimensions:i.PropTypes.arrayOf(i.PropTypes.number),labelInterval:i.PropTypes.number,starting:i.PropTypes.arrayOf(i.PropTypes.number),static:i.PropTypes.bool},T=function(e){return"$"+m.round(e,2)+"$"},C=i.createClass({displayName:"PlotterEditor",propTypes:w,getDefaultProps:function(){return s.extend({},E,{correct:[1],starting:[1],type:g,labels:["",""],categories:[""],picSize:30,picBoxHeight:36,picUrl:Khan.imageBase+"badges/earth-small.png",plotDimensions:[275,200],labelInterval:1})},getInitialState:function(){return{editing:"correct",pic:null,loadedUrl:null,minX:null,maxX:null,tickStep:null}},componentWillMount:function(){this.fetchPic(this.props.picUrl)},componentWillReceiveProps:function(e){this.fetchPic(e.picUrl)},fetchPic:function(e){var t=this;if(this.state.loadedUrl!==e){var n=new Image;n.src=e,n.onload=function(){t.setState({pic:n,loadedUrl:e})}}},render:function(){var e=s.contains([v,b,x],this.props.type),t=!s.contains([y,x],this.props.type),n=o({trackInteraction:function(){}},this.props);return i.createElement("div",{className:"perseus-widget-plotter-editor"},i.createElement("div",null,"Chart type:"," ",s.map([g,v,y,b,x],function(e){return i.createElement("label",{key:e},i.createElement("input",{type:"radio",name:"chart-type",checked:this.props.type===e,onChange:s.partial(this.changeType,e)}),e)},this)),i.createElement("div",null,"Labels:"," ",s.map(["x","y"],function(e,t){return i.createElement("label",{key:e},e+":",i.createElement("input",{type:"text",onChange:s.partial(this.changeLabel,t),defaultValue:this.props.labels[t]}))},this)),e&&i.createElement("div",{className:"set-from-scale-box"},i.createElement("span",{className:"categories-title"},"Set Categories From Scale"),i.createElement("div",null,i.createElement("label",null,"Tick Step:"," ",i.createElement(c,{placeholder:1,useArrowKeys:!0,value:this.state.tickStep,onChange:this.handleChangeTickStep})),i.createElement(u,null,i.createElement("p",null,"The difference between adjacent ticks."))),i.createElement("div",null,i.createElement("label",null,"Range:"," ",i.createElement(p,{placeholder:[0,10],useArrowKeys:!0,value:[this.state.minX,this.state.maxX],onChange:this.handleChangeRange}))),i.createElement("div",null,i.createElement("button",{onClick:this.setCategoriesFromScale},"Set Categories"," "))),i.createElement("div",null,i.createElement("label",null,"Label Interval:"," ",i.createElement(c,{useArrowKeys:!0,value:this.props.labelInterval,onChange:this.changeLabelInterval})),i.createElement(u,null,i.createElement("p",null,'Which ticks to display the labels for. For instance, setting this to "4" will only show every 4th label (plus the last one)'))),this.props.type===y&&i.createElement("div",null,i.createElement("label",null,"Picture:"," ",i.createElement(l,{className:"pic-url",value:this.props.picUrl,onChange:this.changePicUrl}),i.createElement(u,null,i.createElement("p",null,'Use the default picture of Earth, or insert the URL for a different picture using the "Add image" function.'))),this.state.pic&&this.state.pic.width!==this.state.pic.height&&i.createElement("p",{className:"warning"},i.createElement("b",null,"Warning"),": You are using a picture which is not square.  This means the image will get distorted. You should probably crop it to be square.")),i.createElement("div",null,i.createElement("label",null,"Categories:"," ",i.createElement(d,{ref:"categories",layout:"horizontal",options:this.props.categories,onChange:this.changeCategories}))),i.createElement("div",null,i.createElement("label",null,"Scale (y):"," ",i.createElement("input",{type:"text",onChange:this.changeScale,defaultValue:this.props.scaleY}))),i.createElement("div",null,i.createElement("label",null,"Max y:"," ",i.createElement("input",{type:"text",ref:"maxY",onChange:this.changeMax,defaultValue:this.props.maxY}))),t&&i.createElement("div",null,i.createElement("label",null,"Snaps per line:"," ",i.createElement("input",{type:"text",onChange:this.changeSnaps,defaultValue:this.props.snapsPerLine})),i.createElement(u,null,i.createElement("p",null,"Creates the specified number of divisions between the horizontal lines. Fewer snaps between lines makes the graph easier for the student to create correctly."))),i.createElement("div",null,"Editing values:"," ",s.map(["correct","starting"],function(e){return i.createElement("label",{key:e},i.createElement("input",{type:"radio",name:"editing",checked:this.state.editing===e,onChange:s.partial(this.changeEditing,e)}),e)},this),i.createElement(u,null,i.createElement("p",null,"Use this toggle to switch between editing the correct answer (what the student will be graded on) and the starting values (what the student will see plotted when they start the problem). Note: These cannot be the same."),i.createElement("p",null,"In static mode, the starting values are rendered out to the displayed widget."))),i.createElement(f,o({},n,{starting:this.props[this.state.editing],onChange:this.handlePlotterChange})))},handleChangeTickStep:function(e){this.setState({tickStep:e})},handleChangeRange:function(e){this.setState({minX:e[0],maxX:e[1]})},changeLabelInterval:function(e){this.props.onChange({labelInterval:e})},handlePlotterChange:function(e){var t={};t[this.state.editing]=e.values,this.props.onChange(t)},changeType:function(e){var t;e===b?(t=[T(0)].concat(this.props.categories),this.props.onChange({type:e,categories:t})):this.props.type===b?(t=this.props.categories.slice(1),this.props.onChange({type:e,categories:t})):this.props.onChange({type:e}),t&&(a.findDOMNode(this.refs.categories).value=t.join(", "))},changeLabel:function(e,t){var n=s.clone(this.props.labels);n[e]=t.target.value,this.props.onChange({labels:n})},changePicUrl:function(e){var t=h.getRealImageUrl(e);this.props.onChange({picUrl:t})},changeCategories:function(e){var t=e.length;this.props.type===b&&t--;var n=this.props.scaleY;this.props.onChange({categories:e,correct:r(this.props.correct,t,n),starting:r(this.props.starting,t,n)})},changeScale:function(e){var t=this.props.scaleY,n=+e.target.value||E.scaleY,r=function(e){return e*n/t},o=r(this.props.maxY);this.props.onChange({scaleY:n,maxY:o,correct:s.map(this.props.correct,r),starting:s.map(this.props.starting,r)}),a.findDOMNode(this.refs.maxY).value=o},changeMax:function(e){this.props.onChange({maxY:+e.target.value||E.maxY})},changeSnaps:function(e){this.props.onChange({snapsPerLine:+e.target.value||E.snapsPerLine})},changeEditing:function(e){this.setState({editing:e})},setCategoriesFromScale:function(){var e,t=this.state.tickStep||1,n=this.state.minX||0,r=this.state.maxX||0,o=Math.floor((r-n)/t)*t;e=this.props.type===b||this.props.type===x?s.range(0,o+t,t):s.range(t,o+t,t),e=s.map(e,function(e){return e+n}),e=s.map(e,T),this.changeCategories(e),a.findDOMNode(this.refs.categories).value=e.join(", ")},serialize:function(){var e=s.pick(this.props,"correct","starting","type","labels","categories","scaleY","maxY","snapsPerLine","labelInterval");return this.props.type===y&&(e.picUrl=this.props.picUrl),e}});e.exports=C},function(e,t,n){"use strict";var r=n(54),o=n(149).molecule,i=r.createClass({displayName:"Separator",propTypes:{data:r.PropTypes.any,index:r.PropTypes.number},componentDidMount:function(){this.drawArrow()},componentDidUpdate:function(){this.drawArrow()},arrowLength:100,drawArrow:function(){var e=this.refs["arrowCanvas"+this.props.index],t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);var n=new Path2D;t.strokeStyle="rgb(0,0,0)",t.lineWidth=1.2,t.lineCap="round";var r=5;n.moveTo(r,e.height/2),n.lineTo(e.width-r,e.height/2),n.moveTo(e.width-2*r,e.height/2-r),n.lineTo(e.width-r,e.height/2),n.moveTo(e.width-2*r,e.height/2+r),n.lineTo(e.width-r,e.height/2),t.stroke(n)},render:function(){return r.createElement("div",{className:"arrow-container"},r.createElement("div",{className:"above-text"},this.props.data.topText),r.createElement("canvas",{height:"30",id:"arrowCanvas"+this.props.index,ref:"arrowCanvas"+this.props.index,width:this.arrowLength},"Reaction arrow pointing to the right."),r.createElement("div",{className:"below-text"},this.props.data.bottomText))}}),a=r.createClass({displayName:"ReactionDiagramWidget",propTypes:{rotationAngle:r.PropTypes.arrayOf(r.PropTypes.number),separators:r.PropTypes.arrayOf(r.PropTypes.object),smiles:r.PropTypes.arrayOf(r.PropTypes.string),widgetId:r.PropTypes.string},getDefaultProps:function(){return{smiles:[],rotationAngle:[],separators:[]}},simpleValidate:function(){return{type:"points",earned:0,total:0,message:null}},getUserInput:function(){return[]},validate:function(e,t){return{type:"points",earned:0,total:0,message:null}},focus:function(){return!0},render:function(){var e=this;return r.createElement("div",{className:"reaction",ref:"reaction"},this.props.smiles.map(function(t,n){var a=e.props.widgetId+"-"+n;return r.createElement("div",{key:a,className:"molecule-container"},r.createElement(o,{id:a,rotationAngle:e.props.rotationAngle[n],smiles:t}),n===e.props.smiles.length-1?null:r.createElement(i,{data:e.props.separators[n],index:n}))}))}});e.exports={name:"reaction-diagram",displayName:"Chemical reaction",hidden:!1,widget:a}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(103),a=n(109),s=n(111),l=n(112),u=o.createClass({displayName:"ReactionDiagramWidgetEditor",propTypes:{rotationAngle:o.PropTypes.arrayOf(o.PropTypes.number),separators:o.PropTypes.arrayOf(o.PropTypes.object),smiles:o.PropTypes.arrayOf(o.PropTypes.string)},mixins:[i,a],getDefaultProps:function(){return{smiles:["",""],rotationAngle:[0,0],separators:[{type:"right",topText:"",bottomText:""}]}},updateMolecule:function(e){return function(t){var n=[].concat(this.props.smiles);n[e]=t,this.change({smiles:n})}.bind(this)},updateRotation:function(e){return function(t){var n=[].concat(this.props.rotationAngle);n[e]=t,this.change({rotationAngle:n})}.bind(this)},updateSeparators:function(e,t){var n=this;return function(o){var i=n.props.separators.map(function(e){return r({},e)});i[e][t]=o,n.change({separators:i})}},render:function(){return o.createElement("div",null,o.createElement("div",null,o.createElement("label",null,"LHS SMILES: ",o.createElement(l,{onChange:this.updateMolecule(0),value:this.props.smiles[0]}))),o.createElement("div",null,o.createElement("label",null,"LHS Rotation (deg): ",o.createElement(s,{onChange:this.updateRotation(0),value:this.props.rotationAngle[0]}))),o.createElement("div",null,o.createElement("label",null,"RHS SMILES: ",o.createElement(l,{onChange:this.updateMolecule(1),value:this.props.smiles[1]}))),o.createElement("div",null,o.createElement("label",null,"RHS Rotation (deg): ",o.createElement(s,{onChange:this.updateRotation(1),value:this.props.rotationAngle[1]}))),o.createElement("div",null,o.createElement("label",null,"Top of arrow text: ",o.createElement(l,{onChange:this.updateSeparators(0,"topText"),value:this.props.separators[0].topText}))),o.createElement("div",null,o.createElement("label",null,"Bottom of arrow text: ",o.createElement(l,{onChange:this.updateSeparators(0,"bottomText"),value:this.props.separators[0].bottomText}))))}});e.exports=u},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(55),a=n(10).Options,s=n(103),l=n(40),u=l.iconOk,c=n(41),p=n(32),h=n(11),d=o.createClass({displayName:"Sequence",mixins:[s],propTypes:{apiOptions:a.propTypes,json:o.PropTypes.arrayOf(o.PropTypes.shape({content:o.PropTypes.string,images:o.PropTypes.object,widgets:o.PropTypes.object})),trackInteraction:o.PropTypes.func.isRequired},getDefaultProps:function(){return{json:[{content:"",widgets:{},images:{}}]}},getInitialState:function(){return{visible:1}},shouldComponentUpdate:function(e,t){return e!==this.props||t!==this.state},render:function(){var e=this,t=o.createElement(c,r({},u,{style:{color:"green"}})),n=i.chain(this.props.json).first(this.state.visible).map(function(e,t){return"[["+h.snowman+" group "+t+"]]"}).join("\n\n").value(),a={};return i.each(this.props.json,function(n,r){var o="group "+r;a[o]={type:"group",graded:!0,version:{major:0,minor:0},options:i.extend({},n,{icon:r<e.state.visible-1?t:null})}}),o.createElement("div",{className:"perseus-sequence"},o.createElement(p,{ref:"renderer",content:n,widgets:a,onInteractWithWidget:this._handleInteraction,apiOptions:this.props.apiOptions}))},_handleInteraction:function(e){var t=parseInt(e.split(" ")[1]);if(t===this.state.visible-1){var n=this.refs.renderer.getWidgetInstance("group "+t),r=n.simpleValidate();"points"===r.type&&r.total===r.earned&&(this.setState({visible:this.state.visible+1}),this.props.trackInteraction({visible:this.state.visible+1}))}}}),f=function(e,t){var n=e.json;i.isArray(n)||(n=[n]);var r=i.map(n,function(e){return t(e)});return i.extend({},e,{json:r})};e.exports={name:"sequence",displayName:"Graded Sequence",widget:d,traverseChildWidgets:f,tracking:"all"}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(10).Options,a=n(18),s=n(40),l=s.iconCircleArrowDown,u=s.iconCircleArrowUp,c=s.iconPlus,p=s.iconTrash,h=n(41),d=r.createClass({displayName:"StepControlButton",render:function(){var e=this;return r.createElement("a",{href:"#",className:"step-control-button simple-button simple-button--small orange",onClick:function(t){t.preventDefault(),e.props.onClick()}},r.createElement(h,this.props.icon))}}),f=r.createClass({displayName:"SequenceEditor",propTypes:{json:r.PropTypes.arrayOf(r.PropTypes.shape({content:r.PropTypes.string,widgets:r.PropTypes.object,images:r.PropTypes.object})),apiOptions:i.propTypes,onChange:r.PropTypes.func.isRequired},getDefaultProps:function(){return{json:[{content:"",widgets:{},images:{}}]}},render:function(){var e=this;return r.createElement("div",{className:"perseus-sequence-editor"},o.map(this.props.json,function(t,n){return r.createElement("div",{key:n},"Step ",n+1,r.createElement("div",{style:{display:"inline-block",float:"right"}},n+1<e.props.json.length&&r.createElement(d,{icon:l,onClick:function(){e._handleMoveStepLater(n)}}),n>0&&r.createElement(d,{icon:u,onClick:function(){e._handleMoveStepEarlier(n)}}),r.createElement(d,{icon:p,onClick:function(){var t="Are you sure you want to remove step "+(n+1)+"?";confirm(t)&&e._handleRemoveStep(n)}}),r.createElement(d,{icon:c,onClick:function(){e._handleAddStepAfter(n)}})),r.createElement(a,{ref:"editor"+n,apiOptions:e.props.apiOptions,content:t.content,widgets:t.widgets,images:t.images,widgetEnabled:!0,immutableWidgets:!1,onChange:o.partial(e._handleEditorChange,n)}))}))},_handleEditorChange:function(e,t){var n=o.clone(this.props.json);n[e]=o.extend({},n[e],t),this.props.onChange({json:n})},serialize:function(){var e=this;return{json:o.times(this.props.json.length,function(t){return e.refs["editor"+t].serialize()})}},_handleMoveStepEarlier:function(e){if(0!==e){var t=o.clone(this.props.json),n=t[e];t.splice(e,1),t.splice(e-1,0,n),this.props.onChange({json:t})}},_handleMoveStepLater:function(e){var t=o.clone(this.props.json);if(e+1!==t.length){var n=t[e];t.splice(e,1),t.splice(e+1,0,n),this.props.onChange({json:t})}},_handleAddStepAfter:function(e){var t=o.clone(this.props.json),n=e>=0?{widgets:t[e].widgets}:{};t.splice(e+1,0,n),this.props.onChange({json:t})},_handleRemoveStep:function(e){var t=o.clone(this.props.json);t.splice(e,1),this.props.onChange({json:t})}});e.exports=f},function(e,t,n){"use strict";var r=n(96),o=n(54),i=n(58),a=n(55),s=n(103),l=n(10).Options,u=n(191).assert,c=n(92),p=c.Path,h=c.Arc,d=(c.Circle,c.Label),f=c.Line,m=c.MovablePoint,g=c.MovableLine,v=n(111),y=n(203),b=(n(11).seededRNG,n(11)),x=n(201).number,E=n(211),w=n(90),T=400,C=1e3,S=o.createClass({displayName:"Histogram",propTypes:{data:o.PropTypes.arrayOf(o.PropTypes.number),xAxisLabel:o.PropTypes.string,yAxisLabel:o.PropTypes.string,box:o.PropTypes.arrayOf(o.PropTypes.number)},getDefaultProps:function(){return{data:null,xAxisLabel:"Proportion (%)",yAxisLabel:"Number of times seen",box:[T,T]}},getInitialState:function(){return{threshold:this._getInitialThreshold(this._range())}},componentWillReceiveProps:function(e){var t=this._range(),n=this._range(e);b.deepEq(t,n)||this.setState({threshold:this._getInitialThreshold(n)})},_renderThresholdLine:function(){var e=this,t=[0,this._range()[1][1]],n=a.map(t,function(t){return[e.state.threshold,t]}),r=function(e,t){return o.createElement(m,{key:t,static:!0,coord:e,normalStyle:{stroke:"none",fill:"none"}})};return o.createElement(g,{onMove:this.handleMouseInteraction},a.map(n,r))},_renderCircle:function(){var e=this,t=this.props.data,n=a.reduce(t,function(e,t){return e+t},0),r=a.reduce(t,function(t,n,r){return null!=e.state.threshold&&r<=e.state.threshold?t+n:t},0),i=r/n,s=1e-5,l=20,u=[this.props.box[0]-1.5*l,1.5*l],c=function(){var e={key:"below",center:u,radius:l,startAngle:0,endAngle:i<1?360*i:360-s,sector:1!==i,unscaled:!0,style:{fill:E.LIGHT_RED,stroke:E.RED}};return o.createElement(h,e)},p=function(){var e={key:"above",center:u,radius:l,startAngle:i>0?360*i:s,endAngle:360,sector:0!==i,unscaled:!0,style:{fill:E.LIGHT_BLUE,stroke:E.BLUE}};return o.createElement(h,e)},f=this._range()[0],m=Math.min(Math.max(this.state.threshold,f[0]),f[1]).toFixed(2),g=function(){var e={key:"label",coord:[u[0],u[1]+1.5*l],text:r+" of "+n+" results below "+m+"%",direction:"center",tex:!1,unscaled:!0,style:{fontSize:"12px"}};return o.createElement(d,e)};return[i>0&&c(),i<1&&p(),g()]},_renderData:function(){var e=this,t=this.props.data,n=(this._range(),1),r=function(t,r){if(t){var i=null!=e.state.threshold&&r<=e.state.threshold,a={fill:i?E.LIGHT_RED:E.LIGHT_BLUE,stroke:i?E.RED:E.BLUE},s=[[r,0],[r,t],[r+n,t],[r+n,0]];return o.createElement(p,{key:r,coords:s,style:a})}};return a.map(t,r)},render:function(){var e=this.props.data,t=this._range(),n={xAxisLabel:this.props.xAxisLabel,yAxisLabel:this.props.yAxisLabel,box:this.props.box,range:t,data:e,scale:[b.scaleFromExtent(t[0],this.props.box[0]),b.scaleFromExtent(t[1],this.props.box[1])]},r={stroke:"#000",strokeWidth:1,opacity:1},i=[t[0][0],0],a=[t[0][1],0];return o.createElement(c,{box:n.box,range:n.range,options:n,setup:this._setupGraphie,onMouseMove:this.handleMouseInteraction,onMouseDown:this.handleMouseInteraction,setDrawingAreaAvailable:this.props.setDrawingAreaAvailable},o.createElement(f,{start:i,end:a,style:r}),e&&this._renderData(),e&&this._renderCircle(),e&&this._renderThresholdLine())},_setupGraphie:function(e,t){var n=t.data,r=t.range,o=t.scale,i=r[0][1]-r[0][0],s=r[1][1]-0,l=20,u=Math.ceil(s/l);if(a.each(a.range(0,r[1][1],u),function(t){n&&e.label([r[0][0],t],w.roundToApprox(t,2),"left",!0),e.line([r[0][0],t],[r[0][1],t],{stroke:"#000",strokeWidth:1,opacity:.3})}),n){var c=15,p=Math.ceil(i/c);a.each(a.range(r[0][0],r[0][1],p),function(t){e.label([t,0],x.round(t,2),"below",!0);var n=8;e.line([t,0],[t,-n/o[1]],{stroke:"#000",strokeWidth:1})})}var h={stroke:"#000",strokeWidth:2,opacity:1},d=[r[0][0],0],f=[r[0][0],r[1][1]];e.line(d,f,h);var m=r[0][0]+i/2,g=n?25:0;e.label([m,-g/o[1]],t.xAxisLabel,"below",!1).css("font-weight","bold");var v=0+s/2,y=n?55:28;e.label([r[0][0]-y/o[0],v],t.yAxisLabel,"center",!1).css("font-weight","bold").css("-webkit-transform","rotate(-90deg)")},handleMouseInteraction:function(e){this.setState({threshold:e[0]})},_range:function(e){var t=[[0,100],[-1,10]];return e=e||this.props,e.data?this._getRangeForData(e.data):t},_getRangeForData:function(e){var t=10,n=a.indexOf(e,a.find(e,function(e){return e>0})),r=Math.max(0,n-t),o=a.lastIndexOf(e,a.last(a.filter(e,function(e){return e>0}))),i=Math.min(101,o+1+t),s=-1,l=a.max(e);return[[r,i],[s,l]]},_getInitialThreshold:function(e){var t=e[0];return t[0]+(t[1]-t[0])/3}}),k=o.createClass({displayName:"Simulator",mixins:[s],propTypes:{apiOptions:l.propTypes,data:o.PropTypes.arrayOf(o.PropTypes.number),numTrials:o.PropTypes.number,proportionLabel:o.PropTypes.string,proportionOrPercentage:o.PropTypes.string,randomSeed:o.PropTypes.number,sampleSize:o.PropTypes.number,trackInteraction:o.PropTypes.func.isRequired,userProportion:o.PropTypes.number,xAxisLabel:o.PropTypes.string,yAxisLabel:o.PropTypes.string},getInitialState:function(){return{invalidInput:!1}},getDefaultProps:function(){return{data:null,userProportion:null,sampleSize:null,numTrials:null,randomSeed:0,xAxisLabel:"Proportion (%)",yAxisLabel:"Number of times seen",proportionLabel:"Underlying proportion",proportionOrPercentage:"proportion",apiOptions:l.defaults}},componentWillMount:function(){null!=this.props.randomSeed&&(this.generateNumber=b.seededRNG(this.props.randomSeed))},componentWillReceiveProps:function(e){e.randomSeed!==this.props.randomSeed&&(this.generateNumber=b.seededRNG(e.randomSeed))},render:function(){var e=this,t={marginLeft:"5px"},n="0px 0px 0px 2px rgba(255, 165, 0, 1)",i=a.extend({},t,{WebkitBoxShadow:n,MozBoxShadow:n,boxShadow:n,transition:"all 0.15s"}),s=a.extend({},t,{transition:"all 0.15s"}),l=this.state.invalidInput?i:s,u=this.props.apiOptions.staticRender?y:v,c=o.createElement("div",null,o.createElement(u,{ref:"userProportion",style:l,value:this.calculateDisplayProportion(),checkValidity:this.checkProportionValidity,disabled:this.props.apiOptions.readOnly,onChange:this.handleUserProportionChange,onFocus:function(){return e.props.onFocus(["userProportion"])},onBlur:function(){return e.props.onBlur(["userProportion"])}}),o.createElement(r,null,o.createElement("p",null,"This controls the proportion or percentage that will be used in your simulation."))),p=o.createElement("div",null,o.createElement(u,{ref:"sampleSize",style:l,value:this.props.sampleSize,checkValidity:function(e){return e>=0},disabled:this.props.apiOptions.readOnly,onChange:this.handleSampleSizeChange,onFocus:function(){return e.props.onFocus(["sampleSize"])},onBlur:function(){return e.props.onBlur(["sampleSize"])}}),o.createElement(r,null,o.createElement("p",null,"This controls the sample size that will be used in your simulation. For example, if you set this to 100, then for each trial, responses from 100 participants will be simulated."))),h=o.createElement("div",{style:{textAlign:"right"}},o.createElement("b",null,this.props.numTrials),o.createElement(r,null,o.createElement("p",null,"This is the number of trials used in the simulation. For example, if set to 50, then the survey will be conducted 50 times."))),d=function(e){var t=o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Parameter"),o.createElement("th",null,"Value"))),n=o.createElement("tbody",null,a.map(e,function(e,t){return o.createElement("tr",{key:t},o.createElement("td",null,e.title),o.createElement("td",null,e.value))}));return o.createElement("table",null,t,n)},f=[{title:this.props.proportionLabel+":",value:c},{title:"Sample size:",value:p},{title:"Number of trials:",value:h}],m={margin:"20px 0"},g=o.createElement("button",{className:"simple-button",style:m,disabled:this.props.apiOptions.readOnly,onClick:this.handleRunSimulation},i18n._("Run simulation")),b={paddingBottom:this.props.data?40:0},x=o.createElement("div",{style:b},o.createElement(S,{data:this.props.data,xAxisLabel:this.props.xAxisLabel,yAxisLabel:this.props.yAxisLabel,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable
}));return o.createElement("div",null,d(f),g,x)},calculateDisplayProportion:function(){var e=this.props.userProportion;return"percentage"===this.props.proportionOrPercentage?Math.round(100*e):e},checkProportionValidity:function(e){return e>=0&&"proportion"===this.props.proportionOrPercentage&&e<=1||"percentage"===this.props.proportionOrPercentage&&e<=100},handleUserProportionChange:function(e,t){var n;n="percentage"===this.props.proportionOrPercentage?e/100:e,null!=n&&(n=Math.min(1,Math.max(0,n))),this.props.onChange({userProportion:n},t)},handleSampleSizeChange:function(e,t){null!=e&&(e=Math.min(C,Math.max(0,Math.floor(e)))),this.props.onChange({sampleSize:e},t)},handleRunSimulation:function(){return null==this.props.numTrials||null==this.props.userProportion||null==this.props.sampleSize?void this.setState({invalidInput:!0}):(this.setState({invalidInput:!1}),this.props.onChange({data:this.generateData()}),void this.props.trackInteraction())},generateData:function(e){var t=this;e=e||this.props;var n=function(e,n,r){var o=function(){return t.generateNumber()<r},i=a.times(101,function(){return 0});return a.times(n,function(){var t=a.times(e,o),n=a.filter(t,a.identity).length,r=Math.floor(100*n/e);i[r]++}),i};return n(e.sampleSize,e.numTrials,e.userProportion)},getInputPaths:function(){return[["userProportion"],["sampleSize"]]},focus:function(){var e=a.head(this.getInputPaths());return this.focusInputPath(e),!0},focusInputPath:function(e){u(e.length>0);var t=a.head(e),n=this.refs[t];n.focus()},blurInputPath:function(e){u(e.length>0);var t=a.head(e),n=this.refs[t];n.blur()},getDOMNodeForPath:function(e){u(e.length>0);var t=a.head(e);return i.findDOMNode(this.refs[t])},getGrammarTypeForPath:function(e){return u(e.length>0),"number"},setInputValue:function(e,t,n){u(e.length>0);var r=a.head(e),o=r.charAt(0).toUpperCase()+r.slice(1),i="handle"+o+"Change";this[i](t,n)},getUserInput:function(){return null},simpleValidate:function(e){return k.validate(this.getUserInput(),e)}});a.extend(k,{validate:function(e,t){return{type:"points",earned:0,total:0,message:null}}});var P=function(e){var t=a.clone(e);return t.randomSeed=e.problemNum,t};e.exports={name:"simulator",displayName:"Simulator",widget:k,transform:P}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(109),s=n(96),l=n(111),u=5e3,c=r.createClass({displayName:"SimulatorEditor",mixins:[i,a],propTypes:{xAxisLabel:r.PropTypes.string,yAxisLabel:r.PropTypes.string,numTrials:r.PropTypes.number,proportionLabel:r.PropTypes.string,proportionOrPercentage:r.PropTypes.string},getDefaultProps:function(){return{xAxisLabel:"Proportion (%)",yAxisLabel:"Number of times seen",numTrials:100,proportionLabel:"Underlying proportion",proportionOrPercentage:"proportion"}},render:function(){return r.createElement("div",{className:"perseus-widget-simulator"},r.createElement("div",null,i18n._("X-Axis Label"),":",r.createElement("input",{type:"text",className:"graph-settings-axis-label",value:this.props.xAxisLabel,onChange:o.partial(this.handleTargetValueChange,"xAxisLabel")})),r.createElement("div",null,i18n._("Y-Axis Label"),":",r.createElement("input",{type:"text",className:"graph-settings-axis-label",value:this.props.yAxisLabel,onChange:o.partial(this.handleTargetValueChange,"yAxisLabel")})),r.createElement("div",null,i18n._('"True Proportion" Label'),":",r.createElement("input",{type:"text",className:"graph-settings-axis-label",value:this.props.proportionLabel,onChange:o.partial(this.handleTargetValueChange,"proportionLabel")}),r.createElement(s,null,r.createElement("p",null,'This text will be displayed next to the box in which the user enters the sample proportion for their simulation. For example, if your question is about surveying for approval ratings, you might want this to say "Sample approval rating".'))),r.createElement("div",null,i18n._("Proportion or Percentage"),":",r.createElement("select",{className:"perseus-widget-dropdown",value:this.props.proportionOrPercentage,onChange:o.partial(this.handleTargetValueChange,"proportionOrPercentage")},r.createElement("option",{key:"proportion",value:"proportion"},"Proportion"),r.createElement("option",{key:"percentage",value:"percentage"},"Percentage")),r.createElement(s,null,r.createElement("p",null,"Do you want the user to describe their simulation in terms of a proportion or a percentage?"))),r.createElement("div",null,i18n._("Number of trials"),":",r.createElement(l,{value:this.props.numTrials,checkValidity:function(e){return e>=0&&e<=u},onChange:this.change("numTrials")}),r.createElement(s,null,r.createElement("p",null,"This controls the number of trials used in the simulation. For example, if you set this to 50, then the survey will be conducted 50 times. Warning: setting this too high (i.e., greater than 5000 or so) will freeze the page."))))},handleTargetValueChange:function(e,t){this.change(e,t.target.value)}});e.exports=c},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(222),a=n(10).Options,s=n(11).shuffle,l="horizontal",u="vertical",c=r.createClass({displayName:"Sorter",propTypes:{apiOptions:a.propTypes,correct:r.PropTypes.array,layout:r.PropTypes.oneOf([l,u]),onChange:r.PropTypes.func,padding:r.PropTypes.bool,problemNum:r.PropTypes.number,trackInteraction:r.PropTypes.func.isRequired},getDefaultProps:function(){return{correct:[],layout:l,padding:!0,problemNum:0,onChange:function(){}}},render:function(){var e=s(this.props.correct,this.props.problemNum,!0),t=this.props.apiOptions.isMobile?8:5;return r.createElement("div",{className:"perseus-widget-sorter perseus-clearfix"},r.createElement(i,{options:e,layout:this.props.layout,margin:t,padding:this.props.padding,onChange:this.handleChange,ref:"sortable"}))},handleChange:function(e){this.props.onChange(e),this.props.trackInteraction()},getUserInput:function(){return{options:this.refs.sortable.getOptions()}},simpleValidate:function(e){return c.validate(this.getUserInput(),e)}});o.extend(c,{validate:function(e,t){var n=o.isEqual(e.options,t.correct);return{type:"points",earned:n?1:0,total:1,message:null}}}),e.exports={name:"sorter",displayName:"Sorter",widget:c}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(96),a=n(46),s=n(89),l="horizontal",u="vertical",c=r.createClass({displayName:"SorterEditor",propTypes:{correct:r.PropTypes.array,layout:r.PropTypes.oneOf([l,u]),padding:r.PropTypes.bool},getDefaultProps:function(){return{correct:["$x$","$y$","$z$"],layout:l,padding:!0}},render:function(){var e=this;return r.createElement("div",null,r.createElement("div",null," ","Correct answer:"," ",r.createElement(i,null,r.createElement("p",null,"Enter the correct answer (in the correct order) here. The preview on the right will have the cards in a randomized order, which is how the student will see them."))),r.createElement(s,{options:this.props.correct,onChange:function(t,n){e.props.onChange({correct:t},n)},layout:this.props.layout}),r.createElement("div",null,r.createElement("label",null," ","Layout:"," ",r.createElement("select",{value:this.props.layout,onChange:this.onLayoutChange},r.createElement("option",{value:l},"Horizontal"),r.createElement("option",{value:u},"Vertical"))),r.createElement(i,null,r.createElement("p",null,"Use the horizontal layout for short text and small images. The vertical layout is best for longer text and larger images."))),r.createElement("div",null,r.createElement(a,{label:"Padding:",padding:this.props.padding,onChange:this.props.onChange}),r.createElement(i,null,r.createElement("p",null,"Padding is good for text, but not needed for images."))))},onLayoutChange:function(e){this.props.onChange({layout:e.target.value})},serialize:function(){return o.pick(this.props,"correct","layout","padding")}});e.exports=c},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=n(203),s=n(32),l=n(11),u=n(10).Options,c=n(37),p=n(191).assert,h=function(e,t){return[""+e,""+t]},d=function(){return h(0,0)},f=function(e){return p(i.isArray(e)&&2===e.length),+e[0]},m=function(e){return p(i.isArray(e)&&2===e.length),+e[1]},g=function(e){var t=f(e),n=m(e);return"answer"+t+","+n},v=r.createClass({displayName:"Table",propTypes:{answers:r.PropTypes.arrayOf(r.PropTypes.arrayOf(r.PropTypes.string)),editableHeaders:r.PropTypes.bool,Editor:r.PropTypes.func,headers:r.PropTypes.arrayOf(r.PropTypes.string),trackInteraction:r.PropTypes.func.isRequired},getDefaultProps:function(){var e=4,t=1,n=i(e).times(function(){return l.stringArrayOfSize(t)});return{apiOptions:u.defaults,headers:[""],editableHeaders:!1,rows:e,columns:t,answers:n}},_getRows:function(){return this.props.answers.length},_getColumns:function(){return this.props.answers[0].length},render:function(){var e,t=this,n=this._getRows(),o=this._getColumns(),l=this.props.headers;return e=this.props.apiOptions.staticRender?a:"input",r.createElement("table",{className:"perseus-widget-table-of-values non-markdown"},r.createElement("thead",null,r.createElement("tr",null,i.map(l,function(e,n){return t.props.editableHeaders?r.createElement("th",{key:n},r.createElement(t.props.Editor,{ref:"columnHeader"+n,apiOptions:t.props.apiOptions,content:e,widgetEnabled:!1,onChange:i.partial(t.onHeaderChange,n)})):r.createElement("th",{key:n},r.createElement(s,{content:e}))}))),r.createElement("tbody",null,i(n).times(function(n){return r.createElement("tr",{key:n},i(o).times(function(o){return r.createElement("td",{key:o},r.createElement(e,{ref:g(h(n,o)),type:"text",value:t.props.answers[n][o],disabled:t.props.apiOptions.readOnly,onFocus:i.partial(t._handleFocus,h(n,o)),onBlur:i.partial(t._handleBlur,h(n,o)),onChange:i.partial(t.onValueChange,n,o)}))}))})))},getUserInput:function(){return i.map(this.props.answers,i.clone)},onValueChange:function(e,t,n){var r=i.map(this.props.answers,i.clone);r[e][t]=n.target.value,this.props.onChange({answers:r}),this.props.trackInteraction()},onHeaderChange:function(e,t){var n=this.props.headers.slice();n[e]=t.content,this.props.onChange({headers:n})},simpleValidate:function(e){return v.validate(this.getUserInput(),e)},_handleFocus:function(e){this.props.onFocus(e)},_handleBlur:function(e){this.props.onBlur(e)},focus:function(){return this.focusInputPath(d()),!0},focusInputPath:function(e){var t=g(e),n=this.refs[t];this.props.apiOptions.staticRender?n.focus():o.findDOMNode(n).focus()},blurInputPath:function(e){var t=g(e),n=this.refs[t];this.props.apiOptions.staticRender?n.blur():o.findDOMNode(n).blur()},getDOMNodeForPath:function(e){var t=g(e);return o.findDOMNode(this.refs[t])},getInputPaths:function(){var e=this._getRows(),t=this._getColumns(),n=[];return i(e).times(function(e){i(t).times(function(t){var r=h(e,t);n.push(r)})}),n},getGrammarTypeForPath:function(e){return"number"},setInputValue:function(e,t,n){var r=f(e),o=m(e),a=i.map(this.props.answers,i.clone);a[r][o]=t,this.props.onChange({answers:a},n)}});i.extend(v,{validate:function(e,t){var n=function(e){return i.filter(e,function(e){return i.some(e,i.identity)})},r=n(t.answers),o=n(e),a=i.some(o,function(e){return i.some(e,function(e){return""===e})});if(a||!o.length)return{type:"invalid",message:null};if(o.length!==r.length)return{type:"points",earned:0,total:1,message:null};var s=c.number.createValidatorFunctional,l=null,u=i.every(r,function(e){var t;for(t=0;t<o.length;t++){var n=o[t],r=i.every(n,function(t,n){var r=e[n],o=s(r,{simplify:!0}),i=o(t);return i.message&&(l=i.message),i.correct});if(r)return o.splice(t,1),!0}return!1});return{type:"points",earned:u?1:0,total:1,message:l}}});var y=function(e){var t=e.answers.length,n=e.answers[0].length,r=i(t).times(function(){return l.stringArrayOfSize(n)});return i.extend({},e,{answers:r})};e.exports={name:"table",displayName:"Table of values",accessible:!0,widget:v,transform:y}},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=n(11),s=n(96),l=n(111),u=n(18),c=n(171).widget,p=r.createClass({displayName:"TableEditor",propTypes:{rows:r.PropTypes.number,columns:r.PropTypes.number,headers:r.PropTypes.arrayOf(r.PropTypes.string),answers:r.PropTypes.arrayOf(r.PropTypes.arrayOf(r.PropTypes.string))},getDefaultProps:function(){var e=4,t=1,n=i(e).times(function(){return a.stringArrayOfSize(t)});return{headers:[""],rows:e,columns:t,answers:n}},focus:function(){o.findDOMNode(this.refs.numberOfColumns).focus()},render:function(){var e=this,t=i.pick(this.props,"headers","answers","onChange","apiOptions");return i.extend(t,{editableHeaders:!0,Editor:u,onFocus:function(){},onBlur:function(){},trackInteraction:function(){}}),r.createElement("div",null,r.createElement("div",{className:"perseus-widget-row"},r.createElement("label",null,"Number of columns:"," ",r.createElement(l,{ref:"numberOfColumns",value:this.props.columns,onChange:function(t){t&&e.onSizeInput(e.props.rows,t)},useArrowKeys:!0}))),r.createElement("div",{className:"perseus-widget-row"},r.createElement("label",null,"Number of rows:"," ",r.createElement(l,{ref:"numberOfRows",value:this.props.rows,onChange:function(t){t&&e.onSizeInput(t,e.props.columns)},useArrowKeys:!0}))),r.createElement("div",null," ","Table of answers:"," ",r.createElement(s,null,r.createElement("p",null,"The student has to fill out all cells in the table.  For partially filled tables create a table using the template, and insert text input boxes as desired."))),r.createElement("div",null,r.createElement(c,t)))},onSizeInput:function(e,t){function n(e){o<=s?e.length=o:i(o-s).times(function(){e.push("")})}var r=+e||0,o=+t||0;r=Math.min(Math.max(1,r),30),o=Math.min(Math.max(1,o),6);var s=this.props.columns,l=this.props.rows,u=this.props.answers;r<=l?u.length=r:i(r-l).times(function(){u.push(a.stringArrayOfSize(s))});var c=this.props.headers;n(c),i.each(u,n),this.props.onChange({rows:r,columns:o,answers:u,headers:c})},serialize:function(){var e=i.pick(this.props,"headers","rows","columns");return i.extend({},e,{answers:i.map(this.props.answers,i.clone)})}});e.exports=p},function(e,t,n){"use strict";function r(e,t){return g.object(g.map(e,function(e,n){return[n,e[t]]}))}function o(e){return e.constraints.fixed?W.DYNAMIC:W.INTERACTIVE}function i(e,t){var n=t[0][1]-t[0][0],r=t[1][1]-t[1][0];return e*Math.max(n,r)/20}function a(e,t,n){var r=B.subtract(e,t),o=B.scale(r,n),i=B.add(t,o);return i}function s(e){return String(U.roundTo(9,e))}function l(e){var t=U.toFraction(e,F.DEFAULT_TOLERANCE);return 1===t[1]?s(e):s(t[0])+"/"+s(t[1])}function u(e){return[f.createElement(E,null,"("),s(e[0]),f.createElement(E,null,", {}"),s(e[1]),f.createElement(E,null,")")]}function c(e){return[f.createElement(E,null,"\\langle"),s(e[0]),f.createElement(E,null,", {}"),s(e[1]),f.createElement(E,null,"\\rangle")]}function p(e){return s(e)+k}function h(e,t){return e=g.clone(e).sort(j.compare),t=g.clone(t).sort(j.compare),g.all(g.map(e,function(e,n){var r=t[n];return j.equal(e,r)}))}var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=n(54),m=n(58),g=n(55),v=n(221),y=n(41),b=n(111),x=n(203),E=n(81),w=n(105),T=n(10).Options,C=n(100).propTypes.keypadElementPropType,S=15,k="°",P=300,_=1.5,M=2,N=1,O=n(40),A=O.iconPlus,I=O.iconUndo,R=n(11).deepEq,D=n(11).getGridStep,L=n(11).captureScratchpadTouchStart,F=n(201).number,B=n(201).vector,j=n(201).point,q=n(201).ray,z=n(201).line,U=n(90),W=n(211),H=n(191).assert,V=400,K={url:null},G=function(e,t){e=e||{};var n=e.labels||["x","y"],r=e.range||[[-10,10],[-10,10]],o=e.step||[1,1],i=e.gridStep||D(r,o,t);return{box:[t,t],labels:n,range:r,step:o,gridStep:i,valid:!0,backgroundImage:K,markings:"grid",showProtractor:!1}},Y={apiOptions:T.defaults,gradeEmpty:!1,graphMode:"interactive",listMode:"dynamic",graph:{},tools:{translation:{enabled:!0,required:!1,constraints:{}},rotation:{enabled:!0,required:!1,constraints:{fixed:!1},coord:[1,6]},reflection:{enabled:!0,required:!1,constraints:{fixed:!1},coords:[[2,-4],[2,2]]},dilation:{enabled:!0,required:!1,constraints:{fixed:!1},coord:[6,6]}},drawSolutionShape:!0,starting:{shape:{type:"polygon-3",coords:[[2,2],[2,6],[7,2]]},transformations:[]},correct:{shape:{type:"polygon-3",coords:[[2,2],[2,6],[7,2]]},transformations:[]}},X=function(e){return e.customKeypad?w:e.staticRender?x:b},J={apply:function(e){return Q[e.type].isValid(e)?Q[e.type].apply(e):g.identity},append:function(e,t){var n=J._appendAndCollapseLastTwo(e,t);return J._collapseFinalNoOps(n)},_collapseFinalNoOps:function(e){return e.length&&J.isNoOp(g.last(e))?g.initial(e):e},_appendAndCollapseLastTwo:function(e,t){if(e.length){var n=J.collapse(g.last(e),t);return g.initial(e).concat(n)}return[t]},isNoOp:function(e){return Q[e.type].isNoOp(e)},collapse:function(e,t){return e.type!==t.type?[e,t]:J.isEmpty(e)&&J.isEmpty(t)?[]:J.isValid(e)&&J.isValid(t)?J._collapseValidMonotypedTransforms(e,t):[e,t]},isValid:function(e){return Q[e.type].isValid(e)},isEmpty:function(e){return Q[e.type].isEmpty(e)},_collapseValidMonotypedTransforms:function(e,t){var n=Q[e.type].collapse(e,t);return n?(g.isArray(n)||(n=[n]),g.each(n,function(t){t.type=e.type}),n):[e,t]},toTeX:function(e){return Q[e.type].toTeX(e)},ListItem:f.createClass({displayName:"ListItem",render:function(){if("dynamic"===this.props.mode)return f.createElement("div",null,J.toTeX(this.props.transform));if("interactive"===this.props.mode){var e=Q[this.props.transform.type].Input;return f.createElement(e,d({ref:"transform",onChange:this.handleChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,keypadElement:this.props.keypadElement,apiOptions:this.props.apiOptions},this.props.transform))}throw new Error("Invalid mode: "+this.props.mode)},value:function(){return"interactive"===this.props.mode?g.extend({type:this.props.transform.type},this.refs.transform.value()):this.props.transform},handleChange:g.debounce(function(e){this.props.onChange(this.value(),e)},P),_getComponentAtPath:function(e){var t=this.refs.transform,n=g.head(e);return t.refs[n]},focus:function(){var e=this.refs.transform,t=g.head(e.getInputPaths());t&&this.focusInputPath(t)},focusInputPath:function(e){this._getComponentAtPath(e).focus()},blurInputPath:function(e){this._getComponentAtPath(e).blur()},getDOMNodeForPath:function(e){return m.findDOMNode(this._getComponentAtPath(e))},getGrammarTypeForPath:function(e){return"number"},setInputValue:function(e,t,n){t.length&&(t=parseFloat(t),isNaN(t))||this.refs.transform.setInputValue(e,t,n)},getInputPaths:function(){return"dynamic"===this.props.mode?[]:this.refs.transform.getInputPaths()}})},Q={translation:{verbName:i18n._("Translate"),nounName:i18n._("Translation"),lowerNounName:i18n._("translation"),apply:function(e){return function(t){return B.add(t,e.vector)}},isValid:function(e){return g.isFinite(e.vector[0])&&g.isFinite(e.vector[1])},isEmpty:function(e){return null===e.vector[0]&&null===e.vector[1]},isNoOp:function(e){return B.equal(e.vector,[0,0])},collapse:function(e,t){return{vector:B.add(e.vector,t.vector)}},toTeX:function(e){return $_({vector:c(e.vector)},"Translation by %(vector)s")},Input:f.createClass({displayName:"Input",getInitialState:function(){return{vector:this.props.vector||[null,null]}},componentDidUpdate:function(e){R(this.props,e)||this.setState({vector:this.props.vector})},render:function(){var e=this,t=X(this.props.apiOptions),n=[f.createElement(E,null,"\\langle"),f.createElement(t,{ref:"x",placeholder:0,value:this.state.vector[0],useArrowKeys:!0,onChange:function(t){var n=e.state.vector[1];e.setState({vector:[t,n]},function(){e.props.onChange()})},onFocus:g.partial(this.props.onFocus,"x"),onBlur:g.partial(this.props.onBlur,"x"),keypadElement:this.props.keypadElement}),f.createElement(E,null,", {}"),f.createElement(t,{ref:"y",placeholder:0,value:this.state.vector[1],useArrowKeys:!0,onChange:function(t){var n=e.state.vector[0];e.setState({vector:[n,t]},function(){e.props.onChange()})},onFocus:g.partial(this.props.onFocus,"y"),onBlur:g.partial(this.props.onBlur,"y"),keypadElement:this.props.keypadElement}),f.createElement(E,null,"\\rangle")];return f.createElement("div",null,$_({vector:n},"Translation by %(vector)s"))},value:function(){var e=this.refs.x.getValue(),t=this.refs.y.getValue();return{vector:[e,t]}},setInputValue:function(e,t,n){var r=this,o=g.first(e),i=g.clone(this.state.vector);"x"===o?i[0]=t:"y"===o&&(i[1]=t),this.setState({vector:i},function(){r.props.onChange(n)})},getInputPaths:function(){return[["x"],["y"]]}})},rotation:{verbName:i18n._("Rotate"),nounName:i18n._("Rotation"),lowerNounName:i18n._("rotation"),apply:function(e){return function(t){return j.rotateDeg(t,e.angleDeg,e.center)}},isValid:function(e){return g.isFinite(e.angleDeg)&&g.isFinite(e.center[0])&&g.isFinite(e.center[1])},isEmpty:function(e){return null===e.angleDeg&&null===e.center[0]&&null===e.center[1]},isNoOp:function(e){return F.equal(e.angleDeg,0)},collapse:function(e,t){return!!j.equal(e.center,t.center)&&{center:e.center,angleDeg:e.angleDeg+t.angleDeg}},toTeX:function(e){return $_({degrees:p(e.angleDeg),point:u(e.center)},"Rotation by %(degrees)s about %(point)s")},Input:f.createClass({displayName:"Input",getInitialState:function(){return{center:this.props.center||[null,null],angleDeg:this.props.angleDeg||null}},componentDidUpdate:function(e){R(this.props,e)||this.setState({center:this.props.center,angleDeg:this.props.angleDeg})},render:function(){var e=this,t=X(this.props.apiOptions),n=[f.createElement(E,null,"("),f.createElement(t,{ref:"centerX",placeholder:0,value:this.state.center[0],useArrowKeys:!0,onChange:function(t){var n=e.state.center[1];e.setState({center:[t,n]},function(){e.props.onChange()})},onFocus:g.partial(this.props.onFocus,"centerX"),onBlur:g.partial(this.props.onBlur,"centerX"),keypadElement:this.props.keypadElement}),f.createElement(E,null,", {}"),f.createElement(t,{ref:"centerY",placeholder:0,value:this.state.center[1],useArrowKeys:!0,onChange:function(t){var n=e.state.center[0];e.setState({center:[n,t]},function(){e.props.onChange()})},onFocus:g.partial(this.props.onFocus,"centerY"),onBlur:g.partial(this.props.onBlur,"centerY"),keypadElement:this.props.keypadElement}),f.createElement(E,null,")")],r=[f.createElement(t,{ref:"angleDeg",placeholder:0,value:this.state.angleDeg,useArrowKeys:!0,onChange:function(t){e.setState({angleDeg:t},function(){e.props.onChange()})},onFocus:g.partial(this.props.onFocus,"angleDeg"),onBlur:g.partial(this.props.onBlur,"angleDeg"),keypadElement:this.props.keypadElement}),k],o=$_({point:n,degrees:r},"Rotation about %(point)s by %(degrees)s");return f.createElement("div",null,o)},value:function(){var e=this.refs.angleDeg.getValue(),t=this.refs.centerX.getValue(),n=this.refs.centerY.getValue();return{angleDeg:e,center:[t,n]}},setInputValue:function(e,t,n){var r=this,o=g.first(e),i=g.clone(this.state.angleDeg),a=g.clone(this.state.center);"angleDeg"===o?i=t:"centerX"===o?a[0]=t:"centerY"===o&&(a[1]=t),this.setState({angleDeg:i,center:a},function(){r.props.onChange(n)})},getInputPaths:function(){return[["centerX"],["centerY"],["angleDeg"]]}})},reflection:{verbName:i18n._("Reflect"),nounName:i18n._("Reflection"),lowerNounName:i18n._("reflection"),apply:function(e){return function(t){return j.reflectOverLine(t,e.line)}},isValid:function(e){return g.all(g.flatten(e.line),g.isFinite)&&!j.equal(e.line[0],e.line[1])},isEmpty:function(e){return g.all(g.flatten(e.line),g.isNull)},isNoOp:function(e){return!1},collapse:function(e,t){return!!z.equal(e.line,t.line)&&[]},toTeX:function(e){var t=e.line[0],n=e.line[1];return $_({point1:u(t),point2:u(n)},"Reflection over the line from %(point1)s to %(point2)s")},Input:f.createClass({displayName:"Input",getInitialState:function(){return{line:this.props.line||[[null,null],[null,null]]}},componentDidUpdate:function(e){R(this.props,e)||this.setState({line:this.props.line})},render:function(){var e=X(this.props.apiOptions),t=[f.createElement(E,null,"("),f.createElement(e,{ref:"x1",value:this.state.line[0][0],useArrowKeys:!0,onChange:this.changePoint.bind(this,0,0),onFocus:g.partial(this.props.onFocus,"x1"),onBlur:g.partial(this.props.onBlur,"x1"),keypadElement:this.props.keypadElement}),f.createElement(E,null,", {}"),f.createElement(e,{ref:"y1",value:this.state.line[0][1],useArrowKeys:!0,onChange:this.changePoint.bind(this,0,1),onFocus:g.partial(this.props.onFocus,"y1"),onBlur:g.partial(this.props.onBlur,"y1"),keypadElement:this.props.keypadElement}),f.createElement(E,null,")")],n=[f.createElement(E,null,"("),f.createElement(e,{ref:"x2",value:this.state.line[1][0],useArrowKeys:!0,onChange:this.changePoint.bind(this,1,0),onFocus:g.partial(this.props.onFocus,"x2"),onBlur:g.partial(this.props.onBlur,"x2"),keypadElement:this.props.keypadElement}),f.createElement(E,null,", {}"),f.createElement(e,{ref:"y2",value:this.state.line[1][1],useArrowKeys:!0,onChange:this.changePoint.bind(this,1,1),onFocus:g.partial(this.props.onFocus,"y2"),onBlur:g.partial(this.props.onBlur,"y2"),keypadElement:this.props.keypadElement}),f.createElement(E,null,")")];return f.createElement("div",null,$_({point1:t,point2:n},"Reflection over the line from %(point1)s to %(point2)s"))},changePoint:function(e,t,n,r){var o=this,i=g.map(this.state.line,g.clone);i[e][t]=n,this.setState({line:i},function(){o.props.onChange(r)})},value:function(){var e=this.refs.x1.getValue(),t=this.refs.y1.getValue(),n=this.refs.x2.getValue(),r=this.refs.y2.getValue();return{line:[[e,t],[n,r]]}},setInputValue:function(e,t,n){var r,o=g.first(e);"x"===o[0]?r=0:"y"===o[0]&&(r=1);var i;"1"===o[1]?i=0:"2"===o[1]&&(i=1),this.changePoint(i,r,t,n)},getInputPaths:function(){return[["x1"],["y1"],["x2"],["y2"]]}})},dilation:{verbName:i18n._("Dilate"),nounName:i18n._("Dilation"),lowerNounName:i18n._("dilation"),apply:function(e){return function(t){return a(t,e.center,e.scale)}},isValid:function(e){return g.isFinite(e.scale)&&g.isFinite(e.center[0])&&g.isFinite(e.center[1])},isEmpty:function(e){return null===e.scale&&null===e.center[0]&&null===e.center[1]},isNoOp:function(e){return F.equal(e.scale,1)},collapse:function(e,t){return!!j.equal(e.center,t.center)&&{center:e.center,scale:e.scale*t.scale}},toTeX:function(e){var t=l(e.scale);return $_({scale:t,point:u(e.center)},"Dilation of scale %(scale)s about %(point)s")},Input:f.createClass({displayName:"Input",getInitialState:function(){return{center:this.props.center||[null,null],scale:this.props.scale||null}},componentDidUpdate:function(e){R(this.props,e)||this.setState({center:this.props.center,scale:this.props.scale})},render:function(){var e=this,t=X(this.props.apiOptions),n=[f.createElement(E,null,"("),f.createElement(t,{ref:"x",placeholder:0,value:this.state.center[0],useArrowKeys:!0,onChange:function(t){var n=e.state.center[1];e.setState({center:[t,n]},function(){e.props.onChange()})},onFocus:g.partial(this.props.onFocus,"x"),onBlur:g.partial(this.props.onBlur,"x"),keypadElement:this.props.keypadElement}),f.createElement(E,null,", {}"),f.createElement(t,{ref:"y",placeholder:0,value:this.state.center[1],useArrowKeys:!0,onChange:function(t){var n=e.state.center[0];e.setState({center:[n,t]},function(){e.props.onChange()})},onFocus:g.partial(this.props.onFocus,"y"),onBlur:g.partial(this.props.onBlur,"y"),keypadElement:this.props.keypadElement}),f.createElement(E,null,")")],r=f.createElement(t,{ref:"scale",placeholder:1,value:this.state.scale,useArrowKeys:!0,onChange:function(t){e.setState({scale:t},function(){e.props.onChange()})},onFocus:g.partial(this.props.onFocus,"scale"),onBlur:g.partial(this.props.onBlur,"scale"),keypadElement:this.props.keypadElement});return f.createElement("div",null,$_({point:n,scale:r},"Dilation about %(point)s by %(scale)s"))},value:function(){var e=this.refs.scale.getValue(),t=this.refs.x.getValue(),n=this.refs.y.getValue();return{scale:e,center:[t,n]}},setInputValue:function(e,t,n){var r=this,o=g.first(e),i=this.state.scale,a=g.clone(this.state.center);"x"===o?a[0]=t:"y"===o?a[1]=t:"scale"===o&&(i=t),this.setState({scale:i,center:a},function(){r.props.onChange(n)})},getInputPaths:function(){return[["x"],["y"],["scale"]]}})}},Z={getPointCountForType:function(e){var t=e.split("-");return"polygon"===t[0]?t[1]||3:"line"===t[0]||"lineSegment"===t[0]?2:"angle"===t[0]?3:"circle"===t[0]?2:"point"===t[0]?1:void 0},addMovableShape:function(e,t){if(t.editable&&t.translatable)throw new Error("It doesn't make sense to have a movable shape where you can stretch the points and translate them simultaneously. options: "+JSON.stringify(t));var n,r=g.map(t.shape.coords,function(o){var i,a=!1,s=o,l=function(e,o){a||(s=i.coord,a=!0);var l=B.subtract([e,o],i.coord);t.onMove&&(l=t.onMove(l[0],l[1])),t.translatable&&g.each(r,function(e){e!==i&&e.setCoord(B.add(e.coord,l))});var u=i.coord,c=B.add(i.coord,l);return i.coord=c,n.update(),i.coord=u,c},u=function(){if(t.onMoveEnd&&a){a=!1;var e=B.subtract(i.coord,s);t.onMoveEnd(e[0],e[1])}n.update()};return i=e.addMovablePoint({coord:o,normalStyle:t.normalPointStyle,highlightStyle:t.highlightPointStyle,constraints:{fixed:!t.translatable&&!t.editable},visible:t.showPoints,snapX:t.snap&&t.snap[0]||0,snapY:t.snap&&t.snap[1]||0,bounded:!1,onMove:l,onMoveEnd:u}),i.bounded=!0,i});n=Z.addShape(e,t,r);var o=n.remove;return n.remove=function(){o.apply(n),g.invoke(r,"remove")},n},addShape:function(e,t,n){n=n||t.shape.coords;var r=Z._typesOf(t.shape),o=t.shape.options||Z.defaultOptions(r),i=Z._mapTypes(r,n,function(n,r,i){var a=g.extend({},t,o[i]);return Z._addType(e,n,r,a)}),a=g.filter(g.pluck(i,"update"),g.identity),s=function(){g.invoke(a,"call")},l=g.filter(g.pluck(i,"remove"),g.identity),u=function(){g.invoke(l,"call")},c=function(){return g.map(i,function(e){return e.getOptions?e.getOptions():{}})},p=function(){var e=g.map(n,function(e){return g.isArray(e)?e:e.coord});return{type:r,coords:e,options:c()}};return{type:r,points:n,update:s,remove:u,toJSON:p,getOptions:c}},equal:function(e,t){var n=Z._typesOf(e),r=Z._typesOf(t);if(n.length!==r.length)return!1;var o=Z._mapTypes(n,e.coords,Z._combine),i=Z._mapTypes(r,t.coords,Z._combine);return g.all(g.map(o,function(e,t){var n=i[t];return e.type===n.type&&Z._forType(e.type).equal(e.coords,n.coords)}))},_typesOf:function(e){var t=e.type;return g.isArray(t)||(t=[t]),g.map(t,function(e){return"polygon"===e?"polygon-3":e})},defaultOptions:function(e){return g.map(e,function(e){var t=Z._forType(e).defaultOptions;return g.extend({},t)})},_forType:function(e){var t=e.split("-")[0];return Z[t]},_mapTypes:function(e,t,n,r){return g.map(e,function(e,o){var i=Z.getPointCountForType(e),a=g.first(t,i);return t=g.rest(t,i),n.call(r,e,a,o)})},_addType:function(e,t,n,r){var o=g.isArray(n[0])?{coordA:n[0],coordZ:n[1]}:{pointA:n[0],pointZ:n[1]};if(t=t.split("-")[0],"polygon"===t){var i=e.addMovablePolygon(g.extend({},r,{fixed:!r.editable,snapX:r.snap&&r.snap[0]||0,snapY:r.snap&&r.snap[1]||0,points:n,constrainToGraph:!1}));return{update:i.transform.bind(i),remove:i.remove.bind(i)}}if("line"===t||"lineSegment"===t){var a=e.addMovableLineSegment(g.extend({},r,o,{movePointsWithLine:!0,fixed:!0,constraints:{fixed:!0},extendLine:"line"===t}));return{update:a.transform.bind(a,!0),remove:a.remove.bind(a)}}if("angle"===t){var s=!!r.editable&&null,l=e.addMovableAngle({angleLabel:"$deg0",fixed:!0,points:n,normalStyle:r.normalStyle,reflex:r.reflex});return g.isArray(n[0])||r.editable||(n[0].remove(),n[2].remove()),{update:l.update.bind(l,s),remove:l.remove.bind(l),getOptions:function(){return{reflex:l.isReflex()}}}}if("circle"===t){var u={remove:g.identity},c=function(){var t=n[0].coord||n[0],o=n[1].coord||n[1],i=j.distanceToPoint(t,o);u.remove(),u=e.circle(t,i,g.extend({stroke:W.DYNAMIC,"stroke-width":2},r.normalStyle))};return c(),n[1].remove&&!r.editable&&n[1].remove(),{update:c,remove:function(){u.remove()}}}if("point"===t)return{update:null,remove:null};throw new Error("Invalid shape type "+t)},_combine:function(e,t){return{type:e,coords:t}},polygon:{equal:h},line:{equal:z.equal},lineSegment:{equal:h},angle:{equal:function(e,t){if(!j.equal(e[1],t[1]))return!1;var n=[e[1],e[0]],r=[e[1],e[2]],o=[t[1],t[0]],i=[t[1],t[2]],a=q.equal(n,o)&&q.equal(r,i),s=q.equal(n,i)&&q.equal(r,o);
return a||s},defaultOptions:{reflex:!1}},circle:{equal:function(e,t){var n=j.distanceToPoint(e[0],e[1]),r=j.distanceToPoint(t[0],t[1]);return j.equal(e[0],t[0])&&F.equal(n,r)}},point:{equal:j.equal}},ee=J.ListItem,te=f.createClass({displayName:"TransformationList",render:function(){if("static"===this.props.mode)return f.createElement("span",null);var e=g.map(this.props.transformations,function(e,t){return f.createElement(ee,{ref:"transformation"+t,key:"transformation"+t,transform:e,mode:this.props.mode,onChange:this.handleChange,onFocus:g.partial(this.props.onFocus,""+t),onBlur:g.partial(this.props.onBlur,""+t),keypadElement:this.props.keypadElement,apiOptions:this.props.apiOptions})},this);return f.createElement("div",{className:"perseus-transformation-list"},e)},_transformationRefs:function(){var e=this;return g.times(this.props.transformations.length,function(t){return e.refs["transformation"+t]})},value:function(){return g.invoke(this._transformationRefs(),"value")},handleChange:function(e,t){this.props.onChange(this.value(),t)},focusLast:function(){var e=this._transformationRefs();0!==e.length&&g.last(e).focus()}}),ne=f.createClass({displayName:"ToolButton",render:function(){var e=this.props.toggled?"simple-button exercise-orange toggled highlighted-tool-button":"simple-button";return f.createElement("button",{type:"button",className:e,disabled:this.props.disabled,onClick:this.props.onClick,onTouchStart:L},this.props.children)}}),re=f.createClass({displayName:"ToolsBar",getInitialState:function(){return{selected:null}},render:function(){var e=g.map(Q,function(e,t){if(this.props.enabled[t])return f.createElement(ne,{key:t,disabled:this.props.apiOptions.readOnly,toggled:this.state.selected===t,onClick:this.changeSelected.bind(this,t)},e.verbName)},this);return f.createElement("div",{className:"transformer-tools-bar"},f.createElement("span",{className:"simple-button-group"},e),f.createElement("button",{className:"transformer-undo-button simple-button",type:"button",disabled:this.props.apiOptions.readOnly,onClick:this.props.onUndoClick,onTouchStart:L},f.createElement(y,I)," ","Undo"),f.createElement("div",{className:"clear"}))},changeSelected:function(e){this.props.removeTool(this.state.selected),e&&e!==this.state.selected?(this.props.addTool(e),this.setState({selected:e})):this.setState({selected:null})}}),oe=f.createClass({displayName:"AddTransformBar",render:function(){var e=g.map(Q,function(e,t){if(this.props.enabled[t])return f.createElement(ne,{key:t,toggled:!1,disabled:this.props.apiOptions.readOnly,onClick:this.changeSelected.bind(this,t)},f.createElement(y,A)," ",e.nounName)},this);return f.createElement("div",{className:"transformer-tools-bar"},e,f.createElement("button",{className:"transformer-undo-button simple-button",type:"button",onClick:this.props.onUndoClick,disabled:this.props.apiOptions.readOnly,onTouchStart:L},f.createElement(y,I)," ","Undo"),f.createElement("div",{className:"clear"}))},changeSelected:function(e){e&&this.props.addTool(e)}}),ie=f.createClass({displayName:"Transformer",propTypes:{apiOptions:T.propTypes,keypadElement:C,trackInteraction:f.PropTypes.func.isRequired},getDefaultProps:function(){return g.defaults({transformations:[]},Y)},render:function(){var e=g.extend(G(this.props.graph,V),this.props.graph),t="interactive"===this.props.graphMode,n=t?re:oe,o=f.createElement("div",{style:{width:e.box[0]}},f.createElement(n,{ref:"toolsBar",enabled:r(this.props.tools,"enabled"),apiOptions:this.props.apiOptions,addTool:this.addTool,removeTool:this.removeTool,onUndoClick:this.handleUndoClick}));return f.createElement("div",{className:"perseus-widget perseus-widget-transformer"},f.createElement(v,{ref:"graph",box:e.box,range:e.range,labels:e.labels,step:e.step,gridStep:e.gridStep,markings:e.markings,backgroundImage:e.backgroundImage,showProtractor:e.showProtractor,onGraphieUpdated:this.setupGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable}),!t&&"Add transformations below:","static"===this.props.graphMode&&[f.createElement("br",{key:"static-br"}),f.createElement("em",{key:"static-nomove"}," ","Note: For this question, the shape will not move."," ")],t&&o,f.createElement(te,{ref:"transformationList",mode:this.props.listMode,transformations:this.props.transformations,onChange:this.setTransformationProps,onFocus:this._handleFocus,onBlur:this._handleBlur,keypadElement:this.props.keypadElement,apiOptions:this.props.apiOptions}),!t&&o)},componentDidMount:function(){this.setupGraphie(this.graphie())},componentDidUpdate:function(e){this.shouldSetupGraphie(this.props,e)?this.refs.graph.reset():R(this.props.transformations,this.transformations)||this.setTransformations(this.props.transformations)},shouldSetupGraphie:function(e,t){return!R(t.starting,e.starting)||(t.graphMode!==e.graphMode||(t.listMode!==e.listMode||(t.drawSolutionShape!==e.drawSolutionShape||(!(!e.drawSolutionShape||R(t.correct.shape,e.correct.shape))||!R(this.tools,e.tools)))))},graphie:function(){return this.refs.graph.graphie()},setupGraphie:function(e){this.props.drawSolutionShape&&this.props.correct.shape&&this.props.correct.shape.coords&&Z.addShape(e,{fixed:!0,shape:this.props.correct.shape,normalStyle:{stroke:W.GRAY,"stroke-dasharray":"","stroke-width":2}}),this.currentTool=null,this.refs.toolsBar.changeSelected(null),this.addTransformerShape(this.props.starting.shape,!1),this.setTransformations(this.props.transformations),this.tools={translation:g.clone(this.props.tools.translation),rotation:g.clone(this.props.tools.rotation),reflection:g.clone(this.props.tools.reflection),dilation:g.clone(this.props.tools.dilation)}},setTransformations:function(e){this.resetCoords(),this.transformations=g.clone(e),g.each(this.transformations,this.applyTransform)},addTransformerShape:function(e,t){var n=this,r=this.graphie();this.shape=Z.addMovableShape(r,{shape:e,editable:!1,showPoints:"static"!==this.props.graphMode,translatable:t,onMove:function(e,t){return e=U.roundToNearest(r.snap[0],e),t=U.roundToNearest(r.snap[1],t),n.addTransform({type:"translation",vector:[e,t]}),[e,t]},normalPointStyle:{fill:t?W.INTERACTIVE:W.DYNAMIC,stroke:t?W.INTERACTIVE:W.DYNAMIC},highlightPointStyle:{fill:W.INTERACTING,stroke:W.INTERACTING}})},addTool:function(e){var t=this;if("interactive"===this.props.graphMode)if("translation"===e)this.currentTool=this.addTranslationTool();else if("rotation"===e)this.currentTool=this.addRotationTool();else if("reflection"===e)this.currentTool=this.addReflectionTool();else{if("dilation"!==e)throw new Error("Invalid tool id: "+e);this.currentTool=this.addDilationTool()}else{var n;if("translation"===e)n={type:e,vector:[null,null]};else if("rotation"===e)n={type:e,center:[null,null],angleDeg:null};else if("reflection"===e)n={type:e,line:[[null,null],[null,null]]};else{if("dilation"!==e)throw new Error("Invalid tool id: "+e);n={type:e,center:[null,null],scale:null}}this.doTransform(n,function(){t.refs.transformationList.focusLast()})}},removeTool:function(e){this.currentTool&&this.currentTool.remove(),this.currentTool=null},addTranslationTool:function(){var e=this;return this.shape.remove(),this.addTransformerShape(this.shape.toJSON(),!0),{remove:function(){e.shape.remove(),e.addTransformerShape(e.shape.toJSON(),!1)}}},snapCoord:function(e){var t=this.graphie();return g.map(e,function(e,n){return U.roundToNearest(t.snap[n],e)})},normalizeReflectionCoords:function(e){var t=this.snapCoord(z.midpoint(e)),n=B.polarDegFromCart(B.subtract(e[0],e[1])),r=[1,U.roundToNearest(45,n[1])],o=B.cartFromPolarDeg(r),i=g.map([-1,1],function(e){var n=B.add(t,B.scale(o,e*this.scaleToCurrentRange(M)));return this.snapCoord(n)},this);return i},addReflectionTool:function(){var e=this.props.tools.reflection;if(e.enabled){var t,n=this,r=this.refs.graph.graphie(),i=function(){n.changeTool("reflection",{coords:g.pluck(s,"coord")})},a=this.normalizeReflectionCoords(e.coords),s=g.map(a,function(e){return r.addMovablePoint({coord:e,visible:!1})},this),l=o(e);r.style({},function(){t=r.addMovableLineSegment({fixed:e.constraints.fixed,constraints:e.constraints,pointA:s[0],pointZ:s[1],snapX:r.snap[0],snapY:r.snap[1],extendLine:!0,normalStyle:{stroke:l,"stroke-width":2,"stroke-dasharray":"- "},highlightStyle:{stroke:W.INTERACTING,"stroke-width":2,"stroke-dasharray":"- "},movePointsWithLine:!0,onMoveEnd:i})});var u=r.addReflectButton({fixed:e.constraints.fixed,line:t,size:this.scaleToCurrentRange(N),onClick:function(){n.doTransform({type:"reflection",line:g.pluck(s,"coord")}),c&&(c.setCoord(B.add(u.coord,B.subtract(u.coord,c.coord))),c.update())},normalStyle:{stroke:l,"stroke-width":2,fill:l},highlightStyle:{stroke:W.INTERACTING,"stroke-width":3,fill:W.INTERACTING},onMoveEnd:i}),c=null;if(!e.constraints.fixed){var p=B.polarDegFromCart(B.subtract(s[1].coord,s[0].coord))[1]+90;c=r.addRotateHandle({center:u,radius:this.scaleToCurrentRange(M),angleDeg:p,width:this.scaleToCurrentRange(.24),hoverWidth:this.scaleToCurrentRange(.4),lengthAngle:17,onMove:function(e){return U.roundToNearest(45,e)},onMoveEnd:i})}return $(t).on("move",function(){u.update(),$(u).trigger("move")}),c&&$(c).on("move",function(){var e=n.snapCoord(c.coord),r=B.subtract(e,u.coord),o=u.isFlipped()?1:0;s[o].setCoord(B.add(u.coord,B.rotateDeg(r,90))),s[1-o].setCoord(B.add(u.coord,B.rotateDeg(r,-90))),t.transform(!0),u.update()}),{remove:function(){u.remove(),c&&c.remove(),t.remove(),s[0].remove(),s[1].remove()}}}},scaleToCurrentRange:function(e){return i(e,this.refs.graph.props.range)},addRotationTool:function(){var e=this.props.tools.rotation;if(e.enabled){var t=this,n=this.refs.graph.graphie(),r=o(e);return this.rotatePoint=n.addMovablePoint({constraints:e.constraints,coord:e.coord,snapX:n.snap[0],snapY:n.snap[1],normalStyle:{"stroke-dasharray":"",stroke:r,fill:r},highlightStyle:{"stroke-dasharray":"",stroke:W.INTERACTING,fill:W.INTERACTING}}),this.rotateHandle=n.addRotateHandle({center:this.rotatePoint,radius:this.scaleToCurrentRange(_),width:this.scaleToCurrentRange(.24),hoverWidth:this.scaleToCurrentRange(.4),onMove:function(e,n){var r=t.getRotationTransformFromAngle(t.rotatePoint.coord,e-n);return t.doTransform(r),n+r.angleDeg}}),this.rotatePoint.onMoveEnd=function(e,n){t.changeTool("rotation",{coord:[e,n]})},{remove:function(){t.rotateHandle.remove(),t.rotatePoint.remove()}}}},addDilationTool:function(){var e=this.props.tools.dilation;if(e.enabled){var t=this,n=this.refs.graph.graphie(),r=o(e);t.dilationCircle=n.addCircleGraph({centerConstraints:e.constraints,center:e.coord,radius:t.scaleToCurrentRange(2),snapX:n.snap[0],snapY:n.snap[1],minRadius:t.scaleToCurrentRange(1),snapRadius:t.scaleToCurrentRange(.5),onResize:function(e,n){t.doTransform({type:"dilation",center:t.dilationCircle.centerPoint.coord,scale:e/n})},circleNormalStyle:{stroke:r,"stroke-width":2,"stroke-dasharray":"- ","fill-opacity":0},circleHighlightStyle:{stroke:W.INTERACTING,"stroke-width":2,"stroke-dasharray":"",fill:W.INTERACTING,"fill-opacity":.05},centerNormalStyle:{stroke:r,fill:r,"stroke-width":2,"stroke-dasharray":""},centerHighlightStyle:{stroke:r,fill:r,"stroke-width":2,"stroke-dasharray":""}});var i=this.dilationCircle.centerPoint.onMoveEnd;return this.dilationCircle.centerPoint.onMoveEnd=function(){i&&i.apply(this,g.toArray(arguments)),t.changeTool("dilation",{coord:t.dilationCircle.centerPoint.coord})},{remove:function(){t.dilationCircle.remove()}}}},getRotationTransformFromAngle:function(e,t){t=(t+360)%360,t>180&&(t-=360);var n=Math.round(t/S)*S;return{type:"rotation",center:e,angleDeg:n}},doTransform:function(e,t){this.applyTransform(e),this.addTransform(e,t)},applyTransform:function(e){if("static"!==this.props.graphMode){var t=J.apply(e);this.applyCoordTransformation(t)}},applyCoordTransformation:function(e){g.each(this.shape.points,function(t){var n=e(t.coord);t.setCoord(n)}),this.shape.update()},resetCoords:function(){var e=this.props.starting.shape.coords;g.each(this.shape.points,function(t,n){t.setCoord(e[n])}),this.shape.update()},handleUndoClick:function(){this.refs.toolsBar.changeSelected(null),this.props.transformations.length&&this.props.onChange({transformations:g.initial(this.props.transformations)})},setTransformationProps:function(e,t){this.props.onChange({transformations:e},t)},addTransform:function(e,t){this.transformations=J.append(this.transformations,e),this.props.onChange({transformations:g.clone(this.transformations)},t)},changeTool:function(e,t){var n=g.clone(this.props.tools);n[e]=g.extend({},this.props.tools[e],t),this.tools[e]=g.clone(n[e]),this.props.onChange({tools:n}),this.props.trackInteraction()},simpleValidate:function(e){return ie.validate(this.getUserInput(),e)},getCoords:function(){var e=this.props.starting.shape.coords,t=this.props.transformations;return g.reduce(t,function(e,t){return g.map(e,J.apply(t))},e)},getEditorJSON:function(){var e=g.pick(this.props,"grading","starting","graphMode","listMode","tools","drawSolutionShape","gradeEmpty");return e.graph=this.refs.graph.toJSON(),e.version=1.2,e.answer=this.getUserInput(),e},getUserInput:function(){return{transformations:this.props.transformations,shape:{type:this.shape.type,coords:this.getCoords(),options:this.shape.getOptions()}}},_handleFocus:function(){var e=Array.prototype.slice.call(arguments);this.props.onFocus(e)},_handleBlur:function(){var e=Array.prototype.slice.call(arguments);this.props.onBlur(e)},_getTransformationForID:function(e){var t=["transformationList","transformation"+e],n=this;return g.each(t,function(e){n=n.refs[e]}),n},getInputPaths:function(){var e=this;if("static"===this.props.listMode)return[];var t=[];return g.each(this.props.transformations,function(n,r){var n=e._getTransformationForID(r),o=n.getInputPaths(),i=g.map(o,function(e){return[""+r].concat(e)});t=t.concat(i)}),t},_passToInner:function(e,t){if(t&&t.length){var n=g.rest(t),r=[n].concat(g.rest(arguments,2)),o=g.head(t),i=this._getTransformationForID(o);return i[e].apply(i,r)}},focus:function(){var e=this.getInputPaths();return e.length>0&&(this.focusInputPath(e[0]),!0)},focusInputPath:function(e){return 0!==e.length&&(H(e.length>=2),this._passToInner("focusInputPath",e))},blurInputPath:function(e){return 0!==e.length&&(H(e.length>=2),this._passToInner("blurInputPath",e))},setInputValue:function(e,t,n){return H(e.length>=2),this._passToInner("setInputValue",e,t,n)},getDOMNodeForPath:function(e){return H(e.length>=2),this._passToInner("getDOMNodeForPath",e)},getGrammarTypeForPath:function(e){return H(e.length>=2),this._passToInner("getGrammarTypeForPath",e)}});g.extend(ie,{validate:function(e,t){for(var n in Q)if(t.tools[n].required){var r=g.any(g.map(e.transformations,function(e){return e.type===n&&!J.isEmpty(e)&&!J.isNoOp(e)}));if(!r)return{type:"invalid",message:i18n._("Your transformation must use a %(type)s.",{type:Q[n].lowerNounName})}}return Z.equal(e.shape,t.correct.shape)?{type:"points",earned:1,total:1,message:null}:!t.gradeEmpty&&R(e.shape.coords,t.starting.shape.coords)?{type:"invalid",message:i18n._("Use the interactive graph to define a correct transformation.")}:{type:"points",earned:0,total:1,message:null}}}),e.exports={name:"transformer",displayName:"Transformer",widget:ie}},function(e,t,n){"use strict";function r(e){return s.reduce(e,function(e,t){return e+t},0)}function o(e,t){var n=t[0][1]-t[0][0],r=t[1][1]-t[1][0];return e*Math.max(n,r)/20}function i(e,t){return e=s.clone(e).sort(y.compare),t=s.clone(t).sort(y.compare),s.all(s.map(e,function(e,n){var r=t[n];return y.equal(e,r)}))}var a=n(54),s=n(55),l=n(10).Options,u=n(221),c=n(213),p=n(96),h=n(46),d=n(173).widget,f=n(11).deepEq,m=n(11).getGridStep,g=n(201).line,v=n(201).number,y=n(201).point,b=n(201).ray,x=n(201).vector,E=n(211),w={url:null},T=function(e,t){e=e||{};var n=e.labels||["x","y"],r=e.range||[[-10,10],[-10,10]],o=e.step||[1,1],i=e.gridStep||m(r,o,t);return{box:[t,t],labels:n,range:r,step:o,gridStep:i,valid:!0,backgroundImage:w,markings:"grid",showProtractor:!1}},C={apiOptions:l.defaults,gradeEmpty:!1,graphMode:"interactive",listMode:"dynamic",graph:{},tools:{translation:{enabled:!0,required:!1,constraints:{}},rotation:{enabled:!0,required:!1,constraints:{fixed:!1},coord:[1,6]},reflection:{enabled:!0,required:!1,constraints:{fixed:!1},coords:[[2,-4],[2,2]]},dilation:{enabled:!0,required:!1,constraints:{fixed:!1},coord:[6,6]}},drawSolutionShape:!0,starting:{shape:{type:"polygon-3",coords:[[2,2],[2,6],[7,2]]},transformations:[]},correct:{shape:{type:"polygon-3",coords:[[2,2],[2,6],[7,2]]},transformations:[]}},S=a.createClass({displayName:"ToolSettings",getDefaultProps:function(){return{allowFixed:!0}},render:function(){return a.createElement("div",null,this.props.name,":"," "," ",a.createElement(h,{label:"enabled:",enabled:this.props.settings.enabled,onChange:this.props.onChange})," ",this.props.settings.enabled&&a.createElement(h,{label:"required:",required:this.props.settings.required,onChange:this.props.onChange}),this.props.settings.enabled&&a.createElement(p,null,"'Required' will only grade the answer as correct if the student has used at least one such transformation.")," ",this.props.allowFixed&&this.props.settings.enabled&&a.createElement(h,{label:"fixed:",fixed:this.props.settings.constraints.fixed,onChange:this.changeConstraints}),this.props.allowFixed&&this.props.settings.enabled&&a.createElement(p,null,"Enable 'fixed' to prevent the student from repositioning the tool. The tool will appear in the position at which it is placed in the editor below."))},changeConstraints:function(e){var t=s.extend({},this.props.constraints,e);this.props.onChange({constraints:t})}}),k=a.createClass({displayName:"TransformationExplorerSettings",render:function(){return a.createElement("div",{className:"transformer-settings"},a.createElement("div",null," ","Mode:"," ",a.createElement("select",{value:this.getMode(),onChange:this.changeMode},a.createElement("option",{value:"interactive,dynamic"}," ","Exploration with text"," "),a.createElement("option",{value:"interactive,static"}," ","Exploration without text"," "),a.createElement("option",{value:"dynamic,interactive"}," ","Formal with movement"," "),a.createElement("option",{value:"static,interactive"}," ","Formal without movement"," ")),a.createElement(p,null,a.createElement("ul",null,a.createElement("li",null,a.createElement("b",null,"Exploration:")," Students create transformations with tools on the graph."," "),a.createElement("li",null,a.createElement("b",null,"Formal with movement:")," Students specify transformations mathematically in the transformation list. Graph shows the results of these transformations."," "),a.createElement("li",null,a.createElement("b",null,"Formal without movement:")," Students specify transformations mathematically in the transformation list. Graph does not update."," ")))),a.createElement(S,{name:"Translations",settings:this.props.tools.translation,allowFixed:!1,onChange:this.changeHandlerFor("translation")}),a.createElement(S,{name:"Rotations",settings:this.props.tools.rotation,onChange:this.changeHandlerFor("rotation")}),a.createElement(S,{name:"Reflections",settings:this.props.tools.reflection,onChange:this.changeHandlerFor("reflection")}),a.createElement(S,{name:"Dilations",settings:this.props.tools.dilation,onChange:this.changeHandlerFor("dilation")}),a.createElement(h,{label:"Draw Solution:",drawSolutionShape:this.props.drawSolutionShape,onChange:this.props.onChange}))},getMode:function(){return this.props.graphMode+","+this.props.listMode},changeMode:function(e){var t=e.target.value,n=t.split(",");this.props.onChange({graphMode:n[0],listMode:n[1]})},changeHandlerFor:function(e){var t=this;return function(n){var r=s.clone(t.props.tools);r[e]=s.extend({},t.props.tools[e],n),t.props.onChange({tools:r})}}}),P={getPointCountForType:function(e){var t=e.split("-");return"polygon"===t[0]?t[1]||3:"line"===t[0]||"lineSegment"===t[0]?2:"angle"===t[0]?3:"circle"===t[0]?2:"point"===t[0]?1:void 0},addMovableShape:function(e,t){if(t.editable&&t.translatable)throw new Error("It doesn't make sense to have a movable shape where you can stretch the points and translate them simultaneously. options: "+JSON.stringify(t));var n,r=s.map(t.shape.coords,function(o){var i,a=!1,l=o,u=function(e,o){a||(l=i.coord,a=!0);var u=x.subtract([e,o],i.coord);t.onMove&&(u=t.onMove(u[0],u[1])),t.translatable&&s.each(r,function(e){e!==i&&e.setCoord(x.add(e.coord,u))});var c=i.coord,p=x.add(i.coord,u);return i.coord=p,n.update(),i.coord=c,p},c=function(){if(t.onMoveEnd&&a){a=!1;var e=x.subtract(i.coord,l);t.onMoveEnd(e[0],e[1])}n.update()};return i=e.addMovablePoint({coord:o,normalStyle:t.normalPointStyle,highlightStyle:t.highlightPointStyle,constraints:{fixed:!t.translatable&&!t.editable},visible:t.showPoints,snapX:t.snap&&t.snap[0]||0,snapY:t.snap&&t.snap[1]||0,bounded:!1,onMove:u,onMoveEnd:c}),i.bounded=!0,i});n=P.addShape(e,t,r);var o=n.remove;return n.remove=function(){o.apply(n),s.invoke(r,"remove")},n},addShape:function(e,t,n){n=n||t.shape.coords;var r=P._typesOf(t.shape),o=t.shape.options||P.defaultOptions(r),i=P._mapTypes(r,n,function(n,r,i){var a=s.extend({},t,o[i]);return P._addType(e,n,r,a)}),a=s.filter(s.pluck(i,"update"),s.identity),l=function(){s.invoke(a,"call")},u=s.filter(s.pluck(i,"remove"),s.identity),c=function(){s.invoke(u,"call")},p=function(){return s.map(i,function(e){return e.getOptions?e.getOptions():{}})},h=function(){var e=s.map(n,function(e){return s.isArray(e)?e:e.coord});return{type:r,coords:e,options:p()}};return{type:r,points:n,update:l,remove:c,toJSON:h,getOptions:p}},equal:function(e,t){var n=P._typesOf(e),r=P._typesOf(t);if(n.length!==r.length)return!1;var o=P._mapTypes(n,e.coords,P._combine),i=P._mapTypes(r,t.coords,P._combine);return s.all(s.map(o,function(e,t){var n=i[t];return e.type===n.type&&P._forType(e.type).equal(e.coords,n.coords)}))},_typesOf:function(e){var t=e.type;return s.isArray(t)||(t=[t]),s.map(t,function(e){return"polygon"===e?"polygon-3":e})},defaultOptions:function(e){return s.map(e,function(e){var t=P._forType(e).defaultOptions;return s.extend({},t)})},_forType:function(e){var t=e.split("-")[0];return P[t]},_mapTypes:function(e,t,n,r){return s.map(e,function(e,o){var i=P.getPointCountForType(e),a=s.first(t,i);return t=s.rest(t,i),n.call(r,e,a,o)})},_addType:function(e,t,n,r){var o=s.isArray(n[0])?{coordA:n[0],coordZ:n[1]}:{pointA:n[0],pointZ:n[1]};if(t=t.split("-")[0],"polygon"===t){var i=e.addMovablePolygon(s.extend({},r,{fixed:!r.editable,snapX:r.snap&&r.snap[0]||0,snapY:r.snap&&r.snap[1]||0,points:n,constrainToGraph:!1}));return{update:i.transform.bind(i),remove:i.remove.bind(i)}}if("line"===t||"lineSegment"===t){var a=e.addMovableLineSegment(s.extend({},r,o,{movePointsWithLine:!0,fixed:!0,constraints:{fixed:!0},extendLine:"line"===t}));return{update:a.transform.bind(a,!0),remove:a.remove.bind(a)}}if("angle"===t){var l=!!r.editable&&null,u=e.addMovableAngle({angleLabel:"$deg0",fixed:!0,points:n,normalStyle:r.normalStyle,reflex:r.reflex});return s.isArray(n[0])||r.editable||(n[0].remove(),n[2].remove()),{update:u.update.bind(u,l),remove:u.remove.bind(u),getOptions:function(){return{reflex:u.isReflex()}}}}if("circle"===t){var c={remove:s.identity},p=function(){var t=n[0].coord||n[0],o=n[1].coord||n[1],i=y.distanceToPoint(t,o);c.remove(),c=e.circle(t,i,s.extend({stroke:E.DYNAMIC,"stroke-width":2},r.normalStyle))};return p(),n[1].remove&&!r.editable&&n[1].remove(),{update:p,remove:function(){c.remove()}}}if("point"===t)return{update:null,remove:null};throw new Error("Invalid shape type "+t)},_combine:function(e,t){return{type:e,coords:t}},polygon:{equal:i},line:{equal:g.equal},lineSegment:{equal:i},angle:{equal:function(e,t){if(!y.equal(e[1],t[1]))return!1;var n=[e[1],e[0]],r=[e[1],e[2]],o=[t[1],t[0]],i=[t[1],t[2]],a=b.equal(n,o)&&b.equal(r,i),s=b.equal(n,i)&&b.equal(r,o);return a||s},defaultOptions:{reflex:!1}},circle:{equal:function(e,t){var n=y.distanceToPoint(e[0],e[1]),r=y.distanceToPoint(t[0],t[1]);return y.equal(e[0],t[0])&&v.equal(n,r)}},point:{equal:y.equal}},_=a.createClass({displayName:"TransformationsShapeEditor",render:function(){return a.createElement("div",null,a.createElement(u,{ref:"graph",box:this.props.graph.box,range:this.props.graph.range,labels:this.props.graph.labels,step:this.props.graph.step,gridStep:this.props.graph.gridStep,markings:this.props.graph.markings,backgroundImage:this.props.graph.backgroundImage,onGraphieUpdated:this.setupGraphie}),a.createElement("select",{key:"type-select",value:this.getTypeString(this.props.shape.type),onChange:this.changeType},a.createElement("option",{value:"polygon-3"},"Triangle"),a.createElement("option",{value:"polygon-4"},"Quadrilateral"),a.createElement("option",{value:"polygon-5"},"Pentagon"),a.createElement("option",{value:"polygon-6"},"Hexagon"),a.createElement("option",{value:"line"},"Line"),a.createElement("option",{value:"line,line"},"2 lines"),a.createElement("option",{value:"lineSegment"},"Line segment"),a.createElement("option",{value:"lineSegment,lineSegment"}," ","2 line segments"," "),a.createElement("option",{value:"angle"},"Angle"),a.createElement("option",{value:"circle"},"Circle")))},getTypeString:function(e){return s.isArray(e)?s.map(e,this.getTypeString).join(","):"polygon"===e?"polygon-"+this.props.shape.coords.length:e},changeType:function(e){var t=String(e.target.value).split(","),n=r(s.map(t,P.getPointCountForType)),i=o(4,this.refs.graph.props.range),a=180*(.5-1/n),l=s.times(n,function(e){return y.rotateDeg([i,0],360*e/n+a)});this.props.onChange({shape:{type:t,coords:l,options:P.defaultOptions(t)}})},componentDidMount:function(){this.setupGraphie(this.refs.graph.graphie())},componentDidUpdate:function(e){f(e.shape,this.props.shape)||this.refs.graph.reset()},updateCoords:function(){this.props.onChange({shape:this.shape.toJSON()})},setupGraphie:function(e){this.shape=P.addMovableShape(e,{editable:!0,snap:e.snap,shape:this.props.shape,onMoveEnd:this.updateCoords})}}),M=a.createClass({displayName:"TransformerEditor",getDefaultProps:function(){return C},render:function(){var e=s.extend(T(this.props.graph,340),this.props.graph);return a.createElement("div",null,a.createElement("div",null,a.createElement(h,{label:"Grade empty answers as wrong:",gradeEmpty:this.props.gradeEmpty,onChange:this.props.onChange}),a.createElement(p,null,a.createElement("p",null,"We generally do not grade empty answers. This usually works well, but sometimes can result in giving away part of an answer in a multi-part question."),a.createElement("p",null,"If this is a multi-part question (there is another widget), you probably want to enable this option. Otherwise, you should leave it disabled."),a.createElement("p",null,"Confused? Talk to Elizabeth."))),a.createElement("div",null,"Graph settings:"),a.createElement(c,{box:e.box,labels:e.labels,range:e.range,step:e.step,gridStep:e.gridStep,valid:e.valid,backgroundImage:e.backgroundImage,markings:e.markings,showProtractor:e.showProtractor,onChange:this.changeGraph}),a.createElement("div",null,"Transformation settings:"),a.createElement(k,{ref:"transformationSettings",graphMode:this.props.graphMode,listMode:this.props.listMode,tools:this.props.tools,drawSolutionShape:this.props.drawSolutionShape,onChange:this.props.onChange}),a.createElement("div",null,"Starting location:"),a.createElement(_,{ref:"shapeEditor",graph:e,shape:this.props.starting.shape,onChange:this.changeStarting,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable}),a.createElement("div",null,"Solution transformations:"),a.createElement(d,{ref:"explorer",graph:e,graphMode:this.props.graphMode,listMode:this.props.listMode,gradeEmpty:this.props.gradeEmpty,tools:this.props.tools,drawSolutionShape:this.props.drawSolutionShape,starting:this.props.starting,correct:this.props.starting,transformations:this.props.correct.transformations,onChange:this.changeTransformer,trackInteraction:function(){}}))},changeGraph:function(e,t){var n=s.extend({},this.props.graph,e);this.props.onChange({graph:n},t)},changeStarting:function(e){var t=s.extend({},this.props.starting,e);this.props.onChange({starting:t})},changeTransformer:function(e,t){e.transformations&&(e.correct={transformations:e.transformations},delete e.transformations),this.props.onChange(e,t)},serialize:function(){var e=this.refs.explorer.getEditorJSON();return e.correct=e.answer,delete e.answer,e}});e.exports=M},function(e,t,n){"use strict";var r=n(116),o=n(54),i=n(58),a=n(55),s=n(10).ClassNames,l=n(10).Options,u=n(103),c=n(203),p=n(227),h=p.SignificantFigures,d=p.displaySigFigs,f="all",m=10,g=function(e){return new h(e).sigFigs},v=function(e,t){return d(e,t,-m,!1)},y=o.createClass({displayName:"OldUnitInput",mixins:[u],propTypes:{value:o.PropTypes.string},getDefaultProps:function(){return{apiOptions:l.defaults,value:""}},render:function(){var e=this.props.apiOptions.staticRender?o.createFactory(c):o.DOM.input,t=e({onChange:this.handleChange,ref:"input",className:s.INTERACTIVE,value:this.props.value,onFocus:this.handleFocus,onBlur:this.handleBlur});return o.createElement("div",{className:"old-unit-input"},t,o.createElement("div",{ref:"error",className:"error",style:{display:"none"}},i18n._("I don't understand that")))},_errorTimeout:null,_showError:function(){if(""!==this.props.value){var e=$(i.findDOMNode(this.refs.error));e.is(":visible")||e.css({top:50,opacity:.1}).show().animate({top:0,opacity:1},300)}},_hideError:function(){var e=$(i.findDOMNode(this.refs.error));e.is(":visible")&&e.animate({top:50,opacity:.1},300,function(){$(this).hide()})},componentDidUpdate:function(){clearTimeout(this._errorTimeout),KAS.unitParse(this.props.value).parsed?this._hideError():this._errorTimeout=setTimeout(this._showError,2e3)},componentWillUnmount:function(){clearTimeout(this._errorTimeout)},handleBlur:function(){this.props.onBlur([]),clearTimeout(this._errorTimeout),KAS.unitParse(this.props.value).parsed||this._showError()},handleChange:function(e){this._hideError(),this.props.onChange({value:e.target.value})},simpleValidate:function(e,t){return t=t||function(){},y.validate(this.getUserInput(),e)},getUserInput:function(){return this.props.value},getInputPaths:function(){return[[]]},focusInputPath:function(e){i.findDOMNode(this.refs.input).focus()},handleFocus:function(){this.props.onFocus([])},blurInputPath:function(e){i.findDOMNode(this.refs.input).blur()},setInputValue:function(e,t,n){this.props.onChange({value:t},n)},getDOMNodeForPath:function(){return i.findDOMNode(this.refs.input)},getGrammarTypeForPath:function(e){return"unit"}}),b=function(e){return e.simplify().asMul().partition()[1].flatten().simplify()};a.extend(y,{validate:function(e,t){var n=KAS.unitParse(t.value).expr,r=KAS.unitParse(e);if(!r.parsed)return{type:"invalid",message:i18n._("I couldn't understand those units.")};var o=null,i=t.sigfigs,s=g(r.coefficient)===i;s||(o=i18n._("Check your significant figures."));var l;try{var u=new KAS.Var("x"),c=new KAS.Eq(n.simplify(),"=",new KAS.Mul(u,r.expr.simplify())),p=c.solveLinearEquationForVariable(u);l=Number(p.eval()).toPrecision(i)===Number(1).toPrecision(i)}catch(e){l=!1}l||(o=i18n._("That answer is numerically incorrect."));var h,d=b(r.expr.simplify()),m=b(n.simplify());if(h=t.accepting===f?KAS.compare(d,m).equal:a(t.acceptingUnits).any(function(e){var t=b(KAS.unitParse(e).unit.simplify());return KAS.compare(t,d).equal}),!h)var o=i18n._("Check your units.");var v=h&&l&&s;return{type:"points",earned:v?1:0,total:1,message:o}}}),e.exports={name:"unit-input",displayName:"Unit",defaultAlignment:"inline-block",widget:y,transform:function(e){return r(e).del(["value"]).freeze()},version:{major:0,minor:1},countSigfigs:g,sigfigPrint:v,hidden:!0}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(109),s=n(41),l=n(111),u=n(40),c=u.iconOk,p=u.iconRemove,h=n(227),d=h.displaySigFigs,f="all",m="some",g=10,v=function(e,t){return d(e,t,-g,!1)},y=function(e){return e.simplify().asMul().partition()[1].flatten().simplify()},b=r.createClass({displayName:"UnitExample",render:function(){
var e;return e=this.state.valid?r.createElement("span",null,r.createElement("span",{className:"unit-example-okay"},r.createElement(s,c)),this.state.solvedExample):r.createElement("span",{className:"unit-example-not-okay"},r.createElement(s,p)),r.createElement("div",null,e," ",this.props.name)},componentWillReceiveProps:function(e){this._checkValidity(e)},componentWillMount:function(){this._checkValidity(this.props)},_checkValidity:function(e){var t=e.name,n=e.original,r=e.sigfigs,o=KAS.unitParse(t),i="",a=!0;if(o.parsed&&n){var s=new KAS.Var("x"),l=o.unit,u=new KAS.Eq(n,"=",new KAS.Mul(s,l));try{var c=u.solveLinearEquationForVariable(s);i=v(c.eval(),r),a=KAS.compare(y(n),y(l)).equal}catch(e){a=!1}}else a=!1;this.setState({valid:a,solvedExample:i})}}),x=r.createClass({displayName:"UnitInputEditor",mixins:[i,a],propTypes:{value:r.PropTypes.string,acceptingUnits:r.PropTypes.arrayOf(r.PropTypes.string),accepting:r.PropTypes.oneOf([f,m]),sigfigs:r.PropTypes.number},getDefaultProps:function(){return{value:"5x10^5 kg m / s^2",accepting:f,sigfigs:3}},render:function(){var e=this,t=this.props,n=t.acceptingUnits,o=t.accepting;n=n||[];var i=null;if(o===m){var a=n.map(function(t,n){return r.createElement(b,{name:t,original:e.original||null,sigfigs:e.props.sigfigs,key:n})});i=r.createElement("div",null,r.createElement("input",{type:"text",defaultValue:n.join(", "),onChange:this.handleAcceptingUnitsChange})," ","(comma-separated)",a)}return r.createElement("div",{className:"unit-editor"},r.createElement("div",null,r.createElement("input",{value:this.props.value,className:"unit-editor-canonical",onBlur:this._handleBlur,onKeyPress:this._handleBlur,onChange:this.onChange})," ",this.parsed?r.createElement("span",{className:"unit-example-okay"},r.createElement(s,c)):r.createElement("span",{className:"unit-example-not-okay"},r.createElement(s,p))),r.createElement("div",null,"Significant Figures:"," ",r.createElement(l,{value:this.props.sigfigs,onChange:this.handleSigfigChange,checkValidity:this._checkSigfigValidity,useArrowKeys:!0})),r.createElement("div",null,r.createElement("label",null,r.createElement("input",{type:"radio",name:this.groupId,onChange:function(){return e._setAccepting(f)},checked:this.props.accepting===f})," Any equivalent unit "),r.createElement("label",null,r.createElement("input",{type:"radio",name:this.groupId,onChange:function(){return e._setAccepting(m)},checked:this.props.accepting===m})," Only these units ")),i)},handleAcceptingUnitsChange:function(e){var t=e.target.value.split(",").map(function(e){return e.trim()}).filter(function(e){return""!==e});this.change({acceptingUnits:t})},handleSigfigChange:function(e){this.change({sigfigs:e})},_checkSigfigValidity:function(e){return e>0&&e<=g},_setAccepting:function(e){this.change({accepting:e})},componentWillMount:function(){this.groupId=o.uniqueId("accepting"),this._doOriginal(this.props)},componentWillReceiveProps:function(e){this._doOriginal(e)},_doOriginal:function(e){var t=KAS.unitParse(e.value);this.parsed=!1,t.parsed&&"unitMagnitude"===t.type&&(this.original=t.expr,this.parsed=!0)},onChange:function(e){this.props.onChange({value:e.target.value})},getSaveWarnings:function(){var e=this.props,t=e.value,n=e.accepting,r=e.acceptingUnits,o=[],i=KAS.unitParse(t);return i.parsed||o.push("Answer did not parse"),n===m&&0===r.length&&o.push("There are no accepted units"),o}});e.exports=x},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(91),s=1280,l=720,u="https://{hostname}/embed_video?slug={slug}&internal_video_only=1",c=/^https?:\/\//,p=/khanacademy\.org/,h=r.createClass({displayName:"Video",propTypes:{alignment:r.PropTypes.string,location:r.PropTypes.string},mixins:[i],getUserInput:function(){return null},simpleValidate:function(e){return h.validate(null,e)},render:function(){var e=this.props.location;if(!e)return r.createElement("div",null);var t;if(c.test(e))t=e;else{t=u.replace("{slug}",e);var n=document.location.hostname,o="www.khanacademy.org";p.test(n)&&(o=n),t=t.replace("{hostname}",o)}return r.createElement(a,{width:s,height:l,key:e+this.props.alignment},r.createElement("iframe",{className:"perseus-video-widget",sandbox:"allow-same-origin allow-scripts",width:s,height:l,src:t,allowFullScreen:!0}))}});o.extend(h,{validate:function(e,t){return{type:"points",earned:0,total:0,message:null}}}),e.exports={name:"video",displayName:"Video",defaultAlignment:"block",supportedAlignments:["block","float-left","float-right","full-width"],widget:h}},function(e,t,n){"use strict";function r(e){var t=u.exec(e);return t?t[1]:e}var o=n(54),i=(n(55),n(103)),a=n(109),s=n(96),l=n(108),u=/khanacademy\.org\/.*\/v\/(.*)$/,c=o.createClass({displayName:"VideoEditor",propTypes:{location:o.PropTypes.string,onChange:o.PropTypes.func},mixins:[i,a],getDefaultProps:function(){return{location:""}},_handleUrlChange:function(e){this.props.onChange({location:r(e)})},render:function(){return o.createElement("div",null,o.createElement("label",null,"URL or KA Video Slug:"," ",o.createElement(l,{name:"location",value:this.props.location,style:{width:290},onChange:this._handleUrlChange}),o.createElement(s,null,"You can paste any URL here. KA video URLs will be converted to just the slug.")))}});e.exports=c},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(10).Options,a=n(11),s=n(103),l=n(208),u=n(92),c=u.MovablePoint,p=(n(201).number,n(201).point),h=r.createClass({displayName:"ExampleGraphieWidget",mixins:[s,l],propTypes:{apiOptions:i.propTypes,graph:r.PropTypes.object.isRequired,coord:r.PropTypes.arrayOf(r.PropTypes.number)},getDefaultProps:function(){return{coord:null,graph:{box:[400,400],labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],gridStep:[1,1],valid:!0,backgroundImage:null,markings:"grid",showProtractor:!1}}},render:function(){return r.createElement(u,{ref:"graphie",box:this.props.graph.box,range:this.props.graph.range,options:this.props.graph,setup:this.setupGraphie,setDrawingAreaAvailable:this.props.apiOptions.setDrawingAreaAvailable},r.createElement(c,{pointSize:5,coord:this.props.coord||[0,0],constraints:[c.constraints.snap(),c.constraints.bound()],onMove:this.movePoint}))},movePoint:function(e){this.change({coord:e})},_getGridConfig:function(e){return o.map(e.step,function(t,n){return a.gridDimensionConfig(t,e.range[n],e.box[n],e.gridStep[n])})},setupGraphie:function(e,t){var n=this._getGridConfig(t);e.graphInit({range:t.range,scale:o.pluck(n,"scale"),axisArrows:"<->",labelFormat:function(e){return"\\small{"+e+"}"},gridStep:t.gridStep,tickStep:o.pluck(n,"tickStep"),labelStep:1,unityLabels:o.pluck(n,"unityLabel")}),e.label([0,t.range[1][1]],t.labels[1],"above")},simpleValidate:function(e){return h.validate(this.getUserInput(),e)}});o.extend(h,{validate:function(e,t){return null==e.coord?{type:"invalid",message:null}:p.equal(e.coord,t.correct)?{type:"points",earned:1,total:1,message:null}:{type:"points",earned:0,total:1,message:null}}}),e.exports={name:"example-graphie-widget",displayName:"Example Graphie Widget",hidden:!0,widget:h}},function(e,t,n){"use strict";var r=n(54),o=n(103),i=n(109),a=n(179).widget,s=r.createClass({displayName:"ExampleGraphieWidgetEditor",mixins:[o,i],getDefaultProps:function(){return{correct:[4,4],graph:{box:[340,340],labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],gridStep:[1,1],valid:!0,backgroundImage:null,markings:"grid",showProtractor:!1}}},render:function(){return r.createElement("div",null,r.createElement(a,{graph:this.props.graph,coord:this.props.correct,onChange:this.handleChange,apiOptions:this.props.apiOptions}))},handleChange:function(e){e.coord&&this.change({correct:e.coord})}});e.exports=s},function(e,t,n){"use strict";var r=n(54),o=n(103),i=n(55),a=r.createClass({displayName:"TextInput",render:function(){return r.createElement("input",{ref:"input",value:this.props.value||"",onChange:this.changeValue})},focus:function(){return this.refs.input.focus(),!0},changeValue:function(e){this.props.onChange(e.target.value)}}),s=r.createClass({displayName:"ExampleWidget",propTypes:{value:r.PropTypes.string},getDefaultProps:function(){return{value:""}},mixins:[o],render:function(){return r.createElement(a,{ref:"input",value:this.props.value,onChange:this.change("value")})},getUserInput:function(){return this.props.value},focus:function(){return this.refs.input.focus(),!0},simpleValidate:function(e){return s.validate(this.getUserInput(),e)}});i.extend(s,{validate:function(e,t){return""===e?{type:"invalid",message:"It looks like you haven't answered all of the question yet."}:e===t.correct?{type:"points",earned:1,total:1,message:null}:{type:"points",earned:0,total:1,message:null}}}),e.exports={name:"example-widget",displayName:"Example Widget",defaultAlignment:"inline-block",hidden:!0,widget:s}},function(e,t,n){"use strict";var r=n(54),o=n(103),i=n(109),a=r.createClass({displayName:"ExampleWidgetEditor",mixins:[o,i],getDefaultProps:function(){return{correct:""}},handleAnswerChange:function(e){this.change({correct:e.target.value})},render:function(){return r.createElement("div",null,r.createElement("label",null,"Correct answer:",r.createElement("input",{value:this.props.correct,onChange:this.handleAnswerChange,ref:"input"})))},focus:function(){return this.refs.input.focus(),!0}});e.exports=a},function(e,t,n){"use strict";var r=n(54),o=n(55),i=n(103),a=n(43),s=a.parse,l=a.basicOutput,u=r.createClass({displayName:"SimpleMarkdownTester",propTypes:{value:r.PropTypes.string},getDefaultProps:function(){return{value:""}},mixins:[i],toJSON:function(){return{}},render:function(){var e=s(this.props.value),t=l(e);return r.createElement("div",null,t)},focus:function(){return this.refs.input.focus(),!0},simpleValidate:function(e){return u.validate(this.toJSON(),e)}});o.extend(u,{validate:function(e,t){return{type:"points",earned:0,total:0,message:null}}}),e.exports={name:"simple-markdown-tester",displayName:"Simple Markdown Tester",hidden:!0,widget:u,transform:o.identity}},function(e,t,n){"use strict";var r=n(54),o=n(103),i=n(109),a=r.createClass({displayName:"TextArea",render:function(){return r.createElement("textarea",{ref:"input",value:this.props.value||"",onChange:this.changeValue})},focus:function(){return this.refs.input.focus(),!0},changeValue:function(e){this.props.onChange(e.target.value)}}),s=r.createClass({displayName:"SimpleMarkdownTesterEditor",mixins:[o,i],getDefaultProps:function(){return{value:""}},render:function(){return r.createElement("div",null,r.createElement("label",null,r.createElement("div",null,"Simple markdown contents:"),r.createElement("div",null,r.createElement(a,{value:this.props.value,onChange:this.change("value"),ref:"input"}))))},focus:function(){return this.refs.input.focus(),!0}});e.exports=s},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=r.PropTypes,s=r.createClass({displayName:"SortableArea",propTypes:{components:a.arrayOf(a.node).isRequired,onReorder:a.func.isRequired,verify:a.func},render:function(){var e=this,t=i(this.state.components).map(function(t,n){return r.createElement(l,{index:n,component:t,area:e,key:t.key,draggable:t.props.draggable,dragging:n===e.state.dragging})});return r.createElement("ol",{className:this.props.className,style:this.props.style},t)},getDefaultProps:function(){return{verify:function(){return!0}}},getInitialState:function(){return{dragging:null,components:this.props.components}},componentWillReceiveProps:function(e){this.setState({components:e.components})},onDragStart:function(e){this.setState({dragging:e})},onDrop:function(){this.setState({dragging:null}),this.props.onReorder(this.state.components)},onDragEnter:function(e){if(this.state.dragging!==e){var t=this.state.components.slice(),n=t.splice(this.state.dragging,1);t.splice(e,0,n[0]);var r=this.props.verify(t);return r&&this.setState({dragging:e,components:t}),r}},componentDidMount:function(){this._setDragEvents()},componentDidUpdate:function(){this._setDragEvents()},_listenEvent:function(e){e.dataTransfer.setData("hackhackhack","because browsers!")},_cancelEvent:function(e){e.preventDefault()},_setDragEvents:function(){var e=this;this._dragItems=this._dragItems||[];var t=o.findDOMNode(this).querySelectorAll("[draggable=true]"),n=i(this._dragItems).difference(t),r=i(t).difference(this._dragItems);i(r).each(function(t){t.addEventListener("dragstart",e._listenEvent),t.addEventListener("drop",e._cancelEvent)}),i(n).each(function(t){t.removeEventListener("dragstart",e._listenEvent),t.removeEventListener("drop",e._cancelEvent)})}}),l=r.createClass({displayName:"SortableItem",propTypes:{},render:function(){var e="sortable-disabled";return this.props.dragging?e="sortable-dragging":this.props.draggable&&(e="sortable-enabled"),r.createElement("li",{draggable:this.props.draggable,className:e,onDragStart:this.handleDragStart,onDrop:this.handleDrop,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver},this.props.component)},handleDragStart:function(e){e.nativeEvent.dataTransfer.effectAllowed="move",this.props.area.onDragStart(this.props.index)},handleDrop:function(){this.props.area.onDrop(this.props.index)},handleDragEnter:function(e){var t=this.props.area.onDragEnter(this.props.index);e.nativeEvent.dataTransfer.effectAllowed=t?"move":"none"},handleDragOver:function(e){e.preventDefault()}});e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(228),i=n(229),a={create:function(e){return(0,o.mapObj)(e,function(e){var t=r(e,2),n=t[0],i=t[1];return[n,{_name:n+"_"+(0,o.hashObject)(i),_definition:i}]})},rehydrate:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];(0,i.addRenderedClassNames)(e)}},s={renderStatic:function(e){(0,i.reset)(),(0,i.startBuffering)();var t=e(),n=(0,i.flushToString)();return{html:t,css:{content:n,renderedClassNames:(0,i.getRenderedClassNames)()}}}},l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(function(e){return e});if(0===r.length)return"";var o=r.map(function(e){return e._name}).join("-o_O-");return(0,i.injectStyleOnce)(o,"."+o,r.map(function(e){return e._definition})),o};t.default={StyleSheet:a,StyleSheetServer:s,css:l},e.exports=t.default},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=n(55),i={"(":"left parenthesis",")":"right parenthesis","[":"open bracket","]":"close bracket","\\{":"left brace","\\}":"right brace","\\lvert":"open vertical bar","\\rvert":"close vertical bar","|":"vertical bar","\\uparrow":"up arrow","\\Uparrow":"up arrow","\\downarrow":"down arrow","\\Downarrow":"down arrow","\\updownarrow":"up down arrow","\\leftarrow":"left arrow","\\Leftarrow":"left arrow","\\rightarrow":"right arrow","\\Rightarrow":"right arrow","\\langle":"open angle","\\rangle":"close angle","\\lfloor":"open floor","\\rfloor":"close floor","\\int":"integral","\\intop":"integral","\\lim":"limit","\\ln":"natural log","\\log":"log","\\sin":"sine","\\cos":"cosine","\\tan":"tangent","\\cot":"cotangent","\\sum":"sum","/":"slash",",":"comma",".":"point","-":"negative","+":"plus","~":"tilde",":":"colon","?":"question mark","'":"apostrophe","\\%":"percent"," ":"space","\\ ":"space","\\$":"dollar sign","\\angle":"angle","\\degree":"degree","\\circ":"circle","\\vec":"vector","\\triangle":"triangle","\\pi":"pi","\\prime":"prime","\\infty":"infinity","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\omega":"omega","\\theta":"theta","\\sigma":"sigma","\\lambda":"lambda","\\tau":"tau","\\Delta":"delta","\\delta":"delta","\\mu":"mu","\\rho":"rho","\\nabla":"del","\\ell":"ell","\\ldots":"dots"},a={"\\prime":"prime","\\degree":"degree","\\circ":"degree"},s={"|":"open vertical bar",".":""},l={"|":"close vertical bar",".":""},u={"+":"plus","-":"minus","\\pm":"plus minus","\\cdot":"dot","*":"times","/":"divided by","\\times":"times","\\div":"divided by","\\circ":"circle","\\bullet":"bullet"},c={"=":"equals","\\approx":"approximately equals","\\neq":"does not equal","\\ne":"does not equal","\\geq":"is greater than or equal to","\\ge":"is greater than or equal to","\\leq":"is less than or equal to","\\le":"is less than or equal to",">":"is greater than","<":"is less than","\\leftarrow":"left arrow","\\Leftarrow":"left arrow","\\rightarrow":"right arrow","\\Rightarrow":"right arrow",":":"colon"},p=function(e,t,n){if(e){var r;if(r="open"===t?e in s?s[e]:i[e]||e:"close"===t?e in l?l[e]:i[e]||e:"bin"===t?u[e]||e:"rel"===t?c[e]||e:i[e]||e,r===e&&!/^\w+$/.test(e))throw"KaTeX a11y "+t+" string not found: "+e;/^\d+$/.test(r)&&n.length>0&&/^\d+$/.test(n[n.length-1])?n[n.length-1]+=r:r&&n.push(r)}},h=function(e,t){var n=[];e.push(n),t(n)},d={accent:function(e,t){h(t,function(t){f(e.value.base,t),t.push("with"),f(e.value.accent,t),t.push("on top")})},bin:function(e,t){p(e.value,"bin",t)},close:function(e,t){p(e.value,"close",t)},color:function e(t,n){var e=t.value.color.replace(/katex-/,"");h(n,function(n){n.push("start color "+e),f(t.value.value,n),n.push("end color "+e)})},delimsizing:function(e,t){e.value.value&&"."!==e.value.value&&p(e.value.value,"normal",t)},genfrac:function(e,t){h(t,function(t){e.value.hasBarLine?(t.push("start fraction"),p(e.value.leftDelim,"open",t),f(e.value.numer,t),t.push("divided by"),f(e.value.denom,t),p(e.value.rightDelim,"close",t),t.push("end fraction")):(t.push("start binomial"),p(e.value.leftDelim,"open",t),f(e.value.numer,t),t.push("over"),f(e.value.denom,t),p(e.value.rightDelim,"close",t),t.push("end binomial"))})},katex:function(e,t){t.push("KaTeX")},leftright:function(e,t){h(t,function(t){p(e.value.left,"open",t),f(e.value.body,t),p(e.value.right,"close",t)})},llap:function(e,t){f(e.value.body,t)},mathord:function(e,t){f(e.value,t)},op:function(e,t){p(e.value.body,"normal",t)},open:function(e,t){p(e.value,"open",t)},ordgroup:function(e,t){f(e.value,t)},overline:function(e,t){h(t,function(t){t.push("start overline"),f(e.value.body,t),t.push("end overline")})},phantom:function(e,t){t.push("empty space")},punct:function(e,t){p(e.value,"punct",t)},rel:function(e,t){p(e.value,"rel",t)},rlap:function(e,t){f(e.value.body,t)},rule:function(e,t){t.push("rule")},sizing:function(e,t){f(e.value.value,t)},spacing:function(e,t){t.push("space")},styling:function(e,t){f(e.value.value,t)},sqrt:function(e,t){h(t,function(t){e.value.index&&(t.push("root"),t.push("start index"),f(e.value.index,t),t.push("end index")),t.push("square root of"),f(e.value.body,t),t.push("end square root")})},supsub:function(e,t){e.value.base&&f(e.value.base,t),e.value.sub&&h(t,function(t){t.push("start subscript"),f(e.value.sub,t),t.push("end subscript")});var n=e.value.sup;if(n){var o=a[n],i=n.value;!o&&i&&(o="object"===("undefined"==typeof i?"undefined":r(i))&&1===i.length?a[i[0].value]:a[i]),h(t,function(t){return o?void t.push(o):(t.push("start superscript"),f(e.value.sup,t),void t.push("end superscript"))})}},text:function(e,t){"string"!=typeof e.value?f(e.value.body,t):p(e,"normal",t)},textord:function(e,t){f(e.value,t)}},f=function e(t,n){if(n=n||[],"string"==typeof t)p(t,"normal",n);else if(t.constructor===Array)for(var r=0;r<t.length;r++)e(t[r],n);else{if(!(t.type&&t.type in d))throw"KaTeX a11y un-recognized type: "+t.type;d[t.type](t,n)}return n},m=function e(t,n){for(var r=n.ownerDocument,o=0;o<t.length;o++){var i=t[o];if(o>0&&n.appendChild(r.createTextNode(", ")),"string"==typeof i)n.appendChild(r.createTextNode(i));else{var a=r.createElement("span");n.appendChild(a),e(i,a)}}},g=function(e){return katex.__parse(e)},v=function(e,t){var n=g(e),r=f(n);m(r,t)},y=function(e){var t=g(e),n=f(t);return o.flatten(n).join(", ")};e.exports={render:v,renderString:y,parseMath:g}},function(e,t,n){"use strict";var r=n(78),o=r.interactiveSizes,i=n(54),a=512,s=688,l={SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"};e.exports={containerSizeClass:l,containerSizeClassPropType:i.PropTypes.oneOf(Object.values(l)),getClassFromWidth:function(e){return e?e<=a?l.SMALL:e<=s?l.MEDIUM:l.LARGE:l.MEDIUM},getInteractiveBoxFromSizeClass:function(e){return e===l.SMALL?[o.defaultBoxSizeSmall,o.defaultBoxSizeSmall]:[o.defaultBoxSize,o.defaultBoxSize]}}},function(e,t,n){"use strict";function r(e){s.extend(this,e)}var o=n(11),i=o.nestedMap,a=o.deepEq,s=n(55),l=function(){throw new Error("Abstract method! Must be implemented by Graphie Movable"+this.constructor.displayName)};s.extend(r.prototype,{movableProps:[],add:l,modify:l,remove:l,toFront:function(){}});var u=function(e,t){return s.extend({},e,{children:s.filter(s.flatten(t),s.identity)})},c=function(e){var t=function e(t){if(!(this instanceof e))throw new Error("Use createElement or JSX with graphie movables");return this.props=u(t,t.children||[]),this};return e.displayName=e.displayName||s.uniqueId("GraphieClass"),t.displayName=e.displayName,t.prototype=new r(e),t.prototype.constructor=t,t},p=function(e){return c({displayName:e.name||s.uniqueId("GraphieSimpleClass"),movableProps:["children"],add:function(t){this._elements=e(t,this.props),this._prevProps=this.props},modify:function(e){if(!a(this.props,this._prevProps))return this.remove(),this.add(e),this._prevProps=this.props,"reordered"},remove:function(){i(this._elements,function(e){e&&e.remove()}),this._elements=null,this._prevProps=null},toFront:function(){i(this._elements,function(e){s.isFunction(e.toFront)&&e.toFront()})}})};e.exports={GraphieMovable:r,createClass:c,createSimpleClass:p}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(55),i=n(189),a=n(209),s=n(191),l=n(211),u=(s.assert,i.createClass({displayName:"MovablePoint",movableProps:["children"],_getProps:function(){if(this.props.isMobile){var e=this.props.isMobile,t=e?{stroke:"#ffffff","stroke-width":3,fill:l.INTERACTIVE}:{stroke:l.INTERACTIVE,fill:l.INTERACTIVE},n=e?Object.assign(t,this.props.mobileStyleOverride||{}):Object.assign(t,this.props.normalStyle),o=e?r({},t,{"stroke-width":0,scale:.75}):this.props.highlightStyle,i=Object.assign({normalStyle:n,highlightStyle:o,shadow:e,tooltip:e&&this.props.showTooltips},e?{pointSize:7}:{});return Object.assign(this.props,i)}return this.props},add:function(e){this.point=a.addMovablePoint(e,this._getProps())},modify:function(){this.point.modify(this._getProps())},remove:function(){this.point.remove()},toFront:function(){this.point.toFront()},grab:function(e){this.point.grab(e)}}));o.extend(u,a.MovablePoint);var c=i.createClass({displayName:"MovableLine",movableProps:["children"],add:function(e){var t=o.pluck(this.props.children,"point"),n=o.extend({},this.props,{points:t});this.line=a.addMovableLine(e,n)},modify:function(){var e=o.pluck(this.props.children,"point"),t=o.extend({},this.props,{points:e});this.line.modify(t)},remove:function(){this.line.remove()},toFront:function(){this.line.toFront()}});o.extend(c,a.MovableLine);var p=i.createSimpleClass(function(e,t){var n=t.coord;return t.unscaled&&(n=e.unscalePoint(n)),e.label(n,t.text,t.direction,t.tex,t.style)}),h=i.createClass({displayName:"Line",movableProps:["children"],add:function(e){var t=this.props;this.graphie=e,this.line=this.graphie.line(t.start,t.end,t.style)},modify:function(){var e=this.props,t=this.graphie.svgPath([e.start,e.end]);this.line.attr(o.extend({},e.style,{path:t}))},remove:function(){this.line.remove()},toFront:function(){this.line.toFront()}}),d=i.createClass({displayName:"Parabola",movableProps:["children"],add:function(e){var t=this.props;this.graphie=e,this.parabola=this.graphie.parabola(t.a,t.b,t.c,t.style)},modify:function(){var e=this.props,t=this.graphie.svgParabolaPath(e.a,e.b,e.c);this.parabola.attr(o.extend({},e.style,{path:t}))},remove:function(){this.parabola.remove()},toFront:function(){this.parabola.toFront()}}),f=i.createClass({displayName:"Sinusoid",movableProps:["children"],add:function(e){var t=this.props;this.graphie=e,this.sinusoid=this.graphie.sinusoid(t.a,t.b,t.c,t.d,t.style)},modify:function(){var e=this.props,t=this.graphie.svgSinusoidPath(e.a,e.b,e.c,e.d);this.sinusoid.attr(o.extend({},e.style,{path:t}))},remove:function(){this.sinusoid.remove()},toFront:function(){this.sinusoid.toFront()}}),m=i.createSimpleClass(function(e,t){return e.plot(t.fn,t.range,t.style)}),g=i.createSimpleClass(function(e,t){return e.plotParametric(t.fn,t.range,t.style)}),v=i.createSimpleClass(function(e,t){return e.ellipse(t.coord,e.unscaleVector([4,4]),{fill:t.color||l.BLACK,stroke:t.color||l.BLACK})}),y=i.createClass({displayName:"Path",movableProps:["children"],add:function(e){var t=this.props;this.graphie=e,this.path=this.graphie.path(t.coords,t.style)},modify:function(){var e=this.props,t=this.graphie.svgPath(e.coords);this.path.attr({path:t})},remove:function(){this.path.remove()},toFront:function(){this.path.toFront()}}),b=i.createSimpleClass(function(e,t){var n=t.center,r=t.radius;return t.unscaled&&(n=e.unscalePoint(n),r=e.unscaleVector(r)),e.arc(n,r,t.startAngle,t.endAngle,t.sector,t.style)}),x=i.createSimpleClass(function(e,t){return e.circle(t.center,t.radius,t.style)}),E=i.createSimpleClass(function(e,t){return e.rect(t.x,t.y,t.width,t.height,t.style)});e.exports={Arc:b,Circle:x,Label:p,Line:h,MovableLine:c,MovablePoint:u,Parabola:d,Path:y,Plot:m,PlotParametric:g,Point:v,Sinusoid:f,Rect:E}},function(e,t,n){"use strict";function r(){var e=document.createElement("div"),t=["transform","msTransform","MozTransform","WebkitTransform","OTransform"],n=null;return i.each(t,function(t){"undefined"!=typeof e.style[t]&&(n=t)}),n}function o(){var e=document.createElement("div"),t=u.getPrefixedTransform();return e.style[t]="translateZ(0px)",!!e.style[t]}var i=n(55),a=n(230),s=null,l=null,u={assert:function(e,t){if(!e)throw new Error("Assertion Error"+(t?": "+t:""))},createGettersFor:function(e,t){i.each(i.keys(t),function(t){void 0===e.prototype[t]&&(e.prototype[t]=function(){return this.state[t]})})},addMovableHelperMethodsTo:function(e){i.each(a,function(t,n){void 0===e.prototype[n]&&(e.prototype[n]=t)})},arrayify:function(e){return null==e?[]:i.isArray(e)?i.filter(i.flatten(e),i.identity):[e]},normalizeOptions:function(e,t){var n=i.clone(t);return i.each(e,function(e){var r=t[e];if(void 0!==r){var o=u.arrayify(r);n[e]=o}}),n},getPrefixedTransform:function(){return s=s||r()},getCanUse3dTransform:function(){return null==l&&(l=o()),l}};e.exports=u},function(e,t,n){"use strict";var r=n(231);n(232),e.exports=r},function(e,t,n){!function(){var t=/\r\n?/g,n=/\t/g,r=/\f/g,o=function(e){return e.replace(t,"\n").replace(r,"").replace(n,"    ")},i=function(e){var t=Object.keys(e);t.sort(function(t,n){var r=e[t].order,o=e[n].order;return r!==o?r-o:t<n?-1:t>n?1:0});var n=function(r,o){var i=[];o=o||{};for(var a="";r;){for(var s=0;s<t.length;){var l,u=t[s],c=e[u];if(l=c.match?c.match(r,o,a):c.regex.exec(r)){var p=l[0];r=r.substring(p.length);var h=c.parse(l,n,o);null==h.type&&(h.type=u),i.push(h),a=p;break}s++}if(s===t.length)throw new Error("could not find rule to match content: "+r)}return i},r=function(e,t){return n(o(e),t)};return r},a=function(e){var t=function(t,n){return n.inline?e.exec(t):null};return t.regex=e,t},s=function(e){var t=function(t,n){return n.inline?null:e.exec(t)};return t.regex=e,t},l=function(e){var t=function(t,n){return e.exec(t)};return t.regex=e,t},u=function(e){var t=function(n,r){if(r=r||{},Array.isArray(n)){for(var o=r.key,i=[],a=!1,s=0;s<n.length;s++){r.key=s;var l=t(n[s],r),u="string"==typeof l;u&&a?i[i.length-1]+=l:i.push(l),a=u}return r.key=o,i}return e(n,t,r)};return t},c=function(e){var t=function(n,r){return r=r||{},Array.isArray(n)?n.map(function(e){return t(e,r)}).join(""):e(n,t,r)};return t},p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,h=function(e){return e._store={validated:!0,originalProps:e.props},e},d=function(e,t,n,r){n=n||{},r="undefined"==typeof r||r;var o="";for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&(o+=" "+i+'="'+n[i]+'"');var a="<"+e+o+">";return r?a+t+"</"+e+">":a},f={},m=function(e){if(null==e)return null;try{var t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").toLowerCase();if(0===t.indexOf("javascript:"))return null}catch(e){return null}return e},g=function(e,t,n){var r=n.inline||!1;n.inline=!0;var o=e(t,n);return n.inline=r,o},v=function(e,t,n){var r=n.inline||!1;n.inline=!1;var o=e(t+"\n\n",n);return n.inline=r,o},y=function(e,t,n){return{content:g(t,e[1],n)}},b=function(){return{}},x="(?:[*+-]|\\d+\\.)",E="( *)("+x+") +",w=new RegExp("^"+E),T=new RegExp(E+"[^\\n]*(?:\\n(?!\\1"+x+" )[^\\n]*)*(\n|$)","gm"),C=/\n{2,}$/,S=C,k=/ *\n+$/,P=new RegExp("^( *)("+x+") [\\s\\S]+?(?:\n{2,}(?! )(?!\\1"+x+" )\\n*|\\s*\n*$)"),_=/^$|\n *$/,M=function(){var e=/^ *| *\| *$/g,t=/^ *|\| *$/g,n=/(?: *\| *)?\n$/,r=/\n$/,o=/^ *\| *| *\| *$/g,i=/ *\| */,a=/^ *-+: *$/,s=/^ *:-+: *$/,l=/^ *:-+ *$/,u=function(e){return a.test(e)?"right":s.test(e)?"center":l.test(e)?"left":null},c=function(t,n,r){var o=t[1].replace(e,"").split(i);return o.map(function(e){return n(e,r)})},p=function(e,n,r){var o=e[2].replace(t,"").split(i);return o.map(u)},h=function(e,t,r){var a=e[3].replace(n,"").split("\n");return a.map(function(e){var n=e.replace(o,"").split(i);return n.map(function(e){return t(e,r)})})},d=function(e,t,n){var o=e[3].replace(r,"").split("\n");return o.map(function(e){var r=e.split(i);return r.map(function(e){return t(e,n)})})},f=function(e,t,n){n.inline=!0;var r=c(e,t,n),o=p(e,t,n),i=h(e,t,n);return n.inline=!1,{type:"table",header:r,align:o,cells:i}},m=function(e,t,n){n.inline=!0;var r=c(e,t,n),o=p(e,t,n),i=d(e,t,n);return n.inline=!1,{type:"table",header:r,align:o,cells:i}};return{parseTable:f,parseNpTable:m,NPTABLE_REGEX:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/}}(),N="(?:\\[[^\\]]*\\]|[^\\]]|\\](?=[^\\[]*\\]))*",O="\\s*<?([^\\s]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*",A=/mailto:/i,I=function(e,t,n){var r=(e[2]||e[1]).replace(/\s+/g," ").toLowerCase();if(t._defs&&t._defs[r]){var o=t._defs[r];n.target=o.target,n.title=o.title}return t._refs=t._refs||{},t._refs[r]=t._refs[r]||[],t._refs[r].push(n),n},R={heading:{match:s(/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n *)+\n/),parse:function(e,t,n){return{level:e[1].length,content:g(t,e[2],n)}},react:function(e,t,n){return h({type:"h"+e.level,key:n.key,props:{children:t(e.content,n)},$$typeof:p,_store:null})},html:function(e,t,n){return d("h"+e.level,t(e.content,n))}},nptable:{match:s(M.NPTABLE_REGEX),regex:M.NPTABLE_REGEX,parse:M.parseNpTable},lheading:{match:s(/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/),parse:function(e,t,n){return{type:"heading",level:"="===e[2]?1:2,content:g(t,e[1],n)}}},hr:{match:s(/^( *[-*_]){3,} *(?:\n *)+\n/),parse:b,react:function(e,t,n){return h({type:"hr",key:n.key,props:f,$$typeof:p,_store:null})},html:function(e,t,n){return"<hr>"}},codeBlock:{match:s(/^(?:    [^\n]+\n*)+(?:\n *)+\n/),parse:function(e,t,n){var r=e[0].replace(/^    /gm,"").replace(/\n+$/,"");return{lang:void 0,content:r}},react:function(e,t,n){var r=e.lang?"markdown-code-"+e.lang:void 0;return h({type:"pre",key:n.key,props:{children:h({type:"code",props:{className:r,children:e.content},$$typeof:p,_store:null})},$$typeof:p,_store:null})},html:function(e,t,n){var r=e.lang?"markdown-code-"+e.lang:void 0,o=d("code",e.content,{class:r});return d("pre",o)}},fence:{match:s(/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n *)+\n/),parse:function(e,t,n){return{type:"codeBlock",lang:e[2]||void 0,content:e[3]}}},blockQuote:{match:s(/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/),
parse:function(e,t,n){var r=e[0].replace(/^ *> ?/gm,"");return{content:t(r,n)}},react:function(e,t,n){return h({type:"blockquote",key:n.key,props:{children:t(e.content,n)},$$typeof:p,_store:null})},html:function(e,t,n){return d("blockquote",t(e.content,n))}},list:{match:function(e,t,n){var r=_.test(n),o=t._list||!t.inline;return r&&o?P.exec(e):null},parse:function(e,t,n){var r=e[2],o=r.length>1,i=o?+r:void 0,a=e[0].replace(S,"\n").match(T),s=!1,l=a.map(function(e,r){var o=w.exec(e)[0].length,i=new RegExp("^ {1,"+o+"}","gm"),l=e.replace(i,"").replace(w,""),u=r===a.length-1,c=l.indexOf("\n\n")!==-1,p=c||u&&s;s=p;var h=n.inline,d=n._list;n._list=!0;var f;p?(n.inline=!1,f=l.replace(k,"\n\n")):(n.inline=!0,f=l.replace(k,""));var m=t(f,n);return n.inline=h,n._list=d,m});return{ordered:o,start:i,items:l}},react:function(e,t,n){var r=e.ordered?"ol":"ul";return h({type:r,key:n.key,props:{start:e.start,children:e.items.map(function(e,r){return h({type:"li",key:r,props:{children:t(e,n)},$$typeof:p,_store:null})})},$$typeof:p,_store:null})},html:function(e,t,n){var r=e.items.map(function(e){return d("li",t(e,n))}).join(""),o=e.ordered?"ol":"ul",i={start:e.start};return d(o,r,i)}},def:{match:s(/^ *\[([^\]]+)\]: *<?([^\s>]*)>?(?: +["(]([^\n]+)[")])? *\n(?: *\n)?/),parse:function(e,t,n){var r=e[1].replace(/\s+/g," ").toLowerCase(),o=e[2],i=e[3];return n._refs&&n._refs[r]&&n._refs[r].forEach(function(e){e.target=o,e.title=i}),n._defs=n._defs||{},n._defs[r]={target:o,title:i},{def:r,target:o,title:i}},react:function(){return null},html:function(){return null}},table:{match:s(/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/),parse:M.parseTable,react:function(e,t,n){var r=function(t){return null==e.align[t]?{}:{textAlign:e.align[t]}},o=e.header.map(function(e,o){return h({type:"th",key:o,props:{style:r(o),children:t(e,n)},$$typeof:p,_store:null})}),i=e.cells.map(function(e,o){return h({type:"tr",key:o,props:{children:e.map(function(e,o){return h({type:"td",key:o,props:{style:r(o),children:t(e,n)},$$typeof:p,_store:null})})},$$typeof:p,_store:null})});return h({type:"table",key:n.key,props:{children:[h({type:"thead",key:"thead",props:{children:h({type:"tr",props:{children:o},$$typeof:p,_store:null})},$$typeof:p,_store:null}),h({type:"tbody",key:"tbody",props:{children:i},$$typeof:p,_store:null})]},$$typeof:p,_store:null})},html:function(e,t,n){var r=function(t){return null==e.align[t]?"":"text-align:"+e.align[t]+";"},o=e.header.map(function(e,o){return d("th",t(e,n),{style:r(o)})}).join(""),i=e.cells.map(function(e){var o=e.map(function(e,o){return d("td",t(e,n),{style:r(o)})}).join("");return d("tr",o)}).join(""),a=d("thead",d("tr",o)),s=d("tbody",i);return d("table",a+s)}},newline:{match:s(/^(?:\n *)*\n/),parse:b,react:function(e,t,n){return"\n"},html:function(e,t,n){return"\n"}},paragraph:{match:s(/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/),parse:y,react:function(e,t,n){return h({type:"div",key:n.key,props:{className:"paragraph",children:t(e.content,n)},$$typeof:p,_store:null})},html:function(e,t,n){var r={class:"paragraph"};return d("div",t(e.content,n),r)}},escape:{match:a(/^\\([^0-9A-Za-z\s])/),parse:function(e,t,n){return{type:"text",content:e[1]}}},autolink:{match:a(/^<([^ >]+:\/[^ >]+)>/),parse:function(e,t,n){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1]}}},mailto:{match:a(/^<([^ >]+@[^ >]+)>/),parse:function(e,t,n){var r=e[1],o=e[1];return A.test(o)||(o="mailto:"+o),{type:"link",content:[{type:"text",content:r}],target:o}}},url:{match:a(/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/),parse:function(e,t,n){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1],title:void 0}}},link:{match:a(new RegExp("^\\[("+N+")\\]\\("+O+"\\)")),parse:function(e,t,n){var r={content:t(e[1],n),target:e[2],title:e[3]};return r},react:function(e,t,n){return h({type:"a",key:n.key,props:{href:m(e.target),title:e.title,children:t(e.content,n)},$$typeof:p,_store:null})},html:function(e,t,n){var r={href:m(e.target),title:e.title};return d("a",t(e.content,n),r)}},image:{match:a(new RegExp("^!\\[("+N+")\\]\\("+O+"\\)")),parse:function(e,t,n){var r={alt:e[1],target:e[2],title:e[3]};return r},react:function(e,t,n){return h({type:"img",key:n.key,props:{src:m(e.target),alt:e.alt,title:e.title},$$typeof:p,_store:null})},html:function(e,t,n){var r={src:m(e.target),alt:e.alt,title:e.title};return d("img","",r,!1)}},reflink:{match:a(new RegExp("^\\[("+N+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,n){return I(e,n,{type:"link",content:t(e[1],n)})}},refimage:{match:a(new RegExp("^!\\[("+N+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,n){return I(e,n,{type:"image",alt:e[1]})}},strong:{match:a(/^\*\*([\s\S]+?)\*\*(?!\*)/),parse:y,react:function(e,t,n){return h({type:"strong",key:n.key,props:{children:t(e.content,n)},$$typeof:p,_store:null})},html:function(e,t,n){return d("strong",t(e.content,n))}},u:{match:a(/^__([\s\S]+?)__(?!_)/),parse:y,react:function(e,t,n){return h({type:"u",key:n.key,props:{children:t(e.content,n)},$$typeof:p,_store:null})},html:function(e,t,n){return d("u",t(e.content,n))}},em:{match:a(new RegExp("^\\b_((?:__|[\\s\\S])+?)_\\b|^\\*(?=\\S)((?:\\*\\*|\\s+[^\\*\\s]|[^\\s\\*])*?[^\\s\\*])\\*(?!\\*)")),parse:function(e,t,n){return{content:t(e[2]||e[1],n)}},react:function(e,t,n){return h({type:"em",key:n.key,props:{children:t(e.content,n)},$$typeof:p,_store:null})},html:function(e,t,n){return d("em",t(e.content,n))}},del:{match:a(/^~~(?=\S)([\s\S]*?\S)~~/),parse:y,react:function(e,t,n){return h({type:"del",key:n.key,props:{children:t(e.content,n)},$$typeof:p,_store:null})},html:function(e,t,n){return d("del",t(e.content,n))}},inlineCode:{match:a(/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/),parse:function(e,t,n){return{content:e[2]}},react:function(e,t,n){return h({type:"code",key:n.key,props:{children:e.content},$$typeof:p,_store:null})},html:function(e,t,n){return d("code",e.content)}},br:{match:l(/^ {2,}\n/),parse:b,react:function(e,t,n){return h({type:"br",key:n.key,props:f,$$typeof:p,_store:null})},html:function(e,t,n){return"<br>"}},text:{match:a(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00ff-\uffff]|\n\n| {2,}\n|\w+:\S|$)/),parse:function(e,t,n){return{content:e[0]}},react:function(e,t,n){return e.content},html:function(e,t,n){return e.content}}};Object.keys(R).forEach(function(e,t){R[e].order=t});var D=function(e,t){t||"undefined"==typeof console||console.warn("simple-markdown ruleOutput should take 'react' or 'html' as the second argument."),t=t||"react";var n=function(n,r,o){return e[n.type][t](n,r,o)};return n},L=i(R),F=function(e){return L(e+"\n\n",{inline:!1})},B=function(e){return L(e,{inline:!0})},j=function(e){return L(e,{inline:!C.test(e)})},q=u(D(R,"react")),z=c(D(R,"html")),U={defaultRules:R,parserFor:i,ruleOutput:D,reactFor:u,htmlFor:c,inlineRegex:a,blockRegex:s,anyScopeRegex:l,parseInline:g,parseBlock:v,defaultRawParse:L,defaultBlockParse:F,defaultInlineParse:B,defaultImplicitParse:j,defaultReactOutput:q,defaultHtmlOutput:z,preprocess:o,sanitizeUrl:m,defaultParse:j,outputFor:u,defaultOutput:q};"undefined"!=typeof e&&e.exports?e.exports=U:"undefined"!=typeof global?global.SimpleMarkdown=U:window.SimpleMarkdown=U}()},function(e,t,n){"use strict";var r=n(233),o=n(234),i=n(235),a=n(236),s=n(237),l=n(238),u=n(239),c=n(240),p=n(241),h=n(242),d=n(243),f=n(244),m=n(245),g=n(246),v=n(247),y=n(248),b=n(249),x=n(250),E=n(251),w=n(252),T=n(253),C=n(254),S=n(255),k={Editor:p,EditorBlock:h,EditorState:g,CompositeDecorator:a,Entity:f,EntityInstance:m,BlockMapBuilder:o,CharacterMetadata:i,ContentBlock:s,ContentState:l,SelectionState:b,AtomicBlockUtils:r,KeyBindingUtil:v,Modifier:d,RichUtils:y,DefaultDraftBlockRenderMap:u,DefaultDraftInlineStyle:c,convertFromHTML:E,convertFromRaw:w,convertToRaw:x,genKey:T,getDefaultKeyBinding:C,getVisibleSelectionRect:S};e.exports=k},function(e,t,n){"use strict";var r=n(186),o=r.StyleSheet,i=r.css,a=n(54),s=n(55),l={grayLight:"#aaa",basicBorderColor:"#ccc",white:"#fff"},u={borderBottom:"9px solid transparent",borderTop:"9px solid transparent",content:'" "',height:"0",position:"absolute",top:"0",width:"0"},c=o.create({infoTip:{display:"inline-block",marginLeft:"5px",position:"relative"},infoTipContainer:{position:"absolute",top:"-12px",left:"22px",zIndex:"1000"},infoTipTriangle:{height:"10px",left:"0",position:"absolute",top:"8px",width:"0",zIndex:"1",":before":s.extend({},u,{borderRight:"9px solid #bbb",right:"0"}),":after":s.extend({},u,{borderRight:"9px solid "+l.white,right:"-1px"})},verticalShadow:{border:"1px solid "+l.basicBorderColor,boxShadow:"0 1px 3px "+l.basicBorderColor,borderBottom:"1px solid "+l.grayLight},infoTipContentContainer:{background:l.white,padding:"5px 10px",width:"240px"}}),p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2N2M3NTAxYS04YmVlLTQ0M2MtYmRiNS04OGM2N2IxN2NhYzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUJCRTk4Qjc4NjAwMTFFMzg3QUJDNEI4Mzk2QTRGQkQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUJCRTk4QjY4NjAwMTFFMzg3QUJDNEI4Mzk2QTRGQkQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NGE5ZDI0OTMtODk1NC00OGFkLTlhMTgtZDAwM2MwYWNjNDJlIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjY3Yzc1MDFhLThiZWUtNDQzYy1iZGI1LTg4YzY3YjE3Y2FjMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pqm89uYAAADMSURBVHjaXJA9DoJAEIUH1M4TUHIFsCMGen9OwCGw1YRGW2ntKel0exsojHIBC0ouQAyUviFDstmXfNmZeS+zm7XSNCXRFiRgJf0bXIHixpbhGdxBBJYC1w/xaA424MhNEATkui71fU9KqfEU78UbD9PdbJRlOdae55GmhIP+1NV1TcMwkOM41DSNHvRtMhTHMRVFQW3b6mOLgx99kue5GRp/gIOZuZGvNpTNwjD8oliANU+qqqKu6/TQBdymN57AHjzBT+B6Jx79BRgAvc49kQA4yxgAAAAASUVORK5CYII=",h=a.createClass({displayName:"InfoTip",getInitialState:function(){return{hover:!1}},render:function(){return a.createElement("div",{className:i(c.infoTip)},a.createElement("img",{width:10,height:10,src:p,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),a.createElement("div",{className:i(c.infoTipContainer),style:{display:this.state.hover?"block":"none"}},a.createElement("div",{className:i(c.infoTipTriangle)}),a.createElement("div",{className:i(c.verticalShadow,c.infoTipContentContainer)},this.props.children)))},handleMouseEnter:function(){this.setState({hover:!0})},handleMouseLeave:function(){this.setState({hover:!1})}});e.exports=h},function(e,t,n){e.exports=n(54).__internalAddons.PureRenderMixin},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(54),a=n(340),s=a.Provider,l=n(257),u=n(277),c=u.activateKeypad,p=u.dismissKeypad,h=u.configureKeypad,d=u.setCursor,f=u.setKeyHandler,m=n(278),g=i.createClass({displayName:"ProvidedKeypad",propTypes:{onElementMounted:i.PropTypes.func},componentWillMount:function(){this.store=m()},activate:function(){this.store.dispatch(c())},dismiss:function(){this.store.dispatch(p())},configure:function(e,t){this.store.dispatch(h(e)),setTimeout(function(){return t&&t()})},setCursor:function(e){this.store.dispatch(d(e))},setKeyHandler:function(e){this.store.dispatch(f(e))},render:function(){var e=this,t=this.props,n=t.onElementMounted,a=r(t,["onElementMounted"]);return i.createElement(s,{store:this.store},i.createElement(l,o({onElementMounted:function(t){var r=o({},t,{activate:e.activate,dismiss:e.dismiss,configure:e.configure,setCursor:e.setCursor,setKeyHandler:e.setKeyHandler});n&&n(r)}},a)))}});e.exports=g},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(58),a=n(341),s=a.StyleSheet,l=n(279),u=l.View,c=n(258),p=n(259),h=n(260),d=n(261),f=n(262),m=f.cursorHandleRadiusPx,g=f.cursorHandleDistanceMultiplier,v=f.gray76,y=n(200),b=y.keypadElementPropType,x=n(262),E=x.brightGreen,w=x.gray17,T=.8,C=o.createClass({displayName:"MathInput",propTypes:{keypadElement:b,onBlur:o.PropTypes.func,onChange:o.PropTypes.func.isRequired,onFocus:o.PropTypes.func,scrollable:o.PropTypes.bool,style:o.PropTypes.any,value:o.PropTypes.string},getDefaultProps:function(){return{scrollable:!1,style:{},value:""}},getInitialState:function(){return{focused:!1,handle:{animateIntoPosition:!1,visible:!1,x:0,y:0}}},componentDidMount:function(){var e=this;this.mathField=new p(this._mathContainer,{},{onCursorMove:function(t){e.props.keypadElement&&e.props.keypadElement.setCursor(t)}}),this.mathField.mathField.__controller.container.unbind("mousedown.mathquill"),this.props.scrollable||(this.mathField.mathField.__controller.scrollHoriz=function(){}),this.mathField.setContent(this.props.value),this._container=i.findDOMNode(this),this._root=this._container.querySelector(".mq-root-block"),this._root.style.fontSize=S+"pt",this.touchStartInitialScroll=null,this.recordTouchStartOutside=function(t){if(e.state.focused&&!e._container.contains(t.target)){var n=!1;if(e.props.keypadElement)for(var r=e._getKeypadBounds(),o=0;o<t.changedTouches.length;o++){var i=t.changedTouches[o].clientX,a=t.changedTouches[o].clientY;if(r.left<=i&&r.right>=i&&r.top<=a&&r.bottom>=a||r.bottom<a){n=!0;break}}n||(e.didTouchOutside=!0,e.dragListener&&e.dragListener.detach(),e.dragListener=new d(function(){e.didScroll=!0,e.dragListener.detach()},t),e.dragListener.attach())}},this.blurOnTouchEndOutside=function(t){e.state.focused&&e.didTouchOutside&&!e.didScroll&&e.blur(),e.didTouchOutside=!1,e.didScroll=!1,e.dragListener&&(e.dragListener.detach(),e.removeListeners=null)},window.addEventListener("touchstart",this.recordTouchStartOutside),window.addEventListener("touchend",this.blurOnTouchEndOutside),window.addEventListener("touchcancel",this.blurOnTouchEndOutside),window.addEventListener("resize",this._clearKeypadBoundsCache),window.addEventListener("orientationchange",this._clearKeypadBoundsCache)},componentWillReceiveProps:function(e){this.props.keypadElement!==e.keypadElement&&this._clearKeypadBoundsCache()},componentDidUpdate:function(){this.mathField.getContent()!==this.props.value&&this.mathField.setContent(this.props.value)},componentWillUnmount:function(){window.removeEventListener("touchstart",this.recordTouchStartOutside),window.removeEventListener("touchend",this.blurOnTouchEndOutside),window.removeEventListener("touchcancel",this.blurOnTouchEndOutside),window.removeEventListener("resize",this._clearKeypadBoundsCache()),window.removeEventListener("orientationchange",this._clearKeypadBoundsCache())},_clearKeypadBoundsCache:function(e){this._keypadBounds=null},_cacheKeypadBounds:function(e){this._keypadBounds=e.getBoundingClientRect()},_getKeypadBounds:function(){if(!this._keypadBounds){var e=i.findDOMNode(this.props.keypadElement);this._cacheKeypadBounds(e)}return this._keypadBounds},_updateCursorHandle:function(e){var t=this._container.getBoundingClientRect(),n=this._container.querySelector(".mq-cursor"),r=n.getBoundingClientRect(),o=r.width,i=2;this.setState({handle:{visible:!0,animateIntoPosition:e,x:r.left+o/2-t.left,y:r.bottom+i-t.top}})},_hideCursorHandle:function(){this.setState({handle:{visible:!1,x:0,y:0}})},blur:function(){this.mathField.blur(),this.props.onBlur&&this.props.onBlur(),this.setState({focused:!1,handle:{visible:!1}})},focus:function(){var e=this;this.props.keypadElement.setKeyHandler(function(t){var n=e.mathField.pressKey(t),r=function(){e.setState({handle:{visible:!1}})},o=e.mathField.getContent();return e.props.value!==o?e.props.onChange(o,r):r(),n}),this.mathField.focus(),this.props.onFocus&&this.props.onFocus(),this.setState({focused:!0},function(){setTimeout(function(){if(e.isMounted()){var t=e.props.keypadElement&&i.findDOMNode(e.props.keypadElement);h(e._container,t)}})})},_findHitNode:function(e,t,n,r,o){for(var i=this;n>=e.top&&n<=e.bottom;){n+=o;for(var a=[[t-r,n],[t,n],[t+r,n]],s=a.map(function(e){var t;return(t=document).elementFromPoint.apply(t,e)}).filter(function(e){return e&&i._root.contains(e)&&(!e.classList.contains("mq-root-block")&&!e.classList.contains("mq-non-leaf")||e.classList.contains("mq-empty")||e.classList.contains("mq-hasCursor"))}),l=null,u=[],c=[],p=0,h={},d={},f=s,m=Array.isArray(f),g=0,f=m?f:f[Symbol.iterator]();;){var v;if(m){if(g>=f.length)break;v=f[g++]}else{if(g=f.next(),g.done)break;v=g.value}var y=v,b=y.getAttribute("mathquill-command-id");null!=b?(u.push(y),h[b]=(h[b]||0)+1,d[b]=y):c.push(y)}for(var x=Object.entries(h),E=Array.isArray(x),w=0,x=E?x:x[Symbol.iterator]();;){var T;if(E){if(w>=x.length)break;T=x[w++]}else{if(w=x.next(),w.done)break;T=w.value}var C=T,S=C[0],k=C[1];k>p&&(p=k,l=d[S])}if(null==l&&c.length>0&&(l=c[0]),null!==l)return this.mathField.setCursorPosition(t,n,l),!0}return!1},_insertCursorAtClosestNode:function(e,t){var n=this.mathField.getCursor();if(!this._root.hasChildNodes())return void n.insAtLeftEnd(this.mathField.mathField.__controller.root);t>this._containerBounds.bottom?t=this._containerBounds.bottom:t<this._containerBounds.top&&(t=this._containerBounds.top+10);var r=void 0,o=void 0;if(o=-8,r=5,!this._findHitNode(this._containerBounds,e,t,r,o)&&(t=this._containerBounds.top,o=8,!this._findHitNode(this._containerBounds,e,t,r,o))){var i=this._root.firstChild.getBoundingClientRect(),a=this._root.lastChild.getBoundingClientRect(),s=i.left,l=a.right;Math.abs(e-l)<Math.abs(e-s)?n.insAtRightEnd(this.mathField.mathField.__controller.root):n.insAtLeftEnd(this.mathField.mathField.__controller.root),this.props.keypadElement&&this.props.keypadElement.setCursor({context:this.mathField.contextForCursor(n)})}},handleTouchStart:function(e){if(e.stopPropagation(),this._hideCursorHandle(),""!==this.mathField.getContent()){this._containerBounds=this._container.getBoundingClientRect();var t=e.changedTouches[0];this._insertCursorAtClosestNode(t.clientX,t.clientY)}this.state.focused||this.focus()},handleTouchMove:function(e){if(e.stopPropagation(),""!==this.mathField.getContent()){var t=e.changedTouches[0];this._insertCursorAtClosestNode(t.clientX,t.clientY)}},handleTouchEnd:function(e){e.stopPropagation(),""!==this.mathField.getContent()&&this._updateCursorHandle()},onCursorHandleTouchStart:function(e){e.stopPropagation(),e.preventDefault(),this._containerBounds=this._container.getBoundingClientRect()},_constrainToBound:function(e,t,n,r){return e<t?t+(e-t)*r:e>n?n+(e-n)*r:e},onCursorHandleTouchMove:function(e){e.stopPropagation();var t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,r=t-this._containerBounds.left,o=n-2*m*g-this._containerBounds.top;this.setState({handle:{animateIntoPosition:!1,visible:!0,x:this._constrainToBound(r,0,this._containerBounds.width,T),y:this._constrainToBound(o,0,this._containerBounds.height,T)}});var i=22,a=n-i;this._insertCursorAtClosestNode(t,a)},onCursorHandleTouchEnd:function(e){e.stopPropagation(),this._updateCursorHandle(!0)},onCursorHandleTouchCancel:function(e){e.stopPropagation(),this._updateCursorHandle(!0)},render:function(){var e=this,t=this.state,n=t.focused,a=t.handle,s=this.props.style,l=1,p=2,h=this.state.focused?p:l,d=2,f=P-h-d,m=3,g=1,v={paddingTop:f-g,paddingRight:f,paddingBottom:f-m,paddingLeft:f},y=r({},O.innerContainer,{borderWidth:h},v,n?{borderColor:E}:{},s);return o.createElement(u,{style:N.input,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onClick:function(e){return e.stopPropagation()},role:"textbox",ariaLabel:i18n._("Math input box")},o.createElement("div",{className:"keypad-input"},o.createElement("div",{ref:function(t){e._mathContainer=i.findDOMNode(t)},style:y})),n&&a.visible&&o.createElement(c,r({},a,{onTouchStart:this.onCursorHandleTouchStart,onTouchMove:this.onCursorHandleTouchMove,onTouchEnd:this.onCursorHandleTouchEnd,onTouchCancel:this.onCursorHandleTouchCancel})))}}),S=18,k=20,P=8,_=k+2*P,M=64,N=s.create({input:{position:"relative",display:"inline-block",verticalAlign:"middle"}}),O={innerContainer:{backgroundColor:"white",display:"flex",minHeight:_,minWidth:M,boxSizing:"border-box",position:"relative",overflow:"hidden",borderStyle:"solid",borderColor:v,borderRadius:4,color:w}};e.exports=C},function(e,t,n){"use strict";e.exports={KeypadTypes:{FRACTION:"FRACTION",EXPRESSION:"EXPRESSION"},KeyTypes:{EMPTY:"EMPTY",VALUE:"VALUE",OPERATOR:"OPERATOR",INPUT_NAVIGATION:"INPUT_NAVIGATION",KEYPAD_NAVIGATION:"KEYPAD_NAVIGATION",MANY:"MANY",ECHO:"ECHO"},DeviceOrientations:{LANDSCAPE:"LANDSCAPE",PORTRAIT:"PORTRAIT"},DeviceTypes:{PHONE:"PHONE",TABLET:"TABLET"},LayoutModes:{FULLSCREEN:"FULLSCREEN",COMPACT:"COMPACT"},BorderDirections:{LEFT:"LEFT",BOTTOM:"BOTTOM"},BorderStyles:{LEFT:["LEFT"],BOTTOM:["BOTTOM"],ALL:["LEFT","BOTTOM"],NONE:[]},IconTypes:{MATH:"MATH",SVG:"SVG",TEXT:"TEXT"},DecimalSeparators:{COMMA:"COMMA",PERIOD:"PERIOD"},EchoAnimationTypes:{SLIDE_AND_FADE:"SLIDE_AND_FADE",FADE_ONLY:"FADE_ONLY",LONG_FADE_ONLY:"LONG_FADE_ONLY"}}},function(e,t,n){"use strict";var r=n(54),o=n(268),i=n(269),a=n(199),s=a.BorderDirections,l=a.EchoAnimationTypes,u=a.IconTypes,c=a.KeyTypes,p=a.KeypadTypes,h=r.PropTypes.shape({type:r.PropTypes.oneOf(Object.keys(u)).isRequired,data:r.PropTypes.string.isRequired}),d=r.PropTypes.oneOf(Object.keys(o)),f=r.PropTypes.shape({ariaLabel:r.PropTypes.string,id:d.isRequired,type:r.PropTypes.oneOf(Object.keys(c)).isRequired,childKeyIds:r.PropTypes.arrayOf(d),icon:h.isRequired}),m=r.PropTypes.shape({keypadType:r.PropTypes.oneOf(Object.keys(p)).isRequired,extraKeys:r.PropTypes.arrayOf(d)}),g=r.PropTypes.shape({activate:r.PropTypes.func.isRequired,dismiss:r.PropTypes.func.isRequired,configure:r.PropTypes.func.isRequired,setCursor:r.PropTypes.func.isRequired,setKeyHandler:r.PropTypes.func.isRequired}),v=r.PropTypes.arrayOf(r.PropTypes.oneOf(Object.keys(s))),y=r.PropTypes.shape({height:r.PropTypes.number,width:r.PropTypes.number,top:r.PropTypes.number,right:r.PropTypes.number,bottom:r.PropTypes.number,left:r.PropTypes.number}),b=r.PropTypes.shape({animationId:r.PropTypes.string.isRequired,animationType:r.PropTypes.oneOf(Object.keys(l)).isRequired,borders:v,id:d.isRequired,initialBounds:y.isRequired}),x=r.PropTypes.oneOf(Object.keys(i)),E=r.PropTypes.shape({parentId:d.isRequired,bounds:y.isRequired,childKeyIds:r.PropTypes.arrayOf(d).isRequired}),w=r.PropTypes.oneOfType([r.PropTypes.arrayOf(r.PropTypes.node),r.PropTypes.node]);e.exports={keyConfigPropType:f,keyIdPropType:d,keypadConfigurationPropType:m,keypadElementPropType:g,bordersPropType:v,boundingBoxPropType:y,echoPropType:b,cursorContextPropType:x,popoverPropType:E,iconPropType:h,childrenPropType:w}},function(e,t,n){e.exports={number:n(263),vector:n(264),point:n(265),line:n(266),ray:n(267)}},function(e,t,n){"use strict";var r,o,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(186),l=s.StyleSheet,u=s.css,c=(n(55),n(54)),p=n(99),h=n(10),d=h.ClassNames,f=n(77),m=n(78),g=n(76),v=n(270),y=m.checkedColor,b={backgroundColor:m.satSelectedBackgroundColor,borderTopColor:"transparent",borderBottomColor:"transparent",outline:"2px solid "+m.satBlue,zIndex:1},x=c.createClass({displayName:"Choice",propTypes:{apiOptions:c.PropTypes.shape({satStyling:c.PropTypes.bool,isMobile:c.PropTypes.bool}),checked:c.PropTypes.bool,className:c.PropTypes.string,clue:c.PropTypes.node,content:c.PropTypes.node,correct:c.PropTypes.bool,deselectEnabled:c.PropTypes.bool,disabled:c.PropTypes.bool,editMode:c.PropTypes.bool,groupName:c.PropTypes.string,isLastChoice:c.PropTypes.bool,onChecked:c.PropTypes.func.isRequired,pos:c.PropTypes.number,reviewMode:c.PropTypes.bool,showClue:c.PropTypes.bool,type:c.PropTypes.string},statics:{styles:l.create({pos:{display:"none"},satDescription:{display:"block",position:"relative",borderTop:"1px solid #ccc",boxSizing:"border-box",cursor:"pointer",marginLeft:0,padding:"17px 14px","::after":{bottom:-1,content:'" "',height:1,left:0,position:"absolute",width:"100%",zIndex:1}},satDescriptionLastChoice:{borderBottom:"1px solid #ccc"},satDescriptionInputFocused:a({},b),satDescriptionInputActive:a({},b,{backgroundColor:m.satActiveBackgroundColor}),satDescriptionCorrect:{color:m.satCorrectColor,":focus":{borderColor:m.satCorrectColor,outlineColor:m.satCorrectColor}},satDescriptionCorrectChecked:{backgroundColor:m.satCorrectBackgroundColor,borderBottomColor:m.satCorrectBorderColor,borderTopColor:m.satCorrectBorderColor,":after":{backgroundColor:m.satCorrectBorderColor}},satDescriptionIncorrectChecked:{color:m.satIncorrectColor,backgroundColor:m.satIncorrectBackgroundColor,borderBottomColor:m.satIncorrectBorderColor,borderTopColor:m.satIncorrectBorderColor,":after":{backgroundColor:m.satIncorrectBorderColor},":focus":{borderColor:m.satIncorrectColor,outlineColor:m.satIncorrectColor}},input:{display:"inline-block",width:20,margin:3,marginLeft:-20,marginRight:0,float:"none"},satReviewInput:{pointerEvents:"none"},satRadioOptionContent:{userSelect:"text",display:"block",marginLeft:45,cursor:"inherit"},satReviewRadioOptionContent:{fontWeight:"bold"},responsiveCheckboxInput:(r={},r[g.lgOrSmaller]={border:"none",borderRadius:4,":checked":{backgroundColor:y,boxShadow:"none"},":checked::before":{display:"flex",alignItems:"center",justifyContent:"center",content:'"✓"',color:"white",fontFamily:"monospace",fontSize:17,height:m.circleSize,width:m.circleSize}},r),responsiveMobileCheckboxInput:(o={},o[g.lgOrSmaller]={display:"none"},o),satCheckboxOptionContent:{position:"absolute",display:"block",top:"50%",margin:"-16px 0 0 0",width:"auto"},satPosBack:{display:"block",borderRadius:25,border:"2px solid "+m.satBlue,content:"''",height:25,width:25,position:"absolute",top:1,left:1},satPosBackChecked:{background:m.satBlue},satPosBackCorrect:{borderColor:m.satCorrectColor},satPosBackCorrectChecked:{background:m.satCorrectColor},satPosBackIncorrectChecked:{borderColor:m.satIncorrectColor,background:m.satIncorrectColor},satPos:{display:"block",color:m.satBlue,fontFamily:m.boldFontFamily,fontSize:13,textAlign:"center",position:"absolute",left:0,top:7,width:32},satPosChecked:{color:"#fff"},satPosCorrect:{color:m.satCorrectColor},clue:{display:"block"},satReviewClue:{marginTop:13,marginLeft:45},label:{display:"block"},responsiveLabel:(i={},i[g.lgOrSmaller]={WebkitTapHighlightColor:"transparent",alignItems:"center",display:"flex",padding:"17px 0"},i),satLabel:{cursor:"pointer"}})},getDefaultProps:function(){return{checked:!1,classSet:{},disabled:!1,editMode:!1,showClue:!1,type:"radio",pos:0}},getInitialState:function(){return{isInputFocused:!1,isInputActive:!1}},onInputFocus:function(){this.setState({isInputFocused:!0})},onInputBlur:function(){this.setState({isInputFocused:!1})},onInputMouseDown:function(){this.setState({isInputActive:!0}),this.props.apiOptions.satStyling&&this._input&&this._input.focus()},onInputMouseUp:function(){this.setState({isInputActive:!1}),this.props.apiOptions.satStyling&&this._input&&this._input.focus()},onInputMouseOut:function(){this.setState({isInputActive:!1})},inputRef:function(e){this._input=e},render:function(){var e=this,t=String.fromCharCode(65+this.props.pos),n=function(){return e.props.checked?"boolean"==typeof e.props.correct?e.props.correct?i18n._("(Choice %(letter)s, Checked, Correct)",{letter:t}):i18n._("(Choice %(letter)s, Checked, Incorrect)",{letter:t}):i18n._("(Choice %(letter)s, Checked)",{letter:t}):e.props.correct?i18n._("(Choice %(letter)s, Correct Answer)",{letter:t}):i18n._("(Choice %(letter)s)",{letter:t})},r=x.styles,o=this.props.apiOptions.satStyling,i=this.props.apiOptions.isMobile,s=p(this.props.className,"checkbox-label",u(r.label,i&&f.disableTextSelection,!o&&r.responsiveLabel,o&&r.satLabel)),l={type:this.props.type,name:this.props.groupName,checked:this.props.checked,disabled:this.props.disabled,onFocus:this.onInputFocus,onBlur:this.onInputBlur,className:u(f.perseusInteractive,r.input,f.responsiveInput,"radio"===this.props.type&&!o&&f.responsiveRadioInput,"radio"===this.props.type&&i&&!o&&f.responsiveMobileRadioInput,"checkbox"===this.props.type&&!o&&r.responsiveCheckboxInput,"checkbox"===this.props.type&&i&&!o&&r.responsiveMobileCheckboxInput,o&&"radio"===this.props.type&&f.perseusSrOnly,o&&"checkbox"===this.props.type&&r.satCheckboxInput,o&&this.props.reviewMode&&r.satReviewInput)},h=null;h="radio"===this.props.type&&this.props.deselectEnabled?c.createElement(v,a({onChecked:this.props.onChecked,inputRef:this.inputRef},l)):c.createElement("input",a({onChange:function(t){e.props.onChecked(t.target.checked)},ref:this.inputRef},l));var m=this.props,g=m.reviewMode,y=m.correct,b=m.checked,E=m.isLastChoice,w=o&&g&&y,T=o&&g&&!y&&b,C=p("description",w&&"sat-correct",T&&"sat-incorrect",u(o&&this.state.isInputFocused&&r.satDescriptionInputFocused,o&&this.state.isInputActive&&r.satDescriptionInputActive,o&&r.satDescription,w&&r.satDescriptionCorrect,w&&b&&r.satDescriptionCorrectChecked,T&&r.satDescriptionIncorrectChecked,o&&E&&r.satDescriptionLastChoice)),S="checkbox "+u(o&&f.perseusInteractive,o&&r.satCheckboxOptionContent),k="pos-back "+u(r.pos,o&&r.satPosBack,o&&(this.props.checked||this.state.isInputActive)&&r.satPosBackChecked,o&&g&&y&&r.satPosBackCorrect,o&&g&&y&&b&&r.satPosBackCorrectChecked,o&&g&&!y&&b&&r.satPosBackIncorrectChecked),P="pos "+u(r.pos,o&&r.satPos,o&&y&&r.satPosCorrect,o&&(this.props.checked||this.state.isInputActive)&&r.satPosChecked),_=this.props.editMode?"div":"label";return c.createElement(_,{isLabel:!this.props.editMode,className:s,style:{opacity:!o&&this.props.disabled?.5:1}},h,c.createElement("div",{className:C,onMouseDown:this.onInputMouseDown,onMouseUp:this.onInputMouseUp,onMouseOut:this.onInputMouseOut},c.createElement("div",{className:"checkbox-and-option"},c.createElement("span",{className:S},c.createElement("div",{className:k}),c.createElement("div",{className:P},c.createElement("span",{className:"perseus-sr-only"},n()),c.createElement("span",{"aria-hidden":"true"},t))),c.createElement("span",{className:p(d.RADIO.OPTION_CONTENT,d.INTERACTIVE,u(o&&r.satRadioOptionContent,o&&g&&r.satReviewRadioOptionContent)),style:{cursor:"default"}},c.createElement("div",null,this.props.content))),this.props.showClue&&c.createElement("div",{className:p("perseus-radio-clue",u(r.clue,g&&r.satReviewClue))},this.props.clue)))}});e.exports=x},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=n(81),s=n(10).ClassNames,l=(n(113),n(106).modifyTex),u=r.createClass({displayName:"MathOutput",propTypes:{value:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number]),className:r.PropTypes.string,labelText:r.PropTypes.string,onFocus:r.PropTypes.func,onBlur:r.PropTypes.func},getDefaultProps:function(){return{value:"",onFocus:function(){},onBlur:function(){}}},getInitialState:function(){return{focused:!1,selectorNamespace:i.uniqueId("math-output")}},_getInputClassName:function(){var e="math-output "+s.INPUT+" "+s.INTERACTIVE;return this.state.focused&&(e+=" "+s.FOCUSED),this.props.className&&(e+=" "+this.props.className),e},_getDisplayValue:function(e){var t;return t=null!=e?""+e:"",l(t)},render:function(){var e={textAlign:"center"};return r.createElement("span",{ref:"input",className:this._getInputClassName(),"aria-label":this.props.labelText,onMouseDown:this.focus,onTouchStart:this.focus
},r.createElement("div",{style:e},r.createElement(a,null,this._getDisplayValue(this.props.value))))},getValue:function(){return this.props.value},focus:function(){this.state.focused||(this.props.onFocus(),this._bindBlurHandler(),this.setState({focused:!0}))},blur:function(){this.state.focused&&(this.props.onBlur(),this._unbindBlurHandler(),this.setState({focused:!1}))},_bindBlurHandler:function(){var e=this;$(document).bind("vclick."+this.state.selectorNamespace,function(t){var n=$(t.target).closest(o.findDOMNode(e));n.length||e.blur()})},_unbindBlurHandler:function(){$(document).unbind("."+this.state.selectorNamespace)},componentWillUnmount:function(){this._unbindBlurHandler()}});e.exports=u},function(e,t,n){var r=function(e){return e===Object(e)},o=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];if(n)for(var r in n)e[r]=n[r]}return e},i=function(e){return r(e)?Array.isArray(e)?e.slice():o(e):e};e.exports={isObject:r,merge:o,clone:i}},function(e,t,n){var r=function(e,t){return e[t]},o=function(e,t,n){var r=e.splice();return r[t]=n,r},i=function(e,t,n){var r=e.slice();return r[t]=n(e[t]),r},a=function(e,t){var n=e.slice();return n.splice(t,1),n};e.exports={get:r,set:o,mod:i,del:a}},function(e,t,n){var r=n(204).clone,o=function(e,t){return e[t]},i=function(e,t,n){var o=r(e);return o[t]=n,o},a=function(e,t,n){var o=r(e);return o[t]=n(e[t]),o},s=function(e,t){var n=r(e);return delete n[t],n};e.exports={get:o,set:i,mod:a,del:s}},function(e,t,n){var r=function(e,t){return e[t]},o=function(e,t,n){var r=e.splice();return r[t]=n,r},i=function(e,t,n){var r=e.splice();return r[t]=n(e[t]),r},a=function(e,t){var n=e.slice();return n.splice(t),n};e.exports={get:r,set:o,mod:i,del:a}},function(e,t,n){"use strict";var r=n(49),o=n(55),i={getUserInput:function(){return o.omit(this.props,r)}};e.exports=i},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(271),i=n(272),a=n(273),s=n(274),l=n(211),u={MovablePoint:i,addMovablePoint:function(e,t){var n=new o(e,{});return new i(e,n,t)},MovableLine:a,addMovableLine:function(e,t){var n=new o(e,{});return new a(e,n,t)},MovablePolygon:s,addMovablePolygon:function(e,t){var n=new o(e,{});return new s(e,n,t)},addMaybeMobileMovablePoint:function(e,t){var n=e.props.apiOptions.isMobile,o=n?{stroke:"#ffffff","stroke-width":3,fill:l.INTERACTIVE}:{stroke:l.INTERACTIVE,fill:l.INTERACTIVE},i=Object.assign(o,t.normalStyle),a=Object.assign(n?r({},o,{"stroke-width":0,scale:.75}):{},t.highlightStyle),s=Object.assign({normalStyle:i,highlightStyle:a,shadow:n,tooltip:n&&e.props.showTooltips,showHairlines:e.showHairlines,hideHairlines:e.hideHairlines},n?{pointSize:7}:{});return u.addMovablePoint(e.graphie,Object.assign(t,s))}};e.exports=u},function(e,t,n){"use strict";var r=n(55),o=n(191),i=n(275),a=n(201).point,s=n(201).vector,l=n(90),u={thickness:2,mouselayer:!1},c=function(e,t,n,o){o=r.extend({},u,o);var i=[e.range[0][0],0],s=[e.range[0][1],0];r.extend(this,e.fixedLine(i,s,o.thickness)),this.visibleShape.attr(o.normalStyle),r.extend(this,{graphie:e,initialPoint:e.scalePoint(i),initialLength:a.distanceToPoint(e.scalePoint(i),e.scalePoint(s))}),o.mouselayer?this.graphie.addToMouseLayerWrapper(this.wrapper):this.graphie.addToVisibleLayerWrapper(this.wrapper),this.moveTo(t,n)};r.extend(c.prototype,i,{getMouseTarget:function(){return this.wrapper},moveTo:function(e,t){var n=this.graphie.scalePoint(e),r=this.graphie.scalePoint(t),i=s.polarDegFromCart(s.subtract(r,n)),a=i[0],u=l.bound(i[1]),c=s.subtract(n,this.initialPoint),p=l.bound(a/this.initialLength),h=o.getCanUse3dTransform(),d="translateX("+c[0]+"px) translateY("+c[1]+"px) "+(h?" translateZ(0)":"")+"rotate("+u+"deg) scaleX("+p+") scaleY(1)";this.transform(d)}}),e.exports=c},function(e,t,n){"use strict";var r={BLUE:"#6495ED",ORANGE:"#FFA500",PINK:"#FF00AF",GREEN:"#28AE7B",PURPLE:"#9D38BD",RED:"#DF0030",GRAY:"gray",BLACK:"black",LIGHT_BLUE:"#9AB8ED",LIGHT_ORANGE:"#EDD19B",LIGHT_PINK:"#ED9BD3",LIGHT_GREEN:"#9BEDCE",LIGHT_PURPLE:"#DA9BED",LIGHT_RED:"#ED9AAC",LIGHT_GRAY:"#ED9B9B",LIGHT_BLACK:"#ED9B9B",GRAY10:"#D6D6D6",GRAY20:"#CDCDCD",GRAY30:"#B3B3B3",GRAY40:"#9A9A9A",GRAY50:"#808080",GRAY60:"#666666",GRAY70:"#4D4D4D",GRAY80:"#333333",GRAY90:"#1A1A1A",BLUE_A:"#CCFAFF",BLUE_B:"#80F6FF",BLUE_C:"#63D9EA",BLUE_D:"#11ACCD",BLUE_E:"#0C7F99",TEAL_A:"#94FFF5",TEAL_B:"#26EDD5",TEAL_C:"#01D1C1",TEAL_D:"#01A995",TEAL_E:"#208170",GREEN_A:"#B6FFB0",GREEN_B:"#8AF281",GREEN_C:"#74CF70",GREEN_D:"#1FAB54",GREEN_E:"#0D923F",GOLD_A:"#FFD0A9",GOLD_B:"#FFBB71",GOLD_C:"#FF9C39",GOLD_D:"#E07D10",GOLD_E:"#A75A05",RED_A:"#FCA9A9",RED_B:"#FF8482",RED_C:"#F9685D",RED_D:"#E84D39",RED_E:"#BC2612",MAROON_A:"#FFBDE0",MAROON_B:"#FF92C6",MAROON_C:"#ED5FA6",MAROON_D:"#CA337C",MAROON_E:"#9E034E",PURPLE_A:"#DDD7FF",PURPLE_B:"#C6B9FC",PURPLE_C:"#AA87FF",PURPLE_D:"#7854AB",PURPLE_E:"#543B78",MINT_A:"#F5F9E8",MINT_B:"#EDF2DF",MINT_C:"#E0E5CC",GRAY_A:"#F6F7F7",GRAY_B:"#F0F1F2",GRAY_C:"#E3E5E6",GRAY_D:"#D6D8DA",GRAY_E:"#BABEC2",GRAY_F:"#888D93",GRAY_G:"#626569",GRAY_H:"#3B3E40",GRAY_I:"#21242C",KA_BLUE:"#314453",KA_GREEN:"#71B307",_BACKGROUND:"#FDFDFD"};r.INTERACTING=r.KA_GREEN,r.INTERACTIVE=r.KA_GREEN,r.DYNAMIC=r.BLUE,e.exports=r},function(e,t,n){"use strict";function r(e){var t=e[0],n=e[1],r=e[2],o=e[3];t<0&&(t*=-1,n*=-1,r*=-1);var i=2*Math.PI;for(n<0&&(n*=-1,r*=-1,r+=i/2);r>0;)r-=i;for(;r<0;)r+=i;return[t,n,r,o]}function o(e){var t=e[0],n=e[1],r=e[2],o=e[3];t<0&&(t*=-1,n*=-1,r*=-1);var i=Math.PI;for(n<0&&(n*=-1,r*=-1,r+=i/2);r>0;)r-=i;for(;r<0;)r+=i;return[t,n,r,o]}function i(e){return E[e]}function a(e){var t=e.charAt(0).toUpperCase()+e.substring(1);return{value:e,title:t,content:React.createElement("img",{src:i(e).url,alt:t})}}var s=n(55),l=n(11),u=n(92),c=u.Plot,p=n(201).point,h={url:null},d={areEqual:function(e,t){return l.deepEq(e,t)},Movable:c,getPropsForCoeffs:function(e){return{fn:s.partial(this.getFunctionForCoeffs,e)}}},f=s.extend({},d,{url:"https://ka-perseus-graphie.s3.amazonaws.com/67aaf581e6d9ef9038c10558a1f70ac21c11c9f8.png",defaultCoords:[[.25,.75],[.75,.75]],getCoefficients:function(e){var t=e[0],n=e[1],r=n[0]-t[0],o=n[1]-t[1];if(0!==r){var i=o/r,a=n[1]-i*n[0];return[i,a]}},getFunctionForCoeffs:function(e,t){var n=e[0],r=e[1];return n*t+r},getEquationString:function(e){var t=this.getCoefficients(e),n=t[0],r=t[1];return"y = "+n.toFixed(3)+"x + "+r.toFixed(3)}}),m=s.extend({},d,{url:"https://ka-perseus-graphie.s3.amazonaws.com/e23d36e6fc29ee37174e92c9daba2a66677128ab.png",defaultCoords:[[.5,.5],[.75,.75]],Movable:u.Parabola,getCoefficients:function(e){var t=e[0],n=e[1],r=t[0],o=t[1],i=(n[1]-o)/((n[0]-r)*(n[0]-r)),a=-2*r*i,s=i*r*r+o;return[i,a,s]},getFunctionForCoeffs:function(e,t){var n=e[0],r=e[1],o=e[2];return(n*t+r)*t+o},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2]}},getEquationString:function(e){var t=this.getCoefficients(e),n=t[0],r=t[1],o=t[2];return"y = "+n.toFixed(3)+"x^2 + "+r.toFixed(3)+"x + "+o.toFixed(3)}}),g=s.extend({},d,{url:"https://ka-perseus-graphie.s3.amazonaws.com/3d68e7718498475f53b206c2ab285626baf8857e.png",defaultCoords:[[.5,.5],[.6,.6]],Movable:u.Sinusoid,getCoefficients:function(e){var t=e[0],n=e[1],r=n[1]-t[1],o=Math.PI/(2*(n[0]-t[0])),i=t[0]*o,a=t[1];return[r,o,i,a]},getFunctionForCoeffs:function(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];return n*Math.sin(r*t-o)+i},getPropsForCoeffs:function(e){return{a:e[0],b:e[1],c:e[2],d:e[3]}},getEquationString:function(e){var t=this.getCoefficients(e),n=t[0],r=t[1],o=t[2],i=t[3];return"y = "+n.toFixed(3)+" sin("+r.toFixed(3)+"x - "+o.toFixed(3)+") + "+i.toFixed(3)},areEqual:function(e,t){return l.deepEq(r(e),r(t))}}),v=s.extend({},d,{url:"https://ka-perseus-graphie.s3.amazonaws.com/7db80d23c35214f98659fe1cf0765811c1bbfbba.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){var t=e[0],n=e[1],r=n[1]-t[1],o=Math.PI/(4*(n[0]-t[0])),i=t[0]*o,a=t[1];return[r,o,i,a]},getFunctionForCoeffs:function(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];return n*Math.tan(r*t-o)+i},getEquationString:function(e){var t=this.getCoefficients(e),n=t[0],r=t[1],o=t[2],i=t[3];return"y = "+n.toFixed(3)+" sin("+r.toFixed(3)+"x - "+o.toFixed(3)+") + "+i.toFixed(3)},areEqual:function(e,t){return l.deepEq(o(e),o(t))}}),y=s.extend({},d,{url:"https://ka-perseus-graphie.s3.amazonaws.com/9cbfad55525e3ce755a31a631b074670a5dad611.png",defaultCoords:[[.5,.55],[.75,.75]],defaultAsymptote:[[0,.5],[1,.5]],extraCoordConstraint:function(e,t,n,r,o){var i=s.head(r)[1];return s.all(n,function(e){return e[1]!==i})},extraAsymptoteConstraint:function(e,t,n,r,o){var i=e[1],a=s.all(n,function(e){return e[1]>i})||s.all(n,function(e){return e[1]<i});if(a)return[t[0],i];var l=t[1],u=s.all(n,function(e){return e[1]>l});if(u){var c=s.min(s.map(n,function(e){return e[1]}));return[t[0],c-o.snapStep[1]]}var p=s.max(s.map(n,function(e){return e[1]}));return[t[0],p+o.snapStep[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){var n=e[0],r=e[1],o=s.head(t)[1],i=Math.log((n[1]-o)/(r[1]-o))/(n[0]-r[0]),a=(n[1]-o)/Math.exp(i*n[0]);return[a,i,o]},getFunctionForCoeffs:function(e,t){var n=e[0],r=e[1],o=e[2];return n*Math.exp(r*t)+o},getEquationString:function(e,t){if(!t)return null;var n=this.getCoefficients(e,t),r=n[0],o=n[1],i=n[2];return"y = "+r.toFixed(3)+"e^("+o.toFixed(3)+"x) + "+i.toFixed(3)}}),b=s.extend({},d,{url:"https://ka-perseus-graphie.s3.amazonaws.com/f6491e99d34af34d924bfe0231728ad912068dc3.png",defaultCoords:[[.55,.5],[.75,.75]],defaultAsymptote:[[.5,0],[.5,1]],extraCoordConstraint:function(e,t,n,r,o){var i=s.head(r)[0];return s.all(n,function(e){return e[0]!==i})&&n[0][1]!==n[1][1]},extraAsymptoteConstraint:function(e,t,n,r,o){var i=e[0],a=s.all(n,function(e){return e[0]>i})||s.all(n,function(e){return e[0]<i});if(a)return[i,t[1]];var l=t[0],u=s.all(n,function(e){return e[0]>l});if(u){var c=s.min(s.map(n,function(e){return e[0]}));return[c-o.snapStep[0],t[1]]}var p=s.max(s.map(n,function(e){return e[0]}));return[p+o.snapStep[0],t[1]]},allowReflectOverAsymptote:!0,getCoefficients:function(e,t){var n=function(e){return[e[1],e[0]]},r=y.getCoefficients(s.map(e,n),s.map(t,n)),o=-r[2]/r[0],i=1/r[0],a=1/r[1];return[a,i,o]},getFunctionForCoeffs:function(e,t,n){var r=e[0],o=e[1],i=e[2];return r*Math.log(o*t+i)},getEquationString:function(e,t){if(!t)return null;var n=this.getCoefficients(e,t),r=n[0],o=n[1],i=n[2];return"y = ln("+r.toFixed(3)+"x + "+o.toFixed(3)+") + "+i.toFixed(3)}}),x=s.extend({},d,{url:"https://ka-perseus-graphie.s3.amazonaws.com/8256a630175a0cb1d11de223d6de0266daf98721.png",defaultCoords:[[.5,.5],[.75,.75]],getCoefficients:function(e){var t=e[0],n=e[1],r=n[0]-t[0],o=n[1]-t[1];if(0!==r){var i=Math.abs(o/r);n[1]<t[1]&&(i*=-1);var a=t[0],s=t[1];return[i,a,s]}},getFunctionForCoeffs:function(e,t){var n=e[0],r=e[1],o=e[2];return n*Math.abs(t-r)+o},getEquationString:function(e){var t=this.getCoefficients(e),n=t[0],r=t[1],o=t[2];return"y = "+n.toFixed(3)+"| x - "+r.toFixed(3)+"| + "+o.toFixed(3)}}),E={linear:f,quadratic:m,sinusoid:g,tangent:v,exponential:y,logarithm:b,absolute_value:x},w=s.keys(E),T={validate:function(e,t){if(e.type!==t.correct.type)return{type:"points",earned:0,total:1,message:null};if(null==e.coords)return{type:"invalid",message:null};var n=i(e.type),r=n.getCoefficients(e.coords,e.asymptote),o=n.getCoefficients(t.correct.coords,t.correct.asymptote);return null==r||null==o?{type:"invalid",message:null}:n.areEqual(r,o)?{type:"points",earned:1,total:1,message:null}:{type:"points",earned:0,total:1,message:null}},getEquationString:function(e){var t=e.plot;if(t.type&&t.coords){var n=i(t.type),r=n.getEquationString(t.coords,t.asymptote);return r||""}return""},pointsFromNormalized:function(e,t,n,r){var o=function(e,t){return Math.floor((e[1]-e[0])/t)};return s.map(e,function(e){var i=s.map(e,function(e,r){var i=t[r],a=n[r],s=o(i,a),l=Math.round(e*s);return i[0]+a*l});return p.roundTo(i,r)})},maybePointsFromNormalized:function(e,t,n,r){return e?this.pointsFromNormalized(e,t,n,r):e},defaultPlotProps:function(e,t){var n=i(e),r=[1,1],o=l.snapStepFromGridStep(r);return{type:e,asymptote:this.maybePointsFromNormalized(n.defaultAsymptote,t.range,t.step,o),coords:null}},chooseType:s.first,getGridAndSnapSteps:function(e,t){var n=e.gridStep||l.getGridStep(e.range,e.step,t),r=e.snapStep||l.snapStepFromGridStep(n);return{gridStep:n,snapStep:r}}},C={};C.graph={labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],backgroundImage:h,markings:"graph",rulerLabel:"",rulerTicks:10,valid:!0,showTooltips:!1},C.plot=T.defaultPlotProps("linear",C.graph),C.availableTypes=[C.plot.type],e.exports={GrapherUtil:T,allTypes:w,typeToButton:a,functionForType:i,DEFAULT_GRAPHER_PROPS:C,DEFAULT_BACKGROUND_IMAGE:h}},function(e,t,n){"use strict";function r(e,t){return Math.floor((e[1]-e[0])/t)}var o=n(54),i=n(58),a=n(55),s=n(103),l=n(56),u=n(96),c=n(46),p=n(215),h=n(81),d=n(11),f=n(90),m=n(78),g=m.interactiveSizes,v={url:null,width:0,height:0},y=o.createClass({displayName:"GraphSettings",mixins:[s],propTypes:{editableSettings:o.PropTypes.arrayOf(o.PropTypes.oneOf(["canvas","graph","snap","image","measure"])),box:o.PropTypes.arrayOf(o.PropTypes.number),labels:o.PropTypes.arrayOf(o.PropTypes.string),range:o.PropTypes.arrayOf(o.PropTypes.arrayOf(o.PropTypes.number)),step:o.PropTypes.arrayOf(o.PropTypes.number),gridStep:o.PropTypes.arrayOf(o.PropTypes.number),snapStep:o.PropTypes.arrayOf(o.PropTypes.number),valid:o.PropTypes.oneOfType([o.PropTypes.bool,o.PropTypes.string]),backgroundImage:o.PropTypes.object,markings:o.PropTypes.oneOf(["graph","grid","none"]),showProtractor:o.PropTypes.bool,showRuler:o.PropTypes.bool,showTooltips:o.PropTypes.bool,rulerLabel:o.PropTypes.string,rulerTicks:o.PropTypes.number},getDefaultProps:function(){return{editableSettings:["graph","snap","image","measure"],box:[g.defaultBoxSizeSmall,g.defaultBoxSizeSmall],labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],gridStep:[1,1],snapStep:[1,1],valid:!0,backgroundImage:v,markings:"graph",showProtractor:!1,showRuler:!1,showTooltips:!1,rulerLabel:"",rulerTicks:10}},getInitialState:function(){return this.stateFromProps(this.props)},componentWillReceiveProps:function(e){a.isEqual(this.props.labels,e.labels)&&a.isEqual(this.props.gridStep,e.gridStep)&&a.isEqual(this.props.snapStep,e.snapStep)&&a.isEqual(this.props.step,e.step)&&a.isEqual(this.props.range,e.range)&&a.isEqual(this.props.backgroundImage,e.backgroundImage)||this.setState(this.stateFromProps(e))},stateFromProps:function(e){return{labelsTextbox:e.labels,gridStepTextbox:e.gridStep,snapStepTextbox:e.snapStep,stepTextbox:e.step,rangeTextbox:e.range,backgroundImage:a.clone(e.backgroundImage)}},render:function(){var e=this,t=[f.roundTo(2,d.scaleFromExtent(this.props.range[0],this.props.box[0])),f.roundTo(2,d.scaleFromExtent(this.props.range[1],this.props.box[1]))];return o.createElement("div",null,a.contains(this.props.editableSettings,"canvas")&&o.createElement("div",{className:"graph-settings"},o.createElement("div",{className:"perseus-widget-row"},"Canvas size (x,y pixels)",o.createElement(p,{value:this.props.box,onChange:function(t){e.change({box:t})}})),o.createElement("div",{className:"perseus-widget-row"},"Scale (px per div): ",o.createElement(h,null,"("+t[0]+", "+t[1]+")"))),a.contains(this.props.editableSettings,"graph")&&o.createElement("div",{className:"graph-settings"},o.createElement("div",{className:"perseus-widget-row"},o.createElement("div",{className:"perseus-widget-left-col"}," x Label",o.createElement("input",{type:"text",className:"graph-settings-axis-label",ref:"labels-0",onChange:function(t){return e.changeLabel(0,t)},value:this.state.labelsTextbox[0]})),o.createElement("div",{className:"perseus-widget-right-col"},"y Label",o.createElement("input",{type:"text",className:"graph-settings-axis-label",ref:"labels-1",onChange:function(t){return e.changeLabel(1,t)},value:this.state.labelsTextbox[1]}))),o.createElement("div",{className:"perseus-widget-row"},o.createElement("div",{className:"perseus-widget-left-col"},"x Range",o.createElement(p,{value:this.state.rangeTextbox[0],onChange:function(t){return e.changeRange(0,t)}})),o.createElement("div",{className:"perseus-widget-right-col"},"y Range",o.createElement(p,{value:this.state.rangeTextbox[1],onChange:function(t){return e.changeRange(1,t)}}))),o.createElement("div",{className:"perseus-widget-row"},o.createElement("div",{className:"perseus-widget-left-col"},"Tick Step",o.createElement(p,{value:this.state.stepTextbox,onChange:this.changeStep})),o.createElement("div",{className:"perseus-widget-right-col"},"Grid Step",o.createElement(p,{value:this.state.gridStepTextbox,onChange:this.changeGridStep}))),a.contains(this.props.editableSettings,"snap")&&o.createElement("div",{className:"perseus-widget-row"},o.createElement("div",{className:"perseus-widget-left-col"},"Snap Step",o.createElement(p,{value:this.state.snapStepTextbox,onChange:this.changeSnapStep}))),o.createElement("div",{className:"perseus-widget-row"},o.createElement("label",null,"Markings:"," "," "),o.createElement(l,{value:this.props.markings,allowEmpty:!1,buttons:[{value:"graph",content:"Graph"},{value:"grid",content:"Grid"},{value:"none",content:"None"}],onChange:this.change("markings")})),o.createElement("div",{className:"perseus-widget-left-col"},o.createElement(c,{label:"Show tooltips",showTooltips:this.props.showTooltips,onChange:this.change}))),a.contains(this.props.editableSettings,"image")&&o.createElement("div",{className:"image-settings"},o.createElement("div",null,"Background image:"),o.createElement("div",null,"Url:"," ",o.createElement("input",{type:"text",className:"graph-settings-background-url",ref:"bg-url",value:this.state.backgroundImage.url,onChange:function(t){var n=a.clone(e.props.backgroundImage);n.url=t.target.value,e.setState({backgroundImage:n})},onKeyPress:this.changeBackgroundUrl,onBlur:this.changeBackgroundUrl}),o.createElement(u,null,o.createElement("p",null,'Create an image in graphie, or use the "Add image" function to create a background.')))),a.contains(this.props.editableSettings,"measure")&&o.createElement("div",{className:"misc-settings"},o.createElement("div",{className:"perseus-widget-row"},o.createElement("div",{className:"perseus-widget-left-col"},o.createElement(c,{label:"Show ruler",showRuler:this.props.showRuler,onChange:this.change})),o.createElement("div",{className:"perseus-widget-right-col"},o.createElement(c,{label:"Show protractor",showProtractor:this.props.showProtractor,onChange:this.change}))),this.props.showRuler&&o.createElement("div",null,o.createElement("div",null,o.createElement("label",null," ","Ruler label:"," ",o.createElement("select",{onChange:this.changeRulerLabel,value:this.props.rulerLabel},o.createElement("option",{value:""},"None"),o.createElement("optgroup",{label:"Metric"},this.renderLabelChoices([["milimeters","mm"],["centimeters","cm"],["meters","m"],["kilometers","km"]])),o.createElement("optgroup",{label:"Imperial"},this.renderLabelChoices([["inches","in"],["feet","ft"],["yards","yd"],["miles","mi"]]))))),o.createElement("div",null,o.createElement("label",null," ","Ruler ticks:"," ",o.createElement("select",{onChange:this.changeRulerTicks,value:this.props.rulerTicks},a.map([1,2,4,8,10,16],function(e){return o.createElement("option",{value:e},e)})))))))},renderLabelChoices:function(e){return a.map(e,function(e){return o.createElement("option",{value:e[1]},e[0])})},componentDidMount:function(){this.changeGraph=a.debounce(this.changeGraph,300)},validRange:function(e){var t=a.every(e,function(e){return a.isFinite(e)});return t?!(e[0]>=e[1])||"Range must have a higher number on the right":"Range must be a valid number"},validateStepValue:function(e){var t=e.step,n=e.range,o=e.name,i=e.minTicks,s=e.maxTicks;if(!a.isFinite(t))return o+" must be a valid number";var l=r(n,t);return l<i?o+" is too large, there must be at least "+i+" ticks.":!(l>s)||o+" is too small, there can be at most "+s+" ticks."},validSnapStep:function(e,t){return this.validateStepValue({step:e,range:t,name:"Snap step",minTicks:5,maxTicks:60})},validGridStep:function(e,t){return this.validateStepValue({step:e,range:t,name:"Grid step",minTicks:3,maxTicks:60})},validStep:function(e,t){return this.validateStepValue({step:e,range:t,name:"Step",minTicks:3,maxTicks:20})},validBackgroundImageSize:function(e){if(!e.url)return!0;var t=e.width<=450&&e.height<=450;return!!t||"Image must be smaller than 450px x 450px."},validateGraphSettings:function(e,t,n,r,o){var i=this,s=void 0,l=a.every(e,function(e){return s=i.validRange(e),s===!0});if(!l)return s;var u=a.every(t,function(t,n){return s=i.validStep(t,e[n]),s===!0});if(!u)return s;var c=a.every(n,function(t,n){return s=i.validGridStep(t,e[n]),s===!0});if(!c)return s;var p=a.every(r,function(t,n){return s=i.validSnapStep(t,e[n]),s===!0});if(!p)return s;var h=this.validBackgroundImageSize(o);return h===!0||(s=h)},changeLabel:function(e,t){var n=t.target.value,r=this.state.labelsTextbox.slice();r[e]=n,this.setState({labelsTextbox:r},this.changeGraph)},changeRange:function(e,t){var n=this.state.rangeTextbox.slice();n[e]=t;var r=this.state.stepTextbox.slice(),o=this.state.gridStepTextbox.slice(),i=this.state.snapStepTextbox.slice(),a=d.scaleFromExtent(n[e],this.props.box[e]);this.validRange(n[e])===!0&&(r[e]=d.tickStepFromExtent(n[e],this.props.box[e]),o[e]=d.gridStepFromTickStep(r[e],a),i[e]=o[e]/2),this.setState({stepTextbox:r,gridStepTextbox:o,snapStepTextbox:i,rangeTextbox:n},this.changeGraph)},changeStep:function(e){this.setState({stepTextbox:e},this.changeGraph)},changeSnapStep:function(e){this.setState({snapStepTextbox:e},this.changeGraph)},changeGridStep:function(e){this.setState({gridStepTextbox:e,snapStepTextbox:a.map(e,function(e){return e/2})},this.changeGraph)},changeGraph:function(){var e=this.state.labelsTextbox,t=a.map(this.state.rangeTextbox,function(e){return a.map(e,Number)}),n=a.map(this.state.stepTextbox,Number),r=this.state.gridStepTextbox,o=this.state.snapStepTextbox,i=this.state.backgroundImage,s=this.validateGraphSettings(t,n,r,o,i);s===!0?this.change({valid:!0,labels:e,range:t,step:n,gridStep:r,snapStep:o,backgroundImage:i}):this.change({valid:s})},changeBackgroundUrl:function(e){var t=this;if("keypress"!==e.type||"Enter"===e.key){var n=function(e,n,r){var o=a.clone(t.props.backgroundImage);o.url=e,o.width=n,o.height=r,t.setState({backgroundImage:o},t.changeGraph)},r=i.findDOMNode(this.refs["bg-url"]).value;r?d.getImageSize(r,function(e,o){t.isMounted()&&n(r,e,o)}):n(null,0,0)}},changeRulerLabel:function(e){this.change({rulerLabel:e.target.value})},changeRulerTicks:function(e){this.change({rulerTicks:+e.target.value})}});e.exports=y},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(10).Options,a=n(41),s=n(40),l=s.iconStar,u=s.iconTryAgain,c=n(78),p=c.boldFontFamily,h=c.gray68,d=c.gray76,f=c.gray85,m=c.gray95,g=c.kaGreen,v=c.phoneMargin,y=c.negativePhoneMargin,b={HIDDEN:Symbol("HIDDEN"),ACTIVE:Symbol("ACTIVE"),INACTIVE:Symbol("INACTIVE"),INCORRECT:Symbol("INCORRECT"),CORRECT:Symbol("CORRECT")},x=o.createClass({displayName:"GradedGroupAnswerBar",propTypes:{answerBarState:o.PropTypes.any.isRequired,apiOptions:i.propTypes,onCheckAnswer:o.PropTypes.func.isRequired,onNextQuestion:o.PropTypes.func},render:function(){var e=this.props,t=e.apiOptions,n=e.answerBarState,i=e.onCheckAnswer,s=e.onNextQuestion,c=r({},w.answerBar,{backgroundColor:n===b.CORRECT?m:"white",justifyContent:n!==b.CORRECT||s?"space-between":"center"}),p=r({},w.button,{backgroundColor:n===b.ACTIVE||n===b.CORRECT?g:f}),d=r({},w.text,{color:n===b.CORRECT?g:h}),v=n===b.INCORRECT?o.createElement("span",{style:d},o.createElement("span",{style:w.tryAgainIcon},o.createElement(a,u)),o.createElement("span",{style:{marginLeft:8}},i18n._("Keep trying"))):o.createElement("span",null);if(n!==b.CORRECT){var y=n===b.INCORRECT?i18n._("Try again"):i18n._("Check");return o.createElement("div",{style:c},v,o.createElement("button",{style:p,disabled:t.readOnly||n!==b.ACTIVE,onClick:i},y))}return o.createElement("div",{style:c},o.createElement("span",{style:d},o.createElement("span",{style:{fontSize:28,color:"#FFB300"}},o.createElement(a,r({},l,{style:{marginBottom:5}}))),o.createElement("span",{style:{marginLeft:8}},i18n._("Correct!"))),s&&o.createElement("button",{style:p,onClick:s},i18n._("Next question")))}}),E=17,w={answerBar:{display:"flex",alignItems:"center",height:68,marginLeft:y,marginRight:y,marginBottom:y,marginTop:v,paddingLeft:v,paddingRight:10,borderTop:"1px solid "+d},button:{height:48,width:143,borderRadius:4,color:"white",fontFamily:p,fontSize:E,border:"none"},tryAgainIcon:{fontSize:28,color:"#63D9EA",transform:"scale(-1,1) rotate(-268deg)"},text:{display:"flex",flexDirection:"row",alignItems:"center",fontFamily:p,fontSize:E}};x.ANSWER_BAR_STATES=b,e.exports=x},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(111),a=function(){return!0},s=o.createClass({displayName:"RangeInput",propTypes:{value:o.PropTypes.array.isRequired,onChange:o.PropTypes.func.isRequired,placeholder:o.PropTypes.array,checkValidity:o.PropTypes.func},getDefaultProps:function(){return{placeholder:[null,null]}},render:function(){var e=this.props.value,t=this.props.checkValidity||a;return o.createElement("div",{className:"range-input"},o.createElement(i,r({},this.props,{value:e[0],checkValidity:function(n){return t([n,e[1]])},onChange:this.onChange.bind(this,0),placeholder:this.props.placeholder[0]})),o.createElement(i,r({},this.props,{value:e[1],checkValidity:function(n){return t([e[0],n])},onChange:this.onChange.bind(this,1),placeholder:this.props.placeholder[1]})))},onChange:function(e,t){var n=this.props.value;0===e?this.props.onChange([t,n[1]]):this.props.onChange([n[0],t])}});e.exports=s},function(e,t,n){"use strict";var r=n(56),o=n(54),i=o.createClass({displayName:"ArrowPicker",propTypes:{value:o.PropTypes.string,onChange:o.PropTypes.func.isRequired},getDefaultProps:function(){return{value:""}},render:function(){return o.createElement(r,{value:this.props.value,allowEmpty:!1,buttons:[{value:"",content:o.createElement("span",null,"—")},{value:"->",content:o.createElement("span",null,"→")}],onChange:this.props.onChange})}});e.exports=i},function(e,t,n){"use strict";var r=n(56),o=n(54),i=n(55),a=n(211),s=o.createClass({displayName:"ColorPicker",COLORS:[a.BLACK,a.BLUE,a.GREEN,a.PINK,a.PURPLE,a.RED,a.GRAY],LIGHT_COLORS:[a.LIGHT_BLUE,a.LIGHT_ORANGE,a.LIGHT_PINK,a.LIGHT_GREEN,a.LIGHT_PURPLE,a.LIGHT_RED,"#fff"],propTypes:{value:o.PropTypes.string,lightColors:o.PropTypes.bool,onChange:o.PropTypes.func.isRequired},getDefaultProps:function(){return{value:a.BLACK,lightColors:!1}},render:function(){var e=this.props.lightColors?this.LIGHT_COLORS:this.COLORS;return o.createElement(r,{value:this.props.value,allowEmpty:!1,buttons:i.map(e,function(e){return{value:e,content:o.createElement("span",null,o.createElement("span",{className:"colorpicker-circle",style:{background:e}})," ")}}),onChange:this.props.onChange})}});e.exports=s},function(e,t,n){"use strict";var r=n(54),o=n(81),i=n(56),a=n(103),s=n(114),l=n(111),u=r.createClass({displayName:"ConstraintEditor",mixins:[a],propTypes:{constraint:r.PropTypes.string,snap:r.PropTypes.number,constraintFn:r.PropTypes.string,onChange:r.PropTypes.func.isRequired,constraintXMin:r.PropTypes.string,constraintXMax:r.PropTypes.string,constraintYMin:r.PropTypes.string,constraintYMax:r.PropTypes.string},getDefaultProps:function(){return{constraint:"none",snap:.5,constraintFn:"0",constraintXMin:"-10",constraintXMax:"10",constraintYMin:"-10",constraintYMax:"10"}},render:function(){return r.createElement("div",null,r.createElement("div",{className:"perseus-widget-row"},"Constraint: ",r.createElement(i,{value:this.props.constraint,allowEmpty:!1,buttons:[{value:"none",content:"None"},{value:"snap",content:"Snap"},{value:"x",content:"x="},{value:"y",content:"y="}],onChange:this.change("constraint")})),"snap"===this.props.constraint&&r.createElement("div",{className:"perseus-widget-row"},"Snap: ",r.createElement(l,{value:this.props.snap,placeholder:0,onChange:this.change("snap")})),"x"===this.props.constraint&&r.createElement("div",{className:"graph-settings"},r.createElement("div",{className:"perseus-widget-row"},r.createElement(o,null,"x=")," ",r.createElement(s,{buttonSets:[],buttonsVisible:"never",value:this.props.constraintFn,onChange:this.change("constraintFn")}))),"y"===this.props.constraint&&r.createElement("div",{className:"graph-settings"},r.createElement("div",{className:"perseus-widget-row"},r.createElement(o,null,"y=")," ",r.createElement(s,{buttonSets:[],buttonsVisible:"never",value:this.props.constraintFn,onChange:this.change("constraintFn")}))),"Ensure these are set so nothing can be dragged off the canvas:",r.createElement("div",{className:"perseus-widget-row"},r.createElement("div",{className:"perseus-widget-row"},r.createElement(o,null,"x \\in \\Large[")," ",r.createElement(s,{buttonSets:[],buttonsVisible:"never",value:this.props.constraintXMin,onChange:this.change("constraintXMin")}),r.createElement(o,null,", ")," ",r.createElement(s,{buttonSets:[],buttonsVisible:"never",value:this.props.constraintXMax,onChange:this.change("constraintXMax")})," ",r.createElement(o,null,"\\Large]"))),r.createElement("div",{className:"perseus-widget-row"},r.createElement("div",{className:"perseus-widget-row"},r.createElement(o,null,"y \\in \\Large[")," ",r.createElement(s,{buttonSets:[],buttonsVisible:"never",value:this.props.constraintYMin,onChange:this.change("constraintYMin")}),r.createElement(o,null,", ")," ",r.createElement(s,{buttonSets:[],buttonsVisible:"never",value:this.props.constraintYMax,onChange:this.change("constraintYMax")})," ",r.createElement(o,null,"\\Large]"))))}});e.exports=u},function(e,t,n){"use strict";var r=n(56),o=n(54),i=o.createClass({displayName:"DashPicker",propTypes:{value:o.PropTypes.string,onChange:o.PropTypes.func.isRequired},getDefaultProps:function(){return{value:""}},render:function(){return o.createElement(r,{value:this.props.value,allowEmpty:!1,buttons:[{value:"",content:o.createElement("span",null,"—")},{value:"-",content:o.createElement("span",null,"–––")},{value:"- ",content:o.createElement("span",null,"–  –")},{value:".",content:o.createElement("span",null,"····")},{value:". ",content:o.createElement("span",null,"· · ·")}],onChange:this.props.onChange})}});e.exports=i},function(e,t,n){"use strict";var r=n(54),o=n(40),i=o.iconChevronDown,a=o.iconChevronRight,s=o.iconCircleArrowDown,l=o.iconCircleArrowUp,u=o.iconTrash,c=n(41),p=r.createClass({displayName:"ElementContainer",propTypes:{initiallVisible:r.PropTypes.bool,title:r.PropTypes.node},getDefaultProps:function(){return{initiallyVisible:!1,title:"More"}},getInitialState:function(){return{show:this.props.initiallyVisible,title:"More",onUp:null,onDown:null,onDelete:null}},render:function(){return r.createElement("div",{className:"perseus-interaction-element"},r.createElement("a",{href:"#",className:"perseus-interaction-element-title "+(this.state.show?"open":"closed"),onClick:this.toggle},this.state.show?r.createElement(c,i):r.createElement(c,a),this.props.title),r.createElement("div",{className:"perseus-interaction-element-content "+(this.state.show?"enter":"leave")},this.props.children,(null!=this.props.onUp||null!=this.props.onDown||null!=this.props.onDelete)&&r.createElement("div",{className:"edit-controls"},null!=this.props.onUp&&r.createElement("button",{onClick:this.props.onUp},r.createElement(c,l)),null!=this.props.onDown&&r.createElement("button",{onClick:this.props.onDown},r.createElement(c,s)),null!=this.props.onDelete&&r.createElement("button",{onClick:this.props.onDelete
},r.createElement(c,u)))))},toggle:function(e){e.preventDefault(),this.setState({show:!this.state.show})}});e.exports=p},function(e,t,n){"use strict";function r(e,t){return Math.floor((e[1]-e[0])/t)}var o=n(54),i=n(58),a=n(55),s=n(11),l=n(192),u=n(78),c=u.interactiveSizes,p=n(38),h={url:null},d={fontStyle:"italic",fontWeight:"bold",fontSize:"32px",width:"100%",height:"100%",textAlign:"center",backgroundColor:"white",position:"absolute",zIndex:1,transition:"opacity .25s ease-in-out","-moz-transition":"opacity .25s ease-in-out","-webkit-transition":"opacity .25s ease-in-out"},f={position:"relative",top:"25%"},m=o.createClass({displayName:"Graph",propTypes:{box:o.PropTypes.array.isRequired,labels:o.PropTypes.arrayOf(o.PropTypes.string),range:o.PropTypes.arrayOf(o.PropTypes.arrayOf(o.PropTypes.number)),step:o.PropTypes.arrayOf(o.PropTypes.number),gridStep:o.PropTypes.arrayOf(o.PropTypes.number),snapStep:o.PropTypes.arrayOf(o.PropTypes.number),markings:o.PropTypes.string,backgroundImage:o.PropTypes.shape({url:o.PropTypes.string}),showProtractor:o.PropTypes.bool,showRuler:o.PropTypes.bool,rulerLabel:o.PropTypes.string,rulerTicks:o.PropTypes.number,onGraphieUpdated:o.PropTypes.func,instructions:o.PropTypes.string,onClick:o.PropTypes.func,setDrawingAreaAvailable:o.PropTypes.func,isMobile:o.PropTypes.bool},getDefaultProps:function(){return{labels:["x","y"],range:[[-10,10],[-10,10]],step:[1,1],gridStep:[1,1],snapStep:[.5,.5],markings:"graph",backgroundImage:h,showProtractor:!1,showRuler:!1,rulerLabel:"",rulerTicks:10,instructions:null,onGraphieUpdated:null,onClick:null,onMouseDown:null,isMobile:!1}},render:function(){var e,t=this.props.backgroundImage;if(t.url){var n=this.props.box[0]/c.defaultBoxSize;e=o.createElement(p,{src:t.url,width:t.width,height:t.height,scale:n,responsive:!1})}else e=null;return o.createElement("div",{className:"graphie-container above-scratchpad",style:{width:this.props.box[0],height:this.props.box[1]},onMouseOut:this.onMouseOut,onMouseOver:this.onMouseOver,onClick:this.onClick},e,o.createElement("div",{className:"graphie",ref:"graphieDiv"}))},componentDidMount:function(){this._setupGraphie(!0)},componentDidUpdate:function(){this._hasSetupGraphieThisUpdate=!1,this._shouldSetupGraphie&&(this._setupGraphie(!1),this._shouldSetupGraphie=!1)},componentWillReceiveProps:function(e){var t=["labels","range","step","markings","showProtractor","showRuler","rulerLabel","rulerTicks","gridStep","snapStep"],n=this;a.each(t,function(t){a.isEqual(n.props[t],e[t])||(n._shouldSetupGraphie=!0)})},reset:function(){this._setupGraphie(!1)},graphie:function(){return this._graphie},pointsFromNormalized:function(e,t){var n=this;return a.map(e,function(e){return a.map(e,function(e,o){var i=n.props.range[o];if(t)return i[0]+(i[1]-i[0])*e;var a=n.props.step[o],s=r(i,a),l=Math.round(e*s);return i[0]+a*l})})},_setupGraphie:function(e){if(!this._hasSetupGraphieThisUpdate){var t=i.findDOMNode(this.refs.graphieDiv);$(t).empty();var n=this.props.labels,r=this.props.range,o=this._graphie=l.createGraphie(t),s=this._getGridConfig();o.snap=this.props.snapStep,"graph"===this.props.markings?(o.graphInit({range:r,scale:a.pluck(s,"scale"),axisArrows:"<->",labelFormat:function(e){return"\\small{"+e+"}"},gridStep:this.props.gridStep,tickStep:a.pluck(s,"tickStep"),labelStep:1,unityLabels:a.pluck(s,"unityLabel"),isMobile:this.props.isMobile}),o.label([0,r[1][1]],n[1],this.props.isMobile?"below right":"above"),o.label([r[0][1],0],n[0],this.props.isMobile?"above left":"right")):"grid"===this.props.markings?o.graphInit({range:r,scale:a.pluck(s,"scale"),gridStep:this.props.gridStep,axes:!1,ticks:!1,labels:!1,isMobile:this.props.isMobile}):"none"===this.props.markings&&o.init({range:r,scale:a.pluck(s,"scale"),isMobile:this.props.isMobile});var u,c=.5,p=0;if(this.props.instructions){var u=$("<div/>");a.each(d,function(e,t){u.css(t,e)}),u.css("opacity",c);var h=$("<span/>",{text:this.props.instructions});a.each(f,function(e,t){h.css(t,e)}),u.append(h),$(t).append(u)}else u=void 0;var m=u||this.props.onMouseDown?a.bind(function(e){u&&(u.remove(),u=null),this.props.onMouseDown(e)},this):null,g=u?function(){u&&u.css("opacity",p)}:null,v=u?function(){u&&u.css("opacity",c)}:null;o.addMouseLayer({onClick:this.props.onClick,onMouseDown:m,onMouseOver:g,onMouseOut:v,onMouseUp:this.props.onMouseUp,onMouseMove:this.props.onMouseMove,allowScratchpad:!0,setDrawingAreaAvailable:this.props.setDrawingAreaAvailable}),this._updateProtractor(),this._updateRuler(),this._hasSetupGraphieThisUpdate=!0,!e&&this.props.onGraphieUpdated&&this.props.onGraphieUpdated(o)}},_getGridConfig:function(){var e=this;return a.map(e.props.step,function(t,n){return s.gridDimensionConfig(t,e.props.range[n],e.props.box[n],e.props.gridStep[n])})},_updateProtractor:function(){if(this.protractor&&this.protractor.remove(),this.props.showProtractor){var e=this.pointsFromNormalized([[.5,.05]])[0];this.protractor=this._graphie.protractor(e)}},_updateRuler:function(){if(this.ruler&&this.ruler.remove(),this.props.showRuler){var e=this.pointsFromNormalized([[.5,.25]])[0],t=this._graphie.range[0][1]-this._graphie.range[0][0];this.ruler=this._graphie.ruler({center:e,label:this.props.rulerLabel,pixelsPerUnit:this._graphie.scale[0],ticksPerUnit:this.props.rulerTicks,units:Math.round(.8*t)})}},toJSON:function(){return a.pick(this.props,"range","step","markings","labels","backgroundImage","showProtractor","showRuler","rulerLabel","rulerTicks","gridStep","snapStep")}});e.exports=m},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(55),a=n(11),s=n(32),l=n(10).ClassNames,u="perseus-sortable",c=r.createClass({displayName:"Placeholder",propTypes:{width:r.PropTypes.number.isRequired,height:r.PropTypes.number.isRequired},render:function(){var e=[u+"-card",u+"-placeholder"].join(" "),t={width:this.props.width,height:this.props.height};return null!=this.props.margin&&(t.margin=this.props.margin),r.createElement("li",{className:e,style:t})}}),p="static",h="dragging",d="animating",f="disabled",m=r.createClass({displayName:"Draggable",propTypes:{type:r.PropTypes.oneOf([p,h,d,f]),content:r.PropTypes.string.isRequired,endPosition:r.PropTypes.object.isRequired,onRender:r.PropTypes.func.isRequired,onMouseDown:r.PropTypes.func.isRequired,onMouseMove:r.PropTypes.func.isRequired,onMouseUp:r.PropTypes.func.isRequired,onAnimationEnd:r.PropTypes.func.isRequired},getDefaultProps:function(){return{type:p}},getInitialState:function(){return{startPosition:{left:0,top:0},startMouse:{left:0,top:0},mouse:{left:0,top:0}}},componentDidMount:function(){this.isMouseMoveUpBound=!1},componentWillUnmount:function(){this.isMouseMoveUpBound&&this.unbindMouseMoveUp()},getCurrentPosition:function(){return{left:this.state.startPosition.left+this.state.mouse.left-this.state.startMouse.left,top:this.state.startPosition.top+this.state.mouse.top-this.state.startMouse.top}},render:function(){var e=[u+"-card",u+"-draggable",u+"-"+this.props.type,l.INTERACTIVE].join(" "),t={position:"static"};return this.props.type!==h&&this.props.type!==d||i.extend(t,{position:"absolute"},this.getCurrentPosition()),this.props.width&&(t.width=this.props.width+1),this.props.height&&(t.height=this.props.height),null!=this.props.margin&&(t.margin=this.props.margin),r.createElement("li",{className:e,style:t,onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown,onTouchMove:this.onMouseMove,onTouchEnd:this.onMouseUp,onTouchCancel:this.onMouseUp},r.createElement(s,{content:this.props.content,onRender:this.props.onRender}))},componentDidUpdate:function(e){if(this.props.type!==e.type)if(this.props.type===d){var t=this.getCurrentPosition(),n=15*Math.sqrt(Math.sqrt(Math.pow(this.props.endPosition.left-t.left,2)+Math.pow(this.props.endPosition.top-t.top,2)));$(o.findDOMNode(this)).animate(this.props.endPosition,{duration:Math.max(n,1),complete:this.props.onAnimationEnd})}else this.props.type===p&&$(o.findDOMNode(this)).finish()},bindMouseMoveUp:function(){this.isMouseMoveUpBound=!0,$(document).on("mousemove",this.onMouseMove),$(document).on("mouseup",this.onMouseUp)},unbindMouseMoveUp:function(){this.isMouseMoveUpBound=!1,$(document).off("mousemove",this.onMouseMove),$(document).off("mouseup",this.onMouseUp)},onMouseDown:function(e){if(this.props.type===p&&(0===e.button||null!=e.touches&&1===e.touches.length)){e.preventDefault();var t=a.extractPointerLocation(e);t&&this.setState({startPosition:$(o.findDOMNode(this)).position(),startMouse:t,mouse:t},function(){this.bindMouseMoveUp(),this.props.onMouseDown()})}},onMouseMove:function(e){if(this.props.type===h){e.preventDefault();var t=a.extractPointerLocation(e);t&&this.setState({mouse:t},this.props.onMouseMove)}},onMouseUp:function(e){if(this.props.type===h){e.preventDefault();var t=a.extractPointerLocation(e);t&&(this.unbindMouseMoveUp(),this.props.onMouseUp())}}}),g="horizontal",v="vertical",y=r.createClass({displayName:"Sortable",propTypes:{options:r.PropTypes.array.isRequired,layout:r.PropTypes.oneOf([g,v]),padding:r.PropTypes.bool,disabled:r.PropTypes.bool,constraints:r.PropTypes.object,onMeasure:r.PropTypes.func,margin:r.PropTypes.number,onChange:r.PropTypes.func},getDefaultProps:function(){return{layout:g,padding:!0,disabled:!1,constraints:{},onMeasure:function(){},margin:5,onChange:function(){}}},getInitialState:function(){return{items:this.itemsFromProps(this.props)}},componentWillReceiveProps:function(e){var t=this.props;i.isEqual(e.options,t.options)?e.layout===t.layout&&e.padding===t.padding&&e.disabled===t.disabled&&i.isEqual(e.constraints,t.constraints)||this.setState({items:this.clearItemMeasurements(this.state.items)}):this.setState({items:this.itemsFromProps(e)})},componentDidUpdate:function(e){this.state.items.length&&!this.state.items[0].width&&this.measureItems()},itemsFromProps:function(e){var t=e.disabled?f:p;return i.map(e.options,function(e,n){return{option:e,key:n,type:t,endPosition:{},width:0,height:0}})},clearItemMeasurements:function(e){return i.map(e,function(e){return i.extend(e,{width:0,height:0})})},measureItems:function(){var e,t=this,n=i.clone(this.state.items),r=i.map(n,function(e){return $(o.findDOMNode(this.refs[e.key]))},this),a=i.invoke(r,"outerWidth"),s=i.invoke(r,"outerHeight"),l=this.props.constraints,u=this.props.layout;l.width?e=i.max(a.concat(l.width)):u===v&&(e=i.max(a));var c;l.height?c=i.max(s.concat(l.height)):u===g&&(c=i.max(s)),n=i.map(n,function(t,n){return t.width=e||a[n],t.height=c||s[n],t}),this.setState({items:n},function(){t.props.onMeasure({widths:a,heights:s})})},remeasureItems:i.debounce(function(){this.setState({items:this.clearItemMeasurements(this.state.items)},this.measureItems)},20),render:function(){var e=[u,"layout-"+this.props.layout].join(" "),t=[];return e+=this.props.padding?"":" unpadded",i.each(this.state.items,function(e,n,o){var i,a=n===o.length-1,s=e.type===p||e.type===f;this.props.layout===g?i="0 "+this.props.margin+"px 0 0":this.props.layout===v&&(i="0 0 "+this.props.margin+"px 0"),t.push(r.createElement(m,{content:e.option,key:e.key,type:e.type,ref:e.key,width:e.width,height:e.height,margin:a&&s?0:i,endPosition:e.endPosition,onRender:this.remeasureItems,onMouseDown:this.onMouseDown.bind(this,e.key),onMouseMove:this.onMouseMove.bind(this,e.key),onMouseUp:this.onMouseUp.bind(this,e.key),onTouchMove:this.onMouseMove.bind(this,e.key),onTouchEnd:this.onMouseUp.bind(this,e.key),onTouchCancel:this.onMouseUp.bind(this,e.key),onAnimationEnd:this.onAnimationEnd.bind(this,e.key)})),e.type!==h&&e.type!==d||t.push(r.createElement(c,{key:"placeholder_"+e.key,ref:"placeholder_"+e.key,width:e.width,height:e.height,margin:a?0:i}))},this),r.createElement("ul",{className:e},t)},onMouseDown:function(e){var t=i.map(this.state.items,function(t){return t.key===e&&(t.type=h),t});this.setState({items:t})},onMouseMove:function(e){var t=$(o.findDOMNode(this.refs[e])),n=$(o.findDOMNode(this)),r=i.clone(this.state.items),a=i.findWhere(this.state.items,{key:e}),s=this.props.margin,l=i.indexOf(r,a),u=0;if(r.splice(l,1),this.props.layout===g){var c,p=t.offset().left-n.offset().left,h=0;i.each(r,function(e){c=e.width,p>h+c/2&&(u+=1),h+=c+s})}else{var d,f=t.offset().top-n.offset().top,m=0;i.each(r,function(e){d=e.height,f>m+d/2&&(u+=1),m+=d+s})}u!==l&&(r.splice(u,0,a),this.setState({items:r}))},onMouseUp:function(e){var t=i.map(this.state.items,function(t){return t.key===e&&(t.type=d,t.endPosition=$(o.findDOMNode(this.refs["placeholder_"+e])).position()),t},this);this.setState({items:t}),this.props.onChange({})},onAnimationEnd:function(e){var t=i.map(this.state.items,function(t){return t.key===e&&(t.type=p),t});this.setState({items:t})},getOptions:function(){return i.pluck(this.state.items,"option")}});e.exports=y},function(e,t,n){"use strict";function r(e,t){null!==t.value&&(e.fillStyle=h.fgColor,e.font=h.font,e.fillText(t.value,t.pos[0]-h.fontSizePx/2+1,t.pos[1]+h.fontSizePx/2))}function o(e,t){var n=new Path2D;e.lineWidth=5*h.lineWidth,e.strokeStyle=h.fgColor,n.moveTo(t.startPos[0],t.startPos[1]),n.lineTo(t.endPos[0],t.endPos[1]),e.stroke(n),n=new Path2D,e.lineWidth=3*h.lineWidth,e.strokeStyle=h.bgColor,n.moveTo(t.startPos[0],t.startPos[1]),n.lineTo(t.endPos[0],t.endPos[1]),e.stroke(n)}function i(e,t){var n=new Path2D;e.lineWidth=7*h.lineWidth,e.strokeStyle=h.fgColor,n.moveTo(t.startPos[0],t.startPos[1]),n.lineTo(t.endPos[0],t.endPos[1]),e.stroke(n),n=new Path2D,e.lineWidth=5*h.lineWidth,e.strokeStyle=h.bgColor,n.moveTo(t.startPos[0],t.startPos[1]),n.lineTo(t.endPos[0],t.endPos[1]),e.stroke(n),a(e,t)}function a(e,t){var n=new Path2D;e.lineWidth=h.lineWidth,e.strokeStyle=h.fgColor,n.moveTo(t.startPos[0],t.startPos[1]),n.lineTo(t.endPos[0],t.endPos[1]),e.stroke(n)}function s(e){return function(t){c[t.type](e,t)}}function l(e,t){return p[e.type]-p[t.type]}function u(e,t){t.sort(l).forEach(s(e))}var c={text:r,"line:single":a,"line:double":o,"line:triple":i},p={"line:single":0,"line:double":0,"line:triple":0,text:1},h={bgColor:"rgb(255, 255, 255)",fgColor:"rgb(0, 0, 0)",fontSizePx:12,lineWidth:1};h.font=h.fontSizePx+"px sans",e.exports=u},function(e,t,n){"use strict";function r(e,t,n){var r=e[0],o=e[1];return[r+Math.cos(2*t*Math.PI/360)*n,o+-1*Math.sin(2*t*Math.PI/360)*n]}function o(e,t,n,o){var i=e.symbol;if("C"===i&&1!==Object.keys(t).length&&(i=null),"1,0"===e.idx){var a=[0,0];return e.pos=a,e.baseAngle=-30+o,{type:"text",value:i,pos:a,idx:e.idx}}var s=t[e.connections.find(function(e){return t[e].pos})],l=s.connections.indexOf(e.idx),u=60,c=120;4===s.connections.length?(c=90,u=90):(n.find(function(t){return"triple"===t.bondType&&t.to===e.idx})||n.find(function(e){return"triple"===e.bondType&&e.to===s.idx}))&&(c=0,u=0);var p=0,d=s.idx.split(":"),f=d[d.length-1].split(",")[0];p=parseInt(f)%2!==0?s.baseAngle-(u-c*l):s.baseAngle+(u-c*l);var m=r(s.pos,p,h);return e.pos=m,e.baseAngle=p,{type:"text",value:i,pos:m,idx:e.idx}}function i(e,t){var n=.25,r=[e.pos[0],e.pos[1]],o=[t.pos[0],t.pos[1]];return"C"!==e.symbol&&(r=[t.pos[0]-(1-n)*(t.pos[0]-e.pos[0]),t.pos[1]-(1-n)*(t.pos[1]-e.pos[1])]),"C"!==t.symbol&&(o=[e.pos[0]-(1-n)*(e.pos[0]-t.pos[0]),e.pos[1]-(1-n)*(e.pos[1]-t.pos[1])]),[r,o]}function a(e,t){var n=t[e.from],r=t[e.to],o=i(n,r);return{type:"line:"+e.bondType,startPos:o[0],endPos:o[1]}}function s(e){return e.join(":")}function l(e,t,n){return null===n?[e,t]:("atom"===n.type&&!function(){var r=s(n.idx);e[r]={idx:r,symbol:n.symbol,connections:[]},n.bonds&&n.bonds.forEach(function(n){var o=s(n.to.idx);e[r].connections.push(o),t.push({from:r,to:o,bondType:n.bondType}),l(e,t,n.to),e[o].connections.push(r)})}(),[e,t])}function u(e,t,n,r,i){if(0===t.length)return e;var a=t.shift(),s=n[a];return s.connections.forEach(function(e){n[e].pos||t.push(e)}),u(e.concat(o(s,n,r,i)),t,n,r,i)}function c(e,t,n){return 0===n.length?e:c(e.concat(a(n[0],t)),t,n.slice(1))}function p(e,t){var n=l({},[],e),r=n[0],o=n[1],i=u([],["1,0"],r,o,t);return c(i,r,o)}var h=30;e.exports={layout:p,_atomLayout:o,_bondLayout:a,_bondLength:h,_convertTree:l}},function(e,t,n){"use strict";function r(e){this.message=e}function o(e,t,n){var r=t[0],i=t.slice(1),a=void 0;a=Array.isArray(e)?[].concat(e):m({},e||{});var s=n;return i.length>0&&(s=o(a[r],i,n)),a[r]=s,a}function i(e,t){var n=t.reduce(function(e,t){return e[t]},e);return o(e,t,n+1)}function a(e){return g.test(e)}function s(e,t){var n=e[0],i=e.slice(1);if("="===n)return f(i,o(t,["bond","bondType"],"double"));if("#"===n)return f(i,o(t,["bond","bondType"],"triple"));throw new r("Invalid character: "+n)}function l(e,t){if(0===t.length)return e;if(""===e)throw new r("Mismatched parentheses");var n=e[0],o=e.slice(1);return"("===n?l(o,t.concat(n)):")"===n?l(o,t.slice(1)):l(o,t)}function u(e,t){var n=e[0],o=e.slice(1);if("("===n){var a=m({},t,{parens:t.parens+"("});a=i(t,["idx",t.idx.length-1,1]);var s=-1;t.idx[t.idx.length-1][0]%2===0&&(s=0);var u=m({},a,{idx:a.idx.concat([[s,0]]),parens:a.parens.concat("(")}),c=f(o,u),p=f(l(o,["("]),a);return[c].concat(p)}if(")"===n){if("("!==t.parens[t.parens.length-1])throw new r("Mismatched parentheses");return null}throw new r("Invalid bare character: "+n)}function c(e,t){var n=null,r=null;if("["===e[0]){var o=e.indexOf("]");if(o===-1)return["",e];n=e.slice(1,o),r=e.slice(o+1)}else{var i=v.exec(e);n=i[1],r=e.slice(n.length)}return[n,r]}function p(e,t){var n=c(e,t),r=n[0];if(""===r)return["error","Unable to parse bracketed atom."];var i=n[1],a=o(t,["idx",t.idx.length-1],[1+t.idx[t.idx.length-1][0],0]),s=f(i,o(a,["bond","bondType"],"single"));!Array.isArray(s)&&s&&(s=[s]);var l={type:"atom",symbol:r,bonds:s,idx:a.idx};return t.bond?{type:"bond",bondType:t.bond.bondType,to:l}:l}function h(e){return v.test(e)}function d(e){return"="===e||"#"===e}function f(e,t){if(!a(e))throw new r("Invalid input.");return e&&0!==e.length?h(e)?p(e,t||{idx:[[0,0]],parens:[],stack:[],bondModifiers:[]}):d(e[0])?s(e,t):u(e,t):null}var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=new RegExp("^[A-Za-z\\[\\]()=#+-]*$"),v=new RegExp("^(Cl|Br|[CONPSFBI]|\\[)");e.exports={parse:f,ParseError:r}},function(e,t,n){"use strict";var r=n(54),o=n(193),i=n(55),a="start-ref-",s="end-ref-",l={display:"inline-block",width:0,visibility:"hidden"},u={display:"inline",whiteSpace:"nowrap"},c={display:"inline-block",color:"rgb(255, 255, 255)",backgroundColor:"rgb(90, 90, 90)",paddingLeft:10,paddingRight:10,userSelect:"none",WebkitUserSelect:"none"},p={display:"inline-block",color:"rgb(255, 255, 255)",backgroundColor:"rgb(90, 90, 90)",userSelect:"none",WebkitUserSelect:"none",width:22,height:22,borderRadius:"50%",textAlign:"center"},h=r.createClass({displayName:"RefStart",propTypes:{refContent:r.PropTypes.node.isRequired},render:function(){return r.createElement("span",{style:l},"_")},getRefContent:function(){return this.props.refContent}}),d=r.createClass({displayName:"RefEnd",render:function(){return r.createElement("span",{style:l},"_")}}),f={newline:o.defaultRules.newline,paragraph:o.defaultRules.paragraph,escape:o.defaultRules.escape,passageFootnote:{order:o.defaultRules.escape.order+.1,match:o.inlineRegex(/^\^/),parse:function(e,t,n){var r=n.lastFootnote.id+1,o={id:r,text:1===r?"*":""+r};return"*"===n.lastFootnote.text&&(n.lastFootnote.text=""+n.lastFootnote.id),n.lastFootnote=o,o},react:function(e,t,n){return r.createElement("sup",{key:n.key},e.text)}},refStart:{order:o.defaultRules.escape.order+.2,match:function(e,t){var n=/^\{\{/.exec(e);if(n){for(var r=2,o=0;r<e.length;){var i=e.slice(r,r+2);if("{{"===i)o++,r++;else if("}}"===i){if(!(o>0))break;o--,r++}r++}var a=e.slice(2,r);return[n[0],a]}return null},parse:function(e,t,n){if(!n.useRefs)return{ref:null,refContent:null};var r=n.lastRef+1;n.lastRef=r,n.currentRef.push(r);var o=t("(“"+e[1]+"”)\n\n",i.defaults({useRefs:!1},m));return{ref:r,refContent:o}},react:function(e,t,n){if(null==e.ref)return null;var o=t(e.refContent,{});return r.createElement(h,{ref:a+e.ref,key:a+e.ref,refContent:o})}},refEnd:{order:o.defaultRules.escape.order+.3,match:o.inlineRegex(/^\}\}/),parse:function(e,t,n){if(!n.useRefs)return{ref:null};var r=n.currentRef.pop()||null;return{ref:r}},react:function(e,t,n){return null!=e.ref?r.createElement(d,{ref:s+e.ref,key:s+e.ref}):null}},squareLabel:{order:o.defaultRules.escape.order+.4,match:o.inlineRegex(/^\[\[(\w+)\]\]( *)/),parse:function(e,t,n){return n.firstQuestionRef||(n.firstQuestionRef=e[1]),{content:e[1],space:e[2].length>0}},react:function(e,t,n){return[r.createElement("span",{key:"visual-square",className:"perseus-passage-square-label",style:u,"aria-hidden":"true"},r.createElement("span",{style:c},e.content)),r.createElement("span",{key:"alt-text",className:"perseus-sr-only"},$_({number:e.content},"[Marker for question %(number)s]")),e.space?" ":null]}},circleLabel:{order:o.defaultRules.escape.order+.5,match:o.inlineRegex(/^\(\((\w+)\)\)( *)/),parse:function(e,t,n){return{content:e[1],space:e[2].length>0}},react:function(e,t,n){return[r.createElement("span",{key:"visual-circle",className:"perseus-passage-circle-label",style:u,"aria-hidden":!0},r.createElement("span",{style:p},e.content)),r.createElement("span",{key:"alt-text",className:"perseus-sr-only"},$_({number:e.content},"[Circle marker %(number)s]")),e.space?" ":null]}},squareBracketRef:{order:o.defaultRules.escape.order+.6,match:o.inlineRegex(/^\[(\d+)\]( *)/),parse:function(e,t,n){return n.firstSentenceRef||(n.firstSentenceRef=e[1]),{content:e[1],space:e[2].length>0}},react:function(e,t,n){return[r.createElement("span",{key:"visual-brackets",className:"perseus-passage-bracket-label","aria-hidden":"true"},"[",e.content,"]"),r.createElement("span",{key:"alt-text",className:"perseus-sr-only"},$_({number:e.content},"[Sentence %(number)s]")),e.space?" ":null]}},highlight:{order:o.defaultRules.escape.order+.7,match:o.inlineRegex(/^{highlighting.start}(.+?){highlighting.end}/),parse:function(e,t,n){return{content:e[1]}},react:function(e,t,n){return[r.createElement("span",{className:"perseus-highlight"},e.content)]}},reviewHighlight:{order:o.defaultRules.escape.order+.7,match:o.inlineRegex(/^{review-highlighting.start}(.+?){review-highlighting.end}/),parse:function(e,t,n){return{content:e[1]}},react:function(e,t,n){return[r.createElement("span",{className:"perseus-review-highlight"},e.content)]}},strong:o.defaultRules.strong,u:o.defaultRules.u,em:o.defaultRules.em,del:o.defaultRules.del,text:o.defaultRules.text},m={currentRef:[],useRefs:!0,lastRef:0,lastFootnote:{id:0,text:""}},g=o.parserFor(f),v=function(e,t){t=t||{};var n=e+"\n\n";return g(n,i.extend(t,m))};e.exports={parse:v,output:o.reactFor(o.ruleOutput(f,"react")),START_REF_PREFIX:a,END_REF_PREFIX:s,_rulesForTesting:f}},function(e,t,n){"use strict";function r(e){this.order=l(e),this.mantissa=s(e),this.positive=a(e),this.sigFigs=this.mantissa.length,this.sigDecs=this.order-this.mantissa.length}function o(e,t,n,r){var o,c,p,h=""+e,d=l(h),f=s(h),m=a(h),g=!1;if(0==e||""==f||"0"==f){for(f="",T=0;T<t;T++)f+="0";d=t+n,n<0&&-n>=t&&(g=!0)}else{if(c=d-f.length-n,p=t-f.length,o=Math.min(p,c),o<0){var v=u(f,-o);v.length>f.length+o&&(d++,c>p&&(v=u(v,1))),f=v}else if(o>0)for(T=0;T<o;T++)f+="0";""!=f&&"0"!=f||(f="0",m=!0,d=1+n,0!=d&&(g=!0))}var y=r||f.length>20||d>4||d<-2||d-f.length>0&&i(f)>0||g,b="";if(m||(b+="-"),y)b+=f.charAt(0),f.length>1&&(b+="."+f.substring(1,f.length)),d-1!=0&&(b+=" x 10^"+(d-1));else{var x="",E="",w=!0;if(d>0)if(f.length>d)x=f.substring(0,d),E=f.substring(d,f.length);else{x=f,w=0!=i(f);for(var T=0;T<d-f.length;T++)x+="0"}else{for(T=0;T<-d;T++)E+="0";E+=f}b+=(""==x?"0":x)+(w?".":"")+E}return b}function i(e){for(var t=0,n=e.length-1;n>=0;n--){var r=e.charAt(n);if("0"!=r)return t;t++}return t}function a(e){for(var t=!0,n=!1,r=!1,o="",i="",a="",s=0,l=0,u=!0,c=0;c<e.length;c++){var p=e.charAt(c);if(p>="1"&&p<="9")a+=o+p,o="",r=!0,n||(l++,s++),t=!1;else if("0"==p)n?r?(a+=o+p,o=""):(i+=p,s--):(l++,r?(i+=p,s++,o+=p):i+=p),t=!1;else if(n||"."!=p)if("e"==p||"E"==p&&c+1<e.length){var h=parseInt(e.substring(c+1,e.length));s+=h,l+=h,c=e.length}else!t||"+"!=p&&"-"!=p||"-"==p&&(u=!u);else a+=o,o="",n=!0,t=!1}return""==a||u}function s(e){for(var t=!0,n=!1,r=!1,o="",i="",a="",s=0,l=0,u=!0,c=0;c<e.length;c++){var p=e.charAt(c);if(p>="1"&&p<="9")a+=o+p,o="",r=!0,n||(l++,s++),t=!1;else if("0"==p)n?r?(a+=o+p,o=""):(i+=p,s--):(l++,r?(i+=p,s++,o+=p):i+=p),t=!1;else if(n||"."!=p)if("e"==p||"E"==p&&c+1<e.length){var h=parseInt(e.substring(c+1,e.length));s+=h,l+=h,c=e.length}else!t||"+"!=p&&"-"!=p||"-"==p&&(u=!u);else a+=o,o="",n=!0,t=!1}return""==a?i:a}function l(e){for(var t=!0,n=!1,r=!1,o="",i="",a="",s=0,l=0,u=!0,c=0;c<e.length;c++){var p=e.charAt(c);if(p>="1"&&p<="9")a+=o+p,o="",r=!0,n||(l++,s++),t=!1;else if("0"==p)n?r?(a+=o+p,o=""):(i+=p,s--):(l++,r?(i+=p,s++,o+=p):i+=p),t=!1;else if(n||"."!=p)if("e"==p||"E"==p&&c+1<e.length){var h=parseInt(e.substring(c+1,e.length));s+=h,l+=h,c=e.length}else!t||"+"!=p&&"-"!=p||"-"==p&&(u=!u);else a+=o,o="",n=!0,t=!1}return""==a?l:s}function u(e,t){var n=e.length-t-1;if(n<0)return"";if(n>=e.length-1)return e;var r=e.charAt(n+1),o=e.charAt(n),i=!1;if(r>"5")i=!0;else if("5"==r){for(var a=n+2;a<e.length;a++)"0"!=e.charAt(a)&&(i=!0);o%2==1&&(i=!0)}for(var s="",l=n;l>=0;l--){var u=e.charAt(l);if(i){var c;if("9"==u)c="0";else{switch(u){case"0":c="1";break;case"1":c="2";break;case"2":c="3";break;case"3":c="4";break;case"4":c="5";break;case"5":c="6";break;case"6":c="7";break;case"7":c="8";break;case"8":c="9"}i=!1}s=c+s}else s=u+s}return i&&(s="1"+s),s}e.exports={SignificantFigures:r,displaySigFigs:o}},function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}function o(e){for(var t=e.length,n=t,r=0,o=void 0;t>=4;)o=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),o^=o>>>24,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^o,t-=4,++r;switch(t){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n^=255&e.charCodeAt(r),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)}return n^=n>>>13,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>15,(n>>>0).toString(36)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})};t.objectToPairs=s;var l=function(e){var t={};return e.forEach(function(e){var n=i(e,2),r=n[0],o=n[1];t[r]=o}),t},u=function(e,t){return l(s(e).map(t))};t.mapObj=u;var c=function(e){return e.reduce(function(e,t){return e.concat(t)},[])};t.flatten=c;var p=/([A-Z])/g,h=/^ms-/,d=function(e){return e.replace(p,"-$1").toLowerCase()},f=function(e){return d(e).replace(h,"-ms-")};t.kebabifyStyleName=f;var m=function e(t,n){if("object"!=typeof t)return n;var r=a({},t);return Object.keys(n).forEach(function(o){r.hasOwnProperty(o)?r[o]=e(t[o],n[o]):r[o]=n[o]}),r};t.recursiveMerge=m;var g={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v=["Webkit","ms","Moz","O"];Object.keys(g).forEach(function(e){v.forEach(function(t){g[r(t,e)]=g[e]})});var y=function(e,t){return"number"==typeof t?g[e]?""+t:t+"px":t};t.stringifyValue=y;var b=function(e){return o(JSON.stringify(e))};t.hashObject=b;var x=/^([^:]+:.*?)( !important)?;$/,E=function(e){return e.replace(x,function(e,t,n){return t+" !important;"})};t.importantify=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(339),i=r(o),a=n(276),s=n(228),l=null,u=function(e){if(null==l&&(l=document.querySelector("style[data-aphrodite]"),null==l)){var t=document.head||document.getElementsByTagName("head")[0];l=document.createElement("style"),l.type="text/css",l.setAttribute("data-aphrodite",""),t.appendChild(l)}l.styleSheet?l.styleSheet.cssText+=e:l.appendChild(document.createTextNode(e))},c={fontFamily:function e(t){return Array.isArray(t)?t.map(e).join(","):"object"==typeof t?(m(t.fontFamily,"@font-face",[t],!1),'"'+t.fontFamily+'"'):t},animationName:function(e){if("object"!=typeof e)return e;var t="keyframe_"+(0,s.hashObject)(e),n="@keyframes "+t+"{";return Object.keys(e).forEach(function(t){n+=(0,a.generateCSS)(t,[e[t]],c,!1)}),n+="}",f(t,n),t}},p={},h="",d=!1,f=function(e,t){if(!p[e]){if(!d){if("undefined"==typeof document)throw new Error("Cannot automatically buffer without a document");d=!0,(0,i.default)(b)}h+=t,p[e]=!0}},m=function(e,t,n,r){if(!p[e]){var o=(0,a.generateCSS)(t,n,c,r);f(e,o)}};t.injectStyleOnce=m;var g=function(){h="",p={},d=!1,l=null};t.reset=g;var v=function(){if(d)throw new Error("Cannot buffer while already buffering");d=!0};t.startBuffering=v;var y=function(){d=!1;var e=h;return h="",e};t.flushToString=y;var b=function(){var e=y();e.length>0&&u(e)};t.flushToStyleTag=b;var x=function(){return Object.keys(p)};t.getRenderedClassNames=x;var E=function(e){e.forEach(function(e){p[e]=!0})};t.addRenderedClassNames=E},function(e,t,n){"use strict";function r(e,t){return e+":"+t}function o(e){return e.split(":")[0]}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(55),s=n(201).point,l={_fireEvent:function(e,t,n){a.invoke(e,"call",this,t,n)},_applyConstraints:function(e,t,n){var r=this,o=!1;return a.reduce(this.state.constraints,function(e,a){if(e===!1)return!1;if(o)return e;var l=a.call(r,e,t,i({onSkipRemaining:function(){o=!0}},n));if(l===!1)return!1;if(s.is(l,2))return l;if(l===!0||null==l)return e;throw new Error("Constraint returned invalid result: "+l)},e,this)},draw:function(){var e=this.cloneState();l._fireEvent.call(this,this.state.draw,e,this.prevState),this.prevState=e},listen:function(e,t,n){this._listenerMap=this._listenerMap||{};var o=r(e,t),i=this._listenerMap[o]=this._listenerMap[o]||this.state[e].length;this.state[e][i]=n},unlisten:function(e,t){this._listenerMap=this._listenerMap||{};var n=r(e,t),i=this._listenerMap[n];if(void 0!==i){this.state[e].splice(i,1),delete this._listenerMap[n];var s=a.keys(this._listenerMap);a.each(s,function(t){o(t)===e&&this._listenerMap[t]>i&&this._listenerMap[t]--},this)}}};e.exports=l},function(e,t,n){"use strict";function r(e,t){var n=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)),r=Math.atan2(e[1],e[0]);return r<0&&(r+=2*Math.PI),t||(r=180*r/Math.PI),[n,r]}function o(e,t){return"number"==typeof e&&(e=[e,e]),t=t*Math.PI/180,[e[0]*Math.cos(t),e[1]*Math.sin(t)]}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(201).point,l=n(201).vector,u=n(55);n(280);var c=n(90),p=n(281).processMath,h=n(211),d={
unscaledSvgPath:function(e){return e[0]===!0?"":$.map(e,function(e,t){return e===!0?"z":(0===t?"M":"L")+e[0]+" "+e[1]}).join("")},getDistance:function(e,t){return s.distanceToPoint(e,t)},coordDiff:function(e,t){return u.map(t,function(n,r){return t[r]-e[r]})},snapCoord:function(e,t){return u.map(e,function(e,n){return c.roundToNearest(t[n],e)})},findAngle:function(e,t,n){if(void 0===n){var r=e[0]-t[0],o=e[1]-t[1];return r||o?(180+180*Math.atan2(-o,-r)/Math.PI+360)%360:0}return d.findAngle(e,n)-d.findAngle(t,n)},graphs:{}},f=d.Graphie=function(){};u.extend(f.prototype,{cartToPolar:r,polar:o});var m={center:[-.5,-.5],above:[-.5,-1],"above right":[0,-1],right:[0,-.5],"below right":[0,0],below:[-.5,0],"below left":[-1,0],left:[-1,-.5],"above left":[-1,-1]};d.createGraphie=function(e){var t=40,n=40,r=void 0,s=void 0;$(e).css("position","relative");var g=Raphael(e);$(e).children("div").css("position","absolute");var v={"stroke-width":2,fill:"none"},y=function e(r){if("number"==typeof r)return e([r,r]);var o=r[0],i=r[1];return[o*t,i*n]},b=function e(o){if("number"==typeof o)return e([o,o]);var i=o[0],a=o[1];return[(i-r[0])*t,(s[1]-a)*n]},x=function e(o){if("number"==typeof o)return e([o,o]);var i=o[0],a=o[1];return[i/t+r[0],s[1]-a/n]},E=function e(r){return"number"==typeof r?e([r,r]):[r[0]/t,r[1]/n]},w=function(e,t){var n=$(e),r=n.data("labelDirection");if(n.css("visibility",""),"number"==typeof r){var o=Math.cos(r),i=Math.sin(r),a=Math.min(t[0]/2/Math.abs(o),t[1]/2/Math.abs(i));n.css({marginLeft:-t[0]/2+o*a,marginTop:-t[1]/2-i*a})}else{var s=m[r||"center"];n.css({marginLeft:Math.round(t[0]*s[0]),marginTop:Math.round(t[1]*s[1])})}},T=function(e,t){return $.map(e,function(e,n){if(e===!0)return"z";var r=t?e:b(e);return(0===n?"M":"L")+c.bound(r[0])+" "+c.bound(r[1])}).join("")},C=function(e,t,n){var o=function(r){return(e*r+t)*r+n};if(0===e){var i=u.map(r,function(e){return[e,o(e)]});return T(i)}var a=-t/(2*e),s=Math.max(Math.abs(a-r[0]),Math.abs(a-r[1])),l=a+s,p=[a,o(a)],h=[l,o(l)],d=[p[0],p[1]-(h[1]-p[1])],f=Math.abs(p[0]-h[0]),m=[p[0]-f,h[1]],g=[p[0]+f,h[1]],v=u.map([m,d,g],b),y=u.map(u.flatten(v),c.bound);return"M"+y[0]+","+y[1]+" Q"+y[2]+","+y[3]+" "+y[4]+","+y[5]},S=function(e,t,n,o){var i=Math.abs(Math.PI/(2*t)),a=function(r){return e*Math.sin(t*r-n)+o},s=function(r){return e*t*Math.cos(n-t*r)},l=function(e,t){var n=e+i*t,r=n+i,o=[n,2*n/3+1*r/3,1*n/3+2*r/3,r],l=[a(n),a(n)+s(n)*(r-n)/3,a(r)-s(r)*(r-n)/3,a(r)];return u.map(u.zip(o,l),b)},c=r[1]-r[0],p=Math.ceil(c/i)+1,h=n/t,d=h-r[0];h-=i*Math.ceil(d/i);for(var f=l(h,0),m="M"+f[0][0]+","+f[0][1]+" C"+f[1][0]+","+f[1][1]+" "+f[2][0]+","+f[2][1]+" "+f[3][0]+","+f[3][1],g=1;g<p;g++)f=l(h,g),m+=" C"+f[1][0]+","+f[1][1]+" "+f[2][0]+","+f[2][1]+" "+f[3][0]+","+f[3][1];return m};d.svgPath=T;var k=function(e){var o={scale:function(e){"number"==typeof e&&(e=[e,e]),t=e[0],n=e[1],g.setSize((r[1]-r[0])*t,(s[1]-s[0])*n)},clipRect:function(e){var t=e[0],n=e[1];return t[1]+=n[1],{"clip-rect":b(t).concat(y(n)).join(" ")}},strokeWidth:function(e){return{"stroke-width":parseFloat(e)}},rx:function(e){return{rx:y([e,0])[0]}},ry:function(e){return{ry:y([0,e])[1]}},r:function(e){var t=y([e,e]);return{rx:t[0],ry:t[1]}}},i={};return $.each(e||{},function(e,t){var n=o[e];if("function"==typeof n)$.extend(i,n(t));else{var r=e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();i[r]=t}}),i},P=function e(t){var n=t.constructor.prototype;if(n===Raphael.el){if("path"===t.type&&"undefined"==typeof t.arrowheadsDrawn){var r=t.attr("stroke-width"),o=.6+.4*r,i=t.getTotalLength(),a=g.set(),s=g.path(M.isMobile?"M-4,4 C-4,4 -0.25,0 -0.25,0 C-0.25,0 -4,-4 -4,-4":"M-3 4 C-2.75 2.5 0 0.25 0.75 0C0 -0.25 -2.75 -2.5 -3 -4"),l=t.getPointAtLength(i-.4),u=t.getPointAtLength(i-.75*o),c=180*Math.atan2(l.y-u.y,l.x-u.x)/Math.PI,p=t.attr();delete p.path;var h=t.getSubpath(0,i-.75*o);return h=g.path(h).attr(p),h.arrowheadsDrawn=!0,t.remove(),s.rotate(c,M.isMobile?1e-5:.75,0).scale(o,o,.75,0).translate(u.x,u.y).attr(p).attr({"stroke-linejoin":"round","stroke-linecap":"round"}),s.arrowheadsDrawn=!0,a.push(h),a.push(s),a}}else if(n===Raphael.st)for(var d=0,f=t.items.length;d<f;d++)e(t.items[d]);return t},_={circle:function(e,t){return g.ellipse.apply(g,b(e).concat(y([t,t])))},rect:function(e,t,n,r){var o=b([e,t+r]),i=y([n,r]),a=g.rect.apply(g,o.concat(i));return M.isMobile&&(a.node.style.shapeRendering="crispEdges"),a},ellipse:function(e,t){return g.ellipse.apply(g,b(e).concat(y(t)))},fixedEllipse:function(e,t,n,r){var o=b(e),i=y(t),a=2*i[0]*n+r,s=2*i[1]*n+r,l=o[0]-a/2,u=o[1]-s/2,c=document.createElement("div");$(c).css({position:"absolute",width:a+"px",height:s+"px",left:l+"px",top:u+"px"});var p=Raphael(c,a,s),h=p.ellipse(a/2,s/2,i[0],i[1]);return{wrapper:c,visibleShape:h}},arc:function(e,t,n,r,i){n=(n%360+360)%360,r=(r%360+360)%360;var a=b(e),s=y(t),l=o(t,n),u=o(t,r),c=b([e[0]+l[0],e[1]+l[1]]),p=b([e[0]+u[0],e[1]+u[1]]),h=((r-n)%360+360)%360>180;return g.path("M"+c.join(" ")+"A"+s.join(" ")+" 0 "+(h?1:0)+" 0 "+p.join(" ")+(i?"L"+a.join(" ")+"z":""))},path:function(e){var t=g.path(T(e));return t.graphiePath=e,t},fixedPath:function(e,t,n){e=u.map(e,b),t=t?b(t):null,n=n||T;var r=u.min(u.pluck(e,0)),o=u.max(u.pluck(e,0)),i=u.min(u.pluck(e,1)),a=u.max(u.pluck(e,1)),s=[4,4],c=[r,i];e=u.map(e,function(e){return l.add(l.subtract(e,c),l.scale(s,.5))});var p=o-r+s[0],h=a-i+s[1],d=c[0]-s[0]/2,f=c[1]-s[1]/2,m=document.createElement("div");$(m).css({position:"absolute",width:p+"px",height:h+"px",left:d+"px",top:f+"px",transformOrigin:t?p/2+t[0]+"px "+(h/2+t[1])+"px":null});var g=Raphael(m,p,h),v=g.path(n(e));return{wrapper:m,visibleShape:v}},scaledPath:function(e){var t=g.path(T(e,!0));return t.graphiePath=e,t},line:function(e,t){var n=this.path([e,t]);return M.isMobile&&(n.node.style.shapeRendering="crispEdges"),n},parabola:function(e,t,n){return g.path(C(e,t,n))},fixedLine:function(e,t,n){var r=[n,n];e=b(e),t=b(t);var o=[Math.min(e[0],t[0]),Math.min(e[1],t[1])];e=l.add(l.subtract(e,o),l.scale(r,.5)),t=l.add(l.subtract(t,o),l.scale(r,.5));var i=o[0]-r[0]/2,a=o[1]-r[1]/2,s=Math.abs(e[0]-t[0])+r[0],u=Math.abs(e[1]-t[1])+r[1],c=document.createElement("div");$(c).css({position:"absolute",width:s+"px",height:u+"px",left:i+"px",top:a+"px",transformOrigin:e[0]+"px "+e[1]+"px"});var p=Raphael(c,s,u),h="M"+e[0]+" "+e[1]+" L"+t[0]+" "+t[1],d=p.path(h);return d.graphiePath=[e,t],{wrapper:c,visibleShape:d}},sinusoid:function(e,t,n,r){return g.path(S(e,t,n,r))},grid:function(e,t){for(var n=v.step||[1,1],r=g.set(),o=n[0]*Math.ceil(e[0]/n[0]);o<=e[1];o+=n[0])r.push(this.line([o,t[0]],[o,t[1]]));for(var i=n[1]*Math.ceil(t[0]/n[1]);i<=t[1];i+=n[1])r.push(this.line([e[0],i],[e[1],i]));return r},label:function(t,n,r,o){o="undefined"==typeof o||o;var i=$("<span>").addClass("graphie-label"),a=v["label-distance"];i.css($.extend({},v,{position:"absolute",padding:(null!=a?a:7)+"px"})).data("labelDirection",r).appendTo(e),i.setPosition=function(e){var t=b(e);i.css({left:t[0],top:t[1]})},i.setPosition(t);var s=i[0];return i.processMath=function(e,t){p(s,e,t,function(){var e=s.scrollWidth,t=s.scrollHeight;w(s,[e,t])})},i.processText=function(e){i.html(e);var t=s.scrollWidth,n=s.scrollHeight;w(s,[t,n])},o?i.processMath(n,!1):i.processText(n),i},plotParametric:function(e,t,r,o){o=o||function(e){return[e,0]},v.strokeLinejoin||(v.strokeLinejoin="round"),v.strokeLinecap||(v.strokeLinecap="round");var i=t[0],a=t[1],s=(a-i)/(v["plot-points"]||800);0===s&&(s=1);for(var l=g.set(),u=[],c=d.coordDiff(e(i),o(i)),p=i,h=i;h<=a;h+=s){var f=e(h),m=o(h),y=d.coordDiff(f,m);if(y[1]<0!=c[1]<0&&Math.abs(y[1]-c[1])>2*n||Math.abs(y[1])>1e7||isNaN(y[1])){if(r){u.push(f);for(var b=h-s;b>=p;b-=s)u.push(o(b));p=h}l.push(this.path(u)),u=[],r&&u.push(f)}else u.push(f);c=y}if(r)for(var x=a-s;x>=p;x-=s)u.push(o(x));return l.push(this.path(u)),l},plotPolar:function(e,n){var r=n[0],i=n[1];return v["plot-points"]||(v["plot-points"]=2*(i-r)*t),this.plotParametric(function(t){return o(e(t),180*t/Math.PI)},n)},plot:function(e,n,r,o,i){var a=n[0],s=n[1];if(v["plot-points"]||(v["plot-points"]=2*(s-a)*t),r){if(i)throw new Error("Can't shade area between functions with swapped axes.");return this.plotParametric(function(t){return[e(t),t]},n,o)}if(i){if(o)return this.plotParametric(function(t){return[t,e(t)]},n,o,function(e){return[e,i(e)]});throw new Error("fn2 should only be set when 'shade' is True.")}return this.plotParametric(function(t){return[t,e(t)]},n,o)},plotPiecewise:function(e,t){var n=g.set(),r=this;return u.times(e.length,function(o){var i=e[o],a=t[o],s=r.plotParametric(function(e){return[e,i(e)]},a);u.each(s,function(e){n.push(e)})}),n},plotEndpointCircles:function(e){var t=g.set(),n=this;return u.each(e,function(e,r){t.push(n.circle(e,.15))}),t},plotAsymptotes:function(e,t){for(var r=t[0],o=t[1],i=(o-r)/(v["plot-points"]||800),a=g.set(),s=e(r),l=r;l<=o;l+=i){var u=e(l);u<0!=s<0&&Math.abs(u-s)>2*n&&a.push(this.line([l,n],[l,-n])),s=u}return a}},M=new f;return u.extend(M,{raphael:g,init:function(o){var i=o.scale||[40,40];if(i="number"==typeof i?[i,i]:i,t=i[0],n=i[1],null==o.range)return Khan.error("range should be specified in graph init");r=o.range[0],s=o.range[1];var a=(r[1]-r[0])*t,l=(s[1]-s[0])*n;return g.setSize(a,l),$(e).css({width:a,height:l}),this.range=o.range,this.scale=i,this.dimensions=[a,l],this.xpixels=a,this.ypixels=l,this.isMobile=o.isMobile,this},style:function(e,t){var n=k(e);if("function"==typeof t){var r=v;v=$.extend({},v,n);var o=t.call(M);return v=r,o}$.extend(v,n)},scalePoint:b,scaleVector:y,unscalePoint:x,unscaleVector:E,svgPath:T,svgParabolaPath:C,svgSinusoidPath:S}),$.each(_,function(e){M[e]=function(){var t=arguments[arguments.length-1],n=v,r=void 0;if("object"!==("undefined"==typeof t?"undefined":a(t))||u.isArray(t))v=$.extend({},v),r=_[e].apply(_,arguments);else{v=i({},v,k(t));var o=[].slice.call(arguments,0,arguments.length-1);r=_[e].apply(_,o)}var s=r.constructor.prototype;return s===Raphael.el||s===Raphael.st?(r.attr(v),v.arrows&&(r=P(r))):r instanceof $&&r.css(v),v=n,r}}),M.graphInit=function(e){var t=this;e=e||{},$.each(e,function(t,n){t.match(/.*Opacity$/)||"range"===t||"number"!=typeof n||(e[t]=[n,n]),"range"!==t&&"gridRange"!==t||(n.constructor===Array?n[0].constructor!==Array&&(e[t]=[[-n[0],n[0]],[-n[1],n[1]]]):"number"==typeof n&&(e[t]=[[-n,n],[-n,n]]))});var n=e.range||[[-10,10],[-10,10]],r=e.gridRange||e.range,o=e.scale||[20,20],i=null==e.grid||e.grid,a=e.gridOpacity||.1,s=e.gridStep||[1,1],l=null==e.axes||e.axes,c=e.axisArrows||"",p=e.axisOpacity||1,d=e.axisCenter||[Math.min(Math.max(n[0][0],0),n[0][1]),Math.min(Math.max(n[1][0],0),n[1][1])],f=null!=e.axisLabels&&e.axisLabels,m=null==e.ticks||e.ticks,g=e.tickStep||[2,2],v=e.tickLen||[5,5],y=e.tickOpacity||1,b=e.labels||e.labelStep||!1,x=e.labelStep||[1,1],E=e.labelOpacity||1,w=e.unityLabels||!1,T=e.labelFormat||function(e){return e},C=e.xLabelFormat||T,S=e.yLabelFormat||T,k=null==e.smartLabelPositioning||e.smartLabelPositioning,P=[[n[0][0]-(n[0][0]>0?1:0),n[0][1]+(n[0][1]<0?1:0)],[n[1][0]-(n[1][0]>0?1:0),n[1][1]+(n[1][1]<0?1:0)]];if(u.isArray(w)||(w=[w,w]),k){var _=function(e){return function(t){return(e(t)+"").replace(/-(\d)/g,"\\llap{-}$1")}};C=_(C),S=_(S)}this.init({range:P,scale:o,isMobile:e.isMobile}),i&&this.grid(r[0],r[1],{stroke:e.isMobile?h.GRAY_C:"#000000",opacity:e.isMobile?1:a,step:s,strokeWidth:e.isMobile?1:2}),l&&("<->"===c||c===!0?this.style({stroke:e.isMobile?h.GRAY_G:"#000000",opacity:e.isMobile?1:p,strokeWidth:e.isMobile?1:2,arrows:"->"},function(){n[1][0]<0&&n[1][1]>0&&(this.path([d,[r[0][0],d[1]]]),this.path([d,[r[0][1],d[1]]])),n[0][0]<0&&n[0][1]>0&&(this.path([d,[d[0],r[1][0]]]),this.path([d,[d[0],r[1][1]]]))}):"->"!==c&&""!==c||this.style({stroke:"#000000",opacity:p,strokeWidth:2,arrows:c},function(){this.path([[r[0][0],d[1]],[r[0][1],d[1]]]),this.path([[d[0],r[1][0]],[d[0],r[1][1]]])}),f&&2===f.length&&(this.label([r[0][1],d[1]],f[0],"right"),this.label([d[0],r[1][1]],f[1],"above"))),m&&!function(){var i=e.isMobile;t.style({stroke:e.isMobile?h.GRAY_G:"#000000",opacity:e.isMobile?1:y,strokeWidth:1},function(){var e=s[0]*g[0],t=v[0]/o[1],a=r[0][0],l=r[0][1];if(n[1][0]<0&&n[1][1]>0){for(var u=e+d[0];u<=l;u+=e)(u<l||!c)&&this.line([u,-t+d[1]],[u,i?0:t+d[1]]);for(var p=-e+d[0];p>=a;p-=e)(p>a||!c)&&this.line([p,-t+d[1]],[p,i?0:t+d[1]])}if(e=s[1]*g[1],t=v[1]/o[0],a=r[1][0],l=r[1][1],n[0][0]<0&&n[0][1]>0){for(var h=e+d[1];h<=l;h+=e)(h<l||!c)&&this.line([-t+d[0],h],[i?0:t+d[0],h]);for(var f=-e+d[1];f>=a;f-=e)(f>a||!c)&&this.line([-t+d[0],f],[i?0:t+d[0],f])}})}(),b&&this.style({stroke:e.isMobile?h.GRAY_G:"#000000",opacity:e.isMobile?1:E},function(){for(var e=s[0]*g[0]*x[0],t=r[0][0],n=r[0][1],o=d[0]<0?"above":"below",i=d[0]<0?"right":"left",a=0===d[0]&&0!==d[1],l=0!==d[0]&&0===d[1],u=0!==d[0]||0!==d[1],p=w[0]||u,h=w[1]||u,f=(a?0:e)+d[0];f<=n;f+=e)(f<n||!c)&&this.label([f,d[1]],C(f),o);for(var m=-e*(p?1:2)+d[0];m>=t;m-=e)(m>t||!c)&&this.label([m,d[1]],C(m),o);e=s[1]*g[1]*x[1],t=r[1][0],n=r[1][1];for(var v=(l?0:e)+d[1];v<=n;v+=e)(v<n||!c)&&this.label([d[0],v],S(v),i);for(var y=-e*(h?1:2)+d[1];y>=t;y-=e)(y>t||!c)&&this.label([d[0],y],S(y),i)})},M},e.exports=d},function(e,t,n){"use strict";function r(e){return f.reduce(e,function(e,t){return e+t},0)}function o(e){var t=f.zip(e,e.slice(1).concat(e.slice(0,1))),n=f.map(t,function(e){var t=e[0],n=e[1];return(n[0]-t[0])*(n[1]+t[1])});return r(n)>0}function i(){var e=f.toArray(arguments),t=f.zip.apply(f,e);return f.map(t,r)}function a(e){return f.map(e,function(e){return e*-1})}function s(e){var t=70.2941120352484,n=11.374597405497571,r=-.037587715462826674;return(t-n)*Math.exp(r*e)+n}function l(e,t){return[e*Math.cos(t),e*Math.sin(t)*-1]}function u(e,t){var n=t*Math.PI/180;return l(e,n)}function c(e,t){this.set=e.raphael.set(),this.cx=t[0],this.cy=t[1];var n=this,r=e.unscaleVector(180.5)[0],o=e.scalePoint([this.cx-r,this.cy+r-e.unscaleVector(10.5)[1]]);this.set.push(e.mouselayer.image("https://ka-perseus-graphie.s3.amazonaws.com/e9d032f2ab8b95979f674fbfa67056442ba1ff6a.png",o[0],o[1],360,180));var i=function(n,o){var i=e.scaleVector(r);i[0]-=16,i[1]-=16;var a=e.scalePoint(t),s=Math.sin((n+90)*Math.PI/180)*(i[0]+o)+a[0],l=Math.cos((n+90)*Math.PI/180)*(i[1]+o)+a[1];return s+","+l},a=e.raphael.path(" M"+i(180,6)+" L"+i(180,2)+" L"+i(183,10)+" L"+i(180,18)+" L"+i(180,14)+" A"+(e.scaleVector(r)[0]+10)+","+(e.scaleVector(r)[1]+10)+",0,0,1,"+i(170,14)+" L"+i(170,18)+" L"+i(167,10)+" L"+i(170,2)+" L"+i(170,6)+" A"+(e.scaleVector(r)[0]+10)+","+(e.scaleVector(r)[1]+10)+",0,0,0,"+i(180,6)+" Z").attr({stroke:null,fill:T.INTERACTIVE});this.set.push(a),this.centerPoint=e.addMovablePoint({coord:t,visible:!1}),this.rotateHandle=e.addMovablePoint({coord:[Math.sin(275*Math.PI/180)*(r+.5)+this.cx,Math.cos(275*Math.PI/180)*(r+.5)+this.cy],onMove:function(e,t){var r=180*Math.atan2(n.centerPoint.coord[1]-t,n.centerPoint.coord[0]-e)/Math.PI;n.rotate(-r-5,!0)}}),this.rotateHandle.constraints.fixedDistance.dist=r+.5,this.rotateHandle.constraints.fixedDistance.point=this.centerPoint,this.rotateHandle.visibleShape.remove(),this.rotateHandle.mouseTarget.attr({scale:2});var s=!1,l=!1,u=function(){return l||s},c=this,p=$(c.rotateHandle.mouseTarget.getMouseTarget());p.bind("vmousedown",function(e){s=!0,a.animate({scale:1.5,fill:T.INTERACTING},50),$(document).bind("vmouseup.rotateHandle",function(e){s=!1,u()||a.animate({scale:1,fill:T.INTERACTIVE},50),$(document).unbind("vmouseup.rotateHandle")})}),p.bind("vmouseover",function(e){l=!0,a.animate({scale:1.5,fill:T.INTERACTING},50)}),p.bind("vmouseout",function(e){l=!1,u()||a.animate({scale:1,fill:T.INTERACTIVE},50)});var h=$.map(this.set,function(e){return e.node});return this.makeTranslatable=function(){$(h).css("cursor","move"),$(h).bind("vmousedown",function(t){t.preventDefault();var r=t.pageX-$(e.raphael.canvas.parentNode).offset().left,o=t.pageY-$(e.raphael.canvas.parentNode).offset().top;$(document).bind("vmousemove.protractor",function(t){var i=t.pageX-$(e.raphael.canvas.parentNode).offset().left,a=t.pageY-$(e.raphael.canvas.parentNode).offset().top;i=Math.max(10,Math.min(e.xpixels-10,i)),a=Math.max(10,Math.min(e.ypixels-10,a));var s=i-r,l=a-o;$.each(n.set.items,function(){this.translate(s,l)}),n.centerPoint.setCoord([n.centerPoint.coord[0]+s/e.scale[0],n.centerPoint.coord[1]-l/e.scale[1]]),n.rotateHandle.setCoord([n.rotateHandle.coord[0]+s/e.scale[0],n.rotateHandle.coord[1]-l/e.scale[1]]),r=i,o=a}),$(document).one("vmouseup",function(e){$(document).unbind("vmousemove.protractor")})})},this.rotation=0,this.rotate=function(t,n){var r=e.scalePoint(this.centerPoint.coord);return n&&(this.rotation=0),this.set.rotate(this.rotation+t,r[0],r[1]),this.rotation=this.rotation+t,this},this.moveTo=function(t,r){var o=e.scalePoint(n.centerPoint.coord),i=e.scalePoint([t,r]),a=2*m.getDistance(o,i);$({x:o[0],y:o[1]}).animate({x:i[0],y:i[1]},{duration:a,step:function(t,r){var o=0,i=0;"x"===r.prop?o=t-e.scalePoint(n.centerPoint.coord)[0]:"y"===r.prop&&(i=t-e.scalePoint(n.centerPoint.coord)[1]),$.each(n.set.items,function(){this.translate(o,i)}),n.centerPoint.setCoord([n.centerPoint.coord[0]+o/e.scale[0],n.centerPoint.coord[1]-i/e.scale[1]]),n.rotateHandle.setCoord([n.rotateHandle.coord[0]+o/e.scale[0],n.rotateHandle.coord[1]-i/e.scale[1]])}})},this.rotateTo=function(e){Math.abs(this.rotation-e)>180&&(this.rotation+=360);var t=5*Math.abs(this.rotation-e);$({0:this.rotation}).animate({0:e},{duration:t,step:function(e,t){n.rotate(e,!0),n.rotateHandle.setCoord([Math.sin((e+275)*Math.PI/180)*(r+.5)+n.centerPoint.coord[0],Math.cos((e+275)*Math.PI/180)*(r+.5)+n.centerPoint.coord[1]])}})},this.remove=function(){this.set.remove()},this.makeTranslatable(),this}function p(e,t){function n(e){for(var t=0;t<y.length;t++){var n=y[t];if(e%n===0)return h[n]}}f.defaults(t,{center:[0,0],pixelsPerUnit:40,ticksPerUnit:10,units:10,label:"",style:{fill:null,stroke:T.GRAY}});var r=f.extend({},t.style,{strokeWidth:1}),o=f.extend({},t.style,{strokeWidth:2}),i=t.units*t.pixelsPerUnit,a=50,s=e.unscalePoint(g.subtract(e.scalePoint(t.center),g.scale([i,-a],.5))),l=t.pixelsPerUnit/e.scale[0],u=a/e.scale[0],c=g.add(s,[t.units*l,u]),p=1,h=void 0;if(10===t.ticksPerUnit)h={10:p,5:.55*p,1:.35*p};else{var d=[1,.6,.45,.3];h={};for(var v=t.ticksPerUnit;v>=1;v/=2)h[v]=p*(d.shift()||.2)}var y=f.keys(h).sort(function(e,t){return t-e}),b=s[0],x=s[1],E=c[0],w=c[1],C=t.units*t.ticksPerUnit+1,S=e.raphael.set(),k=1/e.scale[0];S.push(e.line([b-k,x],[E+k,x],o)),S.push(e.line([b-k,w],[E+k,w],o)),f.times(C,function(i){var a=i/t.ticksPerUnit,s=b+a*l,c=n(i)*u,p=0===i||i===C-1?o:r;if(S.push(e.line([s,x],[s,x+c],p)),a%1===0){var h=e.scalePoint([s,w]),d=void 0,f=void 0;0===a?(d=t.label,f={mm:13,cm:11,m:8,km:11,in:8,ft:8,yd:10,mi:10}[d]||3*d.toString().length):(d=a,f=-3*(a.toString().length+1));var m=e.raphael.text(h[0]+f,h[1]+10,d);m.attr({"font-family":"KaTeX_Main","font-size":"12px",color:"#444"}),S.push(m)}});var P=e.mouselayer.path(m.svgPath([s,[b,w],c,[E,x],!0]));P.attr({fill:"#000",opacity:0,stroke:"#000","stroke-width":2}),S.push(P);var _=$.map(S,function(e){return e.node});$(_).css("cursor","move"),$(_).bind("vmousedown",function(t){t.preventDefault();var n=t.pageX-$(e.raphael.canvas.parentNode).offset().left,r=t.pageY-$(e.raphael.canvas.parentNode).offset().top;$(document).bind("vmousemove.ruler",function(t){var o=t.pageX-$(e.raphael.canvas.parentNode).offset().left,i=t.pageY-$(e.raphael.canvas.parentNode).offset().top;o=Math.max(10,Math.min(e.xpixels-10,o)),i=Math.max(10,Math.min(e.ypixels-10,i));var a=o-n,s=i-r;S.translate(a,s),M.setCoord([M.coord[0]+a/e.scale[0],M.coord[1]-s/e.scale[1]]),N.setCoord([N.coord[0]+a/e.scale[0],N.coord[1]-s/e.scale[1]]),n=o,r=i}),$(document).one("vmouseup",function(e){$(document).unbind("vmousemove.ruler")})});var M=e.addMovablePoint({coord:s,normalStyle:{fill:T.INTERACTIVE,"fill-opacity":0,stroke:T.INTERACTIVE},highlightStyle:{fill:T.INTERACTING,"fill-opacity":.1,stroke:T.INTERACTING},pointSize:6,onMove:function(t,n){var r=N.coord[1]-n,o=N.coord[0]-t,i=180*Math.atan2(r,o)/Math.PI,a=g.scale(g.add([t,n],N.coord),.5),s=e.scalePoint(a),l=g.scale(g.add(M.coord,N.coord),.5),u=e.scalePoint(l),c=g.subtract(s,u);S.rotate(-i,u[0],u[1]),S.translate(c[0],c[1])}}),N=e.addMovablePoint({coord:[E,x],normalStyle:{fill:T.INTERACTIVE,"fill-opacity":0,stroke:T.INTERACTIVE},highlightStyle:{fill:T.INTERACTING,"fill-opacity":.1,stroke:T.INTERACTING},pointSize:6,onMove:function(t,n){var r=n-M.coord[1],o=t-M.coord[0],i=180*Math.atan2(r,o)/Math.PI,a=g.scale(g.add([t,n],M.coord),.5),s=e.scalePoint(a),l=g.scale(g.add(M.coord,N.coord),.5),u=e.scalePoint(l),c=g.subtract(s,u);S.rotate(-i,u[0],u[1]),S.translate(c[0],c[1])}});return M.constraints.fixedDistance.dist=i/e.scale[0],M.constraints.fixedDistance.point=N,N.constraints.fixedDistance.dist=i/e.scale[0],N.constraints.fixedDistance.point=M,this.remove=function(){S.remove(),M.remove(),N.remove()},this}function h(e,t){if(this.graphie=e,f.extend(this,t),f.defaults(this,{normalStyle:{stroke:T.INTERACTIVE,"stroke-width":2,fill:T.INTERACTIVE},highlightStyle:{stroke:T.INTERACTING,"stroke-width":2,fill:T.INTERACTING},labelStyle:{stroke:T.DYNAMIC,"stroke-width":1,color:T.DYNAMIC},angleStyle:{stroke:T.DYNAMIC,"stroke-width":1,color:T.DYNAMIC},allowReflex:!0}),!this.points||3!==this.points.length)throw new Error("MovableAngle requires 3 points");this.points=f.map(t.points,function(t){return f.isArray(t)?e.addMovablePoint({coord:t,visible:!1,constraints:{fixed:!0},normalStyle:this.normalStyle}):t},this),this.coords=f.pluck(this.points,"coord"),null==this.reflex&&(this.allowReflex?this.reflex=this._getClockwiseAngle(this.coords)>180:this.reflex=!1),this.rays=f.map([0,2],function(t){return e.addMovableLineSegment({pointA:this.points[1],pointZ:this.points[t],fixed:!0,extendRay:!0})},this),this.temp=[],this.labeledAngle=e.label([0,0],"","center",this.labelStyle),this.fixed||(this.addMoveHandlers(),this.addHighlightHandlers()),this.update()}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},f=n(55);n(282);var m=n(231),g=n(201).vector,v=n(201).point,y=n(201).line,b=n(283),x=n(210),E=n(284),w=n(90),T=n(211),C=n(191),S=C.getCanUse3dTransform,k=!1,P={bogusShape:{animate:function(){},attr:function(){},remove:function(){}}};f.extend(m.Graphie.prototype,{addMouseLayer:function(e){var t=this;e=f.extend({allowScratchpad:!1,setDrawingAreaAvailable:function(){}},e);var n=2;t.mouselayer=Raphael(t.raphael.canvas.parentNode,t.xpixels,t.ypixels),$(t.mouselayer.canvas).css("z-index",n),(e.onClick||e.onMouseDown||e.onMouseMove||e.onMouseOver||e.onMouseOut)&&!function(){var n=t.mouselayer.rect(0,0,t.xpixels,t.ypixels).attr({fill:"#000",opacity:0}),r=!1;$(t.mouselayer.canvas).on("vmousedown",function(o){o.target===n[0]&&(e.onMouseDown&&e.onMouseDown(t.getMouseCoord(o)),r=!0,e.onMouseMove&&$(document).bind("vmousemove.mouseLayer",function(n){r&&(n.preventDefault(),e.onMouseMove(t.getMouseCoord(n)))}),$(document).bind("vmouseup.mouseLayer",function(n){$(document).unbind(".mouseLayer"),r&&e.onClick&&e.onClick(t.getMouseCoord(n)),r=!1}))}),e.onMouseOver&&$(t.mouselayer.canvas).on("vmouseover",function(n){e.onMouseOver(t.getMouseCoord(n))}),e.onMouseOut&&$(t.mouselayer.canvas).on("vmouseout",function(n){e.onMouseOut(t.getMouseCoord(n))})}(),e.allowScratchpad||e.setDrawingAreaAvailable(!1),t._mouselayerWrapper=document.createElement("div"),$(t._mouselayerWrapper).css({position:"absolute",left:0,top:0,zIndex:n}),t._visiblelayerWrapper=document.createElement("div"),$(t._visiblelayerWrapper).css({position:"absolute",left:0,top:0});var r=t.raphael.canvas.parentNode;r.appendChild(t._visiblelayerWrapper),r.appendChild(t._mouselayerWrapper),t.addToMouseLayerWrapper=function(e){this._mouselayerWrapper.appendChild(e)},t.addToVisibleLayerWrapper=function(e){this._visiblelayerWrapper.appendChild(e)}},getMousePx:function(e){var t=this,n=e.pageX-$(t.raphael.canvas.parentNode).offset().left,r=e.pageY-$(t.raphael.canvas.parentNode).offset().top;return[n,r]},getMouseCoord:function(e){return this.unscalePoint(this.getMousePx(e))},labelAngle:function(e){var t=this;f.defaults(e,{point1:[0,0],vertex:[0,0],point3:[0,0],label:null,numArcs:1,showRightAngleMarker:!0,pushOut:0,clockwise:!1,style:{}});var n=void 0===e.text?"":e.text,r=e.vertex,o=t.scalePoint(r),a=void 0,l=void 0;e.clockwise?(a=e.point1,l=e.point3):(a=e.point3,l=e.point1);var c=m.findAngle(a,r),p=m.findAngle(l,r),h=(p+360-c)%360,d=(c+h/2)%360,g=5*e.pushOut,v=g+s(h),y=[];if(Math.abs(h-90)<1e-9&&e.showRightAngleMarker?!function(){var n=i(o,u(v,c)),r=i(o,u(v,p));v*=Math.SQRT2;var a=i(o,u(v,d));f.each([n,r],function(n){y.push(t.scaledPath([n,a],e.style))})}():f.times(e.numArcs,function(n){y.push(t.arc(r,t.unscaleVector(v),c,p,e.style)),v+=3}),n){var b=n.match(/\$deg(\d)?/);if(b){var x=b[1]||1;n=n.replace(b[0],w.toFixedApprox(h,x)+"^{\\circ}")}var E=u(v+15,d),T=i(o,E),C=t.unscalePoint(T);e.label?(e.label.setPosition(C),e.label.processMath(n,!0)):t.label(C,n,"center",e.style)}return y},labelSide:function(e){var t=this;f.defaults(e,{point1:[0,0],point2:[0,0],label:null,text:"",numTicks:0,numArrows:0,clockwise:!1,style:{}});var n=void 0,r=void 0;e.clockwise?(n=e.point1,r=e.point2):(n=e.point2,r=e.point1);var o=[(n[0]+r[0])/2,(n[1]+r[1])/2],s=t.scalePoint(o),u=Math.atan2(r[1]-n[1],r[0]-n[0]),c=u+Math.PI/2,p=[],h=0;e.numTicks&&!function(){var n=e.numTicks,r=5,o=5,d=f.extend({},e.style,{strokeWidth:2});f.times(n,function(e){var h=r*(e-(n-1)/2),f=l(h,u),m=l(o,c),g=[i(s,f,m),i(s,f,a(m))];p.push(t.scaledPath(g,d))}),h+=r*(n-1)+15}(),e.numArrows&&!function(){var o=e.numArrows,c=[n,r].sort(function(e,t){return e[1]===t[1]?e[0]-t[0]:e[1]-t[1]})[0],d=t.scalePoint(c),m=f.extend({},e.style,{arrows:"->",strokeWidth:2}),g=5;f.times(o,function(e){var r=h+g*e,o=l(r,u);c!==n&&(o=a(o));var f=i(s,o);p.push(t.scaledPath([d,f],m))})}();var d=e.text;if(d){var g=d.match(/\$len(\d)?/);if(g){var v=m.getDistance(n,r),y=g[1]||1;d=d.replace(g[0],w.toFixedApprox(v,y))}var b=20,x=l(b,c),E=i(s,x),T=t.unscalePoint(E);e.label?(e.label.setPosition(T),e.label.processMath(d,!0)):t.label(T,d,"center",e.style)}return p},labelVertex:function(e){var t=this;if(f.defaults(e,{point1:null,vertex:[0,0],point3:null,label:null,text:"",clockwise:!1,style:{}}),e.text){var n=e.vertex,r=t.scalePoint(n),o=void 0,a=void 0;e.clockwise?(o=e.point1,a=e.point3):(o=e.point3,a=e.point1);var l=135,c=void 0;if(o&&a){var p=m.findAngle(o,n),h=m.findAngle(a,n);l=(h+360-p)%360,c=(p+l/2+180)%360}else if(o){var d=m.findAngle(n,o);c=d+90}else if(a){var g=m.findAngle(a,n);c=g+90}else c=135;var v=10+s(360-l),y=u(v,c),b=i(r,y),x=t.unscalePoint(b);e.label?(e.label.setPosition(x),e.label.processMath(e.text,!0)):t.label(x,e.text,"center",e.style)}},addMovablePoint:function(e){var t=$.extend(!0,{graph:this,coord:[0,0],snapX:0,snapY:0,pointSize:4,highlight:!1,dragging:!1,visible:!0,bounded:!0,constraints:{fixed:!1,constrainX:!1,constrainY:!1,fixedAngle:{},fixedDistance:{}},lineStarts:[],lineEnds:[],polygonVertices:[],normalStyle:{},highlightStyle:{fill:T.INTERACTING,stroke:T.INTERACTING},labelStyle:{color:T.INTERACTIVE},vertexLabel:"",mouseTarget:null},e),n=t.constraints.fixed?T.DYNAMIC:T.INTERACTIVE;t.normalStyle=f.extend({},{fill:n,stroke:n},e.normalStyle),void 0!==e.coordX&&(t.coord[0]=e.coordX),void 0!==e.coordY&&(t.coord[1]=e.coordY);var r=t.graph,o=function(e){t.visible&&t.bounded&&!t.constraints.fixed&&(e=r.constrainToBounds(e,10));var n=e[0],o=e[1];if(0!==t.snapX&&(n=Math.round(n/t.snapX)*t.snapX),0!==t.snapY&&(o=Math.round(o/t.snapY)*t.snapY),t.constraints.fixedDistance.snapPoints){var i=r.scalePoint(e),a=i[0],s=i[1],l=2*Math.PI/t.constraints.fixedDistance.snapPoints,u=t.constraints.fixedDistance.dist,c=t.constraints.fixedDistance.point,p=(c[0]-r.range[0][0])*r.scale[0],h=(-c[1]+r.range[1][1])*r.scale[1],d=a-p,f=-s+h,m=Math.atan(f/d),g=d<0;g&&(m+=Math.PI),m=Math.round(m/l)*l,d=u*Math.cos(m),f=u*Math.sin(m),a=d+p,s=-f+h,n=w.roundTo(5,a/r.scale[0]+r.range[0][0]),o=w.roundTo(5,r.range[1][1]-s/r.scale[1])}var v=t.applyConstraint([n,o]);return v};t.applyConstraint=function(e,n,r){var o=e.slice(),i={};if(r?$.extend(i,{fixed:!1,constrainX:!1,constrainY:!1,fixedAngle:{},fixedDistance:{}},n):$.extend(i,this.constraints,n),i.constrainX)o=[this.coord[0],e[1]];else if(i.constrainY)o=[e[0],this.coord[1]];else if("number"==typeof i.fixedAngle.angle&&"number"==typeof i.fixedDistance.dist){var a=i.fixedAngle.vertex.coord||i.fixedAngle.vertex,s=i.fixedAngle.ref.coord||i.fixedAngle.ref,l=i.fixedDistance.point.coord||i.fixedDistance.point,u=(i.fixedAngle.angle+m.findAngle(s,a))*Math.PI/180,c=i.fixedDistance.dist;o[0]=c*Math.cos(u)+l[0],o[1]=c*Math.sin(u)+l[1]}else if("number"==typeof i.fixedAngle.angle){var p=i.fixedAngle.vertex.coord||i.fixedAngle.vertex,h=i.fixedAngle.ref.coord||i.fixedAngle.ref,d=(i.fixedAngle.angle+m.findAngle(h,p))*Math.PI/180,f=m.findAngle(e,p)*Math.PI/180,g=m.getDistance(e,p),v=g*Math.cos(d-f);v=v<1?1:v,o[0]=v*Math.cos(d)+p[0],o[1]=v*Math.sin(d)+p[1]}else if("number"==typeof i.fixedDistance.dist){var y=i.fixedDistance.point.coord||i.fixedDistance.point,b=m.findAngle(e,y),x=i.fixedDistance.dist;b=b*Math.PI/180,o[0]=x*Math.cos(b)+y[0],o[1]=x*Math.sin(b)+y[1]}else i.fixed&&(o=t.coord);return o},t.coord=o(t.coord);var i=2;if(t.visible&&r.style(t.normalStyle,function(){var e=[t.pointSize/r.scale[0],t.pointSize/r.scale[1]],n={maxScale:i,padding:2};t.visibleShape=new b(r,t.coord,e,n),t.visibleShape.attr(f.omit(t.normalStyle,"scale")),t.visibleShape.toFront()}),t.normalStyle.scale=1,t.highlightStyle.scale=i,t.vertexLabel&&(t.labeledVertex=this.label([0,0],"","center",t.labelStyle)),t.drawLabel=function(){t.vertexLabel&&t.graph.labelVertex({vertex:t.coord,label:t.labeledVertex,text:t.vertexLabel,style:t.labelStyle})},t.drawLabel(),t.grab=function(e){e=e||[0,0],$(document).bind("vmousemove.point vmouseup.point",function(n){n.preventDefault(),t.dragging=!0,k=!0;var i=g.add(r.getMouseCoord(n),e);i=o(i);var a=i[0],s=i[1],l=void 0,u=void 0;if("vmousemove"===n.type){var c=!0;if(f.isFunction(t.onMove)){var p=t.onMove(a,s);p===!1&&(c=!1),f.isArray(p)&&(a=p[0],s=p[1])}if(l=(a-r.range[0][0])*r.scale[0],u=(-s+r.range[1][1])*r.scale[1],c){var h=r.unscalePoint([l,u]);t.visibleShape.moveTo(h),t.mouseTarget.moveTo(h),t.coord=[a,s],t.updateLineEnds(),$(t).trigger("move")}t.drawLabel()}else if("vmouseup"===n.type){if($(document).unbind(".point"),t.dragging=!1,k=!1,f.isFunction(t.onMoveEnd)){var d=t.onMoveEnd(a,s);if(f.isArray(d)){a=d[0],s=d[1],l=(a-r.range[0][0])*r.scale[0],u=(-s+r.range[1][1])*r.scale[1];var m=r.unscalePoint([l,u]);t.visibleShape.moveTo(m),t.mouseTarget.moveTo(m),t.coord=[a,s]}}t.highlight||(t.visibleShape.animate(t.normalStyle,50),t.onUnhighlight&&t.onUnhighlight())}})},t.visible&&!t.constraints.fixed){if(!t.mouseTarget){var a=r.unscaleVector(24),s={mouselayer:!0,padding:0};t.mouseTarget=new b(r,t.coord,a,s),t.mouseTarget.attr({fill:"#000",opacity:0})}var l=$(t.mouseTarget.getMouseTarget());l.css("cursor","move"),l.bind("vmousedown vmouseover vmouseout",function(e){if("vmouseover"===e.type)t.highlight=!0,k||(t.visibleShape.animate(t.highlightStyle,50),t.onHighlight&&t.onHighlight());else if("vmouseout"===e.type)t.highlight=!1,t.dragging||k||(t.visibleShape.animate(t.normalStyle,50),t.onUnhighlight&&t.onUnhighlight());else if("vmousedown"===e.type&&(1===e.which||0===e.which)){e.preventDefault();var n=t.coord,o=r.getMouseCoord(e),i=!("ontouchstart"in window),a=i?[0,0]:g.subtract(n,o);t.grab(a)}})}return t.moveTo=function(e,n,r){var o=m.getDistance(this.graph.scalePoint([e,n]),this.graph.scalePoint(this.coord)),i=5*o,a=r&&function(e){t.coord=e,t.updateLineEnds()};this.visibleShape.animateTo([e,n],i,a),this.mouseTarget.animateTo([e,n],i,a),this.coord=[e,n],f.isFunction(this.onMove)&&this.onMove(e,n)},t.updateLineEnds=function(){$(this.lineStarts).each(function(){this.coordA=t.coord,this.transform()}),
$(this.lineEnds).each(function(){this.coordZ=t.coord,this.transform()}),$(this.polygonVertices).each(function(){this.transform()})},t.setCoord=function(e){this.visible&&(this.visibleShape.moveTo(e),null!=this.mouseTarget&&this.mouseTarget.moveTo(e)),this.coord=e.slice()},t.setCoordConstrained=function(e){this.setCoord(o(e))},t.toBack=function(){this.visible&&(null!=this.mouseTarget&&this.mouseTarget.toBack(),this.visibleShape.toBack())},t.toFront=function(){this.visible&&(null!=this.mouseTarget&&this.mouseTarget.toFront(),this.visibleShape.toFront())},t.remove=function(){this.visibleShape&&this.visibleShape.remove(),this.mouseTarget&&this.mouseTarget.remove(),this.labeledVertex&&this.labeledVertex.remove()},t},addMovableLineSegment:function(e){var t=$.extend({graph:this,coordA:[0,0],coordZ:[1,1],snapX:0,snapY:0,fixed:!1,ticks:0,normalStyle:{},highlightStyle:{stroke:T.INTERACTING,"stroke-width":6},labelStyle:{stroke:T.INTERACTIVE,color:T.INTERACTIVE},highlight:!1,dragging:!1,tick:[],extendLine:!1,extendRay:!1,constraints:{fixed:!1,constrainX:!1,constrainY:!1},sideLabel:"",vertexLabels:[],numArrows:0,numTicks:0,movePointsWithLine:!1},e),n=t.fixed?T.DYNAMIC:T.INTERACTIVE;t.normalStyle=f.extend({},{"stroke-width":2,stroke:n},e.normalStyle),t.arrowStyle=f.extend({},t.normalStyle,{color:t.normalStyle.stroke}),void 0!==e.pointA?(t.coordA=e.pointA.coord,t.pointA.lineStarts.push(t)):void 0!==e.coordA&&(t.coordA=e.coordA.slice()),void 0!==e.pointZ?(t.coordZ=e.pointZ.coord,t.pointZ.lineEnds.push(t)):void 0!==e.coordA&&(t.coordA=t.coordA.slice());var r=t.graph;r.style(t.normalStyle);for(var o=0;o<t.ticks;++o)t.tick[o]=P.bogusShape;for(var i=m.unscaledSvgPath([[0,0],[1,0]]),a=0;a<t.ticks;++a){var s=.5-(t.ticks-1+2*a)/r.scale[0];i+=m.unscaledSvgPath([[s,-7],[s,7]])}if(e={thickness:Math.max(t.normalStyle["stroke-width"],t.highlightStyle["stroke-width"])},t.visibleLine=new x(r,[0,0],[1,0],e),t.visibleLine.attr(t.normalStyle),!t.fixed){var l={thickness:30,mouselayer:!0};t.mouseTarget=new x(r,[0,0],[1,0],l),t.mouseTarget.attr({fill:"#000",opacity:0})}if(t.transform=function(e){e&&("object"===d(this.pointA)&&(this.coordA=this.pointA.coord),"object"===d(this.pointZ)&&(this.coordZ=this.pointZ.coord));var n=function(e){var t=e.graph.scalePoint(e.coordA),n=e.graph.scalePoint(e.coordZ);return g.polarDegFromCart(g.subtract(n,t))[1]},o=function(e,n,r){e=t.graph;var o=e.range[0][1]-e.range[0][0],i=e.range[1][1]-e.range[1][0],a=o+i,s=e.unscaleVector(g.cartFromPolarDeg([1,r])),l=g.scale(g.normalize(s),a),u=g.add(n,l),c=g.polarDegFromCart(s)[1],p=e.constrainToBoundsOnAngle(u,4,c*Math.PI/180);return p},i=n(this),a=this.coordA,s=this.coordZ;this.extendLine?(a=o(r,a,360-i),s=o(r,s,(540-i)%360)):this.extendRay&&(s=o(r,a,360-i));var l=[this.visibleLine];this.fixed||l.push(this.mouseTarget),f.each(l,function(e){e.moveTo(a,s)});var u=function(e,t){var n=[.75,0],r=[[-3,4],[-2.75,2.5],[0,.25],n,[0,-.25],[-2.75,-2.5],[-3,-4]],i=1.4;r=f.map(r,function(e){var t=g.subtract(e,n),r=g.scale(t,i);return g.add(n,r)});var a=function(e){for(var t="M"+e[0][0]+" "+e[0][1],n=1;n<e.length;n+=3)t+="C"+e[n][0]+" "+e[n][1]+" "+e[n+1][0]+" "+e[n+1][1]+" "+e[n+2][0]+" "+e[n+2][1];return t},s=f.map(r,e.unscalePoint),l={center:e.unscalePoint(n),createPath:a},u=new E(e,s,l);return u.attr(f.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},t)),u.toCoordAtAngle=function(t,r){var a=e.scalePoint(o(e,t,r)),s=S();u.transform("translateX("+(a[0]+i*n[0])+"px) translateY("+(a[1]+i*n[1])+"px) "+(s?"translateZ(0) ":"")+"rotate("+(360-w.bound(r))+"deg)")},u};null==this._arrows&&(this._arrows=[],this.extendLine?(this._arrows.push(u(r,this.normalStyle)),this._arrows.push(u(r,this.normalStyle))):this.extendRay&&this._arrows.push(u(r,this.normalStyle)));var c=[this.coordA,this.coordZ],p=[360-i,(540-i)%360];f.each(this._arrows,function(e,t){e.toCoordAtAngle(c[t],p[t])}),f.invoke(this.temp,"remove"),this.temp=[];var h=this.coordA[0]<this.coordZ[0]||this.coordA[0]===this.coordZ[0]&&this.coordA[1]>this.coordZ[1];this.sideLabel&&this.temp.push(this.graph.labelSide({point1:this.coordA,point2:this.coordZ,label:this.labeledSide,text:this.sideLabel,numArrows:this.numArrows,numTicks:this.numTicks,clockwise:h,style:this.labelStyle})),this.vertexLabels.length&&(this.graph.labelVertex({vertex:this.coordA,point3:this.coordZ,label:this.labeledVertices[0],text:this.vertexLabels[0],clockwise:h,style:this.labelStyle}),this.graph.labelVertex({point1:this.coordA,vertex:this.coordZ,label:this.labeledVertices[1],text:this.vertexLabels[1],clockwise:h,style:this.labelStyle})),this.temp=f.flatten(this.temp)},t.toBack=function(){t.fixed||t.mouseTarget.toBack(),t.visibleLine.toBack()},t.toFront=function(){t.fixed||t.mouseTarget.toFront(),t.visibleLine.toFront()},t.remove=function(){t.fixed||t.mouseTarget.remove(),t.visibleLine.remove(),t.labeledSide&&t.labeledSide.remove(),t.labeledVertices&&f.invoke(t.labeledVertices,"remove"),t._arrows&&f.invoke(t._arrows,"remove"),t.temp.length&&f.invoke(t.temp,"remove")},t.hide=function(){t.visibleLine.hide(),t.temp.length&&f.invoke(t.temp,"hide"),t._arrows&&f.invoke(t._arrows,"hide")},t.show=function(){t.visibleLine.show(),t.temp.length&&f.invoke(t.temp,"show"),t._arrows&&f.invoke(t._arrows,"show")},t.sideLabel&&(t.labeledSide=this.label([0,0],"","center",t.labelStyle)),t.vertexLabels.length&&(t.labeledVertices=f.map(t.vertexLabels,function(e){return this.label([0,0],"","center",t.labelStyle)},this)),!t.fixed&&!t.constraints.fixed){var u=$(t.mouseTarget.getMouseTarget());u.css("cursor","move"),u.bind("vmousedown vmouseover vmouseout",function(e){"vmouseover"===e.type?k||(t.highlight=!0,t.visibleLine.animate(t.highlightStyle,50),t.arrowStyle=f.extend({},t.arrowStyle,{color:t.highlightStyle.stroke,stroke:t.highlightStyle.stroke}),t.transform()):"vmouseout"===e.type?(t.highlight=!1,t.dragging||(t.visibleLine.animate(t.normalStyle,50),t.arrowStyle=f.extend({},t.arrowStyle,{color:t.normalStyle.stroke,stroke:t.normalStyle.stroke}),t.transform())):"vmousedown"!==e.type||1!==e.which&&0!==e.which||!function(){e.preventDefault();var n=(e.pageX-$(r.raphael.canvas.parentNode).offset().left)/r.scale[0]+r.range[0][0],o=r.range[1][1]-(e.pageY-$(r.raphael.canvas.parentNode).offset().top)/r.scale[1];t.snapX>0&&(n=Math.round(n/t.snapX)*t.snapX),t.snapY>0&&(o=Math.round(o/t.snapY)*t.snapY);var i=[t.coordA[0]-n,t.coordA[1]-o],a=[t.coordZ[0]-n,t.coordZ[1]-o],s=-Math.min(r.scaleVector(i)[0],r.scaleVector(a)[0]),l=Math.max(r.scaleVector(i)[0],r.scaleVector(a)[0]),u=Math.max(r.scaleVector(i)[1],r.scaleVector(a)[1]),c=-Math.min(r.scaleVector(i)[1],r.scaleVector(a)[1]);$(document).bind("vmousemove.lineSegment vmouseup.lineSegment",function(e){e.preventDefault(),t.dragging=!0,k=!0;var n=e.pageX-$(r.raphael.canvas.parentNode).offset().left,o=e.pageY-$(r.raphael.canvas.parentNode).offset().top;n=Math.max(s+10,Math.min(r.xpixels-10-l,n)),o=Math.max(u+10,Math.min(r.ypixels-10-c,o));var p=n/r.scale[0]+r.range[0][0],h=r.range[1][1]-o/r.scale[1];if(t.snapX>0&&(p=Math.round(p/t.snapX)*t.snapX),t.snapY>0&&(h=Math.round(h/t.snapY)*t.snapY),"vmousemove"===e.type){t.constraints.constrainX&&(p=t.coordA[0]-i[0]),t.constraints.constrainY&&(h=t.coordA[1]-i[1]);var m=p+i[0]-t.coordA[0],g=h+i[1]-t.coordA[1];t.coordA=[p+i[0],h+i[1]],t.coordZ=[p+a[0],h+a[1]],t.transform(),t.movePointsWithLine&&("object"===d(t.pointA)&&t.pointA.setCoord([t.pointA.coord[0]+m,t.pointA.coord[1]+g]),"object"===d(t.pointZ)&&t.pointZ.setCoord([t.pointZ.coord[0]+m,t.pointZ.coord[1]+g])),f.isFunction(t.onMove)&&t.onMove(m,g)}else"vmouseup"===e.type&&($(document).unbind(".lineSegment"),t.dragging=!1,k=!1,t.highlight||(t.visibleLine.animate(t.normalStyle,50),t.arrowStyle=f.extend({},t.arrowStyle,{color:t.normalStyle.stroke,stroke:t.normalStyle.stroke}),t.transform()),f.isFunction(t.onMoveEnd)&&t.onMoveEnd());$(t).trigger("move")})}()})}return void 0!==t.pointA&&t.pointA.toFront(),void 0!==t.pointZ&&t.pointZ.toFront(),t.transform(),t},addMovablePolygon:function(e){var t=this,n=$.extend({snapX:0,snapY:0,fixed:!1,constrainToGraph:!0,normalStyle:{},highlightStyle:{stroke:T.INTERACTING,"stroke-width":2,fill:T.INTERACTING,"fill-opacity":.05},pointHighlightStyle:{fill:T.INTERACTING,stroke:T.INTERACTING},labelStyle:{stroke:T.DYNAMIC,"stroke-width":1,color:T.DYNAMIC},angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],updateOnPointMove:!0,closed:!0},f.omit(e,"points")),r=n.fixed?T.DYNAMIC:T.INTERACTIVE;n.normalStyle=f.extend({"stroke-width":2,"fill-opacity":0,fill:r,stroke:r},e.normalStyle),n.points=e.points;var i=function(e){return!f.isArray(e)};if(n.update=function(){var e=n.points.length;n.coords=f.map(n.points,function(e,t){return i(e)?e.coord:e}),n.left=f.min(f.pluck(n.coords,0)),n.right=f.max(f.pluck(n.coords,0)),n.top=f.max(f.pluck(n.coords,1)),n.bottom=f.min(f.pluck(n.coords,1));var r=f.map(n.coords,function(e){return t.scalePoint(e)});n.closed?r.push(!0):r=r.concat(f.clone(r).reverse()),n.path=m.unscaledSvgPath(r),f.invoke(n.temp,"remove"),n.temp=[];var a=o(n.coords);(n.angleLabels.length||n.showRightAngleMarkers.length)&&f.each(n.labeledAngles,function(r,o){n.temp.push(t.labelAngle({point1:n.coords[(o-1+e)%e],vertex:n.coords[o],point3:n.coords[(o+1)%e],label:r,text:n.angleLabels[o],showRightAngleMarker:n.showRightAngleMarkers[o],numArcs:n.numArcs[o],clockwise:a,style:n.labelStyle}))}),n.sideLabels.length&&f.each(n.labeledSides,function(r,o){n.temp.push(t.labelSide({point1:n.coords[o],point2:n.coords[(o+1)%e],label:r,text:n.sideLabels[o],numArrows:n.numArrows[o],numTicks:n.numTicks[o],clockwise:a,style:n.labelStyle}))}),n.vertexLabels.length&&f.each(n.labeledVertices,function(r,o){t.labelVertex({point1:n.coords[(o-1+e)%e],vertex:n.coords[o],point3:n.coords[(o+1)%e],label:r,text:n.vertexLabels[o],clockwise:a,style:n.labelStyle})}),n.temp=f.flatten(n.temp)},n.transform=function(){n.update(),n.visibleShape.attr({path:n.path}),n.fixed||n.mouseTarget.attr({path:n.path})},n.remove=function(){n.visibleShape.remove(),n.fixed||n.mouseTarget.remove(),n.labeledAngles&&f.invoke(n.labeledAngles,"remove"),n.labeledSides&&f.invoke(n.labeledSides,"remove"),n.labeledVertices&&f.invoke(n.labeledVertices,"remove"),n.temp.length&&f.invoke(n.temp,"remove")},n.toBack=function(){n.fixed||n.mouseTarget.toBack(),n.visibleShape.toBack()},n.toFront=function(){n.fixed||n.mouseTarget.toFront(),n.visibleShape.toFront()},n.updateOnPointMove&&f.each(f.filter(n.points,i),function(e){e.polygonVertices.push(n)}),n.coords=new Array(n.points.length),n.angleLabels.length){var a=Math.max(n.angleLabels.length,n.showRightAngleMarkers.length);n.labeledAngles=f.times(a,function(){return this.label([0,0],"","center",n.labelStyle)},this)}return n.sideLabels.length&&(n.labeledSides=f.map(n.sideLabels,function(e){return this.label([0,0],"","center",n.labelStyle)},this)),n.vertexLabels.length&&(n.labeledVertices=f.map(n.vertexLabels,function(e){return this.label([0,0],"","center",n.labelStyle)},this)),n.update(),n.visibleShape=t.raphael.path(n.path),n.visibleShape.attr(n.normalStyle),n.fixed||(n.mouseTarget=t.mouselayer.path(n.path),n.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"}),$(n.mouseTarget[0]).bind("vmousedown vmouseover vmouseout",function(e){if("vmouseover"===e.type)k&&!n.dragging||(n.highlight=!0,n.visibleShape.animate(n.highlightStyle,50),f.each(f.filter(n.points,i),function(e){e.visibleShape.animate(n.pointHighlightStyle,50)}));else if("vmouseout"===e.type){if(n.highlight=!1,!n.dragging){n.visibleShape.animate(n.normalStyle,50);var r=f.filter(n.points,i);f.any(f.pluck(r,"dragging"))||f.each(r,function(e){e.visibleShape.animate(e.normalStyle,50)})}}else"vmousedown"!==e.type||1!==e.which&&0!==e.which||!function(){e.preventDefault(),f.each(f.filter(n.points,i),function(e){e.dragging=!0});var r=(e.pageX-$(t.raphael.canvas.parentNode).offset().left)/t.scale[0]+t.range[0][0],o=t.range[1][1]-(e.pageY-$(t.raphael.canvas.parentNode).offset().top)/t.scale[1];n.snapX>0&&(r=Math.round(r/n.snapX)*n.snapX),n.snapY>0&&(o=Math.round(o/n.snapY)*n.snapY);var a=r,s=o,l=n.coords.slice(),u=(r-n.left)*t.scale[0],c=(n.right-r)*t.scale[0],p=(n.top-o)*t.scale[1],h=(o-n.bottom)*t.scale[1];$(document).bind("vmousemove.polygon vmouseup.polygon",function(e){e.preventDefault(),n.dragging=!0,k=!0;var d=e.pageX-$(t.raphael.canvas.parentNode).offset().left,m=e.pageY-$(t.raphael.canvas.parentNode).offset().top;n.constrainToGraph&&(d=Math.max(u+10,Math.min(t.xpixels-10-c,d)),m=Math.max(p+10,Math.min(t.ypixels-10-h,m)));var g=d/t.scale[0]+t.range[0][0],v=t.range[1][1]-m/t.scale[1];if(n.snapX>0&&(g=Math.round(g/n.snapX)*n.snapX),n.snapY>0&&(v=Math.round(v/n.snapY)*n.snapY),"vmousemove"===e.type)!function(){var e=g-r,t=v-o,u=!0;if(f.isFunction(n.onMove)){var c=n.onMove(e,t);c===!1?u=!1:f.isArray(c)&&(e=c[0],t=c[1],g=r+e,v=o+t)}var p=function(n){return[l[n][0]+e,l[n][1]+t]};u&&(f.each(n.points,function(e,t){i(e)?e.setCoord(p(t)):n.points[t]=p(t)}),n.transform(),$(n).trigger("move"),a=g,s=v)}();else if("vmouseup"===e.type){$(document).unbind(".polygon");var y=f.filter(n.points,i);f.each(y,function(e){e.dragging=!1}),n.dragging=!1,k=!1,n.highlight||(n.visibleShape.animate(n.normalStyle,50),f.each(y,function(e){e.visibleShape.animate(e.normalStyle,50)})),f.isFunction(n.onMoveEnd)&&n.onMoveEnd(a-r,s-o)}})}()})),f.invoke(f.filter(n.points,i),"toFront"),n},constrainToBounds:function(e,t){var n=this.unscalePoint([t,this.ypixels-t]),r=this.unscalePoint([this.xpixels-t,t]),o=Math.max(n[0],Math.min(r[0],e[0])),i=Math.max(n[1],Math.min(r[1],e[1]));return[o,i]},constrainToBoundsOnAngle:function(e,t,n){var r=this.unscalePoint([t,this.ypixels-t]),o=this.unscalePoint([this.xpixels-t,t]),i=e.slice();return i[0]<r[0]?i=[r[0],i[1]+(r[0]-i[0])*Math.tan(n)]:i[0]>o[0]&&(i=[o[0],i[1]-(i[0]-o[0])*Math.tan(n)]),i[1]<r[1]?i=[i[0]+(r[1]-i[1])/Math.tan(n),r[1]]:i[1]>o[1]&&(i=[i[0]-(i[1]-o[1])/Math.tan(n),o[1]]),i},addMovableAngle:function(e){return new h(this,e)},addCircleGraph:function(e){var t=this,n=$.extend({center:[0,0],radius:2,snapX:.5,snapY:.5,snapRadius:.5,minRadius:1,centerConstraints:{},centerNormalStyle:{},centerHighlightStyle:{stroke:T.INTERACTING,fill:T.INTERACTING},circleNormalStyle:{stroke:T.INTERACTIVE,"fill-opacity":0},circleHighlightStyle:{stroke:T.INTERACTING,fill:T.INTERACTING,"fill-opacity":.05}},e),r=n.centerConstraints.fixed?T.DYNAMIC:T.INTERACTIVE,o=e?e.centerNormalStyle:null;return n.centerNormalStyle=f.extend({},{fill:r,stroke:r},o),n.centerPoint=t.addMovablePoint({graph:t,coord:n.center,normalStyle:n.centerNormalStyle,snapX:n.snapX,snapY:n.snapY,constraints:n.centerConstraints}),n.circ=t.circle(n.center,n.radius,n.circleNormalStyle),n.perim=t.mouselayer.circle(t.scalePoint(n.center)[0],t.scalePoint(n.center)[1],t.scaleVector(n.radius)[0]).attr({"stroke-width":20,opacity:.002}),n.centerConstraints.fixed||$(n.centerPoint.mouseTarget.getMouseTarget()).on("vmouseover vmouseout",function(e){n.centerPoint.highlight||n.centerPoint.dragging?n.circ.animate(n.circleHighlightStyle,50):n.circ.animate(n.circleNormalStyle,50)}),n.toFront=function(){n.circ.toFront(),n.perim.toFront(),n.centerPoint.visibleShape.toFront(),n.centerConstraints.fixed||n.centerPoint.mouseTarget.toFront()},n.centerPoint.onMove=function(e,r){n.toFront(),n.circ.attr({cx:t.scalePoint(e)[0],cy:t.scalePoint(r)[1]}),n.perim.attr({cx:t.scalePoint(e)[0],cy:t.scalePoint(r)[1]}),n.onMove&&n.onMove(e,r)},$(n.centerPoint).on("move",function(){n.center=this.coord,$(n).trigger("move")}),n.setCenter=function(e,t){n.centerPoint.setCoord([e,t]),n.centerPoint.onMove(e,t),n.center=[e,t]},n.setRadius=function(e){n.radius=e,n.perim.attr({r:t.scaleVector(e)[0]}),n.circ.attr({rx:t.scaleVector(e)[0],ry:t.scaleVector(e)[1]})},n.remove=function(){n.centerPoint.remove(),n.circ.remove(),n.perim.remove()},$(n.perim[0]).css("cursor","move"),$(n.perim[0]).on("vmouseover vmouseout vmousedown",function(e){"vmouseover"===e.type?(n.highlight=!0,k||(n.circ.animate(n.circleHighlightStyle,50),n.centerPoint.visibleShape.animate(n.centerHighlightStyle,50))):"vmouseout"===e.type?(n.highlight=!1,n.dragging||n.centerPoint.dragging||(n.circ.animate(n.circleNormalStyle,50),n.centerPoint.visibleShape.animate(n.centerNormalStyle,50))):"vmousedown"!==e.type||1!==e.which&&0!==e.which||!function(){e.preventDefault(),n.toFront();var r=n.radius;$(document).on("vmousemove vmouseup",function(e){if(e.preventDefault(),n.dragging=!0,k=!0,"vmousemove"===e.type){var o=t.constrainToBounds(t.getMouseCoord(e),10),i=m.getDistance(n.centerPoint.coord,o);i=Math.max(n.minRadius,Math.round(i/n.snapRadius)*n.snapRadius);var a=n.radius,s=!0;if(n.onResize){var l=n.onResize(i,a);f.isNumber(l)?i=l:l===!1&&(s=!1)}s&&(n.setRadius(i),$(n).trigger("move"))}else"vmouseup"===e.type&&($(document).off("vmousemove vmouseup"),n.dragging=!1,k=!1,n.onResizeEnd&&n.onResizeEnd(n.radius,r))})}()}),n},addRotateHandle:function(){var e=function(e,t,n,r,o,i,a){var s=function(r,o){var a=n+o,s=g.cartFromPolarDeg([a,i+r]),l=g.add(t,s),u=e.scalePoint(l);return u[0]+","+u[1]},l=e.scaleVector(n-r),u=e.scaleVector(n+r);return e.raphael.path(" M"+s(o,-r)+" L"+s(o,-3*r)+" L"+s(2*o,0)+" L"+s(o,3*r)+" L"+s(o,r)+" A"+u[0]+","+u[1]+",0,0,1,"+s(-o,r)+" L"+s(-o,3*r)+" L"+s(-2*o,0)+" L"+s(-o,-3*r)+" L"+s(-o,-r)+" A"+l[0]+","+l[1]+",0,0,0,"+s(o,-r)+" Z").attr({stroke:null,fill:a?T.INTERACTING:T.INTERACTIVE})};return function(t){var n=this,r=t.center,o=t.radius,i=t.lengthAngle||30,a=t.hideArrow||!1,s=t.mouseTarget,l=f.uniqueId("rotateHandle");f.isArray(r)&&(r={coord:r});var u=n.addMovablePoint({coord:v.addVector(r.coord,g.cartFromPolarDeg(o,t.angleDeg||0)),constraints:{fixedDistance:{dist:o,point:r}},mouseTarget:s});r.toFront();var c=r.coord,p=u.coord,h=p,d=!1,m=!1,y=void 0,b=function(o){if(!a){var s=g.subtract(o,r.coord),l=g.polarDegFromCart(s),u=l[1];y&&y.remove(),y=e(n,r.coord,t.radius,d||m?t.hoverWidth/2:t.width/2,i,u,d||m)}};$(r).on("move."+l,function(){var e=g.subtract(r.coord,c);u.setCoord(g.add(u.coord,e)),b(u.coord),c=r.coord,u.constraints.fixedDistance.point=r,p=u.coord}),u.onMove=function(e,n){d||(h=p,d=!0);var o=[e,n];if(t.onMove){var i=g.polarDegFromCart(g.subtract(p,r.coord)),a=g.polarDegFromCart(g.subtract(o,r.coord)),s=i[1],l=a[1],u=t.onMove(l,s);null!=u&&u!==!0&&(u===!1&&(u=s),o=g.add(r.coord,g.cartFromPolarDeg([i[0],u])))}return b(o),p=o,o},u.onMoveEnd=function(){if(d=!1,b(u.coord),t.onMoveEnd){var e=g.polarDegFromCart(g.subtract(h,r.coord)),n=g.polarDegFromCart(g.subtract(u.coord,r.coord));t.onMoveEnd(n[1],e[1])}},u.visibleShape.remove(),s||u.mouseTarget.attr({scale:2});var x=$(u.mouseTarget.getMouseTarget());x.bind("vmouseover",function(e){m=!0,b(u.coord)}),x.bind("vmouseout",function(e){m=!1,b(u.coord)}),b(u.coord);var E=u.remove;return u.remove=function(){E.call(u),y&&y.remove(),$(r).off("move."+l)},u.update=function(){b(u.coord)},u}}(),addReflectButton:function(){var e=function(e,t,n,r,o,i,a){v.equal(n[0],n[1])&&(n=[n[0],v.addVector(n[0],[1,1])]);var s=g.normalize(g.subtract(n[1],n[0])),l=g.scale(s,r/2),u=g.scale(s,o),c=g.rotateDeg(u,90),p=g.rotateDeg(u,-90),h=g.negate(l),d=g.rotateDeg(l,90),f=g.rotateDeg(l,-90),m=v.addVectors(t,c),y=v.addVectors(t,p),b=v.addVectors(t,c,l,d),x=v.addVectors(t,c,h,d),E=v.addVectors(t,p,l,f),w=v.addVectors(t,p,h,f),T=e.path([m,b,x,!0],i),C=e.path([y,E,w,!0],a);return{remove:function(){T.remove(),C.remove()}}};return function(t){var n=this,r=t.line,o=n.addMovablePoint({constraints:t.constraints,coord:y.midpoint([r.pointA.coord,r.pointZ.coord]),snapX:n.snap[0],snapY:n.snap[1],onMove:function(e,t){return!1},onMoveEnd:function(e,n){t.onMoveEnd&&t.onMoveEnd.call(this,e,n)}}),i=!1,a=!1,s=void 0,l=function(){return i},u=f.map([0,1],function(e){var n=e?t.highlightStyle:t.normalStyle;return f.map([0,1],function(e){return f.defaults({"fill-opacity":e},n)})}),c=function(e){return a&&(e=!e),u[+l()][+e]},p=function(r,o){s&&s.remove(),s=e(n,r,o,l()?1.5*t.size:t.size,l()?.125*t.size:.25,c(0),c(1))},h=function(e,t){e=e||r.pointA.coord,t=t||r.pointZ.coord;var n=y.midpoint([e,t]);o.setCoord(n),p(n,[e,t])};$(r).on("move",f.bind(h,o,null,null));var d=$(o.mouseTarget.getMouseTarget());d.on("vclick",function(){var e=t.onClick();e!==!1&&(a=!a,p(o.coord,[r.pointA.coord,r.pointZ.coord]))}),r.pointA.toFront(),r.pointZ.toFront(),o.visibleShape.remove();var m=n.scaleVector(t.size)[0]/20;o.mouseTarget.attr({scale:1.5*m}),d.css("cursor","pointer"),d.bind("vmouseover",function(e){i=!0,p(o.coord,[r.pointA.coord,r.pointZ.coord])}),d.bind("vmouseout",function(e){i=!1,p(o.coord,[r.pointA.coord,r.pointZ.coord])});var g=o.remove;return o.remove=function(){s.remove(),g.call(o)},o.update=h,o.isFlipped=function(){return a},h(),o}}(),protractor:function(e){return new c(this,e)},ruler:function(e){return new p(this,e||{})},addPoints:i}),f.extend(h.prototype,{points:[],snapDegrees:0,snapOffsetDeg:0,angleLabel:"",numArcs:1,pushOut:0,fixed:!1,addMoveHandlers:function(){function e(e,n){var r=30,o=m.getDistance(t.scalePoint(e),t.scalePoint(n));return o<r}var t=this.graphie,n=this.points;n[1].onMove=function(r,o){var s=n[1].coord,l=[r,o],u=i(l,a(s)),c=!0,p={};return f.each([0,2],function(r){var o=n[r].coord,a=i(o,u),s=m.findAngle(l,a);s*=Math.PI/180,a=t.constrainToBoundsOnAngle(a,10,s),p[r]=a,e(l,a)&&(c=!1)}),c&&f.each(p,function(e,t){n[t].setCoord(e)}),c};var r=this.snapDegrees,o=this.snapOffsetDeg;f.each([0,2],function(a){n[a].onMove=function(a,s){var l=[a,s],u=n[1].coord;if(e(u,l))return!1;if(r){var c=m.findAngle(l,u);c=Math.round((c-o)/r)*r+o;var p=m.getDistance(l,u);return i(u,t.polar(p,c))}return!0}}),$(n).on("move",function(){this.update(),$(this).trigger("move")}.bind(this))},addHighlightHandlers:function(){var e=this.points[1];e.onHighlight=function(){f.each(this.points,function(e){e.visibleShape.animate(this.highlightStyle,50)},this),f.each(this.rays,function(e){e.visibleLine.animate(this.highlightStyle,50),e.arrowStyle=f.extend({},e.arrowStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke})},this),this.angleStyle=f.extend({},this.angleStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke}),this.update()}.bind(this),e.onUnhighlight=function(){f.each(this.points,function(e){e.visibleShape.animate(this.normalStyle,50)},this),f.each(this.rays,function(e){e.visibleLine.animate(e.normalStyle,50),e.arrowStyle=f.extend({},e.arrowStyle,{color:e.normalStyle.stroke,stroke:e.normalStyle.stroke})},this),this.angleStyle=f.extend({},this.angleStyle,{color:T.DYNAMIC,stroke:T.DYNAMIC}),this.update()}.bind(this)},_getClockwiseAngle:function(e){var t=(m.findAngle(e[2],e[0],e[1])+360)%360;return t},isReflex:function(){return this.reflex},isClockwise:function(){var e=this._getClockwiseAngle(this.coords)>180;return e===this.reflex},getClockwiseCoords:function(){return this.isClockwise()?f.clone(this.coords):f.clone(this.coords).reverse()},update:function(e){var t=this.coords;this.coords=f.pluck(this.points,"coord"),f.invoke(this.points,"updateLineEnds");var n=this._getClockwiseAngle(t),r=this._getClockwiseAngle(this.coords),o=n>180,i=r>180;this.allowReflex&&(null==e&&(e=o!==i&&Math.abs(r-n)<180),e&&(this.reflex=!this.reflex)),f.invoke(this.temp,"remove"),this.temp=this.graphie.labelAngle({point1:this.coords[0],vertex:this.coords[1],point3:this.coords[2],label:this.labeledAngle,text:this.angleLabel,numArcs:this.numArcs,pushOut:this.pushOut,clockwise:this.reflex===i,style:this.angleStyle})},remove:function(){f.invoke(this.rays,"remove"),f.invoke(this.temp,"remove"),this.labeledAngle.remove()}}),e.exports=P},function(e,t,n){"use strict";var r=n(234),o=n(235),i=n(237),a=n(243),s=n(246),l=n(256),u=n(253),c=l.List,p=l.Repeat,h={insertAtomicBlock:function(e,t,n){var l=e.getCurrentContent(),h=e.getSelection(),d=a.removeRange(l,h,"backward"),f=d.getSelectionAfter(),m=a.splitBlock(d,f),g=m.getSelectionAfter(),v=a.setBlockType(m,g,"atomic"),y=o.create({entity:t}),b=[new i({key:u(),type:"atomic",text:n,characterList:c(p(y,n.length))}),new i({key:u(),type:"unstyled",text:"",characterList:c()})],x=r.createFromArray(b),E=a.replaceWithFragment(v,g,x),w=E.merge({selectionBefore:h,selectionAfter:E.getSelectionAfter().set("hasFocus",!0)});return s.push(e,w,"insert-fragment")}};e.exports=h},function(e,t,n){"use strict";var r=n(256),o=r.OrderedMap,i={createFromArray:function(e){return o(e.map(function(e){return[e.getKey(),e]}))}};e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}},s=n(256),l=s.Map,u=s.OrderedSet,c=s.Record,p=u(),h={style:p,entity:null},d=c(h),f=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"getStyle",value:function(){return this.get("style")}},{key:"getEntity",value:function(){return this.get("entity")}},{key:"hasStyle",value:function(e){return this.getStyle().has(e)}}],[{key:"applyStyle",value:function(e,n){var r=e.set("style",e.getStyle().add(n));return t.create(r)}},{key:"removeStyle",value:function(e,n){var r=e.set("style",e.getStyle().remove(n));return t.create(r)}},{key:"applyEntity",value:function(e,n){var r=e.getEntity()===n?e:e.set("entity",n);return t.create(r)}},{key:"create",value:function(e){if(!e)return m;var n=l({style:p,entity:null}).merge(e),r=g.get(n);if(r)return r;var o=new t(n);return g=g.set(n,o),o}}]),t}(d),m=new f,g=l([[l(h),m]]);f.EMPTY=m,e.exports=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0}function i(e,t,n,r){for(var o=t;o<n;o++)e[o]=r}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(256),l=s.List,u=".",c=function(){function e(t){r(this,e),this._decorators=t.slice()}return a(e,[{key:"getDecorations",value:function(e){var t=Array(e.getText().length).fill(null);return this._decorators.forEach(function(n,r){var a=0,s=n.strategy;s(e,function(e,n){o(t,e,n)&&(i(t,e,n,r+u+a),a++)})}),l(t)}},{key:"getComponentForKey",value:function(e){var t=parseInt(e.split(u)[0],10);return this._decorators[t].component}},{key:"getPropsForKey",value:function(e){var t=parseInt(e.split(u)[0],10);return this._decorators[t].props}}]),e}();e.exports=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return e.getStyle()===t.getStyle()}function a(e,t){return e.getEntity()===t.getEntity()}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}},u=n(256),c=n(285),p=u.List,h=u.OrderedSet,d=u.Record,f=h(),m={key:"",type:"unstyled",text:"",characterList:p(),depth:0},g=d(m),v=function(e){function t(){r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),s(t,[{key:"getKey",value:function(){return this.get("key")}},{key:"getType",value:function(){return this.get("type")}},{key:"getText",value:function(){return this.get("text")}},{key:"getCharacterList",value:function(){return this.get("characterList")}},{key:"getLength",value:function(){return this.getText().length}},{key:"getDepth",value:function(){return this.get("depth")}},{key:"getInlineStyleAt",value:function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():f}},{key:"getEntityAt",value:function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null}},{key:"findStyleRanges",value:function(e,t){c(this.getCharacterList(),i,e,t)}},{key:"findEntityRanges",value:function(e,t){c(this.getCharacterList(),a,e,t)}}]),t}(g);e.exports=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}},s=n(234),l=n(235),u=n(237),c=n(256),p=n(249),h=n(253),d=n(286),f=c.List,m=c.Record,g=c.Repeat,v={blockMap:null,selectionBefore:null,selectionAfter:null},y=m(v),b=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"getBlockMap",value:function(){return this.get("blockMap")}},{key:"getSelectionBefore",value:function(){return this.get("selectionBefore")}},{key:"getSelectionAfter",value:function(){return this.get("selectionAfter")}},{key:"getBlockForKey",value:function(e){var t=this.getBlockMap().get(e);return t}},{key:"getKeyBefore",value:function(e){return this.getBlockMap().reverse().keySeq().skipUntil(function(t){return t===e}).skip(1).first()}},{key:"getKeyAfter",value:function(e){return this.getBlockMap().keySeq().skipUntil(function(t){return t===e}).skip(1).first()}},{key:"getBlockAfter",value:function(e){return this.getBlockMap().skipUntil(function(t,n){return n===e}).skip(1).first()}},{key:"getBlockBefore",value:function(e){return this.getBlockMap().reverse().skipUntil(function(t,n){return n===e}).skip(1).first()}},{key:"getBlocksAsArray",value:function(){return this.getBlockMap().toArray()}},{key:"getFirstBlock",value:function(){return this.getBlockMap().first()}},{key:"getLastBlock",value:function(){return this.getBlockMap().last()}},{key:"getPlainText",value:function(e){return this.getBlockMap().map(function(e){return e?e.getText():""}).join(e||"\n")}},{key:"hasText",value:function(){var e=this.getBlockMap();return e.size>1||e.first().getLength()>0;
}}],[{key:"createFromBlockArray",value:function(e){var n=s.createFromArray(e),r=p.createEmpty(n.first().getKey());return new t({blockMap:n,selectionBefore:r,selectionAfter:r})}},{key:"createFromText",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?/\r\n?|\n/g:arguments[1],r=e.split(n),o=r.map(function(e){return e=d(e),new u({key:h(),text:e,type:"unstyled",characterList:f(g(l.EMPTY,e.length))})});return t.createFromBlockArray(o)}}]),t}(y);e.exports=b},function(e,t,n){"use strict";var r=n(256),o=r.Map,i=n(54),a=n(315),s=i.createElement("ul",{className:a("public/DraftStyleDefault/ul")}),l=i.createElement("ol",{className:a("public/DraftStyleDefault/ol")}),u=i.createElement("pre",{className:a("public/DraftStyleDefault/pre")});e.exports=o({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:s},"ordered-list-item":{element:"li",wrapper:l},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:u},unstyled:{element:"div"}})},function(e,t,n){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}},l=n(239),u=n(240),c=n(287),p=n(288),h=n(289),d=n(290),f=n(291),m=n(246),g=n(54),v=n(58),y=n(316),b=n(317),x=n(318),E=n(315),w=n(319),T=n(253),C=n(254),S=n(320),k=n(321),P=x.isBrowser("IE"),_=!P,M={edit:d,composite:c,drag:h,cut:null,render:null},N=function(e){function t(e){var n=this;r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._blockSelectEvents=!1,this._clipboard=null,this._guardAgainstRender=!1,this._handler=null,this._dragCount=0,this._editorKey=T(),this._placeholderAccessibilityID="placeholder-"+this._editorKey,this._onBeforeInput=this._buildHandler("onBeforeInput"),this._onBlur=this._buildHandler("onBlur"),this._onCharacterData=this._buildHandler("onCharacterData"),this._onCompositionEnd=this._buildHandler("onCompositionEnd"),this._onCompositionStart=this._buildHandler("onCompositionStart"),this._onCopy=this._buildHandler("onCopy"),this._onCut=this._buildHandler("onCut"),this._onDragEnd=this._buildHandler("onDragEnd"),this._onDragOver=this._buildHandler("onDragOver"),this._onDragStart=this._buildHandler("onDragStart"),this._onDrop=this._buildHandler("onDrop"),this._onInput=this._buildHandler("onInput"),this._onFocus=this._buildHandler("onFocus"),this._onKeyDown=this._buildHandler("onKeyDown"),this._onKeyPress=this._buildHandler("onKeyPress"),this._onKeyUp=this._buildHandler("onKeyUp"),this._onMouseDown=this._buildHandler("onMouseDown"),this._onMouseUp=this._buildHandler("onMouseUp"),this._onPaste=this._buildHandler("onPaste"),this._onSelect=this._buildHandler("onSelect"),this.focus=this._focus.bind(this),this.blur=this._blur.bind(this),this.setMode=this._setMode.bind(this),this.exitCurrentMode=this._exitCurrentMode.bind(this),this.restoreEditorDOM=this._restoreEditorDOM.bind(this),this.setRenderGuard=this._setRenderGuard.bind(this),this.removeRenderGuard=this._removeRenderGuard.bind(this),this.setClipboard=this._setClipboard.bind(this),this.getClipboard=this._getClipboard.bind(this),this.getEditorKey=function(){return n._editorKey},this.update=this._update.bind(this),this.onDragEnter=this._onDragEnter.bind(this),this.onDragLeave=this._onDragLeave.bind(this),this.state={containerKey:0}}return o(t,e),a(t,null,[{key:"defaultProps",value:{blockRenderMap:l,blockRendererFn:w.thatReturnsNull,blockStyleFn:w.thatReturns(""),keyBindingFn:C,readOnly:!1,spellCheck:!1,stripPastedStyles:!1},enumerable:!0}]),a(t,[{key:"_buildHandler",value:function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&r.call(t,n)}}}},{key:"_showPlaceholder",value:function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()}},{key:"_renderPlaceholder",value:function(){return this._showPlaceholder()?g.createElement(f,{text:S(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID}):null}},{key:"render",value:function(){var e=this.props,t=e.readOnly,n=e.textAlignment,r=E({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===n,"DraftEditor/alignRight":"right"===n,"DraftEditor/alignCenter":"center"===n}),o=(this.props.editorState.getCurrentContent().hasText(),{outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"});return g.createElement("div",{className:r},this._renderPlaceholder(),g.createElement("div",{className:E("DraftEditor/editorContainer"),key:"editor"+this.state.containerKey,ref:"editorContainer"},g.createElement("div",{"aria-activedescendant":t?null:this.props.ariaActiveDescendantID,"aria-autocomplete":t?null:this.props.ariaAutoComplete,"aria-describedby":this._showPlaceholder()?this._placeholderAccessibilityID:null,"aria-expanded":t?null:this.props.ariaExpanded,"aria-haspopup":t?null:this.props.ariaHasPopup,"aria-label":this.props.ariaLabel,"aria-owns":t?null:this.props.ariaOwneeID,className:E("public/DraftEditor/content"),contentEditable:!t,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:"editor",role:t?null:this.props.role||"textbox",spellCheck:_&&this.props.spellCheck,style:o,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},g.createElement(p,{blockRenderMap:this.props.blockRenderMap,blockRendererFn:this.props.blockRendererFn,blockStyleFn:this.props.blockStyleFn,customStyleMap:i({},u,this.props.customStyleMap),editorKey:this._editorKey,editorState:this.props.editorState}))))}},{key:"componentDidMount",value:function(){this.setMode("edit"),P&&document.execCommand("AutoUrlDetect",!1,!1)}},{key:"componentWillUpdate",value:function(){this._blockSelectEvents=!0}},{key:"componentDidUpdate",value:function(){this._blockSelectEvents=!1}},{key:"_focus",value:function(e){var t=this.props.editorState,n=t.getSelection().getHasFocus(),r=v.findDOMNode(this.refs.editor),o=b.getScrollParent(r),i=e||k(o),a=i.x,s=i.y;r.focus(),o===window?window.scrollTo(a,s):y.setTop(o,s),n||this.update(m.forceSelection(t,t.getSelection()))}},{key:"_blur",value:function(){v.findDOMNode(this.refs.editor).blur()}},{key:"_setMode",value:function(e){this._handler=M[e]}},{key:"_exitCurrentMode",value:function(){this.setMode("edit")}},{key:"_restoreEditorDOM",value:function(e){var t=this;this.setState({containerKey:this.state.containerKey+1},function(){t._focus(e)})}},{key:"_setRenderGuard",value:function(){this._guardAgainstRender=!0}},{key:"_removeRenderGuard",value:function(){this._guardAgainstRender=!1}},{key:"_setClipboard",value:function(e){this._clipboard=e}},{key:"_getClipboard",value:function(){return this._clipboard}},{key:"_update",value:function(e){this.props.onChange(e)}},{key:"_onDragEnter",value:function(){this._dragCount++}},{key:"_onDragLeave",value:function(){this._dragCount--,0===this._dragCount&&this.exitCurrentMode()}}]),t}(g.Component);e.exports=N},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}},u=(n(237),n(292)),c=n(293),p=n(54),h=n(58),d=n(316),f=(n(249),n(317)),m=n(322),g=n(323),v=n(315),y=n(324),b=n(321),x=n(325),E=n(320),w=10,T=function(e){function t(){r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||i(e.selection,e.block.getKey())&&e.forceSelection}},{key:"componentDidMount",value:function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n,r=h.findDOMNode(this),o=f.getScrollParent(r),i=b(o);if(o===window){var a=y(r),s=a.y+a.height,l=x().height;n=s-l,n>0&&window.scrollTo(i.x,i.y+n+w)}else{var u=r.offsetHeight+r.offsetTop,c=o.offsetHeight+i.y;n=u-c,n>0&&d.setTop(o,d.getTop(o)+n+w)}}}},{key:"_renderChildren",value:function(){var e=this,t=this.props.block,n=t.getKey(),r=t.getText(),o=this.props.tree.size-1,s=i(this.props.selection,n);return this.props.tree.map(function(i,l){var h=i.get("leaves"),d=h.size-1,f=h.map(function(i,a){var h=c.encode(n,l,a),f=i.get("start"),m=i.get("end");return p.createElement(u,{key:h,offsetKey:h,blockKey:n,start:f,selection:s?e.props.selection:void 0,forceSelection:e.props.forceSelection,text:r.slice(f,m),styleSet:t.getInlineStyleAt(f),customStyleMap:e.props.customStyleMap,isLast:l===o&&a===d})}).toArray(),v=i.get("decoratorKey");if(null==v)return f;if(!e.props.decorator)return f;var y=E(e.props.decorator),b=y.getComponentForKey(v);if(!b)return f;var x=y.getPropsForKey(v),w=c.encode(n,l,0),T=r.slice(h.first().get("start"),h.last().get("end")),C=g.getHTMLDirIfDifferent(m.getDirection(T),e.props.direction);return p.createElement(b,a({},x,{decoratedText:T,dir:C,key:w,entityKey:t.getEntityAt(i.get("start")),offsetKey:w}),f)}).toArray()}},{key:"render",value:function(){var e=this.props,t=e.direction,n=e.offsetKey,r=v({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===t,"public/DraftStyleDefault/rtl":"RTL"===t});return p.createElement("div",{"data-offset-key":n,className:r},this._renderChildren())}}]),t}(p.Component);e.exports=T},function(e,t,n){"use strict";var r=n(235),o=n(294),i=n(256),a=i.OrderedSet,s=n(295),l=n(296),u=n(297),c=n(298),p=n(299),h=n(326),d=n(300),f=n(301),m=n(302),g=n(303),v={replaceText:function(e,t,n,o,i){var s=d(e,t),l=f(s,t),u=r.create({style:o||a(),entity:i||null});return p(l,l.getSelectionAfter(),n,u)},insertText:function(e,t,n,r,o){return t.isCollapsed()?void 0:h(!1),v.replaceText(e,t,n,r,o)},moveText:function(e,t,n){var r=u(e,t),o=v.removeRange(e,t,"backward");return v.replaceWithFragment(o,n,r)},replaceWithFragment:function(e,t,n){var r=d(e,t),o=f(r,t);return c(o,o.getSelectionAfter(),n)},removeRange:function(e,t,n){if(t.getAnchorKey()===t.getFocusKey()){var r=t.getAnchorKey(),o=t.getStartOffset(),i=t.getEndOffset(),a=e.getBlockForKey(r),s=a.getEntityAt(o),u=a.getEntityAt(i-1);if(s&&s===u){var c=l(a,t,n);return f(e,c)}}var p=d(e,t);return f(p,t)},splitBlock:function(e,t){var n=d(e,t),r=f(n,t);return g(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return o.add(e,t,n)},removeInlineStyle:function(e,t,n){return o.remove(e,t,n)},setBlockType:function(e,t,n){return m(e,t,n)},applyEntity:function(e,t,n){var r=d(e,t);return s(r,t,n)}};e.exports=v},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(245),i=n(256),a=n(326),s=i.Map,l=s(),u=0,c={create:function(e,t,n){return c.add(new o({type:e,mutability:t,data:n||{}}))},add:function(e){var t=""+ ++u;return l=l.set(t,e),t},get:function(e){var t=l.get(e);return t?void 0:a(!1),t},mergeData:function(e,t){var n=c.get(e),o=r({},n.getData(),t),i=n.set("data",o);return l=l.set(e,i),i},replaceData:function(e,t){var n=c.get(e),r=n.set("data",t);return l=l.set(e,r),r}};e.exports=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}},s=n(256),l=s.Record,u=l({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),c=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"getType",value:function(){return this.get("type")}},{key:"getMutability",value:function(){return this.get("mutability")}},{key:"getData",value:function(){return this.get("data")}}]),t}(u);e.exports=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return C.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function i(e,t){return e.getBlockMap().map(function(e){return f.generate(e,t)}).toOrderedMap()}function a(e,t,n){var r=e.getCurrentContent().getBlockMap(),o=e.getImmutable().get("treeMap");return o.merge(t.toSeq().filter(function(e,t){return e!==r.get(t)}).map(function(e){return f.generate(e,n)}))}function s(e,t,n,r){return t.merge(e.toSeq().filter(function(e){return n.getDecorations(e)!==r.getDecorations(e)}).map(function(e){return f.generate(e,n)}))}function l(e,t){var n=e.getLastChangeType();return t!==n||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function u(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);return r>0?o.getInlineStyleAt(r-1):o.getLength()?o.getInlineStyleAt(0):p(e,n)}function c(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);return r<o.getLength()?o.getInlineStyleAt(r):r>0?o.getInlineStyleAt(r-1):p(e,n)}function p(e,t){for(var n,r=e.getBlockBefore(t);r;){if(n=r.getLength())return r.getInlineStyleAt(n-1);r=e.getBlockBefore(r.getKey())}return b()}var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(304),m=n(238),g=n(305),v=n(256),y=n(249),b=v.OrderedSet,x=v.Record,E=v.Stack,w={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:E(),selection:null,treeMap:null,undoStack:E()},T=x(w),C=function(){function e(t){r(this,e),this._immutable=t}return d(e,[{key:"toJS",value:function(){return this.getImmutable().toJS()}},{key:"getAllowUndo",value:function(){return this.getImmutable().get("allowUndo")}},{key:"getCurrentContent",value:function(){return this.getImmutable().get("currentContent")}},{key:"getUndoStack",value:function(){return this.getImmutable().get("undoStack")}},{key:"getRedoStack",value:function(){return this.getImmutable().get("redoStack")}},{key:"getSelection",value:function(){return this.getImmutable().get("selection")}},{key:"getDecorator",value:function(){return this.getImmutable().get("decorator")}},{key:"isInCompositionMode",value:function(){return this.getImmutable().get("inCompositionMode")}},{key:"mustForceSelection",value:function(){return this.getImmutable().get("forceSelection")}},{key:"getNativelyRenderedContent",value:function(){return this.getImmutable().get("nativelyRenderedContent")}},{key:"getLastChangeType",value:function(){return this.getImmutable().get("lastChangeType")}},{key:"getInlineStyleOverride",value:function(){return this.getImmutable().get("inlineStyleOverride")}},{key:"getCurrentInlineStyle",value:function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?u(t,n):c(t,n)}},{key:"getBlockTree",value:function(e){return this.getImmutable().getIn(["treeMap",e])}},{key:"isSelectionAtStartOfContent",value:function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)}},{key:"isSelectionAtEndOfContent",value:function(){var e=this.getCurrentContent(),t=e.getBlockMap(),n=t.last(),r=n.getLength();return this.getSelection().hasEdgeWithin(n.getKey(),r,r)}},{key:"getDirectionMap",value:function(){return this.getImmutable().get("directionMap")}}],[{key:"createEmpty",value:function(t){return e.createWithContent(m.createFromText(""),t)}},{key:"createWithContent",value:function(t,n){var r=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:E(),redoStack:E(),decorator:n||null,selection:y.createEmpty(r)})}},{key:"create",value:function(t){var n=t.currentContent,r=t.decorator,o=h({},t,{treeMap:i(n,r),directionMap:g.getDirectionMap(n)});return new e(new T(o))}},{key:"set",value:function(t,n){var r=t.getImmutable().withMutations(function(e){var r=e.get("decorator"),o=r;null===n.decorator?o=null:n.decorator&&(o=n.decorator);var l=n.currentContent||t.getCurrentContent();if(o!==r){var u,c=e.get("treeMap");return u=o&&r?s(l.getBlockMap(),c,o,r):i(l,o),void e.merge({decorator:o,treeMap:u,nativelyRenderedContent:null})}var p=t.getCurrentContent();l!==p&&e.set("treeMap",a(t,l.getBlockMap(),o)),e.merge(n)});return new e(r)}},{key:"setInlineStyleOverride",value:function(t,n){return e.set(t,{inlineStyleOverride:n})}},{key:"acceptSelection",value:function(e,t){return o(e,t,!1)}},{key:"forceSelection",value:function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),o(e,t,!0)}},{key:"moveSelectionToEnd",value:function(t){var n=t.getCurrentContent(),r=n.getLastBlock(),o=r.getKey(),i=r.getLength();return e.acceptSelection(t,new y({anchorKey:o,anchorOffset:i,focusKey:o,focusOffset:i,isBackward:!1}))}},{key:"moveFocusToEnd",value:function(t){var n=e.moveSelectionToEnd(t);return e.forceSelection(n,n.getSelection())}},{key:"push",value:function(t,n,r){if(t.getCurrentContent()===n)return t;var o="insert-characters"!==r,i=g.getDirectionMap(n,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:n,directionMap:i,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var a=t.getSelection(),s=t.getCurrentContent(),u=t.getUndoStack(),c=n;a!==s.getSelectionAfter()||l(t,r)?(u=u.push(s),c=c.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(c=c.set("selectionBefore",s.getSelectionBefore()));var p=t.getInlineStyleOverride();"adjust-depth"!==r&&"change-block-type"!==r&&(p=null);var h={currentContent:c,directionMap:i,undoStack:u,redoStack:E(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:p};return e.set(t,h)}},{key:"undo",value:function(t){if(!t.getAllowUndo())return t;var n=t.getUndoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=g.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:n.shift(),redoStack:t.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})}},{key:"redo",value:function(t){if(!t.getAllowUndo())return t;var n=t.getRedoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=g.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:t.getUndoStack().push(o),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})}}]),d(e,[{key:"getImmutable",value:function(){return this._immutable}}]),e}();e.exports=C},function(e,t,n){"use strict";var r=n(318),o=r.isPlatform("Mac OS X"),i={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return o&&e.altKey},hasCommandModifier:function(e){return o?!!e.metaKey&&!e.altKey:i.isCtrlKeyCommand(e)}};e.exports=i},function(e,t,n){"use strict";var r=n(244),o=n(243),i=n(246),a=(n(249),n(306)),s=n(320),l={currentBlockContainsLink:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&"LINK"===r.get(t).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t){switch(t){case"bold":return l.toggleInlineStyle(e,"BOLD");case"italic":return l.toggleInlineStyle(e,"ITALIC");case"underline":return l.toggleInlineStyle(e,"UNDERLINE");case"code":return l.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return l.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return l.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=o.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=i.push(e,t,"insert-characters");return i.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),a=n.getBlockBefore(r);if(a&&"atomic"===a.getType()){var s=t.merge({anchorKey:a.getKey(),anchorOffset:0}),u=o.setBlockType(n,s,n.getBlockForKey(r).getType()),c=o.removeRange(u,s,"backward");if(c!==n)return i.push(e,c,"remove-range")}var p=l.tryToRemoveBlockStyle(e);return p?i.push(e,p,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),r=t.getStartKey(),a=n.getBlockForKey(r),s=a.getLength();if(t.getStartOffset()<s)return null;var l=n.getBlockAfter(r);if(!l||"atomic"!==l.getType())return null;var u=t.merge({focusKey:l.getKey(),focusOffset:l.getLength()}),c=o.removeRange(n,u,"forward");return c!==n?i.push(e,c,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),o=r.getAnchorKey();if(o!==r.getFocusKey())return t;var s=t.getCurrentContent(),l=s.getBlockForKey(o),u=l.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return t;e.preventDefault();var c=s.getBlockBefore(o);if(!c)return t;var p=c.getType();if("unordered-list-item"!==p&&"ordered-list-item"!==p)return t;var h=l.getDepth();if(!e.shiftKey&&h===n)return t;n=Math.min(c.getDepth()+1,n);var d=a(s,r,e.shiftKey?-1:1,n);return i.push(t,d,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),r=n.getStartKey(),a=n.getEndKey(),l=e.getCurrentContent(),u=n;if(r!==a&&0===n.getEndOffset()){var c=s(l.getBlockBefore(a));a=c.getKey(),u=u.merge({anchorKey:r,anchorOffset:n.getStartOffset(),focusKey:a,focusOffset:c.getLength(),isBackward:!1})}var p=l.getBlockMap().skipWhile(function(e,t){return t!==r}).takeWhile(function(e,t){return t!==a}).some(function(e){return"atomic"===e.getType()});if(p)return e;var h=l.getBlockForKey(r).getType()===t?"unstyled":t;return i.push(e,o.setBlockType(l,u,h),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?l.toggleBlockType(e,"code-block"):l.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),r=e.getCurrentInlineStyle();if(n.isCollapsed())return i.setInlineStyleOverride(e,r.has(t)?r.remove(t):r.add(t));var a,s=e.getCurrentContent();return a=r.has(t)?o.removeInlineStyle(s,n,t):o.applyInlineStyle(s,n,t),i.push(e,a,"change-inline-style")},toggleLink:function(e,t,n){var r=o.applyEntity(e.getCurrentContent(),t,n);return i.push(e,r,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var r=t.getAnchorKey(),i=e.getCurrentContent(),a=i.getBlockForKey(r);if(a.getLength()>0)return null;var s=a.getType(),l=i.getBlockBefore(r);if("code-block"===s&&l&&"code-block"===l.getType())return null;if("unstyled"!==s)return o.setBlockType(i,t,"unstyled")}return null}};e.exports=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}},s=n(256),l=s.Record,u={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},c=l(u),p=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"serialize",value:function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())}},{key:"getAnchorKey",value:function(){return this.get("anchorKey")}},{key:"getAnchorOffset",value:function(){return this.get("anchorOffset")}},{key:"getFocusKey",value:function(){return this.get("focusKey")}},{key:"getFocusOffset",value:function(){return this.get("focusOffset")}},{key:"getIsBackward",value:function(){return this.get("isBackward")}},{key:"getHasFocus",value:function(){return this.get("hasFocus")}},{key:"hasEdgeWithin",value:function(e,t,n){var r=this.getAnchorKey(),o=this.getFocusKey();if(r===o&&r===e){var i=this.getStartOffset(),a=this.getEndOffset();return t<=a&&i<=n}if(e!==r&&e!==o)return!1;var s=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=s&&n>=s}},{key:"isCollapsed",value:function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()}},{key:"getStartKey",value:function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()}},{key:"getStartOffset",value:function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()}},{key:"getEndKey",value:function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()}},{key:"getEndOffset",value:function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()}}],[{key:"createEmpty",value:function(e){return new t({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})}}]),t}(c);e.exports=p},function(e,t,n){"use strict";function r(e){var t=0,n={},r=[];e.getBlockMap().forEach(function(e,i){e.findEntityRanges(function(e){return null!==e.getEntity()},function(r){var o=a.stringify(e.getEntityAt(r));n.hasOwnProperty(o)||(n[o]=""+t++)}),r.push({key:i,text:e.getText(),type:e.getType(),depth:o(e)?e.getDepth():0,inlineStyleRanges:l(e),entityRanges:s(e,n)})});var u=Object.keys(n),c={};return u.forEach(function(e,t){var n=i.get(a.unstringify(e));c[t]={type:n.getType(),mutability:n.getMutability(),data:n.getData()}}),{entityMap:c,blocks:r}}function o(e){var t=e.getType();return"ordered-list-item"===t||"unordered-list-item"===t}var i=n(244),a=n(307),s=n(308),l=n(309);e.exports=r},function(e,t,n){"use strict";function r(){return{text:"",inlines:[],entities:[],blocks:[]}}function o(e){var t=new Array(1);return e&&(t[0]=e),{text:I,inlines:[O()],entities:t,blocks:[]}}function i(){return{text:"\n",inlines:[O()],entities:new Array(1),blocks:[]}}function a(e,t){return{text:"\r",inlines:[O()],entities:new Array(1),blocks:[{type:e,depth:Math.max(0,Math.min(R,t))}]}}function s(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null}function l(e){var t=e.get("unstyled").element;return e.map(function(e){return e.element}).valueSeq().toSet().filter(function(e){return e!==t}).toArray().sort()}function u(e,t,n){for(var r=0;r<n.length;r++){var o=n[r](e,t);if(o)return o}return null}function c(e,t,n){var r=n.filter(function(t){return t.element===e||t.wrapper===e}).keySeq().toSet().toArray().sort();switch(r.length){case 0:return"unstyled";case 1:return r[0];default:return u(e,t,[s])||"unstyled"}}function p(e,t,n){var r=B[e];return r?n=n.add(r).toOrderedSet():t instanceof HTMLElement&&!function(){var e=t;n=n.withMutations(function(t){"bold"===e.style.fontWeight&&t.add("BOLD"),"italic"===e.style.fontStyle&&t.add("ITALIC"),"underline"===e.style.textDecoration&&t.add("UNDERLINE"),"line-through"===e.style.textDecoration&&t.add("STRIKETHROUGH")}).toOrderedSet()}(),n}function h(e,t){var n=t.text.slice(0,1);if("\r"===e.text.slice(-1)&&"\r"===n&&(e.text=e.text.slice(0,-1),
e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===e.text.slice(-1)){if(t.text===I||"\n"===t.text)return e;n!==I&&"\n"!==n||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}}function d(e,t){return t.some(function(t){return e.indexOf("<"+t)!==-1})}function f(e){e instanceof HTMLAnchorElement?void 0:P(!1);var t=e.protocol;return"http:"===t||"https:"===t}function m(e,t,n,s,l,u,d,g){var v=e.nodeName.toLowerCase(),b=!1,x="unstyled",E=y;if("#text"===v){var T=e.textContent;return""===T.trim()&&"pre"!==s?o(g):("pre"!==s&&(T=T.replace(L,I)),y=v,{text:T,inlines:Array(T.length).fill(t),entities:Array(T.length).fill(g),blocks:[]})}if(y=v,"br"===v)return"br"!==E||s&&"unstyled"!==c(s,n,d)?i():a("unstyled",u);var S=r(),k=null;t=p(v,e,t),"ul"!==v&&"ol"!==v||(n&&(u+=1),n=v),s||l.indexOf(v)===-1?n&&"li"===s&&"li"===v&&(S=a(c(v,n,d),u),s=v,b=!0,x="ul"===n?"unordered-list-item":"ordered-list-item"):(S=a(c(v,n,d),u),s=v,b=!0);var P=e.firstChild;null!=P&&(v=P.nodeName.toLowerCase());for(var _=null,M=null;P;){"a"===v&&P.href&&f(P)?(M=new C(P.href).toString(),_=w.create("LINK","MUTABLE",{url:M})):_=void 0,k=m(P,t,n,s,l,u,d,_||g),S=h(S,k);var N=P.nextSibling;N&&l.indexOf(v)>=0&&s&&(S=h(S,i())),N&&(v=N.nodeName.toLowerCase()),P=N}return b&&(S=h(S,a(x,u))),S}function g(e,t,n){e=e.trim().replace(D,"").replace(F,I);var r=l(n),o=t(e);if(!o)return null;y=null;var i=d(e,r)?r:["div"],a=m(o,O(),"ul",null,i,-1,n);return 0===a.text.indexOf("\r")&&(a={text:a.text.slice(1),inlines:a.inlines.slice(1),entities:a.entities.slice(1),blocks:a.blocks}),"\r"===a.text.slice(-1)&&(a.text=a.text.slice(0,-1),a.inlines=a.inlines.slice(0,-1),a.entities=a.entities.slice(0,-1),a.blocks.pop()),0===a.blocks.length&&a.blocks.push({type:"unstyled",depth:0}),a.text.split("\r").length===a.blocks.length+1&&a.blocks.unshift({type:"unstyled",depth:0}),a}function v(e){var t=arguments.length<=1||void 0===arguments[1]?k:arguments[1],n=arguments.length<=2||void 0===arguments[2]?E:arguments[2],r=g(e,t,n);if(null==r)return null;var o=0;return r.text.split("\r").map(function(e,t){e=M(e);var n=o+e.length,i=_(r).inlines.slice(o,n),a=_(r).entities.slice(o,n),s=N(i.map(function(e,t){var n={style:e,entity:null};return a[t]&&(n.entity=a[t]),b.create(n)}));return o=n+1,new x({key:S(),type:_(r).blocks[t].type,depth:_(r).blocks[t].depth,text:e,characterList:s})})}var y,b=n(235),x=n(237),E=n(239),w=n(244),T=n(256),C=n(327),S=n(253),k=n(310),P=n(326),_=n(320),M=n(286),N=T.List,O=T.OrderedSet,A="&nbsp;",I=" ",R=4,D=new RegExp("\r","g"),L=new RegExp("\n","g"),F=new RegExp(A,"g"),B={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"};e.exports=v},function(e,t,n){"use strict";function r(e){var t=e.blocks,n=e.entityMap,r={};Object.keys(n).forEach(function(e){var t=n[e],o=t.type,i=t.mutability,a=t.data,l=s.create(o,i,a||{});r[e]=l});var h=t.map(function(e){var t=e.key,n=e.type,a=e.text,s=e.depth,h=e.inlineStyleRanges,d=e.entityRanges;t=t||p(),s=s||0,h=h||[],d=d||[];var f=c(a,h),m=d.filter(function(e){return r.hasOwnProperty(e.key)}).map(function(e){return o({},e,{key:r[e.key]})}),g=u(a,m),v=l(f,g);return new i({key:t,type:n,text:a,depth:s,characterList:v})});return a.createFromBlockArray(h)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(237),a=n(238),s=n(244),l=n(311),u=n(312),c=n(313),p=n(253);e.exports=r},function(e,t,n){"use strict";function r(){for(var e=void 0;void 0===e||o.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*i).toString(32);return o[e]=!0,e}var o={},i=Math.pow(2,24);e.exports=r},function(e,t,n){"use strict";function r(e){return p&&e.altKey||m(e)}function o(e){if(f(e))return e.shiftKey?"redo":"undo"}function i(e){return h&&e.shiftKey?null:r(e)?"delete-word":"delete"}function a(e){return f(e)&&p?"backspace-to-start-of-line":r(e)?"backspace-word":"backspace"}function s(e){switch(e.keyCode){case 66:return f(e)?"bold":null;case 68:return m(e)?"delete":null;case 72:return m(e)?"backspace":null;case 73:return f(e)?"italic":null;case 74:return f(e)?"code":null;case 75:return!h&&m(e)?"secondary-cut":null;case 77:return m(e)?"split-block":null;case 79:return m(e)?"split-block":null;case 84:return p&&m(e)?"transpose-characters":null;case 85:return f(e)?"underline":null;case 87:return p&&m(e)?"backspace-word":null;case 89:return m(e)?h?"redo":"secondary-paste":null;case 90:return o(e)||null;case u.RETURN:return"split-block";case u.DELETE:return i(e);case u.BACKSPACE:return a(e);case u.LEFT:return d&&f(e)?"move-selection-to-start-of-block":null;case u.RIGHT:return d&&f(e)?"move-selection-to-end-of-block":null;default:return null}}var l=n(247),u=n(328),c=n(318),p=c.isPlatform("Mac OS X"),h=c.isPlatform("Windows"),d=p&&c.isBrowser("Firefox < 29"),f=l.hasCommandModifier,m=l.isCtrlKeyCommand;e.exports=s},function(e,t,n){"use strict";function r(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),r=o(n),i=r.top,a=r.right,s=r.bottom,l=r.left;return 0===i&&0===a&&0===s&&0===l?null:r}var o=n(314);e.exports=r},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return i(e)?e:M(e)}function n(e){return a(e)?e:N(e)}function r(e){return s(e)?e:O(e)}function o(e){return i(e)&&!l(e)?e:A(e)}function i(e){return!(!e||!e[un])}function a(e){return!(!e||!e[cn])}function s(e){return!(!e||!e[pn])}function l(e){return a(e)||s(e)}function u(e){return!(!e||!e[hn])}function c(e){return e.value=!1,e}function p(e){e&&(e.value=!0)}function h(){}function d(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function f(e){return void 0===e.size&&(e.size=e.__iterate(g)),e.size}function m(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?f(e)+t:t}function g(){return!0}function v(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function y(e,t){return x(e,t,0)}function b(e,t){return x(e,t,t)}function x(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function E(e){this.next=e}function w(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function T(){return{value:void 0,done:!0}}function C(e){return!!P(e)}function S(e){return e&&"function"==typeof e.next}function k(e){var t=P(e);return t&&t.call(e)}function P(e){var t=e&&(Tn&&e[Tn]||e[Cn]);if("function"==typeof t)return t}function _(e){return e&&"number"==typeof e.length}function M(e){return null===e||void 0===e?B():i(e)?e.toSeq():z(e)}function N(e){return null===e||void 0===e?B().toKeyedSeq():i(e)?a(e)?e.toSeq():e.fromEntrySeq():j(e)}function O(e){return null===e||void 0===e?B():i(e)?a(e)?e.entrySeq():e.toIndexedSeq():q(e)}function A(e){return(null===e||void 0===e?B():i(e)?a(e)?e.entrySeq():e:q(e)).toSetSeq()}function I(e){this._array=e,this.size=e.length}function R(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function D(e){this._iterable=e,this.size=e.length||e.size}function L(e){this._iterator=e,this._iteratorCache=[]}function F(e){return!(!e||!e[kn])}function B(){return Pn||(Pn=new I([]))}function j(e){var t=Array.isArray(e)?new I(e).fromEntrySeq():S(e)?new L(e).fromEntrySeq():C(e)?new D(e).fromEntrySeq():"object"==typeof e?new R(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function q(e){var t=U(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function z(e){var t=U(e)||"object"==typeof e&&new R(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function U(e){return _(e)?new I(e):S(e)?new L(e):C(e)?new D(e):void 0}function W(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(t(s[1],r?s[0]:a,e)===!1)return a+1}return a}return e.__iterateUncached(t,n)}function H(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new E(function(){var e=o[n?i-a:a];return a++>i?T():w(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function V(e,t){return t?K(t,e,"",{"":e}):G(e)}function K(e,t,n,r){return Array.isArray(t)?e.call(r,n,O(t).map(function(n,r){return K(e,n,r,t)})):$(t)?e.call(r,n,N(t).map(function(n,r){return K(e,n,r,t)})):t}function G(e){return Array.isArray(e)?O(e).map(G).toList():$(e)?N(e).map(G).toMap():e}function $(e){return e&&(e.constructor===Object||void 0===e.constructor)}function Y(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function X(e,t){if(e===t)return!0;if(!i(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||a(e)!==a(t)||s(e)!==s(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(u(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&Y(o[1],e)&&(n||Y(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var c=e;e=t,t=c}var p=!0,h=t.__iterate(function(t,r){if(n?!e.has(t):o?!Y(t,e.get(r,vn)):!Y(e.get(r,vn),t))return p=!1,!1});return p&&e.size===h}function J(e,t){if(!(this instanceof J))return new J(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(_n)return _n;_n=this}}function Q(e,t){if(!e)throw new Error(t)}function Z(e,t,n){if(!(this instanceof Z))return new Z(e,t,n);if(Q(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Mn)return Mn;Mn=this}}function ee(){throw TypeError("Abstract")}function te(){}function ne(){}function re(){}function oe(e){return e>>>1&1073741824|3221225471&e}function ie(e){if(e===!1||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(e=e.valueOf(),e===!1||null===e||void 0===e))return 0;if(e===!0)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)e/=4294967295,n^=e;return oe(n)}if("string"===t)return e.length>Fn?ae(e):se(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return le(e);if("function"==typeof e.toString)return se(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ae(e){var t=qn[e];return void 0===t&&(t=se(e),jn===Bn&&(jn=0,qn={}),jn++,qn[e]=t),t}function se(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return oe(t)}function le(e){var t;if(Rn&&(t=Nn.get(e),void 0!==t))return t;if(t=e[Ln],void 0!==t)return t;if(!In){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ln],void 0!==t)return t;if(t=ue(e),void 0!==t)return t}if(t=++Dn,1073741824&Dn&&(Dn=0),Rn)Nn.set(e,t);else{if(void 0!==An&&An(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(In)Object.defineProperty(e,Ln,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ln]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ln]=t}}return t}function ue(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function ce(e){Q(e!==1/0,"Cannot perform this action with an infinite size.")}function pe(e){return null===e||void 0===e?we():he(e)&&!u(e)?e:we().withMutations(function(t){var r=n(e);ce(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function he(e){return!(!e||!e[zn])}function de(e,t){this.ownerID=e,this.entries=t}function fe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function me(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function ge(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function ve(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function ye(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&xe(e._root)}function be(e,t){return w(e,t[0],t[1])}function xe(e,t){return{node:e,index:0,__prev:t}}function Ee(e,t,n,r){var o=Object.create(Un);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function we(){return Wn||(Wn=Ee(0))}function Te(e,t,n){var r,o;if(e._root){var i=c(yn),a=c(bn);if(r=Ce(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===vn?-1:1:0)}else{if(n===vn)return e;o=1,r=new de(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Ee(o,r):we()}function Ce(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===vn?e:(p(s),p(a),new ve(t,r,[o,i]))}function Se(e){return e.constructor===ve||e.constructor===ge}function ke(e,t,n,r,o){if(e.keyHash===r)return new ge(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&gn,s=(0===n?r:r>>>n)&gn,l=a===s?[ke(e,t,n+fn,r,o)]:(i=new ve(t,r,o),a<s?[e,i]:[i,e]);return new fe(t,1<<a|1<<s,l)}function Pe(e,t,n,r){e||(e=new h);for(var o=new ve(e,ie(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function _e(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];void 0!==c&&s!==r&&(o|=l,a[i++]=c)}return new fe(e,o,a)}function Me(e,t,n,r,o){for(var i=0,a=new Array(mn),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new me(e,i+1,a)}function Ne(e,t,r){for(var o=[],a=0;a<r.length;a++){var s=r[a],l=n(s);i(s)||(l=l.map(function(e){return V(e)})),o.push(l)}return Ie(e,t,o)}function Oe(e,t,n){return e&&e.mergeDeep&&i(t)?e.mergeDeep(t):Y(e,t)?e:t}function Ae(e){return function(t,n,r){if(t&&t.mergeDeepWith&&i(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return Y(t,o)?t:o}}function Ie(e,t,n){return n=n.filter(function(e){return 0!==e.size}),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,vn,function(e){return e===vn?n:t(e,n,r)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)}):e.constructor(n[0])}function Re(e,t,n,r){var o=e===vn,i=t.next();if(i.done){var a=o?n:e,s=r(a);return s===a?e:s}Q(o||e&&e.set,"invalid keyPath");var l=i.value,u=o?vn:e.get(l,vn),c=Re(u,t,n,r);return c===u?e:c===vn?e.remove(l):(o?we():e).set(l,c)}function De(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,127&e}function Le(e,t,n,r){var o=r?e:d(e);return o[t]=n,o}function Fe(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}function Be(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}function je(e){var t=He();if(null===e||void 0===e)return t;if(qe(e))return e;var n=r(e),o=n.size;return 0===o?t:(ce(o),o>0&&o<mn?We(0,o,fn,null,new ze(n.toArray())):t.withMutations(function(e){e.setSize(o),n.forEach(function(t,n){return e.set(n,t)})}))}function qe(e){return!(!e||!e[Gn])}function ze(e,t){this.array=e,this.ownerID=t}function Ue(e,t){function n(e,t,n){return 0===t?r(e,n):o(e,t,n)}function r(e,n){var r=n===s?l&&l.array:e&&e.array,o=n>i?0:i-n,u=a-n;return u>mn&&(u=mn),function(){if(o===u)return Xn;var e=t?--u:o++;return r&&r[e]}}function o(e,r,o){var s,l=e&&e.array,u=o>i?0:i-o>>r,c=(a-o>>r)+1;return c>mn&&(c=mn),function(){for(;;){if(s){var e=s();if(e!==Xn)return e;s=null}if(u===c)return Xn;var i=t?--c:u++;s=n(l&&l[i],r-fn,o+(i<<r))}}}var i=e._origin,a=e._capacity,s=Je(a),l=e._tail;return n(e._root,e._level,0)}function We(e,t,n,r,o,i,a){var s=Object.create($n);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function He(){return Yn||(Yn=We(0,0,fn))}function Ve(e,t,n){if(t=m(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Ye(e,t).set(0,n):Ye(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i=c(bn);return t>=Je(e._capacity)?r=Ke(r,e.__ownerID,0,t,n,i):o=Ke(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):We(e._origin,e._capacity,e._level,o,r):e}function Ke(e,t,n,r,o,i){var a=r>>>n&gn,s=e&&a<e.array.length;if(!s&&void 0===o)return e;var l;if(n>0){var u=e&&e.array[a],c=Ke(u,t,n-fn,r,o,i);return c===u?e:(l=Ge(e,t),l.array[a]=c,l)}return s&&e.array[a]===o?e:(p(i),l=Ge(e,t),void 0===o&&a===l.array.length-1?l.array.pop():l.array[a]=o,l)}function Ge(e,t){return t&&e&&t===e.ownerID?e:new ze(e?e.array.slice():[],t)}function $e(e,t){if(t>=Je(e._capacity))return e._tail;if(t<1<<e._level+fn){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&gn],r-=fn;return n}}function Ye(e,t,n){void 0!==t&&(t=0|t),void 0!==n&&(n=0|n);var r=e.__ownerID||new h,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var l=e._level,u=e._root,c=0;a+c<0;)u=new ze(u&&u.array.length?[void 0,u]:[],r),l+=fn,c+=1<<l;c&&(a+=c,o+=c,s+=c,i+=c);for(var p=Je(i),d=Je(s);d>=1<<l+fn;)u=new ze(u&&u.array.length?[u]:[],r),l+=fn;var f=e._tail,m=d<p?$e(e,s-1):d>p?new ze([],r):f;if(f&&d>p&&a<i&&f.array.length){u=Ge(u,r);for(var g=u,v=l;v>fn;v-=fn){var y=p>>>v&gn;g=g.array[y]=Ge(g.array[y],r)}g.array[p>>>fn&gn]=f}if(s<i&&(m=m&&m.removeAfter(r,0,s)),a>=d)a-=d,s-=d,l=fn,u=null,m=m&&m.removeBefore(r,0,a);else if(a>o||d<p){for(c=0;u;){var b=a>>>l&gn;if(b!==d>>>l&gn)break;b&&(c+=(1<<l)*b),l-=fn,u=u.array[b]}u&&a>o&&(u=u.removeBefore(r,l,a-c)),u&&d<p&&(u=u.removeAfter(r,l,d-c)),c&&(a-=c,s-=c)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=l,e._root=u,e._tail=m,e.__hash=void 0,e.__altered=!0,e):We(a,s,l,u,m)}function Xe(e,t,n){for(var o=[],a=0,s=0;s<n.length;s++){var l=n[s],u=r(l);u.size>a&&(a=u.size),i(l)||(u=u.map(function(e){return V(e)})),o.push(u)}return a>e.size&&(e=e.setSize(a)),Ie(e,t,o)}function Je(e){return e<mn?0:e-1>>>fn<<fn}function Qe(e){return null===e||void 0===e?tt():Ze(e)?e:tt().withMutations(function(t){var r=n(e);ce(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function Ze(e){return he(e)&&u(e)}function et(e,t,n,r){var o=Object.create(Qe.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function tt(){return Jn||(Jn=et(we(),He()))}function nt(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),l=void 0!==s;if(n===vn){if(!l)return e;a.size>=mn&&a.size>=2*i.size?(o=a.filter(function(e,t){return void 0!==e&&s!==t}),r=o.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):et(r,o)}function rt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function ot(e){this._iter=e,this.size=e.size}function it(e){this._iter=e,this.size=e.size}function at(e){this._iter=e,this.size=e.size}function st(e){var t=_t(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Mt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return t(n,e,r)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===wn){var r=e.__iterator(t,n);return new E(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===En?xn:En,n)},t}function lt(e,t,n){var r=_t(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,vn);return i===vn?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return r(t.call(n,e,o,a),o,i)!==!1},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(wn,o);return new E(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return w(r,s,t.call(n,a[1],s,e),o)})},r}function ut(e,t){var n=_t(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=st(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Mt,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function ct(e,t,n,r){var o=_t(e);return r&&(o.has=function(r){var o=e.get(r,vn);return o!==vn&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,vn);return i!==vn&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate(function(e,i,l){if(t.call(n,e,i,l))return s++,o(e,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(wn,i),s=0;return new E(function(){for(;;){var i=a.next();if(i.done)return i;var l=i.value,u=l[0],c=l[1];if(t.call(n,c,u,e))return w(o,r?u:s++,c,i)}})},o}function pt(e,t,n){var r=pe().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}function ht(e,t,n){var r=a(e),o=(u(e)?Qe():pe()).asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),function(e){return e=e||[],e.push(r?[a,i]:i),e})});var i=Pt(e);return o.map(function(t){return Ct(e,i(t))})}function dt(e,t,n,r){var o=e.size;if(void 0!==t&&(t=0|t),void 0!==n&&(n=0|n),v(t,n,o))return e;var i=y(t,o),a=b(n,o);if(i!==i||a!==a)return dt(e.toSeq().cacheResult(),t,n,r);var s,l=a-i;l===l&&(s=l<0?0:l);var u=_t(e);return u.size=0===s?s:e.size&&s||void 0,!r&&F(e)&&s>=0&&(u.get=function(t,n){return t=m(this,t),t>=0&&t<s?e.get(t+i,n):n}),u.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,l=!0,u=0;return e.__iterate(function(e,n){if(!l||!(l=a++<i))return u++,t(e,r?n:u-1,o)!==!1&&u!==s}),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,l=0;return new E(function(){for(;a++<i;)o.next();if(++l>s)return T();var e=o.next();return r||t===En?e:t===xn?w(t,l-1,void 0,e):w(t,l-1,e.value[1],e)})},u}function ft(e,t,n){var r=_t(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(wn,o),s=!0;return new E(function(){if(!s)return T();var e=a.next();if(e.done)return e;var o=e.value,l=o[0],u=o[1];return t.call(n,u,l,i)?r===wn?e:w(r,l,u,e):(s=!1,T())})},r}function mt(e,t,n,r){var o=_t(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,l=0;return e.__iterate(function(e,i,u){if(!s||!(s=t.call(n,e,i,u)))return l++,o(e,r?i:l-1,a)}),l},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(wn,i),l=!0,u=0;return new E(function(){var e,i,c;do{if(e=s.next(),e.done)return r||o===En?e:o===xn?w(o,u++,void 0,e):w(o,u++,e.value[1],e);var p=e.value;i=p[0],c=p[1],l&&(l=t.call(n,c,i,a))}while(l);return o===wn?e:w(o,i,c,e)})},o}function gt(e,t){var r=a(e),o=[e].concat(t).map(function(e){return i(e)?r&&(e=n(e)):e=r?j(e):q(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===o.length)return e;if(1===o.length){var l=o[0];if(l===e||r&&a(l)||s(e)&&s(l))return l}var u=new I(o);return r?u=u.toKeyedSeq():s(e)||(u=u.toSetSeq()),u=u.flatten(!0),u.size=o.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),u}function vt(e,t,n){var r=_t(e);return r.__iterateUncached=function(r,o){function a(e,u){var c=this;e.__iterate(function(e,o){return(!t||u<t)&&i(e)?a(e,u+1):r(e,n?o:s++,c)===!1&&(l=!0),!l},o)}var s=0,l=!1;return a(e,0),s},r.__iteratorUncached=function(r,o){var a=e.__iterator(r,o),s=[],l=0;return new E(function(){for(;a;){var e=a.next();if(e.done===!1){var u=e.value;if(r===wn&&(u=u[1]),t&&!(s.length<t)||!i(u))return n?e:w(r,l++,u,e);s.push(a),a=u.__iterator(r,o)}else a=s.pop()}return T()})},r}function yt(e,t,n){var r=Pt(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}function bt(e,t){var n=_t(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e,r){return(!i||n(t,i++,o)!==!1)&&n(e,i++,o)!==!1},r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(En,r),a=0;return new E(function(){return(!o||a%2)&&(o=i.next(),o.done)?o:a%2?w(n,a++,t):w(n,a++,o.value,o)})},n}function xt(e,t,n){t||(t=Nt);var r=a(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?N(i):s(e)?O(i):A(i)}function Et(e,t,n){if(t||(t=Nt),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return wt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return wt(t,e,n)?n:e})}function wt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function Tt(e,n,r){var o=_t(e);return o.size=new I(r).map(function(e){return e.size}).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(En,t),o=0;!(n=r.next()).done&&e(n.value,o++,this)!==!1;);return o},o.__iteratorUncached=function(e,o){var i=r.map(function(e){return e=t(e),k(o?e.reverse():e)}),a=0,s=!1;return new E(function(){var t;return s||(t=i.map(function(e){return e.next()}),s=t.some(function(e){return e.done})),s?T():w(e,a++,n.apply(null,t.map(function(e){return e.value})))})},o}function Ct(e,t){return F(e)?t:e.constructor(t)}function St(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function kt(e){return ce(e.size),f(e)}function Pt(e){return a(e)?n:s(e)?r:o}function _t(e){return Object.create((a(e)?N:s(e)?O:A).prototype)}function Mt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):M.prototype.cacheResult.call(this)}function Nt(e,t){return e>t?1:e<t?-1:0}function Ot(e){var n=k(e);if(!n){if(!_(e))throw new TypeError("Expected iterable or array-like: "+e);n=k(t(e))}return n}function At(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);Dt(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=pe(i)},o=r.prototype=Object.create(Qn);return o.constructor=r,r}function It(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Rt(e){return e._name||e.constructor.name||"Record"}function Dt(e,t){try{t.forEach(Lt.bind(void 0,e))}catch(e){}}function Lt(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Q(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Ft(e){return null===e||void 0===e?zt():Bt(e)&&!u(e)?e:zt().withMutations(function(t){var n=o(e);ce(n.size),n.forEach(function(e){return t.add(e)})})}function Bt(e){return!(!e||!e[Zn])}function jt(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function qt(e,t){var n=Object.create(er);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function zt(){return tr||(tr=qt(we()))}function Ut(e){return null===e||void 0===e?Vt():Wt(e)?e:Vt().withMutations(function(t){var n=o(e);ce(n.size),n.forEach(function(e){return t.add(e)})})}function Wt(e){return Bt(e)&&u(e)}function Ht(e,t){var n=Object.create(nr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Vt(){return rr||(rr=Ht(tt()))}function Kt(e){return null===e||void 0===e?Yt():Gt(e)?e:Yt().unshiftAll(e)}function Gt(e){return!(!e||!e[or])}function $t(e,t,n,r){var o=Object.create(ir);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Yt(){return ar||(ar=$t(0))}function Xt(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Jt(e,t){return t}function Qt(e,t){return[t,e]}function Zt(e){return function(){return!e.apply(this,arguments)}}function en(e){return function(){return-e.apply(this,arguments)}}function tn(e){return"string"==typeof e?JSON.stringify(e):e}function nn(){return d(arguments)}function rn(e,t){return e<t?1:e>t?-1:0}function on(e){if(e.size===1/0)return 0;var t=u(e),n=a(e),r=t?1:0,o=e.__iterate(n?t?function(e,t){r=31*r+sn(ie(e),ie(t))|0}:function(e,t){r=r+sn(ie(e),ie(t))|0}:t?function(e){r=31*r+ie(e)|0}:function(e){r=r+ie(e)|0});return an(o,r)}function an(e,t){return t=On(t,3432918353),t=On(t<<15|t>>>-15,461845907),t=On(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=On(t^t>>>16,2246822507),t=On(t^t>>>13,3266489909),t=oe(t^t>>>16)}function sn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var ln=Array.prototype.slice;e(n,t),e(r,t),e(o,t),t.isIterable=i,t.isKeyed=a,t.isIndexed=s,t.isAssociative=l,t.isOrdered=u,t.Keyed=n,t.Indexed=r,t.Set=o;var un="@@__IMMUTABLE_ITERABLE__@@",cn="@@__IMMUTABLE_KEYED__@@",pn="@@__IMMUTABLE_INDEXED__@@",hn="@@__IMMUTABLE_ORDERED__@@",dn="delete",fn=5,mn=1<<fn,gn=mn-1,vn={},yn={value:!1},bn={value:!1},xn=0,En=1,wn=2,Tn="function"==typeof Symbol&&Symbol.iterator,Cn="@@iterator",Sn=Tn||Cn;E.prototype.toString=function(){return"[Iterator]"},E.KEYS=xn,E.VALUES=En,E.ENTRIES=wn,E.prototype.inspect=E.prototype.toSource=function(){return this.toString()},E.prototype[Sn]=function(){return this},e(M,t),M.of=function(){return M(arguments)},M.prototype.toSeq=function(){return this},M.prototype.toString=function(){return this.__toString("Seq {","}")},M.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},M.prototype.__iterate=function(e,t){return W(this,e,t,!0)},M.prototype.__iterator=function(e,t){return H(this,e,t,!0)},e(N,M),N.prototype.toKeyedSeq=function(){return this},e(O,M),O.of=function(){return O(arguments)},O.prototype.toIndexedSeq=function(){return this},O.prototype.toString=function(){return this.__toString("Seq [","]")},O.prototype.__iterate=function(e,t){return W(this,e,t,!1)},O.prototype.__iterator=function(e,t){return H(this,e,t,!1)},e(A,M),A.of=function(){return A(arguments)},A.prototype.toSetSeq=function(){return this},M.isSeq=F,M.Keyed=N,M.Set=A,M.Indexed=O;var kn="@@__IMMUTABLE_SEQ__@@";M.prototype[kn]=!0,e(I,O),I.prototype.get=function(e,t){return this.has(e)?this._array[m(this,e)]:t},I.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(e(n[t?r-o:o],o,this)===!1)return o+1;return o},I.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new E(function(){return o>r?T():w(e,o,n[t?r-o++:o++])})},e(R,N),R.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},R.prototype.has=function(e){return this._object.hasOwnProperty(e)},R.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(e(n[a],a,this)===!1)return i+1}return i},R.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new E(function(){var a=r[t?o-i:i];return i++>o?T():w(e,a,n[a])})},R.prototype[hn]=!0,e(D,O),D.prototype.__iterateUncached=function(e,t){
if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=k(n),o=0;if(S(r))for(var i;!(i=r.next()).done&&e(i.value,o++,this)!==!1;);return o},D.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=k(n);if(!S(r))return new E(T);var o=0;return new E(function(){var t=r.next();return t.done?t:w(e,o++,t.value)})},e(L,O),L.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,r=this._iteratorCache,o=0;o<r.length;)if(e(r[o],o++,this)===!1)return o;for(var i;!(i=n.next()).done;){var a=i.value;if(r[o]=a,e(a,o++,this)===!1)break}return o},L.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new E(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return w(e,o,r[o++])})};var Pn;e(J,O),J.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},J.prototype.get=function(e,t){return this.has(e)?this._value:t},J.prototype.includes=function(e){return Y(this._value,e)},J.prototype.slice=function(e,t){var n=this.size;return v(e,t,n)?this:new J(this._value,b(t,n)-y(e,n))},J.prototype.reverse=function(){return this},J.prototype.indexOf=function(e){return Y(this._value,e)?0:-1},J.prototype.lastIndexOf=function(e){return Y(this._value,e)?this.size:-1},J.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},J.prototype.__iterator=function(e,t){var n=this,r=0;return new E(function(){return r<n.size?w(e,r++,n._value):T()})},J.prototype.equals=function(e){return e instanceof J?Y(this._value,e._value):X(e)};var _n;e(Z,O),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Z.prototype.get=function(e,t){return this.has(e)?this._start+m(this,e)*this._step:t},Z.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Z.prototype.slice=function(e,t){return v(e,t,this.size)?this:(e=y(e,this.size),t=b(t,this.size),t<=e?new Z(0,0):new Z(this.get(e,this._end),this.get(t,this._end),this._step))},Z.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Z.prototype.lastIndexOf=function(e){return this.indexOf(e)},Z.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(e(o,i,this)===!1)return i+1;o+=t?-r:r}return i},Z.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new E(function(){var a=o;return o+=t?-r:r,i>n?T():w(e,i++,a)})},Z.prototype.equals=function(e){return e instanceof Z?this._start===e._start&&this._end===e._end&&this._step===e._step:X(this,e)};var Mn;e(ee,t),e(te,ee),e(ne,ee),e(re,ee),ee.Keyed=te,ee.Indexed=ne,ee.Set=re;var Nn,On="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(e,t){e=0|e,t=0|t;var n=65535&e,r=65535&t;return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0},An=Object.isExtensible,In=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Rn="function"==typeof WeakMap;Rn&&(Nn=new WeakMap);var Dn=0,Ln="__immutablehash__";"function"==typeof Symbol&&(Ln=Symbol(Ln));var Fn=16,Bn=255,jn=0,qn={};e(pe,te),pe.prototype.toString=function(){return this.__toString("Map {","}")},pe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},pe.prototype.set=function(e,t){return Te(this,e,t)},pe.prototype.setIn=function(e,t){return this.updateIn(e,vn,function(){return t})},pe.prototype.remove=function(e){return Te(this,e,vn)},pe.prototype.deleteIn=function(e){return this.updateIn(e,function(){return vn})},pe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},pe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=Re(this,Ot(e),t,n);return r===vn?void 0:r},pe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):we()},pe.prototype.merge=function(){return Ne(this,void 0,arguments)},pe.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return Ne(this,e,t)},pe.prototype.mergeIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,we(),function(e){return"function"==typeof e.merge?e.merge.apply(e,t):t[t.length-1]})},pe.prototype.mergeDeep=function(){return Ne(this,Oe,arguments)},pe.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return Ne(this,Ae(e),t)},pe.prototype.mergeDeepIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,we(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]})},pe.prototype.sort=function(e){return Qe(xt(this,e))},pe.prototype.sortBy=function(e,t){return Qe(xt(this,t,e))},pe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},pe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new h)},pe.prototype.asImmutable=function(){return this.__ensureOwner()},pe.prototype.wasAltered=function(){return this.__altered},pe.prototype.__iterator=function(e,t){return new ye(this,e,t)},pe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},pe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ee(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},pe.isMap=he;var zn="@@__IMMUTABLE_MAP__@@",Un=pe.prototype;Un[zn]=!0,Un[dn]=Un.remove,Un.removeIn=Un.deleteIn,de.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(Y(n,o[i][0]))return o[i][1];return r},de.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===vn,l=this.entries,u=0,c=l.length;u<c&&!Y(r,l[u][0]);u++);var h=u<c;if(h?l[u][1]===o:s)return this;if(p(a),(s||!h)&&p(i),!s||1!==l.length){if(!h&&!s&&l.length>=Hn)return Pe(e,l,r,o);var f=e&&e===this.ownerID,m=f?l:d(l);return h?s?u===c-1?m.pop():m[u]=m.pop():m[u]=[r,o]:m.push([r,o]),f?(this.entries=m,this):new de(e,m)}},fe.prototype.get=function(e,t,n,r){void 0===t&&(t=ie(n));var o=1<<((0===e?t:t>>>e)&gn),i=this.bitmap;return 0===(i&o)?r:this.nodes[De(i&o-1)].get(e+fn,t,n,r)},fe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ie(r));var s=(0===t?n:n>>>t)&gn,l=1<<s,u=this.bitmap,c=0!==(u&l);if(!c&&o===vn)return this;var p=De(u&l-1),h=this.nodes,d=c?h[p]:void 0,f=Ce(d,e,t+fn,n,r,o,i,a);if(f===d)return this;if(!c&&f&&h.length>=Vn)return Me(e,h,u,s,f);if(c&&!f&&2===h.length&&Se(h[1^p]))return h[1^p];if(c&&f&&1===h.length&&Se(f))return f;var m=e&&e===this.ownerID,g=c?f?u:u^l:u|l,v=c?f?Le(h,p,f,m):Be(h,p,m):Fe(h,p,f,m);return m?(this.bitmap=g,this.nodes=v,this):new fe(e,g,v)},me.prototype.get=function(e,t,n,r){void 0===t&&(t=ie(n));var o=(0===e?t:t>>>e)&gn,i=this.nodes[o];return i?i.get(e+fn,t,n,r):r},me.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ie(r));var s=(0===t?n:n>>>t)&gn,l=o===vn,u=this.nodes,c=u[s];if(l&&!c)return this;var p=Ce(c,e,t+fn,n,r,o,i,a);if(p===c)return this;var h=this.count;if(c){if(!p&&(h--,h<Kn))return _e(e,u,h,s)}else h++;var d=e&&e===this.ownerID,f=Le(u,s,p,d);return d?(this.count=h,this.nodes=f,this):new me(e,h,f)},ge.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(Y(n,o[i][0]))return o[i][1];return r},ge.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ie(r));var s=o===vn;if(n!==this.keyHash)return s?this:(p(a),p(i),ke(this,e,t,n,[r,o]));for(var l=this.entries,u=0,c=l.length;u<c&&!Y(r,l[u][0]);u++);var h=u<c;if(h?l[u][1]===o:s)return this;if(p(a),(s||!h)&&p(i),s&&2===c)return new ve(e,this.keyHash,l[1^u]);var f=e&&e===this.ownerID,m=f?l:d(l);return h?s?u===c-1?m.pop():m[u]=m.pop():m[u]=[r,o]:m.push([r,o]),f?(this.entries=m,this):new ge(e,this.keyHash,m)},ve.prototype.get=function(e,t,n,r){return Y(n,this.entry[0])?this.entry[1]:r},ve.prototype.update=function(e,t,n,r,o,i,a){var s=o===vn,l=Y(r,this.entry[0]);return(l?o===this.entry[1]:s)?this:(p(a),s?void p(i):l?e&&e===this.ownerID?(this.entry[1]=o,this):new ve(e,this.keyHash,[r,o]):(p(i),ke(this,e,t,ie(r),[r,o])))},de.prototype.iterate=ge.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(e(n[t?o-r:r])===!1)return!1},fe.prototype.iterate=me.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&i.iterate(e,t)===!1)return!1}},ve.prototype.iterate=function(e,t){return e(this.entry)},e(ye,E),ye.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return be(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return be(e,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return be(e,i.entry);t=this._stack=xe(i,t)}continue}t=this._stack=this._stack.__prev}return T()};var Wn,Hn=mn/4,Vn=mn/2,Kn=mn/4;e(je,ne),je.of=function(){return this(arguments)},je.prototype.toString=function(){return this.__toString("List [","]")},je.prototype.get=function(e,t){if(e=m(this,e),e>=0&&e<this.size){e+=this._origin;var n=$e(this,e);return n&&n.array[e&gn]}return t},je.prototype.set=function(e,t){return Ve(this,e,t)},je.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},je.prototype.insert=function(e,t){return this.splice(e,0,t)},je.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=fn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):He()},je.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Ye(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},je.prototype.pop=function(){return Ye(this,0,-1)},je.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Ye(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},je.prototype.shift=function(){return Ye(this,1)},je.prototype.merge=function(){return Xe(this,void 0,arguments)},je.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return Xe(this,e,t)},je.prototype.mergeDeep=function(){return Xe(this,Oe,arguments)},je.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return Xe(this,Ae(e),t)},je.prototype.setSize=function(e){return Ye(this,0,e)},je.prototype.slice=function(e,t){var n=this.size;return v(e,t,n)?this:Ye(this,y(e,n),b(t,n))},je.prototype.__iterator=function(e,t){var n=0,r=Ue(this,t);return new E(function(){var t=r();return t===Xn?T():w(e,n++,t)})},je.prototype.__iterate=function(e,t){for(var n,r=0,o=Ue(this,t);(n=o())!==Xn&&e(n,r++,this)!==!1;);return r},je.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?We(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},je.isList=qe;var Gn="@@__IMMUTABLE_LIST__@@",$n=je.prototype;$n[Gn]=!0,$n[dn]=$n.remove,$n.setIn=Un.setIn,$n.deleteIn=$n.removeIn=Un.removeIn,$n.update=Un.update,$n.updateIn=Un.updateIn,$n.mergeIn=Un.mergeIn,$n.mergeDeepIn=Un.mergeDeepIn,$n.withMutations=Un.withMutations,$n.asMutable=Un.asMutable,$n.asImmutable=Un.asImmutable,$n.wasAltered=Un.wasAltered,ze.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&gn;if(r>=this.array.length)return new ze([],e);var o,i=0===r;if(t>0){var a=this.array[r];if(o=a&&a.removeBefore(e,t-fn,n),o===a&&i)return this}if(i&&!o)return this;var s=Ge(this,e);if(!i)for(var l=0;l<r;l++)s.array[l]=void 0;return o&&(s.array[r]=o),s},ze.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r=n-1>>>t&gn;if(r>=this.array.length)return this;var o;if(t>0){var i=this.array[r];if(o=i&&i.removeAfter(e,t-fn,n),o===i&&r===this.array.length-1)return this}var a=Ge(this,e);return a.array.splice(r+1),o&&(a.array[r]=o),a};var Yn,Xn={};e(Qe,pe),Qe.of=function(){return this(arguments)},Qe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Qe.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Qe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):tt()},Qe.prototype.set=function(e,t){return nt(this,e,t)},Qe.prototype.remove=function(e){return nt(this,e,vn)},Qe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Qe.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Qe.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Qe.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?et(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Qe.isOrderedMap=Ze,Qe.prototype[hn]=!0,Qe.prototype[dn]=Qe.prototype.remove;var Jn;e(rt,N),rt.prototype.get=function(e,t){return this._iter.get(e,t)},rt.prototype.has=function(e){return this._iter.has(e)},rt.prototype.valueSeq=function(){return this._iter.valueSeq()},rt.prototype.reverse=function(){var e=this,t=ut(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},rt.prototype.map=function(e,t){var n=this,r=lt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},rt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?kt(this):0,function(o){return e(o,t?--n:n++,r)}),t)},rt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(En,t),r=t?kt(this):0;return new E(function(){var o=n.next();return o.done?o:w(e,t?--r:r++,o.value,o)})},rt.prototype[hn]=!0,e(ot,O),ot.prototype.includes=function(e){return this._iter.includes(e)},ot.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},ot.prototype.__iterator=function(e,t){var n=this._iter.__iterator(En,t),r=0;return new E(function(){var t=n.next();return t.done?t:w(e,r++,t.value,t)})},e(it,A),it.prototype.has=function(e){return this._iter.includes(e)},it.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},it.prototype.__iterator=function(e,t){var n=this._iter.__iterator(En,t);return new E(function(){var t=n.next();return t.done?t:w(e,t.value,t.value,t)})},e(at,N),at.prototype.entrySeq=function(){return this._iter.toSeq()},at.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){St(t);var r=i(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},at.prototype.__iterator=function(e,t){var n=this._iter.__iterator(En,t);return new E(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){St(r);var o=i(r);return w(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},ot.prototype.cacheResult=rt.prototype.cacheResult=it.prototype.cacheResult=at.prototype.cacheResult=Mt,e(At,te),At.prototype.toString=function(){return this.__toString(Rt(this)+" {","}")},At.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},At.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},At.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=It(this,we()))},At.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Rt(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:It(this,n)},At.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:It(this,t)},At.prototype.wasAltered=function(){return this._map.wasAltered()},At.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterator(e,t)},At.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterate(e,t)},At.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?It(this,t,e):(this.__ownerID=e,this._map=t,this)};var Qn=At.prototype;Qn[dn]=Qn.remove,Qn.deleteIn=Qn.removeIn=Un.removeIn,Qn.merge=Un.merge,Qn.mergeWith=Un.mergeWith,Qn.mergeIn=Un.mergeIn,Qn.mergeDeep=Un.mergeDeep,Qn.mergeDeepWith=Un.mergeDeepWith,Qn.mergeDeepIn=Un.mergeDeepIn,Qn.setIn=Un.setIn,Qn.update=Un.update,Qn.updateIn=Un.updateIn,Qn.withMutations=Un.withMutations,Qn.asMutable=Un.asMutable,Qn.asImmutable=Un.asImmutable,e(Ft,re),Ft.of=function(){return this(arguments)},Ft.fromKeys=function(e){return this(n(e).keySeq())},Ft.prototype.toString=function(){return this.__toString("Set {","}")},Ft.prototype.has=function(e){return this._map.has(e)},Ft.prototype.add=function(e){return jt(this,this._map.set(e,!0))},Ft.prototype.remove=function(e){return jt(this,this._map.remove(e))},Ft.prototype.clear=function(){return jt(this,this._map.clear())},Ft.prototype.union=function(){var e=ln.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},Ft.prototype.intersect=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return o(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.every(function(e){return e.includes(t)})||n.remove(t)})})},Ft.prototype.subtract=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return o(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.remove(t)})})},Ft.prototype.merge=function(){return this.union.apply(this,arguments)},Ft.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return this.union.apply(this,t)},Ft.prototype.sort=function(e){return Ut(xt(this,e))},Ft.prototype.sortBy=function(e,t){return Ut(xt(this,t,e))},Ft.prototype.wasAltered=function(){return this._map.wasAltered()},Ft.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},Ft.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Ft.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Ft.isSet=Bt;var Zn="@@__IMMUTABLE_SET__@@",er=Ft.prototype;er[Zn]=!0,er[dn]=er.remove,er.mergeDeep=er.merge,er.mergeDeepWith=er.mergeWith,er.withMutations=Un.withMutations,er.asMutable=Un.asMutable,er.asImmutable=Un.asImmutable,er.__empty=zt,er.__make=qt;var tr;e(Ut,Ft),Ut.of=function(){return this(arguments)},Ut.fromKeys=function(e){return this(n(e).keySeq())},Ut.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ut.isOrderedSet=Wt;var nr=Ut.prototype;nr[hn]=!0,nr.__empty=Vt,nr.__make=Ht;var rr;e(Kt,ne),Kt.of=function(){return this(arguments)},Kt.prototype.toString=function(){return this.__toString("Stack [","]")},Kt.prototype.get=function(e,t){var n=this._head;for(e=m(this,e);n&&e--;)n=n.next;return n?n.value:t},Kt.prototype.peek=function(){return this._head&&this._head.value},Kt.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):$t(e,t)},Kt.prototype.pushAll=function(e){if(e=r(e),0===e.size)return this;ce(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):$t(t,n)},Kt.prototype.pop=function(){return this.slice(1)},Kt.prototype.unshift=function(){return this.push.apply(this,arguments)},Kt.prototype.unshiftAll=function(e){return this.pushAll(e)},Kt.prototype.shift=function(){return this.pop.apply(this,arguments)},Kt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yt()},Kt.prototype.slice=function(e,t){if(v(e,t,this.size))return this;var n=y(e,this.size),r=b(t,this.size);if(r!==this.size)return ne.prototype.slice.call(this,e,t);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):$t(o,i)},Kt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?$t(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Kt.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&e(r.value,n++,this)!==!1;)r=r.next;return n},Kt.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new E(function(){if(r){var t=r.value;return r=r.next,w(e,n++,t)}return T()})},Kt.isStack=Gt;var or="@@__IMMUTABLE_STACK__@@",ir=Kt.prototype;ir[or]=!0,ir.withMutations=Un.withMutations,ir.asMutable=Un.asMutable,ir.asImmutable=Un.asImmutable,ir.wasAltered=Un.wasAltered;var ar;t.Iterator=E,Xt(t,{toArray:function(){ce(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new ot(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new rt(this,(!0))},toMap:function(){return pe(this.toKeyedSeq())},toObject:function(){ce(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Qe(this.toKeyedSeq())},toOrderedSet:function(){return Ut(a(this)?this.valueSeq():this)},toSet:function(){return Ft(a(this)?this.valueSeq():this)},toSetSeq:function(){return new it(this)},toSeq:function(){return s(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Kt(a(this)?this.valueSeq():this)},toList:function(){return je(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=ln.call(arguments,0);return Ct(this,gt(this,e))},includes:function(e){return this.some(function(t){return Y(t,e)})},entries:function(){return this.__iterator(wn)},every:function(e,t){ce(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return Ct(this,ct(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return ce(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){ce(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(xn)},map:function(e,t){return Ct(this,lt(this,e,t))},reduce:function(e,t,n){ce(this.size);var r,o;return arguments.length<2?o=!0:r=t,this.__iterate(function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ct(this,ut(this,!0))},slice:function(e,t){return Ct(this,dt(this,e,t,!0))},some:function(e,t){return!this.every(Zt(e),t)},sort:function(e){return Ct(this,xt(this,e))},values:function(){return this.__iterator(En)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return f(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return pt(this,e,t)},equals:function(e){return X(this,e)},entrySeq:function(){var e=this;if(e._cache)return new I(e._cache);var t=e.toSeq().map(Qt).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Zt(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(g)},flatMap:function(e,t){return Ct(this,yt(this,e,t))},flatten:function(e){return Ct(this,vt(this,e,!0))},fromEntrySeq:function(){return new at(this)},get:function(e,t){return this.find(function(t,n){return Y(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,o=Ot(e);!(n=o.next()).done;){var i=n.value;if(r=r&&r.get?r.get(i,vn):vn,r===vn)return t}return r},groupBy:function(e,t){return ht(this,e,t)},has:function(e){return this.get(e,vn)!==vn},hasIn:function(e){return this.getIn(e,vn)!==vn},isSubset:function(e){return e="function"==typeof e.includes?e:t(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e="function"==typeof e.isSubset?e:t(e),e.isSubset(this)},keySeq:function(){return this.toSeq().map(Jt).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return Et(this,e)},maxBy:function(e,t){return Et(this,t,e)},min:function(e){return Et(this,e?en(e):rn)},minBy:function(e,t){return Et(this,t?en(t):rn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Ct(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Ct(this,mt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Zt(e),t)},sortBy:function(e,t){return Ct(this,xt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Ct(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Ct(this,ft(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Zt(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var sr=t.prototype;sr[un]=!0,sr[Sn]=sr.values,sr.__toJS=sr.toArray,sr.__toStringMapper=tn,sr.inspect=sr.toSource=function(){return this.toString()},sr.chain=sr.flatMap,sr.contains=sr.includes,function(){try{Object.defineProperty(sr,"length",{get:function(){if(!t.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(e.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Xt(n,{flip:function(){return Ct(this,st(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return Y(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return Y(t,e)})},mapEntries:function(e,t){var n=this,r=0;return Ct(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Ct(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var lr=n.prototype;lr[cn]=!0,lr[Sn]=sr.entries,lr.__toJS=sr.toObject,lr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+tn(e)},Xt(r,{toKeyedSeq:function(){return new rt(this,(!1))},filter:function(e,t){return Ct(this,ct(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return Ct(this,ut(this,!1))},slice:function(e,t){return Ct(this,dt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=y(e,e<0?this.count():this.size);var r=this.slice(0,e);return Ct(this,1===n?r:r.concat(d(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return Ct(this,vt(this,e,!1))},get:function(e,t){return e=m(this,e),e<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=m(this,e),e>=0&&(void 0!==this.size?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return Ct(this,bt(this,e))},interleave:function(){var e=[this].concat(d(arguments)),t=Tt(this.toSeq(),O.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Ct(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Ct(this,mt(this,e,t,!1))},zip:function(){var e=[this].concat(d(arguments));return Ct(this,Tt(this,nn,e))},zipWith:function(e){var t=d(arguments);return t[0]=this,Ct(this,Tt(this,e,t))}}),r.prototype[pn]=!0,r.prototype[hn]=!0,Xt(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=sr.includes,Xt(N,n.prototype),Xt(O,r.prototype),Xt(A,o.prototype),Xt(te,n.prototype),Xt(ne,r.prototype),Xt(re,o.prototype);var ur={Iterable:t,Seq:M,Collection:ee,Map:pe,OrderedMap:Qe,List:je,Stack:Kt,Set:Ft,OrderedSet:Ut,Record:At,Range:Z,Repeat:J,is:Y,fromJS:V};return ur})},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(340),a=i.connect,s=n(341),l=s.StyleSheet,u=n(279),c=u.View,p=n(329),h=n(330),d=n(331),f=n(332),m=n(277),g=m.setPageSize,v=n(200),y=v.keyIdPropType,b=n(199),x=b.KeypadTypes,E=b.LayoutModes,w=n(333),T=w.row,C=w.centered,S=w.fullWidth,k=n(262),P=k.innerBorderColor,_=k.innerBorderStyle,M=k.innerBorderWidthPx,N=k.compactKeypadBorderRadiusPx,O=o.createClass({displayName:"KeypadContainer",propTypes:{active:o.PropTypes.bool,extraKeys:o.PropTypes.arrayOf(y),keypadType:o.PropTypes.oneOf(Object.keys(x)).isRequired,layoutMode:o.PropTypes.oneOf(Object.keys(E)).isRequired,navigationPadEnabled:o.PropTypes.bool.isRequired,onDismiss:o.PropTypes.func,onElementMounted:o.PropTypes.func,onPageSizeChange:o.PropTypes.func.isRequired,style:o.PropTypes.any},getInitialState:function(){return{hasBeenActivated:!1,viewportWidth:"100vw"}},componentWillMount:function(){this.props.active&&this.setState({hasBeenActivated:this.props.active})},componentDidMount:function(){this._onResize(),window.addEventListener("resize",this._throttleResizeHandler),window.addEventListener("orientationchange",this._throttleResizeHandler)},componentWillReceiveProps:function(e){!this.state.hasBeenActivated&&e.active&&this.setState({hasBeenActivated:!0})},componentDidUpdate:function(e){e.active&&!this.props.active&&this.props.onDismiss&&this.props.onDismiss()},componentWillUnmount:function(){window.removeEventListener("resize",this._throttleResizeHandler),window.removeEventListener("orientationchange",this._throttleResizeHandler)},_throttleResizeHandler:function(){var e=this;null==this._resizeTimeout&&(this._resizeTimeout=setTimeout(function(){e._resizeTimeout=null,e._onResize()},66))},_onResize:function(){this.setState({viewportWidth:window.innerWidth}),this.props.onPageSizeChange(window.innerWidth,window.innerHeight)},renderKeypad:function(){var e=this.props,t=e.extraKeys,n=e.keypadType,r=e.layoutMode,i=e.navigationPadEnabled,a={
extraKeys:t,roundTopLeft:r===E.COMPACT&&!i,roundTopRight:r===E.COMPACT};switch(n){case x.FRACTION:return o.createElement(p,a);case x.EXPRESSION:return o.createElement(h,a);default:throw new Error("Invalid keypad type: "+n)}},render:function(){var e=this,t=this.props,n=t.active,i=t.layoutMode,a=t.navigationPadEnabled,s=t.onElementMounted,l=t.style,u=this.state.hasBeenActivated,p=r({},n?D.active:D.hidden,n||u?{}:D.invisible),h=[T,C,S,R.keypadContainer].concat(Array.isArray(l)?l:[l]),f=[T,R.keypadBorder,i===E.FULLSCREEN?R.fullscreen:R.compact];return o.createElement(c,{style:h,dynamicStyle:p},o.createElement(c,{style:f,ref:function(t){!e.hasMounted&&t&&(e.hasMounted=!0,s(t))}},a&&o.createElement(d,{roundTopLeft:i===E.COMPACT,style:R.navigationPadContainer}),o.createElement(c,{style:R.keypadLayout},this.renderKeypad())))}}),A=300,I=1,R=l.create({keypadContainer:{bottom:0,left:0,right:0,position:"fixed",transition:A+"ms ease-out",transitionProperty:"transform",zIndex:f.keypad},keypadBorder:{boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.1)",borderColor:"rgba(0, 0, 0, 0.2)",borderStyle:"solid"},fullscreen:{borderTopWidth:I},compact:{borderTopRightRadius:N,borderTopLeftRadius:N,borderTopWidth:I,borderRightWidth:I,borderLeftWidth:I},navigationPadContainer:{borderRight:M+"px "+_+" "+P,boxSizing:"content-box"},keypadLayout:{flexGrow:1,flexBasis:"0%"}}),D={invisible:{visibility:"hidden"},hidden:{msTransform:"translate3d(0, 100%, 0)",WebkitTransform:"translate3d(0, 100%, 0)",transform:"translate3d(0, 100%, 0)"},active:{msTransform:"translate3d(0, 0, 0)",WebkitTransform:"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)"}},L=function(e){return r({},e.keypad,{layoutMode:e.layout.layoutMode,navigationPadEnabled:e.layout.navigationPadEnabled})},F=function(e){return{onPageSizeChange:function(t,n){e(g(t,n))}}};e.exports=a(L,F)(O)},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(262),a=i.cursorHandleRadiusPx,s=i.brightGreen,l=i.cursorHandleDistanceMultiplier,u=22,c=2*u,p=2*u,h=a,d=l*h+h,f=2*h,m=o.createClass({displayName:"CursorHandle",propTypes:{animateIntoPosition:o.PropTypes.bool,onTouchCancel:o.PropTypes.func.isRequired,onTouchEnd:o.PropTypes.func.isRequired,onTouchMove:o.PropTypes.func.isRequired,onTouchStart:o.PropTypes.func.isRequired,visible:o.PropTypes.bool.isRequired,x:o.PropTypes.number.isRequired,y:o.PropTypes.number.isRequired},getDefaultProps:function(){return{animateIntoPosition:!1,visible:!1,x:0,y:0}},render:function(){var e=this.props,t=e.x,n=e.y,i=e.animateIntoPosition,a=i?{msTransitionDuration:"100ms",WebkitTransitionDuration:"100ms",transitionDuration:"100ms",msTransitionProperty:"transform",WebkitTransitionProperty:"transform",transitionProperty:"transform"}:{},l="translate("+t+"px, "+n+"px)",m=r({position:"absolute",zIndex:4,left:-p/2,top:0,msTransform:l,WebkitTransform:l,transform:l,width:p,height:c},a),g={marginLeft:u-h};return o.createElement("span",{style:m,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.props.onTouchEnd,onTouchCancel:this.props.onTouchCancel},o.createElement("svg",{width:f,height:d,viewBox:"-"+h+" 0 "+f+" "+d,style:g},o.createElement("path",{d:"M 0 0\n                        L -"+.707*h+" "+.707*h+"\n                        A "+h+" "+h+", 0, 1, 0,\n                          "+.707*h+" "+.707*h+"\n                        Z",fill:s})))}});e.exports=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,i,a,s=n(387),l=window.MathQuill,u=n(334),c=n(269),p=n(199),h=p.DecimalSeparators,d=n(335),f=d.decimalSeparator,m=f===h.COMMA?",":".",g="write",v="cmd",y="keystroke",b=0,x=(o={},o[u.PLUS]={str:"+",fn:g},o[u.MINUS]={str:"-",fn:g},o[u.NEGATIVE]={str:"-",fn:g},o[u.TIMES]={str:"\\times",fn:g},o[u.DIVIDE]={str:"\\div",fn:g},o[u.DECIMAL]={str:m,fn:g},o[u.EQUAL]={str:"=",fn:g},o[u.NEQ]={str:"\\neq",fn:g},o[u.CDOT]={str:"\\cdot",fn:g},o[u.PERCENT]={str:"%",fn:g},o[u.LEFT_PAREN]={str:"(",fn:v},o[u.RIGHT_PAREN]={str:")",fn:v},o[u.SQRT]={str:"sqrt",fn:v},o[u.PI]={str:"pi",fn:v},o[u.THETA]={str:"theta",fn:v},o[u.RADICAL]={str:"nthroot",fn:v},o[u.LT]={str:"<",fn:g},o[u.LEQ]={str:"\\leq",fn:g},o[u.GT]={str:">",fn:g},o[u.GEQ]={str:"\\geq",fn:g},o[u.UP]={str:"Up",fn:y},o[u.DOWN]={str:"Down",fn:y},o[u.FRAC_INCLUSIVE]={str:"/",fn:v},o),E=(i={},i[u.LOG]="log",i[u.LN]="ln",i[u.SIN]="sin",i[u.COS]="cos",i[u.TAN]="tan",i),w=["+","-","\\cdot","\\times","\\div"],T=["=","\\neq","<","\\leq",">","\\geq"],C=["0","1","2","3","4","5","6","7","8","9"],S=["\\theta","\\pi"],k=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],P=[].concat(C,S,k.map(function(e){return e.toLowerCase()}),k.map(function(e){return e.toUpperCase()})),_=(a={},a[c.IN_PARENS]=u.JUMP_OUT_PARENTHESES,a[c.IN_SUPER_SCRIPT]=u.JUMP_OUT_EXPONENT,a[c.IN_SUB_SCRIPT]=u.JUMP_OUT_BASE,a[c.BEFORE_FRACTION]=u.JUMP_INTO_NUMERATOR,a[c.IN_NUMERATOR]=u.JUMP_OUT_NUMERATOR,a[c.IN_DENOMINATOR]=u.JUMP_OUT_DENOMINATOR,a),M=function(){function e(t){var n=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1],arguments.length<=2||void 0===arguments[2]?{}:arguments[2]);r(this,e),this.MQ=l.getInterface(2),this.mathField=this.MQ.MathField(t,{substituteTextarea:function(){return document.createElement("span")}}),this.callbacks=n}return e.prototype.focus=function(){var e=this.mathField.__controller;e.cursor.show(),e.blurred=!1},e.prototype.blur=function(){var e=this.mathField.__controller;e.cursor.hide(),e.blurred=!0},e.prototype._writeNormalFunction=function(e){this.mathField.write("\\"+e+"\\left(\\right)"),this.mathField.keystroke("Left")},e.prototype.pressKey=function(e){var t=this.mathField.__controller.cursor;if(e in x){var n=x[e],r=n.str,o=n.fn;r&&o&&this.mathField[o](r)}else if(Object.keys(E).includes(e))this._writeNormalFunction(E[e]);else if(e===u.FRAC_EXCLUSIVE){var i=t[this.MQ.L]===b;this.mathField.cmd("\\frac"),i&&this.mathField.keystroke("Left")}else e===u.LOG_N?(this.mathField.write("log_{ }\\left(\\right)"),this.mathField.keystroke("Left"),this.mathField.keystroke("Left"),this.mathField.keystroke("Left")):e===u.CUBE_ROOT?(this.mathField.write("\\sqrt[3]{}"),this.mathField.keystroke("Left")):e===u.EXP||e===u.EXP_2||e===u.EXP_3?this._handleExponent(t,e):e===u.JUMP_OUT_PARENTHESES||e===u.JUMP_OUT_EXPONENT||e===u.JUMP_OUT_BASE||e===u.JUMP_INTO_NUMERATOR||e===u.JUMP_OUT_NUMERATOR||e===u.JUMP_OUT_DENOMINATOR?this._handleJumpOut(t,e):e===u.BACKSPACE?this._handleBackspace(t):e===u.LEFT?this._handleLeftArrow(t):e===u.RIGHT||e===u.JUMP_OUT?this._handleRightArrow(t):/^[a-zA-Z]$/.test(e)?this.mathField[g](e):/^NUM_\d/.test(e)&&this.mathField[g](e[4]);return t.selection||t.show(),this.callbacks.onSelectionChanged&&this.callbacks.onSelectionChanged(t.selection),{context:this.contextForCursor(t)}},e.prototype.setCursorPosition=function(e,t,n){var r=n||document.elementFromPoint(e,t);if(r){var o=this.getCursor();if(r.hasAttribute("mq-root-block"))o.insAtRightEnd(this.mathField.__controller.root);else{var i=this.mathField.__controller,a=e-document.body.scrollLeft,l=t-document.body.scrollTop;i.seek(s(r),a,l).cursor.startSelection();var u=this._maybeFindCommand(o[this.MQ.L]);u&&u.endNode&&(o.insLeftOf(u.endNode),this.mathField.keystroke("Right"))}this.callbacks.onCursorMove&&this.callbacks.onCursorMove({context:this.contextForCursor(o)})}},e.prototype.getCursor=function(){return this.mathField.__controller.cursor},e.prototype.getSelection=function(){return this.getCursor().selection},e.prototype.getContent=function(){return this.mathField.latex()},e.prototype.setContent=function(e){this.mathField.latex(e)},e.prototype.isEmpty=function(){var e=this.getCursor();return 1===e.parent.id&&0===e[1]&&0===e[-1]},e.prototype._handleBackspaceInNthRoot=function(e){var t=e[this.MQ.L]===b,n=this._isInsideEmptyNode(e.parent.parent.blocks[0].ends);t?(this._selectNode(e.parent.parent,e),n&&this.mathField.keystroke("Backspace")):this.mathField.keystroke("Backspace")},e.prototype._handleJumpOut=function(e,t){var n=this.contextForCursor(e);if(_[n]===t)switch(n){case c.IN_PARENS:e.insRightOf(e.parent.parent);break;case c.BEFORE_FRACTION:for(var r=void 0,o=e;o[this.MQ.R]!==b;)this._isFraction(o[this.MQ.R])&&(r=o[this.MQ.R]),o=o[this.MQ.R];e.insLeftOf(r),this.mathField.keystroke("Right");break;case c.IN_NUMERATOR:for(var i=e.parent.parent.blocks[1];e.parent!==i;)this.mathField.keystroke("Right");break;case c.IN_DENOMINATOR:e.insRightOf(e.parent.parent);break;case c.IN_SUB_SCRIPT:e.insRightOf(e.parent.parent),this._isParens(e[this.MQ.R])&&this.mathField.keystroke("Right");break;case c.IN_SUPER_SCRIPT:e.insRightOf(e.parent.parent);break;default:throw new Error("Attempted to 'Jump Out' from node, but found no appropriate cursor context: "+n)}},e.prototype._handleBackspace=function(e){if(e.selection)this.mathField.keystroke("Backspace");else{var t=e.parent,n=t.parent,r=e[this.MQ.L];this._isFraction(r)?this._selectNode(r,e):this._isSquareRoot(r)?this._selectNode(r,e):this._isNthRoot(r)?this._selectNode(r,e):this._isNthRootIndex(t)?this._handleBackspaceInRootIndex(e):"\\left("===r.ctrlSeq?this._handleBackspaceOutsideParens(e):"\\left("===n.ctrlSeq?this._handleBackspaceInsideParens(e):this._isInsideLogIndex(e)?this._handleBackspaceInLogIndex(e):"\\ge "===r.ctrlSeq||"\\le "===r.ctrlSeq?this._handleBackspaceAfterLigaturedSymbol(e):this._isNthRoot(n)&&r===b?this._handleBackspaceInNthRoot(e):this.mathField.keystroke("Backspace")}},e.prototype._handleLeftArrow=function(e){if(e[this.MQ.L]===b){var t=e.parent,n=t.parent;if("\\left("===n.ctrlSeq){var r=this._maybeFindCommandBeforeParens(n);if(r)return void e.insLeftOf(r.startNode)}}this.mathField.keystroke("Left")},e.prototype._handleRightArrow=function(e){var t=this._maybeFindCommand(e[this.MQ.R]);t?(e.insLeftOf(t.endNode),this.mathField.keystroke("Right")):this.mathField.keystroke("Right")},e.prototype._handleExponent=function(e,t){var n=[].concat(w,T),r=e[this.MQ.L],o=r===b||n.includes(r.ctrlSeq.trim());switch(o&&this.mathField.write("\\left(\\right)"),t){case u.EXP:this.mathField.cmd("^");break;case u.EXP_2:case u.EXP_3:this.mathField.write("^"+(t===u.EXP_2?2:3)),o&&(this.mathField.keystroke("Left"),this.mathField.keystroke("Left"),this.mathField.keystroke("Left"),this.mathField.keystroke("Left"));break;default:throw new Error("Invalid exponent key: "+t)}},e.prototype._maybeFindCommand=function(e){if(!e)return null;for(var t=/^[a-z]$/,n=/^\\[a-z]$/,r="\\left(",o=["\\log","\\ln","\\cos","\\sin","\\tan"],i="",a=void 0,s=void 0,l=e;0!==l;){var u=l.ctrlSeq.trim();if(!t.test(u)){if(n.test(u)){i=u+i,a=l;break}break}i=u+i,l=l[this.MQ.L]}if(a){for(l=e[this.MQ.R];0!==l;){var c=l.ctrlSeq.trim();if(t.test(c))i+=c;else if(c===r){s=l;break}l=l[this.MQ.R]}return o.includes(i)?{name:i,startNode:a,endNode:s}:null}return null},e.prototype._maybeFindCommandBeforeParens=function(e){return this._maybeFindCommand(e[this.MQ.L])},e.prototype._selectNode=function(e,t){t.insLeftOf(e),t.startSelection(),t.insRightOf(e),t.select(),t.endSelection()},e.prototype._isFraction=function(e){return e.jQ&&e.jQ.hasClass("mq-fraction")},e.prototype._isNumerator=function(e){return e.jQ&&e.jQ.hasClass("mq-numerator")},e.prototype._isDenominator=function(e){return e.jQ&&e.jQ.hasClass("mq-denominator")},e.prototype._isSubScript=function(e){return e.jQ&&(e.jQ.hasClass("mq-sub-only")||e.jQ.hasClass("mq-sub"))},e.prototype._isSuperScript=function(e){return e.jQ&&(e.jQ.hasClass("mq-sup-only")||e.jQ.hasClass("mq-sup"))},e.prototype._isParens=function(e){return e&&"\\left("===e.ctrlSeq},e.prototype._isLeaf=function(e){return e&&e.ctrlSeq&&P.includes(e.ctrlSeq.trim())},e.prototype._isSquareRoot=function(e){return e.blocks&&e.blocks[0].jQ&&e.blocks[0].jQ.hasClass("mq-sqrt-stem")},e.prototype._isNthRoot=function(e){return e.blocks&&e.blocks[0].jQ&&e.blocks[0].jQ.hasClass("mq-nthroot")},e.prototype._isNthRootIndex=function(e){return e.jQ&&e.jQ.hasClass("mq-nthroot")},e.prototype._isInsideLogIndex=function(e){var t=e.parent.parent;if(t&&t.jQ.hasClass("mq-supsub")){var n=this._maybeFindCommandBeforeParens(t);if(n&&"\\log"===n.name)return!0}return!1},e.prototype._isInsideEmptyNode=function(e){return e[this.MQ.L]===b&&e[this.MQ.R]===b},e.prototype._handleBackspaceInRootIndex=function(e){if(this._isInsideEmptyNode(e)){var t=e.parent.parent,n=t.latex(),r=t[this.MQ.L];this._selectNode(t,e);var o=""===t.blocks[1].jQ.text();o?this.mathField.keystroke("Backspace"):(this.mathField.keystroke("Backspace"),this.mathField.write(n.replace(/^\\sqrt\[\]/,"\\sqrt")),r===b?this.mathField.moveToDirEnd(this.MQ.L):e.insRightOf(r))}else e[this.MQ.L]!==b&&this.mathField.keystroke("Backspace")},e.prototype._handleBackspaceInLogIndex=function(e){if(this._isInsideEmptyNode(e)){var t=e.parent.parent,n=this._maybeFindCommandBeforeParens(t);e.insLeftOf(n.startNode),e.startSelection(),t[this.MQ.R]!==b?e.insRightOf(t[this.MQ.R]):e.insRightOf(t),e.select(),e.endSelection();var r=""===t[this.MQ.R].contentjQ.text();r&&this.mathField.keystroke("Backspace")}else this.mathField.keystroke("Backspace")},e.prototype._handleBackspaceOutsideParens=function(e){var t=e[this.MQ.L],n=e[this.MQ.R],r=this._maybeFindCommandBeforeParens(t);r&&r.startNode?(e.insLeftOf(r.startNode),e.startSelection(),n===b?e.insAtRightEnd(e.parent):e.insLeftOf(n),e.select(),e.endSelection()):(e.startSelection(),e.insLeftOf(t),e.select(),e.endSelection())},e.prototype._handleBackspaceInsideParens=function(e){if(e[this.MQ.L]!==b)return void this.mathField.keystroke("Backspace");var t=e.parent.parent;if(t[this.MQ.L].sub&&t[this.MQ.L].sub.jQ.text())return void e.insAtRightEnd(t[this.MQ.L].sub);var n=this._isInsideEmptyNode(e),r=this._maybeFindCommandBeforeParens(t);e.insLeftOf(r&&r.startNode||t),e.startSelection(),e.insRightOf(t),e.select(),e.endSelection(),n&&this.mathField.keystroke("Backspace")},e.prototype._handleBackspaceAfterLigaturedSymbol=function(e){this.mathField.keystroke("Backspace"),this.mathField.keystroke("Backspace")},e.prototype.contextForCursor=function(e){for(var t=e;t[this.MQ.R]!==b;){if(this._isFraction(t[this.MQ.R]))return c.BEFORE_FRACTION;if(!this._isLeaf(t[this.MQ.R]))break;t=t[this.MQ.R]}return this._isParens(e.parent&&e.parent.parent)?c.IN_PARENS:this._isNumerator(e.parent)?c.IN_NUMERATOR:this._isDenominator(e.parent)?c.IN_DENOMINATOR:this._isSubScript(e.parent)?c.IN_SUB_SCRIPT:this._isSuperScript(e.parent)?c.IN_SUPER_SCRIPT:c.NONE},e.prototype._isAtTopLevel=function(e){return!e.parent.parent},e}();e.exports=M},function(e,t,n){"use strict";var r=n(262),o=r.toolbarHeightPx,i=function(e,t){var n=e.getBoundingClientRect(),r=n.bottom,i=n.top,a=16;if(t){var s=window.innerHeight,l=t.clientHeight,u=s-(l+o);if(r>u){var c=Math.min(r-u+a,i);return void(document.body.scrollTop+=c)}}i<a&&(document.body.scrollTop-=n.height+a)};e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=8,i=function(){function e(t,n){r(this,e),this._scrollListener=function(){t()};for(var i={},a=0;a<n.changedTouches.length;a++){var s=n.changedTouches[a];i[s.identifier]=[s.clientX,s.clientY]}this._moveListener=function(e){for(var n=0;n<e.changedTouches.length;n++){var r=e.changedTouches[n],a=i[r.identifier];if(a){var s=[r.clientX,r.clientY],l=s[0]-a[0],u=s[1]-a[1],c=l*l+u*u,p=o*o;c>p&&t()}}},this._endAndCancelListener=function(e){for(var t=0;t<e.changedTouches.length;t++)delete i[e.changedTouches[t].identifier]}}return e.prototype.attach=function(){window.addEventListener("scroll",this._scrollListener),window.addEventListener("touchmove",this._moveListener),window.addEventListener("touchend",this._endAndCancelListener),window.addEventListener("touchcancel",this._endAndCancelListener)},e.prototype.detach=function(){window.removeEventListener("scroll",this._scrollListener),window.removeEventListener("touchmove",this._moveListener),window.removeEventListener("touchend",this._endAndCancelListener),window.removeEventListener("touchcancel",this._endAndCancelListener)},e}();e.exports=i},function(e,t,n){"use strict";var r="#D6D8DA";e.exports={brightGreen:"#78C008",gray17:"#21242C",gray25:"#3B3E40",gray68:"#888D93",gray76:"#BABEC2",gray85:r,iconSizeHeightPx:48,iconSizeWidthPx:48,compactKeypadBorderRadiusPx:4,cursorHandleRadiusPx:11,cursorHandleDistanceMultiplier:1.41,valueGrey:"#FFF",operatorGrey:"#FAFAFA",controlGrey:"#F6F7F7",emptyGrey:"#F0F1F2",innerBorderColor:r,innerBorderStyle:"solid",innerBorderWidthPx:1,tabletCutoffPx:600,pageIndicatorHeightPx:16,navigationPadWidthPx:192,toolbarHeightPx:60}},function(e,t,n){var r=n(55),o=1e-9,i=Math.pow(2,-42),a={DEFAULT_TOLERANCE:o,EPSILON:i,is:function(e){return r.isNumber(e)&&!r.isNaN(e)},equal:function(e,t,n){return null==e||null==t?e===t:e===t||(null==n&&(n=o),Math.abs(e-t)<n)},sign:function(e,t){return a.equal(e,0,t)?0:Math.abs(e)/e},isInteger:function(e,t){return a.equal(Math.round(e),e,t)},round:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},roundTo:function(e,t){return Math.round(e/t)*t},floorTo:function(e,t){return Math.floor(e/t)*t},ceilTo:function(e,t){return Math.ceil(e/t)*t},toFraction:function(e,t,n){n=n||1e3,t=t||i;for(var r=[1,0],o=[0,1],s=Math.floor(e),l=e-s;o[0]<=n;){if(a.equal(r[0]/o[0],e,t))return[r[0],o[0]];r=[s*r[0]+r[1],r[0]],o=[s*o[0]+o[1],o[0]],s=Math.floor(1/l),l=1/l-s}return[e,1]}};e.exports=a},function(e,t,n){function r(e){return i.reduce(e,function(e,t){return e+t},0)}function o(e){return i.reduce(e,function(e,t){return e*t},1)}var i=n(55),a=n(263),s={is:function(e,t){return!!i.isArray(e)&&((void 0===t||e.length===t)&&i.all(e,a.is))},normalize:function(e){return s.scale(e,1/s.length(e))},length:function(e){return Math.sqrt(s.dot(e,e))},dot:function(e,t){var n=i.toArray(arguments),a=i.zip.apply(i,n),s=i.map(a,o);return r(s)},add:function(){var e=i.toArray(arguments),t=i.zip.apply(i,e);return i.map(t,r)},subtract:function(e,t){return i.map(i.zip(e,t),function(e){return e[0]-e[1]})},negate:function(e){return i.map(e,function(e){return-e})},scale:function(e,t){return i.map(e,function(e){return e*t})},equal:function(e,t,n){return i.all(i.zip(e,t),function(e){return a.equal(e[0],e[1],n)})},codirectional:function(e,t,n){return!(!a.equal(s.length(e),0,n)&&!a.equal(s.length(t),0,n))||(e=s.normalize(e),t=s.normalize(t),s.equal(e,t,n))},collinear:function(e,t,n){return s.codirectional(e,t,n)||s.codirectional(e,s.negate(t),n)},polarRadFromCart:function(e){var t=s.length(e),n=Math.atan2(e[1],e[0]);return n<0&&(n+=2*Math.PI),[t,n]},polarDegFromCart:function(e){var t=s.polarRadFromCart(e);return[t[0],180*t[1]/Math.PI]},cartFromPolarRad:function(e,t){return i.isUndefined(t)&&(t=e[1],e=e[0]),[e*Math.cos(t),e*Math.sin(t)]},cartFromPolarDeg:function(e,t){return i.isUndefined(t)&&(t=e[1],e=e[0]),s.cartFromPolarRad(e,t*Math.PI/180)},rotateRad:function(e,t){var n=s.polarRadFromCart(e),r=n[1]+t;return s.cartFromPolarRad(n[0],r)},rotateDeg:function(e,t){var n=s.polarDegFromCart(e),r=n[1]+t;return s.cartFromPolarDeg(n[0],r)},angleRad:function(e,t){return Math.acos(s.dot(e,t)/(s.length(e)*s.length(t)))},angleDeg:function(e,t){return 180*s.angleRad(e,t)/Math.PI},projection:function(e,t){var n=s.dot(e,t)/s.dot(t,t);return s.scale(t,n)},round:function(e,t){return i.map(e,function(e,n){return a.round(e,t[n]||t)})},roundTo:function(e,t){return i.map(e,function(e,n){return a.roundTo(e,t[n]||t)})},floorTo:function(e,t){return i.map(e,function(e,n){return a.floorTo(e,t[n]||t)})},ceilTo:function(e,t){return i.map(e,function(e,n){return a.ceilTo(e,t[n]||t)})}};e.exports=s},function(e,t,n){var r=n(55),o=n(264),i=n(263),a={rotateRad:function(e,t,n){return void 0===n?o.rotateRad(e,t):o.add(n,o.rotateRad(o.subtract(e,n),t))},rotateDeg:function(e,t,n){return void 0===n?o.rotateDeg(e,t):o.add(n,o.rotateDeg(o.subtract(e,n),t))},distanceToPoint:function(e,t){return o.length(o.subtract(e,t))},distanceToLine:function(e,t){var n=o.subtract(t[1],t[0]),r=o.subtract(e,t[0]),i=o.projection(r,n),a=o.subtract(i,r);return o.length(a)},reflectOverLine:function(e,t){var n=o.subtract(t[1],t[0]),r=o.subtract(e,t[0]),i=o.projection(r,n),a=o.subtract(o.scale(i,2),r);return o.add(t[0],a)},compare:function(e,t,n){if(e.length!==t.length)return e.length-t.length;for(var r=0;r<e.length;r++)if(!i.equal(e[r],t[r],n))return e[r]-t[r];return 0}};r.extend(a,{is:o.is,addVector:o.add,addVectors:o.add,subtractVector:o.subtract,equal:o.equal,polarRadFromCart:o.polarRadFromCart,polarDegFromCart:o.polarDegFromCart,cartFromPolarRad:o.cartFromPolarRad,cartFromPolarDeg:o.cartFromPolarDeg,round:o.round,roundTo:o.roundTo,floorTo:o.floorTo,ceilTo:o.ceilTo}),e.exports=a},function(e,t,n){var r=n(265),o=n(264),i={distanceToPoint:function(e,t){return r.distanceToLine(t,e)},reflectPoint:function(e,t){return r.reflectOverLine(t,e)},midpoint:function(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},equal:function(e,t,n){var i=o.subtract(e[1],e[0]),a=o.subtract(t[1],t[0]);if(!o.collinear(i,a,n))return!1;if(r.equal(e[0],t[0]))return!0;var s=o.subtract(t[0],e[0]);return o.collinear(i,s,n)}};e.exports=i},function(e,t,n){var r=n(264),o=n(265),i={equal:function(e,t,n){var i=r.subtract(e[1],e[0]),a=r.subtract(t[1],t[0]),s=o.equal(e[0],t[0]),l=r.codirectional(i,a,n);return s&&l}};e.exports=i},function(e,t,n){"use strict";var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(334),a=n(199),s=a.DecimalSeparators,l=a.IconTypes,u=a.KeyTypes,c=n(335),p=c.decimalSeparator,h=(r={},r[i.PLUS]={type:u.OPERATOR,ariaLabel:i18n._("Plus")},r[i.MINUS]={type:u.OPERATOR,ariaLabel:i18n._("Minus")},r[i.NEGATIVE]={type:u.VALUE,ariaLabel:i18n._("Negative")},r[i.TIMES]={type:u.OPERATOR,ariaLabel:i18n._("Multiply")},r[i.DIVIDE]={type:u.OPERATOR,ariaLabel:i18n._("Divide")},r[i.DECIMAL]={type:u.VALUE,ariaLabel:i18n._("Decimal"),icon:p===s.COMMA?{type:l.TEXT,data:","}:{type:l.SVG,data:i.PERIOD}},r[i.PERCENT]={type:u.OPERATOR,ariaLabel:i18n._("Percent")},r[i.CDOT]={type:u.OPERATOR,ariaLabel:i18n._("Multiply")},r[i.EQUAL]={type:u.OPERATOR,ariaLabel:i18n._("Equals sign")},r[i.NEQ]={type:u.OPERATOR,ariaLabel:i18n._("Not-equals sign")},r[i.GT]={type:u.OPERATOR,ariaLabel:i18n._("Greater than sign")},r[i.LT]={type:u.OPERATOR,ariaLabel:i18n._("Less than sign")},r[i.GEQ]={type:u.OPERATOR,ariaLabel:i18n._("Greater than or equal to sign")},r[i.LEQ]={type:u.OPERATOR,ariaLabel:i18n._("Less than or equal to sign")},r[i.FRAC_INCLUSIVE]={type:u.OPERATOR,ariaLabel:i18n._("Fraction, with current expression in numerator")},r[i.FRAC_EXCLUSIVE]={type:u.OPERATOR,ariaLabel:i18n._("Fraction, excluding the current expression")},r[i.EXP]={type:u.OPERATOR,ariaLabel:i18n._("Custom exponent")},r[i.EXP_2]={type:u.OPERATOR,ariaLabel:i18n._("Square")},r[i.EXP_3]={type:u.OPERATOR,ariaLabel:i18n._("Cube")},r[i.SQRT]={type:u.OPERATOR,ariaLabel:i18n._("Square root")},r[i.CUBE_ROOT]={type:u.OPERATOR,ariaLabel:i18n._("Cube root")},r[i.RADICAL]={type:u.OPERATOR,ariaLabel:i18n._("Radical with custom root")},r[i.LEFT_PAREN]={type:u.OPERATOR,ariaLabel:i18n._("Left parenthesis")},r[i.RIGHT_PAREN]={type:u.OPERATOR,ariaLabel:i18n._("Right parenthesis")},r[i.LN]={type:u.OPERATOR,ariaLabel:i18n._("Natural logarithm")},r[i.LOG]={type:u.OPERATOR,ariaLabel:i18n._("Logarithm with base 10")},r[i.LOG_N]={type:u.OPERATOR,ariaLabel:i18n._("Logarithm with custom base")},r[i.SIN]={type:u.OPERATOR,ariaLabel:i18n._("Sine")},r[i.COS]={type:u.OPERATOR,ariaLabel:i18n._("Cosine")},r[i.TAN]={type:u.OPERATOR,ariaLabel:i18n._("Tangent")},r[i.PI]={type:u.VALUE,ariaLabel:i18n._("Pi"),icon:{type:l.MATH,data:"\\pi"}},r[i.THETA]={type:u.VALUE,ariaLabel:i18n._("Theta"),icon:{type:l.MATH,data:"\\theta"}},r[i.NOOP]={type:u.EMPTY},r[i.UP]={type:u.INPUT_NAVIGATION,ariaLabel:i18n._("Up arrow")},r[i.RIGHT]={type:u.INPUT_NAVIGATION,ariaLabel:i18n._("Right arrow")},r[i.DOWN]={type:u.INPUT_NAVIGATION,ariaLabel:i18n._("Down arrow")},r[i.LEFT]={type:u.INPUT_NAVIGATION,ariaLabel:i18n._("Left arrow")},r[i.JUMP_OUT_PARENTHESES]={type:u.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of a set of parentheses")},r[i.JUMP_OUT_EXPONENT]={type:u.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of an exponent")},r[i.JUMP_OUT_BASE]={type:u.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of a base")},r[i.JUMP_INTO_NUMERATOR]={type:u.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right into the numerator of a fraction")},r[i.JUMP_OUT_NUMERATOR]={type:u.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of the numerator and into the denominator")},r[i.JUMP_OUT_DENOMINATOR]={type:u.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of the denominator of a fraction")},r[i.BACKSPACE]={type:u.INPUT_NAVIGATION,ariaLabel:i18n._("Delete")},r[i.DISMISS]={type:u.KEYPAD_NAVIGATION,ariaLabel:i18n._("Dismiss")},r);h[i.FRAC_MULTI]={childKeyIds:[i.FRAC_INCLUSIVE,i.FRAC_EXCLUSIVE]},h[i.MANY]={type:u.MANY};for(var d=[0,1,2,3,4,5,6,7,8,9],f=d,m=Array.isArray(f),g=0,f=m?f:f[Symbol.iterator]();;){var v;if(m){if(g>=f.length)break;v=f[g++]}else{if(g=f.next(),g.done)break;v=g.value}var y=v,b=""+y;h["NUM_"+y]={type:u.VALUE,ariaLabel:b,icon:{type:l.TEXT,data:b}}}for(var x=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],E=x,w=Array.isArray(E),T=0,E=w?E:E[Symbol.iterator]();;){var C;if(w){if(T>=E.length)break;C=E[T++]}else{if(T=E.next(),T.done)break;C=T.value}for(var S=C,k=S.toLowerCase(),P=S.toUpperCase(),_=[k,P],M=0;M<_.length;M++){var N=_[M];h[N]={type:u.VALUE,ariaLabel:N,icon:{type:l.MATH,data:N}}}}for(var O=Object.keys(h),A=Array.isArray(O),I=0,O=A?O:O[Symbol.iterator]();;){var R;if(A){if(I>=O.length)break;R=O[I++]}else{if(I=O.next(),I.done)break;R=I.value}var D=R;h[D]=o({id:D,icon:{type:l.SVG,data:D}},h[D])}e.exports=h},function(e,t,n){"use strict";e.exports={NONE:"NONE",IN_PARENS:"IN_PARENS",IN_SUPER_SCRIPT:"IN_SUPER_SCRIPT",IN_SUB_SCRIPT:"IN_SUB_SCRIPT",IN_NUMERATOR:"IN_NUMERATOR",IN_DENOMINATOR:"IN_DENOMINATOR",BEFORE_FRACTION:"BEFORE_FRACTION"}},function(e,t,n){"use strict";var r=n(54),o=n(55),i=r.createClass({displayName:"ToggleableRadioButton",propTypes:{checked:r.PropTypes.bool.isRequired,inputRef:r.PropTypes.func,onChecked:r.PropTypes.func.isRequired},handleClick:function(e){this.props.onChecked(!this.props.checked)},handleKeyUp:function(e){" "===e.key&&(this.props.onChecked(!this.props.checked),e.preventDefault())},handleChange:function(e){!this.props.checked&&e.target.checked&&this.props.onChecked(!0)},handleKeyDown:function(e){" "===e.key&&e.preventDefault()},render:function(){var e=o.extend({},this.props,{type:"radio",onChange:this.handleChange,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,ref:this.props.inputRef});return r.createElement("input",e)}});e.exports=i},function(e,t,n){"use strict";var r=n(55),o=n(191),i=o.normalizeOptions,a=o.assert,s=n(201).point,l=["add","modify","draw","remove","onMoveStart","onMove","onMoveEnd","onClick"],u={cursor:null},c={added:!1,isHovering:!1,isMouseOver:!1,isDragging:!1,mouseTarget:null},p=function(e,t){r.extend(this,{graphie:e,state:{id:r.uniqueId("movable")}}),this.modify(r.extend({},c,t))};o.createGettersFor(p,r.extend({},u,c)),o.addMovableHelperMethodsTo(p),r.extend(p.prototype,{cloneState:function(){return r.clone(this.state)},_createDefaultState:function(){return r.extend({id:this.state.id,add:[],modify:[],draw:[],remove:[],onMoveStart:[],onMove:[],onMoveEnd:[],onClick:[]},u)},modify:function(e){this.update(r.extend({},this._createDefaultState(),e))},grab:function(e){a(s.is(e));var t=this,n=t.graphie,r=t.state;r.isHovering=!0,r.isDragging=!0,n.isDragging=!0;var o=e,i=o;t._fireEvent(r.onMoveStart,o,o);var l=function(e){e.preventDefault();var o=n.getMouseCoord(e);t._fireEvent(r.onMove,o,i),t.draw(),i=o},u=function e(a){$(document).unbind("vmousemove",l),$(document).unbind("vmouseup",e),r.isHovering&&t._fireEvent(r.onClick,i,o),r.isHovering=t.state.isMouseOver,r.isDragging=!1,n.isDragging=!1,t._fireEvent(r.onMoveEnd,i,o),t.draw()};$(document).bind("vmousemove",l),$(document).bind("vmouseup",u)},update:function(e){var t=this,n=t.graphie,o=t.cloneState(),a=r.extend(t.state,i(l,e));if(a.mouseTarget&&!o.mouseTarget){var s;s=a.mouseTarget.getMouseTarget?$(a.mouseTarget.getMouseTarget()):$(a.mouseTarget[0]);var u=!("ontouchstart"in window);u&&(s.on("vmouseover",function(){a.isMouseOver=!0,n.isDragging||(a.isHovering=!0),t.state.added&&t.draw()}),s.on("vmouseout",function(){a.isMouseOver=!1,a.isDragging||(a.isHovering=!1),t.state.added&&t.draw()})),s.on("vmousedown",function(e){if(0===e.which||1===e.which){e.preventDefault();var r=n.getMouseCoord(e);t.grab(r)}})}if(a.mouseTarget&&void 0!==a.cursor){var s;s=a.mouseTarget.getMouseTarget?$(a.mouseTarget.getMouseTarget()):$(a.mouseTarget[0]),s.css("cursor",a.cursor||"")}a.added||(t._fireEvent(a.modify,t.cloneState(),{}),a.added=!0,t.prevState=t.cloneState()),t._fireEvent(a.modify,t.cloneState(),t.prevState)},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.state.mouseTarget&&($(this.state.mouseTarget).off(),this.state.mouseTarget.remove(),this.state.mouseTarget=null)},toBack:function(){this.state.mouseTarget&&this.state.mouseTarget.toBack()},toFront:function(){this.state.mouseTarget&&this.state.mouseTarget.toFront()}}),e.exports=p},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(55),i=n(336),a=n(283),s=n(191),l=n(74),u=s.assert,c=s.normalizeOptions,p=n(201).point,h=n(201).vector,d=n(211),f=n(281).processMath,m=n(40),g=m.iconTrash,v=n(54),y=n(58),b=n(41),x=o.keys(i),E={coord:[0,0],pointSize:4,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,shadow:!1,tooltip:!1},w={added:!1,hasMoved:!1,visibleShape:null,outOfBounds:!1,mouseTarget:null,touchOffset:null},T=[],C=function(e,t,n){o.extend(this,{graphie:e,movable:t,state:{id:o.uniqueId("movablePoint")}}),this.modify(o.extend({},w,n))};o.extend(C,i),s.createGettersFor(C,o.extend({},E,w)),s.addMovableHelperMethodsTo(C),o.extend(C.prototype,{cloneState:function(){return o.extend(this.movable.cloneState(),this.state)},_createDefaultState:function(){return o.extend({id:this.state.id},c(x,l.pluck(i,"standard")),E)},modify:function(e){this.update(o.extend(this._createDefaultState(),e))},_showTooltip:function(e){var t=this;this._tooltip||(this._tooltip=document.createElement("div"),this._tooltip.className="tooltip-content",this.state.visibleShape.wrapper.className="tooltip",this.state.visibleShape.wrapper.appendChild(this._tooltip),T.push(function(){t.state.added&&t._hideTooltip()})),this._tooltip.firstChild&&this._tooltip.removeChild(this._tooltip.firstChild),this.state.visibleShape.wrapper.className="tooltip visible",this._tooltip.appendChild(document.createElement("span")),"string"==typeof e?f(this._tooltip.firstChild,e,!1):"function"==typeof e?e(this._tooltip.firstChild):this._tooltip.firstChild.appendChild(e)},_hideTooltip:function(){this._tooltip&&(this.state.visibleShape.wrapper.className="tooltip")},update:function(e){var t=this,n=this,i=n.graphie,s=o.extend(n.state,c(x,e));u(p.is(s.coord));var l=s.static?d.DYNAMIC:d.INTERACTIVE;if(s.normalStyle=o.extend({fill:l,stroke:l,scale:1},s.normalStyle),s.highlightStyle=o.extend({fill:d.INTERACTING,stroke:d.INTERACTING,scale:2},s.highlightStyle),!s.static&&!s.mouseTarget){var f=n.state.coord,m=i.unscaleVector(24),e={mouselayer:!0,padding:0};s.mouseTarget=new a(i,f,m,e),s.mouseTarget.attr({fill:"#000",opacity:0})}var E=function(){t._showTooltip(function(e){y.render(v.createElement("span",{style:{fontSize:"2em"}},v.createElement(b,r({},g,{style:{position:"static",color:d.INTERACTIVE,marginLeft:9,marginRight:9}}))),e)})},w=s.coord;
n.movable.modify(o.extend({},s,{add:null,modify:null,draw:n.draw.bind(n),remove:null,onMoveStart:function(e){if(s.hasMoved=!1,w=s.coord,null==s.touchOffset){var r=!("ontouchstart"in window);s.touchOffset=r?[0,0]:h.subtract(w,e)}var o=s.visibleShape.wrapper;if(s.shadow){var i="none";o.style.webkitFilter=i,o.style.filter=i}if(s.showHairlines&&s.showHairlines(s.coord),T.forEach(function(e){return e()}),s.tooltip&&(s.xOnlyTooltip?t._showTooltip(""+s.coord[0]):t._showTooltip("("+s.coord[0]+", "+s.coord[1]+")"),s.shadow)){var a=o.getElementsByClassName("tooltip-content")[0],l="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";a.style.webkitFilter=l,a.style.filter=l}n._fireEvent(s.onMoveStart,w,w),n.draw()},onMove:function(e,r){var o=h.add(e,s.touchOffset);n.moveTo(o),s.showHairlines&&(t.state.outOfBounds?s.hideHairlines():s.showHairlines(s.coord)),s.tooltip&&(t.state.outOfBounds||(s.xOnlyTooltip?t._showTooltip(""+s.coord[0]):t._showTooltip("("+s.coord[0]+", "+s.coord[1]+")"))),s.onRemove&&t.state.outOfBounds&&E()},onMoveEnd:function(){n.isHovering()&&!s.hasMoved&&n._fireEvent(s.onClick,s.coord,w);var e=s.visibleShape.wrapper;if(s.shadow){var r="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";e.style.webkitFilter=r,e.style.filter=r}if(s.hideHairlines&&s.hideHairlines(),s.hasMoved)t._hideTooltip();else if(s.onRemove){E();var o=e.getElementsByClassName("tooltip-content")[0];o.style.webkitFilter="none",o.style.filter="none",t._tooltip.firstChild.addEventListener("touchstart",function(e){e.stopPropagation()},!0),t._tooltip.firstChild.addEventListener("touchend",function(e){s.onRemove(),e.stopPropagation()},!0)}else s.tooltip&&t._hideTooltip();s.outOfBounds&&s.onRemove(),n._fireEvent(s.onMoveEnd,s.coord,w),s.hasMoved=!1,s.touchOffset=null,n.draw()}})),s.added||(n.prevState={},n._fireEvent(s.add,n.cloneState(),n.prevState),s.added=!0,n.prevState=n.cloneState()),n._fireEvent(s.modify,n.cloneState(),n.prevState)},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.movable&&this.movable.remove(),this.state.mouseTarget=null},constrain:function(){var e=this._applyConstraints(this.coord(),this.coord());return p.is(e)&&this.setCoord(e),e!==!1},setCoord:function(e){u(p.is(e,2)),this.state.coord=o.clone(e),this.draw()},setCoordConstrained:function(e){u(p.is(e,2));var t=this._applyConstraints(e,this.coord());t!==!1&&(this.state.coord=o.clone(t),this.draw())},moveTo:function(e){var t=this,n=this.state;this.state.outOfBounds=!1;var r=this._applyConstraints(e,n.coord,n.onRemove?{onOutOfBounds:function(){t.state.outOfBounds=!0}}:{});if(r!==!1&&(p.is(r)&&(e=r),!p.equal(e,n.coord))){var o=n.coord;n.coord=e,n.hasMoved=!0,this._fireEvent(n.onMove,n.coord,o),this.draw()}},normalStyle:function(){return o.clone(this.state.normalStyle)},highlightStyle:function(){return o.clone(this.state.highlightStyle)},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()},grab:function(e){this.state.touchOffset=[0,0],this.movable.grab(e),this.moveTo(e)}}),e.exports=C},function(e,t,n){"use strict";var r=n(55),o=n(337),i=n(210),a=n(191),s=n(74),l=a.assert,u=a.normalizeOptions,c=n(201).vector,p=n(211),h=["add","draw","remove","onMoveStart","constraints","onMove","onMoveEnd"],d={points:null,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,extendLine:!1,extendRay:!1},f={visibleShape:null,mouseTarget:null},m=function(e,t,n){l(null!=e),l(null!=n),r.extend(this,{graphie:e,movable:t,state:{id:r.uniqueId("movableLine")}}),this.modify(r.extend({},f,n))};r.extend(m,o),a.createGettersFor(m,r.extend({},d,f)),a.addMovableHelperMethodsTo(m),r.extend(m.prototype,{cloneState:function(){return r.extend(this.movable.cloneState(),{coords:this.coords()},this.state)},_createDefaultState:function(){return r.extend({id:this.state.id},u(h,s.pluck(o,"standard")),d)},modify:function(e){this.update(r.extend(this._createDefaultState(),e))},update:function(e){var t=this,n=this.graphie,o=t.state=r.extend(t.state,u(h,e)),a=o.static?p.DYNAMIC:p.INTERACTIVE;if(o.normalStyle=r.extend({stroke:a,"stroke-width":2},o.normalStyle),o.highlightStyle=r.extend({stroke:p.INTERACTING,"stroke-width":3},o.highlightStyle),!o.static&&!o.mouseTarget){var e={thickness:30,mouselayer:!0};o.mouseTarget=new i(n,this.coord(0),this.coord(1),e),o.mouseTarget.attr({fill:"#000",opacity:0})}o.static&&o.mouseTarget&&(o.mouseTarget.remove(),o.mouseTarget=null),t.movable.modify(r.extend({},o,{mouseTarget:o.mouseTarget,add:null,modify:null,draw:t.draw.bind(t),remove:null,onMoveStart:function(){t._initialRefCoord=t.coord(0),t._prevRefCoord=t._initialRefCoord,t._totalDelta=[0,0],t._fireEvent(t.state.onMoveStart,t.coord(0),t.coord(0))},onMove:function(e,n){var r=c.subtract(e,n);t._totalDelta=c.add(t._totalDelta,r);var o=c.add(t._initialRefCoord,t._totalDelta);o=t._applyConstraints(o,t._prevRefCoord),o!==!1&&(t._fireEvent(t.state.onMove,o,t._prevRefCoord),t._prevRefCoord=o)},onMoveEnd:function(){t._fireEvent(t.state.onMoveEnd,t._prevRefCoord,t._initialRefCoord)}})),o.added||(t.prevState={},t._fireEvent(o.add,t.cloneState(),t.prevState),o.added=!0,r.invoke(o.points,"listen","onMove",o.id,t.draw.bind(t)),t.prevState=t.cloneState()),t._fireEvent(o.modify,t.cloneState(),t.prevState)},coords:function(){return r.invoke(this.state.points,"coord")},point:function(e){return this.state.points[e]},coord:function(e){return this.point(e).coord()},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.points&&r.invoke(this.points,"unlisten","onMove",this.state.id),this.movable&&this.movable.remove()},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()}}),e.exports=m},function(e,t,n){"use strict";var r=n(201).vector,o=n(55),i=n(338),a=n(191),s=n(74),l=a.assert,u=a.normalizeOptions,c=n(211),p=n(192),h=o.keys(i),d={points:null,angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],closed:!0,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,labelStyle:null},f={added:!1,hasMoved:!1,visibleShape:null,mouseTarget:null},m=function(e,t,n){l(null!=e),l(null!=n),o.extend(this,{graphie:e,movable:t,state:{id:o.uniqueId("movablePolygon")}}),this.modify(o.extend({},f,n))};o.extend(m,i),a.createGettersFor(m,o.extend({},d,f)),a.addMovableHelperMethodsTo(m),o.extend(m.prototype,{cloneState:function(){return o.extend(this.movable.cloneState(),this.state)},_createDefaultState:function(){return o.extend({id:this.state.id},u(h,s.pluck(i,"standard")),d)},modify:function(e){this.update(o.extend(this._createDefaultState(),e))},update:function(e){var t=this,n=t.graphie,i=o.extend(t.state,u(h,e)),a=i.static?c.DYNAMIC:c.INTERACTIVE;i.normalStyle=o.extend({},i.normalStyle,{"stroke-width":2,"fill-opacity":0,fill:a,stroke:a},e.normalStyle),i.highlightStyle=o.extend({},{stroke:c.INTERACTING,"stroke-width":2,fill:c.INTERACTING,"fill-opacity":.05},i.highlightStyle),i.labelStyle=o.extend({},{stroke:c.DYNAMIC,"stroke-width":1,color:c.DYNAMIC},i.labelStyle),i.static||i.mouseTarget||(i.mouseTarget=n.mouselayer.path(this.path()),i.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"})),t.movable.modify(o.extend({},i,{modify:null,draw:t.draw.bind(t),remove:null,onMoveStart:function(){t._initialRefCoord=t.coord(0),t._prevRefCoord=t._initialRefCoord,t._totalDelta=[0,0],t._fireEvent(t.state.onMoveStart,t.coord(0),t.coord(0))},onMove:function(e,n){var o=r.subtract(e,n);t._totalDelta=r.add(t._totalDelta,o);var i=r.add(t._initialRefCoord,t._totalDelta);i=t._applyConstraints(i,t._prevRefCoord),i!==!1&&(t._fireEvent(t.state.onMove,i,t._prevRefCoord),t._prevRefCoord=i)},onMoveEnd:function(){t._fireEvent(t.state.onMoveEnd,t._prevRefCoord,t._initialRefCoord)}})),o.invoke(i.points,"listen","onMove",i.id,t.draw.bind(t)),i.added||(t.prevState={},t._fireEvent(i.add,t.cloneState(),t.prevState),i.added=!0,t.prevState=t.cloneState()),t._fireEvent(i.modify,t.cloneState(),t.prevState)},path:function(e){var t=this.graphie;e=e||this.state;var n=o.map(e.points,function(e){return t.scalePoint(e.coord())});return e.closed?n.push(!0):n=n.concat(o.clone(n).reverse()),p.unscaledSvgPath(n)},coords:function(){return o.invoke(this.state.points,"coord")},point:function(e){return this.state.points[e]},coord:function(e){return this.point(e).coord()},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.state.points&&o.invoke(this.state.points,"unlisten","onMove",this.state.id),this.movable&&this.movable.remove(),this.state.mouseTarget=null},constrain:function(){if(null!=this.points&&0!==this.points.length){var e=this.coord(0),t=this._applyConstraints(e,e);t!==!1&&this._fireEvent(this.state.onMove,t,e)}},normalStyle:function(){return o.clone(this.state.normalStyle)},highlightStyle:function(){return o.clone(this.state.highlightStyle)},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()}}),e.exports=m},function(e,t,n){"use strict";var r=n(55),o=n(191),i=n(74),a=n(201).vector,s=["attr","animate"],l=r.extend({transform:function(e){var t=o.getPrefixedTransform();this.wrapper.style[t]=e},toFront:function(){var e=this.wrapper.parentNode;e&&e.appendChild(this.wrapper)},toBack:function(){var e=this.wrapper.parentNode;e.firstChild!==this.wrapper&&e.insertBefore(this.wrapper,e.firstChild)},remove:function(){this.visibleShape.remove(),$(this.wrapper).remove()},getMouseTarget:function(){return this.visibleShape[0]},moveTo:function(e){var t=a.subtract(this.graphie.scalePoint(e),this.graphie.scalePoint(this.initialPoint)),n=o.getCanUse3dTransform(),r="translateX("+t[0]+"px) translateY("+t[1]+"px)"+(n?" translateZ(0)":"");this.transform(r)},hide:function(){this.visibleShape.hide()},show:function(){this.visibleShape.show()}},i.mapObjectFromArray(s,function(e){return function(){this.visibleShape[e].apply(this.visibleShape,arguments)}}));e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(389),a=r(i),s=n(228),l=function e(t,n,r,o){var i=n.reduce(s.recursiveMerge),a={},l={},u={};return Object.keys(i).forEach(function(e){":"===e[0]?u[e]=i[e]:"@"===e[0]?l[e]=i[e]:a[e]=i[e]}),c(t,a,r,o)+Object.keys(u).map(function(e){return c(t+e,u[e],r,o)}).join("")+Object.keys(l).map(function(n){var i=e(t,[l[n]],r,o);return n+"{"+i+"}"}).join("")};t.generateCSS=l;var u=function(e,t){var n={};return Object.keys(e).forEach(function(r){t&&t.hasOwnProperty(r)?n[r]=t[r](e[r]):n[r]=e[r]}),n},c=function(e,t,n,r){var i=u(t,n),l=(0,a.default)(i),c=(0,s.flatten)((0,s.objectToPairs)(l).map(function(e){var t=o(e,2),n=t[0],r=t[1];if(Array.isArray(r)){var i=function(){var e=[],t=[];return r.forEach(function(n){0===n.indexOf("-")?e.push(n):t.push(n)}),e.sort(),t.sort(),{v:e.concat(t).map(function(e){return[n,e]})}}();if("object"==typeof i)return i.v}return[[n,r]]})),p=c.map(function(e){var t=o(e,2),n=t[0],i=t[1],a=(0,s.stringifyValue)(n,i),l=(0,s.kebabifyStyleName)(n)+":"+a+";";return r===!1?l:(0,s.importantify)(l)}).join("");return p?e+"{"+p+"}":""};t.generateCSSRuleset=c},function(e,t,n){"use strict";e.exports={dismissKeypad:function(){return{type:"DismissKeypad"}},activateKeypad:function(){return{type:"ActivateKeypad"}},configureKeypad:function(e){return{type:"ConfigureKeypad",configuration:e}},setPageSize:function(e,t){return{type:"SetPageSize",pageWidthPx:e,pageHeightPx:t}},removeEcho:function(e){return{type:"RemoveEcho",animationId:e}},setKeyHandler:function(e){return{type:"SetKeyHandler",keyHandler:e}},setCursor:function(e){return{type:"SetCursor",cursor:e}}}},function(e,t,n){"use strict";var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(392),a=n(262),s=a.tabletCutoffPx,l=n(342),u=n(199),c=u.DeviceOrientations,p=u.DeviceTypes,h=u.EchoAnimationTypes,d=u.KeyTypes,f=u.KeypadTypes,m=u.LayoutModes,g=n(334),v=n(268),y=n(269),b=n(343),x=n(344),E=n(329),w=n(330),T=(r={},r[f.FRACTION]=E,r[f.EXPRESSION]=w,r),C=function(){var e={keyHandler:null,cursor:{context:y.NONE}},t=function(){var t=arguments.length<=0||void 0===arguments[0]?e:arguments[0],n=arguments[1];switch(n.type){case"SetKeyHandler":return o({},t,{keyHandler:n.keyHandler});case"PressKey":var r=v[n.key];return r.type!==d.KEYPAD_NAVIGATION?o({},t,{cursor:t.keyHandler(r.id)}):t;case"SetCursor":return o({},t,{cursor:n.cursor});default:return t}},n=f.EXPRESSION,r={extraKeys:["x","y",g.THETA,g.PI],keypadType:n,active:!1},a=function e(){var t=arguments.length<=0||void 0===arguments[0]?r:arguments[0],n=arguments[1];switch(n.type){case"DismissKeypad":return o({},t,{active:!1});case"ActivateKeypad":return o({},t,{active:!0});case"ConfigureKeypad":return o({},t,{extraKeys:[]},n.configuration);case"PressKey":var i=v[n.key];return i.id===g.DISMISS?e(t,{type:"DismissKeypad"}):t;default:return t}},u=function(e){return e-1},E={animateToPosition:!1,currentPage:u(T[n].numPages),dx:0,numPages:T[n].numPages,pageWidthPx:0,velocityTracker:new x},w=function e(){var t=arguments.length<=0||void 0===arguments[0]?E:arguments[0],n=arguments[1];switch(n.type){case"ConfigureKeypad":var r=n.configuration.keypadType,i=T[r].numPages;return o({},t,{numPages:i,animateToPosition:!1,currentPage:u(i),dx:0});case"SetPageSize":return o({},t,{pageWidthPx:n.pageWidthPx});case"PressKey":var a=v[n.key];return a.type===d.VALUE||a.type===d.OPERATOR?e(t,{type:"ResetKeypadPage"}):t;case"ResetKeypadPage":return o({},t,{animateToPosition:!0,currentPage:u(t.numPages),dx:0});case"PageKeypadRight":var s=Math.min(t.currentPage+1,t.numPages-1);return o({},t,{animateToPosition:!0,currentPage:s,dx:0});case"PageKeypadLeft":var l=Math.max(t.currentPage-1,0);return o({},t,{animateToPosition:!0,currentPage:l,dx:0});case"OnSwipeChange":return t.velocityTracker.push(n.dx),o({},t,{animateToPosition:!1,dx:n.dx});case"OnSwipeEnd":var c=t.pageWidthPx,p=t.velocityTracker,h=n.dx,f=p.getVelocity(),m=.1,g=10,y=h<-c/2||f<-m&&h<-g,b=h>c/2||f>m&&h>g;return y?e(t,{type:"PageKeypadRight"}):b?e(t,{type:"PageKeypadLeft"}):o({},t,{animateToPosition:!0,dx:0});default:return t}},C=function(e){return new b({swipeEnabled:e},{onSwipeChange:function(e){R.dispatch({type:"OnSwipeChange",dx:e})},onSwipeEnd:function(e){R.dispatch({type:"OnSwipeEnd",dx:e})},onActiveNodesChanged:function(e){R.dispatch({type:"SetActiveNodes",activeNodes:e})},onClick:function(e,t,n){R.dispatch(o({type:"PressKey",key:e},t,{inPopover:n}))}},[],[g.BACKSPACE,g.UP,g.RIGHT,g.DOWN,g.LEFT])},S={popover:null,focus:null,gestureManager:C(T[n].numPages>1)},k=function(){var e=arguments.length<=0||void 0===arguments[0]?S:arguments[0],t=arguments[1];switch(t.type){case"DismissKeypad":return e.gestureManager.disableEventTracking(),e;case"ActivateKeypad":return e.gestureManager.enableEventTracking(),e;case"SetActiveNodes":return o({},e,t.activeNodes);case"ConfigureKeypad":var n=t.configuration.keypadType,r=T[n].numPages,i=r>1;return{popover:null,focus:null,gestureManager:C(i)};default:return e}},P=0,_={echoes:[]},M=function(){var e=arguments.length<=0||void 0===arguments[0]?_:arguments[0],t=arguments[1];switch(t.type){case"PressKey":var n=v[t.key];return n.type===d.VALUE||n.type===d.OPERATOR?o({},e,{echoes:[].concat(e.echoes,[{animationId:""+P++,animationType:t.inPopover?h.LONG_FADE_ONLY:h.FADE_ONLY,borders:t.borders,id:n.id,initialBounds:t.initialBounds}])}):e;case"RemoveEcho":var r=e.echoes.filter(function(e){return e.animationId!==t.animationId});return o({},e,{echoes:r});default:return e}},N={gridDimensions:{numRows:T[n].rows,numColumns:T[n].columns,numMaxVisibleRows:T[n].maxVisibleRows,numPages:T[n].numPages},buttonDimensions:{widthPx:48,heightPx:48},pageDimensions:{pageWidthPx:0,pageHeightPx:0},layoutMode:m.FULLSCREEN,paginationEnabled:!1,navigationPadEnabled:!1},O=function(e,t){var n=e.pageWidthPx,r=e.pageHeightPx,i=n>r?c.LANDSCAPE:c.PORTRAIT,a=Math.min(n,r)>s?p.TABLET:p.PHONE,u=a===p.TABLET,h=a===p.PHONE&&i===c.PORTRAIT,d={deviceOrientation:i,deviceType:a},f={navigationPadEnabled:u,paginationEnabled:h,toolbarEnabled:!0};return o({},l(t,e,d,f),{navigationPadEnabled:u,paginationEnabled:h})},A=function(){var e=arguments.length<=0||void 0===arguments[0]?N:arguments[0],t=arguments[1];switch(t.type){case"ConfigureKeypad":var n=t.configuration.keypadType,r={numRows:T[n].rows,numColumns:T[n].columns,numMaxVisibleRows:T[n].maxVisibleRows,numPages:T[n].numPages};return o({},e,O(e.pageDimensions,r),{gridDimensions:r});case"SetPageSize":var i=t.pageWidthPx,a=t.pageHeightPx,s={pageWidthPx:i,pageHeightPx:a};return o({},e,O(s,e.gridDimensions),{pageDimensions:s});default:return e}},I=i.combineReducers({input:t,keypad:a,pager:w,gestures:k,echoes:M,layout:A}),R=i.createStore(I);return R};e.exports=C},function(e,t,n){"use strict";e.exports={Text:n(345),View:n(346)}},function(e,t,n){!function(){function e(){if(e.is(arguments[0],j)){for(var t=arguments[0],n=Xe[b](e,t.splice(0,3+e.is(t[0],F))),r=n.set(),o=0,i=t[M];o<i;o++){var a=t[o]||{};c[d](a.type)&&r[W](n[a.type]().attr(a))}return r}return Xe[b](e,arguments)}function t(){for(var e=[],t=0;t<32;t++)e[t]=(~~(16*O.random()))[q](16);return e[12]=4,e[16]=(3&e[16]|8)[q](16),"r-"+e[_]("")}function n(e,t,n){function r(){var o=Array[h].slice.call(arguments,0),i=o[_]("►"),a=r.cache=r.cache||{},s=r.count=r.count||[];return a[d](i)?n?n(a[i]):a[i]:(s[M]>=1e3&&delete a[s.shift()],s[W](i),a[i]=e[b](t,o),n?n(a[i]):a[i])}return r}function r(t,n,r,o,i){return i?e.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t+i,n,r-2*i,i,-i,o-2*i,2*i-r,2*i-o):e.format("M{0},{1}l{2},0,0,{3},{4},0z",t,n,r,o,-r)}function o(){return this.x+T+this.y}function i(t){return function(n,r,o,i){var a={back:t};return e.is(o,"function")?i=o:a.rot=o,n&&n.constructor==Ue&&(n=n.attrs.path),n&&(a.along=n),this.animate(a,r,i)}}function a(e,t,n,r,o,i){function a(e){return((p*e+c)*e+u)*e}function s(e,t){var n=l(e,t);return((f*n+d)*n+h)*n}function l(e,t){var n,r,o,i,s,l;for(o=e,l=0;l<8;l++){if(i=a(o)-e,R(i)<t)return o;if(s=(3*p*o+2*c)*o+u,R(s)<1e-6)break;o-=i/s}if(n=0,r=1,o=e,o<n)return n;if(o>r)return r;for(;n<r;){if(i=a(o),R(i-e)<t)return o;e>i?n=o:r=o,o=(r-n)/2+n}return o}var u=3*t,c=3*(r-t)-u,p=1-u-c,h=3*n,d=3*(o-n)-h,f=1-h-d;return s(e,1/(200*i))}var s;s="".trim?function(e,t,n){e.setAttribute(t,String(n).trim())}:function(e,t,n){e.setAttribute(t,String(n))},e.version="1.5.2";var l,u=/[, ]+/,c={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},p=/\{(\d+)\}/g,h="prototype",d="hasOwnProperty",f=document,m=window,g={was:Object[h][d].call(m,"Raphael"),is:m.Raphael},v=function(){this.customAttributes={}},y="appendChild",b="apply",x="concat",E="createTouch"in f,w="",T=" ",C=String,S="split",k="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[S](T),P={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},_="join",M="length",N=C[h].toLowerCase,O=Math,A=O.max,I=O.min,R=O.abs,D=O.pow,L=O.PI,F="number",B="string",j="array",q="toString",z="fill",U=Object[h][q],W="push",H=/^url\(['"]?([^\)]+?)['"]?\)$/i,V=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,K={NaN:1,Infinity:1,"-Infinity":1},G=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,$=O.round,Y=parseFloat,X=parseInt,J=" progid:DXImageTransform.Microsoft",Q=C[h].toUpperCase,Z={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},ee={along:"along",blur:F,"clip-rect":"csv",cx:F,cy:F,fill:"colour","fill-opacity":F,"font-size":F,height:F,opacity:F,path:"path",r:F,rotation:"csv",rx:F,ry:F,scale:"csv",stroke:"colour","stroke-opacity":F,"stroke-width":F,translation:"csv",width:F,x:F,y:F},te="replace",ne=/^(from|to|\d+%?)$/,re=/\s*,\s*/,oe={hs:1,rg:1},ie=/,?([achlmqrstvxz]),?/gi,ae=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,se=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,le=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,ue=function(e,t){return e.key-t.key};if(e.type=m.SVGAngle||f.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var ce,pe=f.createElement("div");if(pe.innerHTML='<v:shape adj="1"/>',ce=pe.firstChild,ce.style.behavior="url(#default#VML)",!ce||"object"!=typeof ce.adj)return e.type=null;pe=null}e.svg=!(e.vml="VML"==e.type),v[h]=e[h],l=v[h],e._id=0,e._oid=0,e.fn={},e.is=function(e,t){return t=N.call(t),"finite"==t?!K[d](+e):"null"==t&&null===e||t==typeof e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||U.call(e).slice(8,-1).toLowerCase()==t},e.angle=function(t,n,r,o,i,a){if(null==i){var s=t-r,l=n-o;return s||l?(180*(s<0)+180*O.atan(-l/-s)/L+360)%360:0}return e.angle(t,n,i,a)-e.angle(r,o,i,a)},e.rad=function(e){return e%360*L/180},e.deg=function(e){return 180*e/L%360},e.snapTo=function(t,n,r){if(r=e.is(r,"finite")?r:10,e.is(t,j)){for(var o=t.length;o--;)if(R(t[o]-n)<=r)return t[o]}else{t=+t;var i=n%t;if(i<r)return n-i;if(i>t-r)return n-i+t}return n},e.setWindow=function(e){m=e,f=m.document};var he=function(t){if(e.vml){var r,o=/^\s+|\s+$/g;try{var i=new ActiveXObject("htmlfile");i.write("<body>"),i.close(),r=i.body}catch(e){r=createPopup().document.body}var a=r.createTextRange();he=n(function(e){try{r.style.color=C(e)[te](o,w);var t=a.queryCommandValue("ForeColor");return t=(255&t)<<16|65280&t|(16711680&t)>>>16,"#"+("000000"+t[q](16)).slice(-6)}catch(e){return"none"}})}else{var s=f.createElement("i");s.title="Raphaël Colour Picker",s.style.display="none",f.body[y](s),he=n(function(e){return s.style.color=e,f.defaultView.getComputedStyle(s,w).getPropertyValue("color")})}return he(t)},de=function(){return"hsb("+[this.h,this.s,this.b]+")"},fe=function(){return"hsl("+[this.h,this.s,this.l]+")"},me=function(){return this.hex};e.hsb2rgb=function(t,n,r,o){return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,n=t.s,t=t.h,o=t.o),e.hsl2rgb(t,n,r/2,o)},e.hsl2rgb=function(t,n,r,o){e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,n=t.s,t=t.h),(t>1||n>1||r>1)&&(t/=360,n/=100,r/=100);var i,a,s,l={},u=["r","g","b"];if(n){i=r<.5?r*(1+n):r+n-r*n,a=2*r-i;for(var c=0;c<3;c++)s=t+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?l[u[c]]=a+6*(i-a)*s:2*s<1?l[u[c]]=i:3*s<2?l[u[c]]=a+(i-a)*(2/3-s)*6:l[u[c]]=a}else l={r:r,g:r,b:r};return l.r*=255,l.g*=255,l.b*=255,l.hex="#"+(16777216|l.b|l.g<<8|l.r<<16).toString(16).slice(1),e.is(o,"finite")&&(l.opacity=o),l.toString=me,l},e.rgb2hsb=function(t,n,r){if(null==n&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,n=t.g,t=t.r),null==n&&e.is(t,B)){var o=e.getRGB(t);t=o.r,n=o.g,r=o.b}(t>1||n>1||r>1)&&(t/=255,n/=255,r/=255);var i,a,s=A(t,n,r),l=I(t,n,r),u=s;if(l==s)return{h:0,s:0,b:s,toString:de};var c=s-l;return a=c/s,i=t==s?(n-r)/c:n==s?2+(r-t)/c:4+(t-n)/c,i/=6,i<0&&i++,i>1&&i--,{h:i,s:a,b:u,toString:de}},e.rgb2hsl=function(t,n,r){if(null==n&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,n=t.g,t=t.r),null==n&&e.is(t,B)){var o=e.getRGB(t);t=o.r,n=o.g,r=o.b}(t>1||n>1||r>1)&&(t/=255,n/=255,r/=255);var i,a,s,l=A(t,n,r),u=I(t,n,r),c=(l+u)/2;if(u==l)s={h:0,s:0,l:c};else{var p=l-u;a=c<.5?p/(l+u):p/(2-l-u),i=t==l?(n-r)/p:n==l?2+(r-t)/p:4+(t-n)/p,i/=6,i<0&&i++,i>1&&i--,s={h:i,s:a,l:c}}return s.toString=fe,s},e._path2string=function(){return this.join(",")[te](ie,"$1")},e.getRGB=n(function(t){if(!t||(t=C(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none"};!(oe[d](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=he(t));var n,r,o,i,a,s,l=t.match(V);return l?(l[2]&&(o=X(l[2].substring(5),16),r=X(l[2].substring(3,5),16),n=X(l[2].substring(1,3),16)),l[3]&&(o=X((a=l[3].charAt(3))+a,16),r=X((a=l[3].charAt(2))+a,16),n=X((a=l[3].charAt(1))+a,16)),l[4]&&(s=l[4][S](re),n=Y(s[0]),"%"==s[0].slice(-1)&&(n*=2.55),r=Y(s[1]),"%"==s[1].slice(-1)&&(r*=2.55),o=Y(s[2]),"%"==s[2].slice(-1)&&(o*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(i=Y(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100)),l[5]?(s=l[5][S](re),n=Y(s[0]),"%"==s[0].slice(-1)&&(n*=2.55),r=Y(s[1]),"%"==s[1].slice(-1)&&(r*=2.55),o=Y(s[2]),"%"==s[2].slice(-1)&&(o*=2.55),("deg"==s[0].slice(-3)||"°"==s[0].slice(-1))&&(n/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(i=Y(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100),e.hsb2rgb(n,r,o,i)):l[6]?(s=l[6][S](re),n=Y(s[0]),"%"==s[0].slice(-1)&&(n*=2.55),r=Y(s[1]),"%"==s[1].slice(-1)&&(r*=2.55),o=Y(s[2]),"%"==s[2].slice(-1)&&(o*=2.55),("deg"==s[0].slice(-3)||"°"==s[0].slice(-1))&&(n/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(i=Y(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100),e.hsl2rgb(n,r,o,i)):(l={r:n,g:r,b:o},l.hex="#"+(16777216|o|r<<8|n<<16).toString(16).slice(1),e.is(i,"finite")&&(l.opacity=i),l)):{r:-1,g:-1,b:-1,hex:"none",error:1}},e),e.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),n.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=n(function(t){if(!t)return null;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(t,j)&&e.is(t[0],j)&&(r=ve(t)),r[M]||C(t)[te](ae,function(e,t,o){var i=[],a=N.call(t);for(o[te](se,function(e,t){t&&i[W](+t)}),"m"==a&&i[M]>2&&(r[W]([t][x](i.splice(0,2))),a="l",t="m"==t?"l":"L");i[M]>=n[a]&&(r[W]([t][x](i.splice(0,n[a]))),n[a]););}),r[q]=e._path2string,r}),e.findDotsAtSegment=function(e,t,n,r,o,i,a,s,l){var u=1-l,c=D(u,3)*e+3*D(u,2)*l*n+3*u*l*l*o+D(l,3)*a,p=D(u,3)*t+3*D(u,2)*l*r+3*u*l*l*i+D(l,3)*s,h=e+2*l*(n-e)+l*l*(o-2*n+e),d=t+2*l*(r-t)+l*l*(i-2*r+t),f=n+2*l*(o-n)+l*l*(a-2*o+n),m=r+2*l*(i-r)+l*l*(s-2*i+r),g=(1-l)*e+l*n,v=(1-l)*t+l*r,y=(1-l)*o+l*a,b=(1-l)*i+l*s,x=90-180*O.atan((h-f)/(d-m))/L;return(h>f||d<m)&&(x+=180),{x:c,y:p,m:{x:h,y:d},n:{x:f,y:m},start:{x:g,y:v},end:{x:y,y:b},alpha:x}};var ge=n(function(e){if(!e)return{x:0,y:0,width:0,height:0};e=Se(e);for(var t,n=0,r=0,o=[],i=[],a=0,s=e[M];a<s;a++)if(t=e[a],"M"==t[0])n=t[1],r=t[2],o[W](n),i[W](r);else{var l=Ce(n,r,t[1],t[2],t[3],t[4],t[5],t[6]);o=o[x](l.min.x,l.max.x),i=i[x](l.min.y,l.max.y),n=t[5],r=t[6]}var u=I[b](0,o),c=I[b](0,i);return{x:u,y:c,width:A[b](0,o)-u,height:A[b](0,i)-c}}),ve=function(t){var n=[];e.is(t,j)&&e.is(t&&t[0],j)||(t=e.parsePathString(t));for(var r=0,o=t[M];r<o;r++){n[r]=[];for(var i=0,a=t[r][M];i<a;i++)n[r][i]=t[r][i]}return n[q]=e._path2string,n},ye=n(function(t){e.is(t,j)&&e.is(t&&t[0],j)||(t=e.parsePathString(t));var n=[],r=0,o=0,i=0,a=0,s=0;"M"==t[0][0]&&(r=t[0][1],o=t[0][2],i=r,a=o,s++,n[W](["M",r,o]));for(var l=s,u=t[M];l<u;l++){var c=n[l]=[],p=t[l];if(p[0]!=N.call(p[0]))switch(c[0]=N.call(p[0]),c[0]){case"a":c[1]=p[1],c[2]=p[2],c[3]=p[3],c[4]=p[4],c[5]=p[5],c[6]=+(p[6]-r).toFixed(3),c[7]=+(p[7]-o).toFixed(3);break;case"v":c[1]=+(p[1]-o).toFixed(3);break;case"m":i=p[1],a=p[2];default:for(var h=1,d=p[M];h<d;h++)c[h]=+(p[h]-(h%2?r:o)).toFixed(3)}else{c=n[l]=[],"m"==p[0]&&(i=p[1]+r,a=p[2]+o);for(var f=0,m=p[M];f<m;f++)n[l][f]=p[f]}var g=n[l][M];switch(n[l][0]){case"z":r=i,o=a;break;case"h":r+=+n[l][g-1];break;case"v":o+=+n[l][g-1];break;default:r+=+n[l][g-2],o+=+n[l][g-1]}}return n[q]=e._path2string,n},0,ve),be=n(function(t){e.is(t,j)&&e.is(t&&t[0],j)||(t=e.parsePathString(t));var n=[],r=0,o=0,i=0,a=0,s=0;"M"==t[0][0]&&(r=+t[0][1],o=+t[0][2],i=r,a=o,s++,n[0]=["M",r,o]);for(var l=s,u=t[M];l<u;l++){var c=n[l]=[],p=t[l];if(p[0]!=Q.call(p[0]))switch(c[0]=Q.call(p[0]),c[0]){case"A":c[1]=p[1],c[2]=p[2],c[3]=p[3],c[4]=p[4],c[5]=p[5],c[6]=+(p[6]+r),c[7]=+(p[7]+o);break;case"V":c[1]=+p[1]+o;break;case"H":c[1]=+p[1]+r;break;case"M":i=+p[1]+r,a=+p[2]+o;default:for(var h=1,d=p[M];h<d;h++)c[h]=+p[h]+(h%2?r:o)}else for(var f=0,m=p[M];f<m;f++)n[l][f]=p[f];switch(c[0]){case"Z":r=i,o=a;break;case"H":r=c[1];break;case"V":o=c[1];break;case"M":i=n[l][n[l][M]-2],a=n[l][n[l][M]-1];default:r=n[l][n[l][M]-2],o=n[l][n[l][M]-1]}}return n[q]=e._path2string,n},null,ve),xe=function(e,t,n,r){return[e,t,n,r,n,r]},Ee=function(e,t,n,r,o,i){var a=1/3,s=2/3;return[a*e+s*n,a*t+s*r,a*o+s*n,a*i+s*r,o,i]},we=function(e,t,r,o,i,a,s,l,u,c){var p,h=120*L/180,d=L/180*(+i||0),f=[],m=n(function(e,t,n){var r=e*O.cos(n)-t*O.sin(n),o=e*O.sin(n)+t*O.cos(n);return{x:r,y:o}});if(c)k=c[0],P=c[1],T=c[2],C=c[3];else{p=m(e,t,-d),e=p.x,t=p.y,p=m(l,u,-d),l=p.x,u=p.y;var g=(O.cos(L/180*i),O.sin(L/180*i),(e-l)/2),v=(t-u)/2,y=g*g/(r*r)+v*v/(o*o);y>1&&(y=O.sqrt(y),r=y*r,o=y*o);var b=r*r,E=o*o,w=(a==s?-1:1)*O.sqrt(R((b*E-b*v*v-E*g*g)/(b*v*v+E*g*g))),T=w*r*v/o+(e+l)/2,C=w*-o*g/r+(t+u)/2,k=O.asin(((t-C)/o).toFixed(9)),P=O.asin(((u-C)/o).toFixed(9));k=e<T?L-k:k,P=l<T?L-P:P,k<0&&(k=2*L+k),P<0&&(P=2*L+P),s&&k>P&&(k-=2*L),!s&&P>k&&(P-=2*L)}var N=P-k;if(R(N)>h){var A=P,I=l,D=u;P=k+h*(s&&P>k?1:-1),l=T+r*O.cos(P),u=C+o*O.sin(P),f=we(l,u,r,o,i,0,s,I,D,[P,A,T,C])}N=P-k;var F=O.cos(k),B=O.sin(k),j=O.cos(P),q=O.sin(P),z=O.tan(N/4),U=4/3*r*z,W=4/3*o*z,H=[e,t],V=[e+U*B,t-W*F],K=[l+U*q,u-W*j],G=[l,u];if(V[0]=2*H[0]-V[0],V[1]=2*H[1]-V[1],c)return[V,K,G][x](f);f=[V,K,G][x](f)[_]()[S](",");for(var $=[],Y=0,X=f[M];Y<X;Y++)$[Y]=Y%2?m(f[Y-1],f[Y],d).y:m(f[Y],f[Y+1],d).x;return $},Te=function(e,t,n,r,o,i,a,s,l){var u=1-l;return{x:D(u,3)*e+3*D(u,2)*l*n+3*u*l*l*o+D(l,3)*a,y:D(u,3)*t+3*D(u,2)*l*r+3*u*l*l*i+D(l,3)*s}},Ce=n(function(e,t,n,r,o,i,a,s){var l,u=o-2*n+e-(a-2*o+n),c=2*(n-e)-2*(o-n),p=e-n,h=(-c+O.sqrt(c*c-4*u*p))/2/u,d=(-c-O.sqrt(c*c-4*u*p))/2/u,f=[t,s],m=[e,a];return R(h)>"1e12"&&(h=.5),R(d)>"1e12"&&(d=.5),h>0&&h<1&&(l=Te(e,t,n,r,o,i,a,s,h),m[W](l.x),f[W](l.y)),d>0&&d<1&&(l=Te(e,t,n,r,o,i,a,s,d),m[W](l.x),f[W](l.y)),u=i-2*r+t-(s-2*i+r),c=2*(r-t)-2*(i-r),p=t-r,h=(-c+O.sqrt(c*c-4*u*p))/2/u,d=(-c-O.sqrt(c*c-4*u*p))/2/u,R(h)>"1e12"&&(h=.5),R(d)>"1e12"&&(d=.5),h>0&&h<1&&(l=Te(e,t,n,r,o,i,a,s,h),m[W](l.x),f[W](l.y)),d>0&&d<1&&(l=Te(e,t,n,r,o,i,a,s,d),m[W](l.x),f[W](l.y)),{min:{x:I[b](0,m),y:I[b](0,f)},max:{x:A[b](0,m),y:A[b](0,f)}}}),Se=n(function(e,t){for(var n=be(e),r=t&&be(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(e,t){
var n,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][x](we[b](0,[t.x,t.y][x](e.slice(1))));break;case"S":n=t.x+(t.x-(t.bx||t.x)),r=t.y+(t.y-(t.by||t.y)),e=["C",n,r][x](e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"][x](Ee(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][x](Ee(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][x](xe(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][x](xe(t.x,t.y,e[1],t.y));break;case"V":e=["C"][x](xe(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][x](xe(t.x,t.y,t.X,t.Y))}return e}),s=function(e,t){if(e[t][M]>7){e[t].shift();for(var o=e[t];o[M];)e.splice(t++,0,["C"][x](o.splice(0,6)));e.splice(t,1),c=A(n[M],r&&r[M]||0)}},l=function(e,t,o,i,a){e&&t&&"M"==e[a][0]&&"M"!=t[a][0]&&(t.splice(a,0,["M",i.x,i.y]),o.bx=0,o.by=0,o.x=e[a][1],o.y=e[a][2],c=A(n[M],r&&r[M]||0))},u=0,c=A(n[M],r&&r[M]||0);u<c;u++){n[u]=a(n[u],o),s(n,u),r&&(r[u]=a(r[u],i)),r&&s(r,u),l(n,r,o,i,u),l(r,n,i,o,u);var p=n[u],h=r&&r[u],d=p[M],f=r&&h[M];o.x=p[d-2],o.y=p[d-1],o.bx=Y(p[d-4])||o.x,o.by=Y(p[d-3])||o.y,i.bx=r&&(Y(h[f-4])||i.x),i.by=r&&(Y(h[f-3])||i.y),i.x=r&&h[f-2],i.y=r&&h[f-1]}return r?[n,r]:n},null,ve),ke=n(function(t){for(var n=[],r=0,o=t[M];r<o;r++){var i={},a=t[r].match(/^([^:]*):?([\d\.]*)/);if(i.color=e.getRGB(a[1]),i.color.error)return null;i.color=i.color.hex,a[2]&&(i.offset=a[2]+"%"),n[W](i)}for(r=1,o=n[M]-1;r<o;r++)if(!n[r].offset){for(var s=Y(n[r-1].offset||0),l=0,u=r+1;u<o;u++)if(n[u].offset){l=n[u].offset;break}l||(l=100,u=o),l=Y(l);for(var c=(l-s)/(u-r+1);r<u;r++)s+=c,n[r].offset=s+"%"}return n}),Pe=function(t,n,r,o){var i;return e.is(t,B)||e.is(t,"object")?(i=e.is(t,B)?f.getElementById(t):t,i.tagName?null==n?{container:i,width:i.style.pixelWidth||i.offsetWidth,height:i.style.pixelHeight||i.offsetHeight}:{container:i,width:n,height:r}:void 0):{container:1,x:t,y:n,width:r,height:o}},_e=function(e,t){var n=this;for(var r in t)if(t[d](r)&&!(r in e))switch(typeof t[r]){case"function":!function(t){e[r]=e===n?t:function(){return t[b](n,arguments)}}(t[r]);break;case"object":e[r]=e[r]||{},_e.call(this,e[r],t[r]);break;default:e[r]=t[r]}},Me=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)},Ne=function(e,t){t.top!==e&&(Me(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},Oe=function(e,t){t.bottom!==e&&(Me(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},Ae=function(e,t,n){Me(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},Ie=function(e,t,n){Me(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},Re=function(e){return function(){throw new Error("Raphaël: you are calling to method “"+e+"” of removed object")}};if(e.pathToRelative=ye,e.svg){l.svgns="http://www.w3.org/2000/svg",l.xlink="http://www.w3.org/1999/xlink",$=function(e){return+e+.5*(~~e===e)};var De=function(e,t){if(!t)return e=f.createElementNS(l.svgns,e),e.style.webkitTapHighlightColor="rgba(0,0,0,0)",e;for(var n in t)t[d](n)&&s(e,n,C(t[n]))};e[q]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var Le=function(e,t){var n=De("path");t.canvas&&t.canvas[y](n);var r=new Ue(n,t);return r.type="path",je(r,{fill:"none",stroke:"#000",path:e}),r},Fe=function(e,n,r){var o="linear",i=.5,a=.5,s=e.style;if(n=C(n)[te](le,function(e,t,n){if(o="radial",t&&n){i=Y(t),a=Y(n);var r=2*(a>.5)-1;D(i-.5,2)+D(a-.5,2)>.25&&(a=O.sqrt(.25-D(i-.5,2))*r+.5)&&.5!=a&&(a=a.toFixed(5)-1e-5*r)}return w}),n=n[S](/\s*\-\s*/),"linear"==o){var l=n.shift();if(l=-Y(l),isNaN(l))return null;var u=[0,0,O.cos(l*L/180),O.sin(l*L/180)],c=1/(A(R(u[2]),R(u[3]))||1);u[2]*=c,u[3]*=c,u[2]<0&&(u[0]=-u[2],u[2]=0),u[3]<0&&(u[1]=-u[3],u[3]=0)}var p=ke(n);if(!p)return null;var h=e.getAttribute(z);h=h.match(/^url\(#(.*)\)$/),h&&r.defs.removeChild(f.getElementById(h[1]));var d=De(o+"Gradient");d.id=t(),De(d,"radial"==o?{fx:i,fy:a}:{x1:u[0],y1:u[1],x2:u[2],y2:u[3]}),r.defs[y](d);for(var m=0,g=p[M];m<g;m++){var v=De("stop");De(v,{offset:p[m].offset?p[m].offset:m?"100%":"0%","stop-color":p[m].color||"#fff"}),d[y](v)}return De(e,{fill:"url(#"+d.id+")",opacity:1,"fill-opacity":1}),s.fill=w,s.opacity=1,s.fillOpacity=1,1},Be=function(t){var n=t.getBBox();De(t.pattern,{patternTransform:e.format("translate({0},{1})",n.x,n.y)})},je=function(n,r){var o={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},i=n.node,a=n.attrs,l=n.rotate(),c=function(e,t){if(t=o[N.call(t)]){for(var n=e.attrs["stroke-width"]||"1",a={round:n,square:n,butt:0}[e.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,s=[],l=t[M];l--;)s[l]=t[l]*n+(l%2?1:-1)*a;De(i,{"stroke-dasharray":s[_](",")})}};r[d]("rotation")&&(l=r.rotation);var p=C(l)[S](u);p.length-1?(p[1]=+p[1],p[2]=+p[2]):p=null,Y(l)&&n.rotate(0,!0);for(var h in r)if(r[d](h)){if(!Z[d](h))continue;var m=r[h];switch(a[h]=m,h){case"blur":n.blur(m);break;case"rotation":n.rotate(m,!0);break;case"href":case"title":case"target":var g=i.parentNode;if("a"!=N.call(g.tagName)){var v=De("a");g.insertBefore(v,i),v[y](i),g=v}"target"==h&&"blank"==m?g.setAttributeNS(n.paper.xlink,"show","new"):g.setAttributeNS(n.paper.xlink,h,m);break;case"cursor":i.style.cursor=m;break;case"clip-rect":var b=C(m)[S](u);if(4==b[M]){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var x=De("clipPath"),E=De("rect");x.id=t(),De(E,{x:b[0],y:b[1],width:b[2],height:b[3]}),x[y](E),n.paper.defs[y](x),De(i,{"clip-path":"url(#"+x.id+")"}),n.clip=E}if(!m){var k=f.getElementById(i.getAttribute("clip-path")[te](/(^url\(#|\)$)/g,w));k&&k.parentNode.removeChild(k),De(i,{"clip-path":w}),delete n.clip}break;case"path":"path"==n.type&&De(i,{d:m?a.path=be(m):"M0,0"});break;case"width":if(s(i,h,m),!a.fx)break;h="x",m=a.x;case"x":a.fx&&(m=-a.x-(a.width||0));case"rx":if("rx"==h&&"rect"==n.type)break;case"cx":p&&("x"==h||"cx"==h)&&(p[1]+=m-a[h]),s(i,h,m),n.pattern&&Be(n);break;case"height":if(s(i,h,m),!a.fy)break;h="y",m=a.y;case"y":a.fy&&(m=-a.y-(a.height||0));case"ry":if("ry"==h&&"rect"==n.type)break;case"cy":p&&("y"==h||"cy"==h)&&(p[2]+=m-a[h]),s(i,h,m),n.pattern&&Be(n);break;case"r":"rect"==n.type?De(i,{rx:m,ry:m}):s(i,h,m);break;case"src":"image"==n.type&&i.setAttributeNS(n.paper.xlink,"href",m);break;case"stroke-width":i.style.strokeWidth=m,s(i,h,m),a["stroke-dasharray"]&&c(n,a["stroke-dasharray"]);break;case"stroke-dasharray":c(n,m);break;case"translation":var P=C(m)[S](u);P[0]=+P[0]||0,P[1]=+P[1]||0,p&&(p[1]+=P[0],p[2]+=P[1]),kt.call(n,P[0],P[1]);break;case"scale":P=C(m)[S](u),n.scale(+P[0]||1,+P[1]||+P[0]||1,isNaN(Y(P[2]))?null:+P[2],isNaN(Y(P[3]))?null:+P[3]);break;case z:var O=C(m).match(H);if(O){x=De("pattern");var A=De("image");x.id=t(),De(x,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),De(A,{x:0,y:0}),A.setAttributeNS(n.paper.xlink,"href",O[1]),x[y](A);var I=f.createElement("img");I.style.cssText="position:absolute;left:-9999em;top-9999em",I.onload=function(){De(x,{width:this.offsetWidth,height:this.offsetHeight}),De(A,{width:this.offsetWidth,height:this.offsetHeight}),f.body.removeChild(this),n.paper.safari()},f.body[y](I),I.src=O[1],n.paper.defs[y](x),i.style.fill="url(#"+x.id+")",De(i,{fill:"url(#"+x.id+")"}),n.pattern=x,n.pattern&&Be(n);break}var R=e.getRGB(m);if(R.error){if(({circle:1,ellipse:1}[d](n.type)||"r"!=C(m).charAt())&&Fe(i,m,n.paper)){a.gradient=m,a.fill="none";break}}else delete r.gradient,delete a.gradient,!e.is(a.opacity,"undefined")&&e.is(r.opacity,"undefined")&&De(i,{opacity:a.opacity}),!e.is(a["fill-opacity"],"undefined")&&e.is(r["fill-opacity"],"undefined")&&De(i,{"fill-opacity":a["fill-opacity"]});R[d]("opacity")&&De(i,{"fill-opacity":R.opacity>1?R.opacity/100:R.opacity});case"stroke":R=e.getRGB(m),s(i,h,R.hex),"stroke"==h&&R[d]("opacity")&&De(i,{"stroke-opacity":R.opacity>1?R.opacity/100:R.opacity});break;case"gradient":(({circle:1,ellipse:1})[d](n.type)||"r"!=C(m).charAt())&&Fe(i,m,n.paper);break;case"opacity":a.gradient&&!a[d]("stroke-opacity")&&De(i,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(a.gradient){var D=f.getElementById(i.getAttribute(z)[te](/^url\(#|\)$/g,w));if(D){var L=D.getElementsByTagName("stop");s(L[L[M]-1],"stop-opacity",m)}break}default:"font-size"==h&&(m=X(m,10)+"px");var F=h[te](/(\-.)/g,function(e){return Q.call(e.substring(1))});i.style[F]=m,s(i,h,m)}}ze(n,r),p?n.rotate(p.join(T)):Y(l)&&n.rotate(l,!0)},qe=1.2,ze=function(t,n){if("text"==t.type&&(n[d]("text")||n[d]("font")||n[d]("font-size")||n[d]("x")||n[d]("y"))){var r=t.attrs,o=t.node,i=o.firstChild?X(f.defaultView.getComputedStyle(o.firstChild,w).getPropertyValue("font-size"),10):10;if(n[d]("text")){for(r.text=n.text;o.firstChild;)o.removeChild(o.firstChild);for(var a=C(n.text)[S]("\n"),s=0,l=a[M];s<l;s++)if(a[s]){var u=De("tspan");s&&De(u,{dy:i*qe,x:r.x}),u[y](f.createTextNode(a[s])),o[y](u)}}else for(a=o.getElementsByTagName("tspan"),s=0,l=a[M];s<l;s++)s&&De(a[s],{dy:i*qe,x:r.x});De(o,{y:r.y});var c=t.getBBox(),p=r.y-(c.y+c.height/2);p&&e.is(p,"finite")&&De(o,{y:r.y+p})}},Ue=function(t,n){this[0]=t,this.id=e._oid++,this.node=t,t.raphael=this,this.paper=n,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},We=Ue[h];Ue[h].rotate=function(t,n,r){if(this.removed)return this;if(null==t)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][_](T):this._.rt.deg;var o=this.getBBox();return t=C(t)[S](u),t[M]-1&&(n=Y(t[1]),r=Y(t[2])),t=Y(t[0]),null!=n&&n!==!1?this._.rt.deg=t:this._.rt.deg+=t,null==r&&(n=null),this._.rt.cx=n,this._.rt.cy=r,n=null==n?o.x+o.width/2:n,r=null==r?o.y+o.height/2:r,this._.rt.deg?(this.transformations[0]=e.format("rotate({0} {1} {2})",this._.rt.deg,n,r),this.clip&&De(this.clip,{transform:e.format("rotate({0} {1} {2})",-this._.rt.deg,n,r)})):(this.transformations[0]=w,this.clip&&De(this.clip,{transform:w})),De(this.node,{transform:this.transformations[_](T)}),this},Ue[h].hide=function(){return!this.removed&&(this.node.style.display="none"),this},Ue[h].show=function(){return!this.removed&&(this.node.style.display=""),this},Ue[h].remove=function(){if(!this.removed){Me(this,this.paper),this.node.parentNode.removeChild(this.node);for(var e in this)delete this[e];this.removed=!0}},Ue[h].getBBox=function(){if(this.removed)return this;if("path"==this.type)return ge(this.attrs.path);if("none"==this.node.style.display){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(e){}finally{t=t||{}}if("text"==this.type){t={x:t.x,y:1/0,width:0,height:0};for(var n=0,r=this.node.getNumberOfChars();n<r;n++){var o=this.node.getExtentOfChar(n);o.y<t.y&&(t.y=o.y),o.y+o.height-t.y>t.height&&(t.height=o.y+o.height-t.y),o.x+o.width-t.x>t.width&&(t.width=o.x+o.width-t.x)}}return e&&this.hide(),t},Ue[h].attr=function(t,n){if(this.removed)return this;if(null==t){var r={};for(var o in this.attrs)this.attrs[d](o)&&(r[o]=this.attrs[o]);return this._.rt.deg&&(r.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(r.scale=this.scale()),r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r}if(null==n&&e.is(t,B))return"translation"==t?kt.call(this):"rotation"==t?this.rotate():"scale"==t?this.scale():t==z&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(null==n&&e.is(t,j)){for(var i={},a=0,s=t.length;a<s;a++)i[t[a]]=this.attr(t[a]);return i}if(null!=n){var l={};l[t]=n}else null!=t&&e.is(t,"object")&&(l=t);for(var u in this.paper.customAttributes)if(this.paper.customAttributes[d](u)&&l[d](u)&&e.is(this.paper.customAttributes[u],"function")){var c=this.paper.customAttributes[u].apply(this,[][x](l[u]));this.attrs[u]=l[u];for(var p in c)c[d](p)&&(l[p]=c[p])}return je(this,l),this},Ue[h].toFront=function(){if(this.removed)return this;this.node.parentNode[y](this.node);var e=this.paper;return e.top!=this&&Ne(this,e),this},Ue[h].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),Oe(this,this.paper);this.paper}return this},Ue[h].insertAfter=function(e){if(this.removed)return this;var t=e.node||e[e.length-1].node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode[y](this.node),Ae(this,e,this.paper),this},Ue[h].insertBefore=function(e){if(this.removed)return this;var t=e.node||e[0].node;return t.parentNode.insertBefore(this.node,t),Ie(this,e,this.paper),this},Ue[h].blur=function(e){var n=this;if(0!==+e){var r=De("filter"),o=De("feGaussianBlur");n.attrs.blur=e,r.id=t(),De(o,{stdDeviation:+e||1.5}),r.appendChild(o),n.paper.defs.appendChild(r),n._blur=r,De(n.node,{filter:"url(#"+r.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter")};var He=function(e,t,n,r){var o=De("circle");e.canvas&&e.canvas[y](o);var i=new Ue(o,e);return i.attrs={cx:t,cy:n,r:r,fill:"none",stroke:"#000"},i.type="circle",De(o,i.attrs),i},Ve=function(e,t,n,r,o,i){var a=De("rect");e.canvas&&e.canvas[y](a);var s=new Ue(a,e);return s.attrs={x:t,y:n,width:r,height:o,r:i||0,rx:i||0,ry:i||0,fill:"none",stroke:"#000"},s.type="rect",De(a,s.attrs),s},Ke=function(e,t,n,r,o){var i=De("ellipse");e.canvas&&e.canvas[y](i);var a=new Ue(i,e);return a.attrs={cx:t,cy:n,rx:r,ry:o,fill:"none",stroke:"#000"},a.type="ellipse",De(i,a.attrs),a},Ge=function(e,t,n,r,o,i){var a=De("image");De(a,{x:n,y:r,width:o,height:i,preserveAspectRatio:"none"}),a.setAttributeNS(e.xlink,"href",t),e.canvas&&e.canvas[y](a);var s=new Ue(a,e);return s.attrs={x:n,y:r,width:o,height:i,src:t},s.type="image",s},$e=function(e,t,n,r){var o=De("text");De(o,{x:t,y:n,"text-anchor":"middle"}),e.canvas&&e.canvas[y](o);var i=new Ue(o,e);return i.attrs={x:t,y:n,"text-anchor":"middle",text:r,font:Z.font,stroke:"none",fill:"#000"},i.type="text",je(i,i.attrs),i},Ye=function(e,t){return this.width=e||this.width,this.height=t||this.height,s(this.canvas,"width",this.width),s(this.canvas,"height",this.height),this},Xe=function(){var t=Pe[b](0,arguments),n=t&&t.container,r=t.x,o=t.y,i=t.width,a=t.height;if(!n)throw new Error("SVG container not found.");var s=De("svg");return r=r||0,o=o||0,i=i||512,a=a||342,De(s,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:i,height:a}),1==n?(s.style.cssText="position:absolute;left:"+r+"px;top:"+o+"px",f.body[y](s)):n.firstChild?n.insertBefore(s,n.firstChild):n[y](s),n=new v,n.width=i,n.height=a,n.canvas=s,_e.call(n,n,e.fn),n.clear(),n};l.clear=function(){for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=De("desc"))[y](f.createTextNode("Created with Raphaël")),e[y](this.desc),e[y](this.defs=De("defs"))},l.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=Re(e)}}if(e.vml){var Je={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Qe=/([clmz]),?([^clmz]*)/gi,Ze=/ progid:\S+Blur\([^\)]+\)/g,et=/-?[^,\s-]+/g,tt=1e3+T+1e3,nt=10,rt={path:1,rect:1},ot=function(e){var t=/[ahqstv]/gi,n=be;if(C(e).match(t)&&(n=Se),t=/[clmz]/g,n==be&&!C(e).match(t)){var r=C(e)[te](Qe,function(e,t,n){var r=[],o="m"==N.call(t),i=Je[t];return n[te](et,function(e){o&&2==r[M]&&(i+=r+Je["m"==t?"l":"L"],r=[]),r[W]($(e*nt))}),i+r});return r}var o,i,a=n(e);r=[];for(var s=0,l=a[M];s<l;s++){o=a[s],i=N.call(a[s][0]),"z"==i&&(i="x");for(var u=1,c=o[M];u<c;u++)i+=$(o[u]*nt)+(u!=c-1?",":w);r[W](i)}return r[_](T)};e[q]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},Le=function(e,t){var n=it("group");n.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",n.coordsize=t.coordsize,n.coordorigin=t.coordorigin;var r=it("shape"),o=r.style;o.width=t.width+"px",o.height=t.height+"px",r.coordsize=tt,r.coordorigin=t.coordorigin,n[y](r);var i=new Ue(r,n,t),a={fill:"none",stroke:"#000"};return e&&(a.path=e),i.type="path",i.path=[],i.Path=w,je(i,a),t.canvas[y](n),i},je=function(t,n){t.attrs=t.attrs||{};var o,i=t.node,a=t.attrs,s=i.style,l=(n.x!=a.x||n.y!=a.y||n.width!=a.width||n.height!=a.height||n.r!=a.r)&&"rect"==t.type,c=t;for(var p in n)n[d](p)&&(a[p]=n[p]);if(l&&(a.path=r(a.x,a.y,a.width,a.height,a.r),t.X=a.x,t.Y=a.y,t.W=a.width,t.H=a.height),n.href&&(i.href=n.href),n.title&&(i.title=n.title),n.target&&(i.target=n.target),n.cursor&&(s.cursor=n.cursor),"blur"in n&&t.blur(n.blur),(n.path&&"path"==t.type||l)&&(i.path=ot(a.path)),null!=n.rotation&&t.rotate(n.rotation,!0),n.translation&&(o=C(n.translation)[S](u),kt.call(t,o[0],o[1]),null!=t._.rt.cx&&(t._.rt.cx+=+o[0],t._.rt.cy+=+o[1],t.setBox(t.attrs,o[0],o[1]))),n.scale&&(o=C(n.scale)[S](u),t.scale(+o[0]||1,+o[1]||+o[0]||1,+o[2]||null,+o[3]||null)),"clip-rect"in n){var h=C(n["clip-rect"])[S](u);if(4==h[M]){h[2]=+h[2]+ +h[0],h[3]=+h[3]+ +h[1];var m=i.clipRect||f.createElement("div"),g=m.style,v=i.parentNode;g.clip=e.format("rect({1}px {2}px {3}px {0}px)",h),i.clipRect||(g.position="absolute",g.top=0,g.left=0,g.width=t.paper.width+"px",g.height=t.paper.height+"px",v.parentNode.insertBefore(m,v),m[y](v),i.clipRect=m)}n["clip-rect"]||i.clipRect&&(i.clipRect.style.clip=w)}if("image"==t.type&&n.src&&(i.src=n.src),"image"==t.type&&n.opacity&&(i.filterOpacity=J+".Alpha(opacity="+100*n.opacity+")",s.filter=(i.filterMatrix||w)+(i.filterOpacity||w)),n.font&&(s.font=n.font),n["font-family"]&&(s.fontFamily='"'+n["font-family"][S](",")[0][te](/^['"]+|['"]+$/g,w)+'"'),n["font-size"]&&(s.fontSize=n["font-size"]),n["font-weight"]&&(s.fontWeight=n["font-weight"]),n["font-style"]&&(s.fontStyle=n["font-style"]),null!=n.opacity||null!=n["stroke-width"]||null!=n.fill||null!=n.stroke||null!=n["stroke-width"]||null!=n["stroke-opacity"]||null!=n["fill-opacity"]||null!=n["stroke-dasharray"]||null!=n["stroke-miterlimit"]||null!=n["stroke-linejoin"]||null!=n["stroke-linecap"]){i=t.shape||i;var b=i.getElementsByTagName(z)&&i.getElementsByTagName(z)[0],x=!1;if(!b&&(x=b=it(z)),"fill-opacity"in n||"opacity"in n){var E=((+a["fill-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+e.getRGB(n.fill).o+1||2)-1);E=I(A(E,0),1),b.opacity=E}if(n.fill&&(b.on=!0),null!=b.on&&"none"!=n.fill||(b.on=!1),b.on&&n.fill){var T=n.fill.match(H);T?(b.src=T[1],b.type="tile"):(b.color=e.getRGB(n.fill).hex,b.src=w,b.type="solid",e.getRGB(n.fill).error&&(c.type in{circle:1,ellipse:1}||"r"!=C(n.fill).charAt())&&Fe(c,n.fill)&&(a.fill="none",a.gradient=n.fill))}x&&i[y](b);var k=i.getElementsByTagName("stroke")&&i.getElementsByTagName("stroke")[0],P=!1;!k&&(P=k=it("stroke")),(n.stroke&&"none"!=n.stroke||n["stroke-width"]||null!=n["stroke-opacity"]||n["stroke-dasharray"]||n["stroke-miterlimit"]||n["stroke-linejoin"]||n["stroke-linecap"])&&(k.on=!0),("none"==n.stroke||null==k.on||0==n.stroke||0==n["stroke-width"])&&(k.on=!1);var _=e.getRGB(n.stroke);k.on&&n.stroke&&(k.color=_.hex),E=((+a["stroke-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+_.o+1||2)-1);var N=.75*(Y(n["stroke-width"])||1);if(E=I(A(E,0),1),null==n["stroke-width"]&&(N=a["stroke-width"]),n["stroke-width"]&&(k.weight=N),N&&N<1&&(E*=N)&&(k.weight=1),k.opacity=E,n["stroke-linejoin"]&&(k.joinstyle=n["stroke-linejoin"]||"miter"),k.miterlimit=n["stroke-miterlimit"]||8,n["stroke-linecap"]&&(k.endcap="butt"==n["stroke-linecap"]?"flat":"square"==n["stroke-linecap"]?"square":"round"),n["stroke-dasharray"]){var O={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};k.dashstyle=O[d](n["stroke-dasharray"])?O[n["stroke-dasharray"]]:w}P&&i[y](k)}if("text"==c.type)switch(s=c.paper.span.style,a.font&&(s.font=a.font),a["font-family"]&&(s.fontFamily=a["font-family"]),a["font-size"]&&(s.fontSize=a["font-size"]),a["font-weight"]&&(s.fontWeight=a["font-weight"]),a["font-style"]&&(s.fontStyle=a["font-style"]),c.node.string&&(c.paper.span.innerHTML=C(c.node.string)[te](/</g,"&#60;")[te](/&/g,"&#38;")[te](/\n/g,"<br>")),c.W=a.w=c.paper.span.offsetWidth,c.H=a.h=c.paper.span.offsetHeight,c.X=a.x,c.Y=a.y+$(c.H/2),a["text-anchor"]){case"start":c.node.style["v-text-align"]="left",c.bbx=$(c.W/2);break;case"end":c.node.style["v-text-align"]="right",c.bbx=-$(c.W/2);break;default:c.node.style["v-text-align"]="center"}},Fe=function(e,t){e.attrs=e.attrs||{};var n,r=(e.attrs,"linear"),o=".5 .5";if(e.attrs.gradient=t,t=C(t)[te](le,function(e,t,n){return r="radial",t&&n&&(t=Y(t),n=Y(n),D(t-.5,2)+D(n-.5,2)>.25&&(n=O.sqrt(.25-D(t-.5,2))*(2*(n>.5)-1)+.5),o=t+T+n),w}),t=t[S](/\s*\-\s*/),"linear"==r){var i=t.shift();if(i=-Y(i),isNaN(i))return null}var a=ke(t);if(!a)return null;if(e=e.shape||e.node,n=e.getElementsByTagName(z)[0]||it(z),!n.parentNode&&e.appendChild(n),a[M]){n.on=!0,n.method="none",n.color=a[0].color,n.color2=a[a[M]-1].color;for(var s=[],l=0,u=a[M];l<u;l++)a[l].offset&&s[W](a[l].offset+T+a[l].color);n.colors&&(n.colors.value=s[M]?s[_]():"0% "+n.color),"radial"==r?(n.type="gradientradial",n.focus="100%",n.focussize=o,n.focusposition=o):(n.type="gradient",n.angle=(270-i)%360)}return 1},Ue=function(t,n,r){this[0]=t,this.id=e._oid++,this.node=t,t.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=n,this.paper=r,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},We=Ue[h],We.rotate=function(e,t,n){return this.removed?this:null==e?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][_](T):this._.rt.deg:(e=C(e)[S](u),e[M]-1&&(t=Y(e[1]),n=Y(e[2])),e=Y(e[0]),null!=t?this._.rt.deg=e:this._.rt.deg+=e,null==n&&(t=null),this._.rt.cx=t,this._.rt.cy=n,this.setBox(this.attrs,t,n),this.Group.style.rotation=this._.rt.deg,this)},We.setBox=function(e,t,n){if(this.removed)return this;var r=this.Group.style,o=this.shape&&this.shape.style||this.node.style;e=e||{};for(var i in e)e[d](i)&&(this.attrs[i]=e[i]);t=t||this._.rt.cx,n=n||this._.rt.cy;var a,s,l,u,c=this.attrs;switch(this.type){case"circle":a=c.cx-c.r,s=c.cy-c.r,l=u=2*c.r;break;case"ellipse":a=c.cx-c.rx,s=c.cy-c.ry,l=2*c.rx,u=2*c.ry;break;case"image":a=+c.x,s=+c.y,l=c.width||0,u=c.height||0;break;case"text":this.textpath.v=["m",$(c.x),", ",$(c.y-2),"l",$(c.x)+1,", ",$(c.y-2)][_](w),a=c.x-$(this.W/2),s=c.y-this.H/2,l=this.W,u=this.H;break;case"rect":case"path":if(this.attrs.path){var p=ge(this.attrs.path);a=p.x,s=p.y,l=p.width,u=p.height}else a=0,s=0,l=this.paper.width,u=this.paper.height;break;default:a=0,s=0,l=this.paper.width,u=this.paper.height}t=null==t?a+l/2:t,n=null==n?s+u/2:n;var h,f=t-this.paper.width/2,m=n-this.paper.height/2;r.left!=(h=f+"px")&&(r.left=h),r.top!=(h=m+"px")&&(r.top=h),this.X=rt[d](this.type)?-f:a,this.Y=rt[d](this.type)?-m:s,this.W=l,this.H=u,rt[d](this.type)?(o.left!=(h=-f*nt+"px")&&(o.left=h),o.top!=(h=-m*nt+"px")&&(o.top=h)):"text"==this.type?(o.left!=(h=-f+"px")&&(o.left=h),o.top!=(h=-m+"px")&&(o.top=h)):(r.width!=(h=this.paper.width+"px")&&(r.width=h),r.height!=(h=this.paper.height+"px")&&(r.height=h),o.left!=(h=a-f+"px")&&(o.left=h),o.top!=(h=s-m+"px")&&(o.top=h),o.width!=(h=l+"px")&&(o.width=h),o.height!=(h=u+"px")&&(o.height=h))},We.hide=function(){return!this.removed&&(this.Group.style.display="none"),this},We.show=function(){return!this.removed&&(this.Group.style.display="block"),this},We.getBBox=function(){return this.removed?this:rt[d](this.type)?ge(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},We.remove=function(){if(!this.removed){Me(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)delete this[e];this.removed=!0}},We.attr=function(t,n){if(this.removed)return this;if(null==t){var r={};for(var o in this.attrs)this.attrs[d](o)&&(r[o]=this.attrs[o]);return this._.rt.deg&&(r.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(r.scale=this.scale()),r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r}if(null==n&&e.is(t,"string"))return"translation"==t?kt.call(this):"rotation"==t?this.rotate():"scale"==t?this.scale():t==z&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(this.attrs&&null==n&&e.is(t,j)){var i,a={};for(o=0,i=t[M];o<i;o++)a[t[o]]=this.attr(t[o]);return a}var s;if(null!=n&&(s={},s[t]=n),null==n&&e.is(t,"object")&&(s=t),s){for(var l in this.paper.customAttributes)if(this.paper.customAttributes[d](l)&&s[d](l)&&e.is(this.paper.customAttributes[l],"function")){var u=this.paper.customAttributes[l].apply(this,[][x](s[l]));this.attrs[l]=s[l];for(var c in u)u[d](c)&&(s[c]=u[c])}s.text&&"text"==this.type&&(this.node.string=s.text),je(this,s),s.gradient&&({circle:1,ellipse:1}[d](this.type)||"r"!=C(s.gradient).charAt())&&Fe(this,s.gradient),(!rt[d](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},We.toFront=function(){return!this.removed&&this.Group.parentNode[y](this.Group),this.paper.top!=this&&Ne(this,this.paper),this},We.toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),Oe(this,this.paper)),this)},We.insertAfter=function(e){return this.removed?this:(e.constructor==Pt&&(e=e[e.length-1]),e.Group.nextSibling?e.Group.parentNode.insertBefore(this.Group,e.Group.nextSibling):e.Group.parentNode[y](this.Group),Ae(this,e,this.paper),this)},We.insertBefore=function(e){return this.removed?this:(e.constructor==Pt&&(e=e[0]),e.Group.parentNode.insertBefore(this.Group,e.Group),Ie(this,e,this.paper),this)},We.blur=function(t){var n=this.node.runtimeStyle,r=n.filter;r=r.replace(Ze,w),0!==+t?(this.attrs.blur=t,n.filter=r+T+J+".Blur(pixelradius="+(+t||1.5)+")",n.margin=e.format("-{0}px 0 0 -{0}px",$(+t||1.5))):(n.filter=r,n.margin=0,delete this.attrs.blur)},He=function(e,t,n,r){var o=it("group"),i=it("oval");i.style;o.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",o.coordsize=tt,o.coordorigin=e.coordorigin,o[y](i);var a=new Ue(i,o,e);return a.type="circle",je(a,{stroke:"#000",fill:"none"}),a.attrs.cx=t,a.attrs.cy=n,a.attrs.r=r,a.setBox({x:t-r,y:n-r,width:2*r,height:2*r}),e.canvas[y](o),a},Ve=function(e,t,n,o,i,a){var s=r(t,n,o,i,a),l=e.path(s),u=l.attrs;return l.X=u.x=t,l.Y=u.y=n,l.W=u.width=o,l.H=u.height=i,u.r=a,u.path=s,l.type="rect",l},Ke=function(e,t,n,r,o){var i=it("group"),a=it("oval");a.style;i.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",i.coordsize=tt,i.coordorigin=e.coordorigin,i[y](a);var s=new Ue(a,i,e);return s.type="ellipse",je(s,{stroke:"#000"}),s.attrs.cx=t,s.attrs.cy=n,s.attrs.rx=r,s.attrs.ry=o,s.setBox({x:t-r,y:n-o,width:2*r,height:2*o}),e.canvas[y](i),s},Ge=function(e,t,n,r,o,i){var a=it("group"),s=it("image");a.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",a.coordsize=tt,a.coordorigin=e.coordorigin,s.src=t,a[y](s);var l=new Ue(s,a,e);return l.type="image",l.attrs.src=t,l.attrs.x=n,l.attrs.y=r,l.attrs.w=o,l.attrs.h=i,l.setBox({x:n,y:r,width:o,height:i}),e.canvas[y](a),l},$e=function(t,n,r,o){var i=it("group"),a=it("shape"),s=a.style,l=it("path"),u=(l.style,it("textpath"));i.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",i.coordsize=tt,i.coordorigin=t.coordorigin,l.v=e.format("m{0},{1}l{2},{1}",$(10*n),$(10*r),$(10*n)+1),l.textpathok=!0,s.width=t.width,s.height=t.height,u.string=C(o),u.on=!0,a[y](u),a[y](l),i[y](a);var c=new Ue(u,i,t);return c.shape=a,c.textpath=l,c.type="text",c.attrs.text=o,c.attrs.x=n,c.attrs.y=r,c.attrs.w=1,c.attrs.h=1,je(c,{font:Z.font,stroke:"none",fill:"#000"}),c.setBox(),t.canvas[y](i),c},Ye=function(e,t){var n=this.canvas.style;return e==+e&&(e+="px"),t==+t&&(t+="px"),n.width=e,n.height=t,n.clip="rect(0 "+e+" "+t+" 0)",this};var it;f.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!f.namespaces.rvml&&f.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),it=function(e){return f.createElement("<rvml:"+e+' class="rvml">')}}catch(e){it=function(e){return f.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Xe=function(){var t=Pe[b](0,arguments),n=t.container,r=t.height,o=t.width,i=t.x,a=t.y;if(!n)throw new Error("VML container not found.");var s=new v,l=s.canvas=f.createElement("div"),u=l.style;return i=i||0,a=a||0,o=o||512,r=r||342,o==+o&&(o+="px"),r==+r&&(r+="px"),s.width=1e3,s.height=1e3,s.coordsize=1e3*nt+T+1e3*nt,s.coordorigin="0 0",s.span=f.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",l[y](s.span),u.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",o,r),1==n?(f.body[y](l),u.left=i+"px",u.top=a+"px",u.position="absolute"):n.firstChild?n.insertBefore(l,n.firstChild):n[y](l),_e.call(s,s,e.fn),s},l.clear=function(){this.canvas.innerHTML=w,this.span=f.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[y](this.span),this.bottom=this.top=null},l.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=Re(e);return!0}}var at=navigator.userAgent.match(/Version\/(.*?)\s/);"Apple Computer, Inc."==navigator.vendor&&(at&&at[1]<4||"iP"==navigator.platform.slice(0,2))?l.safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});m.setTimeout(function(){e.remove()})}:l.safari=function(){};for(var st=function(){this.returnValue=!1},lt=function(){return this.originalEvent.preventDefault()},ut=function(){this.cancelBubble=!0},ct=function(){return this.originalEvent.stopPropagation()},pt=function(){return f.addEventListener?function(e,t,n,r){var o=E&&P[t]?P[t]:t,i=function(o){if(E&&P[d](t))for(var i=0,a=o.targetTouches&&o.targetTouches.length;i<a;i++)if(o.targetTouches[i].target==e){var s=o;o=o.targetTouches[i],o.originalEvent=s,o.preventDefault=lt,o.stopPropagation=ct;break}return n.call(r,o)};return e.addEventListener(o,i,!1),function(){return e.removeEventListener(o,i,!1),!0}}:f.attachEvent?function(e,t,n,r){var o=function(e){return e=e||m.event,e.preventDefault=e.preventDefault||st,e.stopPropagation=e.stopPropagation||ut,n.call(r,e)};e.attachEvent("on"+t,o);var i=function(){return e.detachEvent("on"+t,o),!0};return i}:void 0}(),ht=[],dt=function(e){for(var t,n=e.clientX,r=e.clientY,o=f.documentElement.scrollTop||f.body.scrollTop,i=f.documentElement.scrollLeft||f.body.scrollLeft,a=ht.length;a--;){if(t=ht[a],E){for(var s,l=e.touches.length;l--;)if(s=e.touches[l],s.identifier==t.el._drag.id){n=s.clientX,r=s.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();n+=i,r+=o,t.move&&t.move.call(t.move_scope||t.el,n-t.el._drag.x,r-t.el._drag.y,n,r,e)}},ft=function(t){e.unmousemove(dt).unmouseup(ft);for(var n,r=ht.length;r--;)n=ht[r],n.el._drag={},n.end&&n.end.call(n.end_scope||n.start_scope||n.move_scope||n.el,t);ht=[]},mt=k[M];mt--;)!function(t){e[t]=Ue[h][t]=function(n,r){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:pt(this.shape||this.node||f,t,n,r||this)})),this},e["un"+t]=Ue[h]["un"+t]=function(e){for(var n=this.events,r=n[M];r--;)if(n[r].name==t&&n[r].f==e)return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}}(k[mt]);We.hover=function(e,t,n,r){return this.mouseover(e,n).mouseout(t,r||n)},We.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)},We.drag=function(t,n,r,o,i,a){return this._drag={},this.mousedown(function(s){(s.originalEvent||s).preventDefault();var l=f.documentElement.scrollTop||f.body.scrollTop,u=f.documentElement.scrollLeft||f.body.scrollLeft;
this._drag.x=s.clientX+u,this._drag.y=s.clientY+l,this._drag.id=s.identifier,n&&n.call(i||o||this,s.clientX+u,s.clientY+l,s),!ht.length&&e.mousemove(dt).mouseup(ft),ht.push({el:this,move:t,end:r,move_scope:o,start_scope:i,end_scope:a})}),this},We.undrag=function(t,n,r){for(var o=ht.length;o--;)ht[o].el==this&&ht[o].move==t&&ht[o].end==r&&ht.splice(o++,1);!ht.length&&e.unmousemove(dt).unmouseup(ft)},l.circle=function(e,t,n){return He(this,e||0,t||0,n||0)},l.rect=function(e,t,n,r,o){return Ve(this,e||0,t||0,n||0,r||0,o||0)},l.ellipse=function(e,t,n,r){return Ke(this,e||0,t||0,n||0,r||0)},l.path=function(t){return t&&!e.is(t,B)&&!e.is(t[0],j)&&(t+=w),Le(e.format[b](e,arguments),this)},l.image=function(e,t,n,r,o){return Ge(this,e||"about:blank",t||0,n||0,r||0,o||0)},l.text=function(e,t,n){return $e(this,e||0,t||0,C(n))},l.set=function(e){return arguments[M]>1&&(e=Array[h].splice.call(arguments,0,arguments[M])),new Pt(e)},l.setSize=Ye,l.top=l.bottom=null,l.raphael=e,We.resetScale=function(){return this.removed?this:(this._.sx=1,this._.sy=1,void(this.attrs.scale="1 1"))},We.scale=function(e,t,n,r){if(this.removed)return this;if(null==e&&null==t)return{x:this._.sx,y:this._.sy,toString:o};t=t||e,!+t&&(t=e);var i,a,l=this.attrs;if(0!=e){var u=this.getBBox(),c=u.x+u.width/2,p=u.y+u.height/2,h=R(e/this._.sx),d=R(t/this._.sy);n=+n||0==n?n:c,r=+r||0==r?r:p;var f=this._.sx>0,m=this._.sy>0,g=~~(e/R(e)),v=~~(t/R(t)),y=h*g,b=d*v,E=this.node.style,C=n+R(c-n)*y*(c>n==f?1:-1),S=r+R(p-r)*b*(p>r==m?1:-1),k=e*g>t*v?d:h;switch(this.type){case"rect":case"image":var P=l.width*h,N=l.height*d;this.attr({height:N,r:l.r*k,width:P,x:C-P/2,y:S-N/2});break;case"circle":case"ellipse":this.attr({rx:l.rx*h,ry:l.ry*d,r:l.r*k,cx:C,cy:S});break;case"text":this.attr({x:C,y:S});break;case"path":for(var O=ye(l.path),A=!0,I=f?y:h,D=m?b:d,L=0,F=O[M];L<F;L++){var B=O[L],j=Q.call(B[0]);if("M"!=j||!A)if(A=!1,"A"==j)B[O[L][M]-2]*=I,B[O[L][M]-1]*=D,B[1]*=h,B[2]*=d,B[5]=+(g+v?!!+B[5]:!+B[5]);else if("H"==j)for(var q=1,z=B[M];q<z;q++)B[q]*=I;else if("V"==j)for(q=1,z=B[M];q<z;q++)B[q]*=D;else for(q=1,z=B[M];q<z;q++)B[q]*=q%2?I:D}var U=ge(O);i=C-U.x-U.width/2,a=S-U.y-U.height/2,O[0][1]+=i,O[0][2]+=a,this.attr({path:O})}this.type in{text:1,image:1}&&(1!=g||1!=v)?this.transformations?(this.transformations[2]="scale("[x](g,",",v,")"),s(this.node,"transform",this.transformations[_](T)),i=g==-1?-l.x-(P||0):l.x,a=v==-1?-l.y-(N||0):l.y,this.attr({x:i,y:a}),l.fx=g-1,l.fy=v-1):(this.node.filterMatrix=J+".Matrix(M11="[x](g,", M12=0, M21=0, M22=",v,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),E.filter=(this.node.filterMatrix||w)+(this.node.filterOpacity||w)):this.transformations?(this.transformations[2]=w,s(this.node,"transform",this.transformations[_](T)),l.fx=0,l.fy=0):(this.node.filterMatrix=w,E.filter=(this.node.filterMatrix||w)+(this.node.filterOpacity||w)),l.scale=[e,t,n,r][_](T),this._.sx=e,this._.sy=t}return this},We.clone=function(){if(this.removed)return null;var e=this.attr();return delete e.scale,delete e.translation,this.paper[this.type]().attr(e)};var gt={},vt=function(t,n,r,o,i,a,s,l,u){if(t===r&&n===o&&i===s&&a==l){var c=s-t,p=l-n,h=Math.sqrt(c*c+p*p);if(null==u)return h;var d=u/h;return{start:{x:t,y:n},m:{x:t,y:n},n:{x:s,y:l},end:{x:s,y:l},x:t+d*c,y:n+d*p,alpha:90-180*O.atan(c/p)/L}}var f,m,g=0,v=100,y=[t,n,r,o,i,a,s,l].join(),b=gt[y];if(!b&&(gt[y]=b={data:[]}),b.timer&&clearTimeout(b.timer),b.timer=setTimeout(function(){delete gt[y]},2e3),null!=u){var x=vt(t,n,r,o,i,a,s,l);v=10*~~x}for(var E=0;E<v+1;E++){if(b.data[u]>E?m=b.data[E*v]:(m=e.findDotsAtSegment(t,n,r,o,i,a,s,l,E/v),b.data[E]=m),E&&(g+=D(D(f.x-m.x,2)+D(f.y-m.y,2),.5)),null!=u&&g>=u)return m;f=m}if(null==u)return g},yt=function(t,n){return function(r,o,i){r=Se(r);for(var a,s,l,u,c,p="",h={},d=0,f=0,m=r.length;f<m;f++){if(l=r[f],"M"==l[0])a=+l[1],s=+l[2];else{if(u=vt(a,s,l[1],l[2],l[3],l[4],l[5],l[6]),d+u>o){if(n&&!h.start){if(c=vt(a,s,l[1],l[2],l[3],l[4],l[5],l[6],o-d),p+=["C",c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],i)return p;h.start=p,p=["M",c.x,c.y+"C",c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]][_](),d+=u,a=+l[5],s=+l[6];continue}if(!t&&!n)return c=vt(a,s,l[1],l[2],l[3],l[4],l[5],l[6],o-d),{x:c.x,y:c.y,alpha:c.alpha}}d+=u,a=+l[5],s=+l[6]}p+=l}return h.end=p,c=t?d:n?h:e.findDotsAtSegment(a,s,l[1],l[2],l[3],l[4],l[5],l[6],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},bt=yt(1),xt=yt(),Et=yt(0,1);We.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():bt(this.attrs.path)},We.getPointAtLength=function(e){if("path"==this.type)return xt(this.attrs.path,e)},We.getSubpath=function(e,t){if("path"==this.type){if(R(this.getTotalLength()-t)<"1e-6")return Et(this.attrs.path,e).end;var n=Et(this.attrs.path,t,1);return e?Et(n,e).end:n}},e.easing_formulas={linear:function(e){return e},"<":function(e){return D(e,3)},">":function(e){return D(e-1,3)+1},"<>":function(e){return e=2*e,e<1?D(e,3)/2:(e-=2,(D(e,3)+2)/2)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){if(0==e||1==e)return e;var t=.3,n=t/4;return D(2,-10*e)*O.sin((e-n)*(2*L)/t)+1},bounce:function(e){var t,n=7.5625,r=2.75;return e<1/r?t=n*e*e:e<2/r?(e-=1.5/r,t=n*e*e+.75):e<2.5/r?(e-=2.25/r,t=n*e*e+.9375):(e-=2.625/r,t=n*e*e+.984375),t}};var wt=[],Tt=function(){for(var t=+new Date,n=0;n<wt[M];n++){var r=wt[n];if(!r.stop&&!r.el.removed){var o,i=t-r.start,a=r.ms,s=r.easing,l=r.from,u=r.diff,c=r.to,p=r.t,h=r.el,f={};if(i<a){var m=s(i/a);for(var g in l)if(l[d](g)){switch(ee[g]){case"along":o=m*a*u[g],c.back&&(o=c.len-o);var v=xt(c[g],o);h.translate(u.sx-u.x||0,u.sy-u.y||0),u.x=v.x,u.y=v.y,h.translate(v.x-u.sx,v.y-u.sy),c.rot&&h.rotate(u.r+v.alpha,v.x,v.y);break;case F:o=+l[g]+m*a*u[g];break;case"colour":o="rgb("+[St($(l[g].r+m*a*u[g].r)),St($(l[g].g+m*a*u[g].g)),St($(l[g].b+m*a*u[g].b))][_](",")+")";break;case"path":o=[];for(var y=0,b=l[g][M];y<b;y++){o[y]=[l[g][y][0]];for(var x=1,E=l[g][y][M];x<E;x++)o[y][x]=+l[g][y][x]+m*a*u[g][y][x];o[y]=o[y][_](T)}o=o[_](T);break;case"csv":switch(g){case"translation":var C=m*a*u[g][0]-p.x,S=m*a*u[g][1]-p.y;p.x+=C,p.y+=S,o=C+T+S;break;case"rotation":o=+l[g][0]+m*a*u[g][0],l[g][1]&&(o+=","+l[g][1]+","+l[g][2]);break;case"scale":o=[+l[g][0]+m*a*u[g][0],+l[g][1]+m*a*u[g][1],2 in c[g]?c[g][2]:w,3 in c[g]?c[g][3]:w][_](T);break;case"clip-rect":for(o=[],y=4;y--;)o[y]=+l[g][y]+m*a*u[g][y]}break;default:var k=[].concat(l[g]);for(o=[],y=h.paper.customAttributes[g].length;y--;)o[y]=+k[y]+m*a*u[g][y]}f[g]=o}h.attr(f),h._run&&h._run.call(h)}else c.along&&(v=xt(c.along,c.len*!c.back),h.translate(u.sx-(u.x||0)+v.x-u.sx,u.sy-(u.y||0)+v.y-u.sy),c.rot&&h.rotate(u.r+v.alpha,v.x,v.y)),(p.x||p.y)&&h.translate(-p.x,-p.y),c.scale&&(c.scale+=w),h.attr(c),wt.splice(n--,1)}}e.svg&&h&&h.paper&&h.paper.safari(),wt[M]&&setTimeout(Tt)},Ct=function(t,n,r,o,i){var a=r-o;n.timeouts.push(setTimeout(function(){e.is(i,"function")&&i.call(n),n.animate(t,a,t.easing)},o))},St=function(e){return A(I(e,255),0)},kt=function(e,t){if(null==e)return{x:this._.tx,y:this._.ty,toString:o};switch(this._.tx+=+e,this._.ty+=+t,this.type){case"circle":case"ellipse":this.attr({cx:+e+this.attrs.cx,cy:+t+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+e+this.attrs.x,y:+t+this.attrs.y});break;case"path":var n=ye(this.attrs.path);n[0][1]+=+e,n[0][2]+=+t,this.attr({path:n})}return this};We.animateWith=function(e,t,n,r,o){for(var i=0,a=wt.length;i<a;i++)wt[i].el.id==e.id&&(t.start=wt[i].start);return this.animate(t,n,r,o)},We.animateAlong=i(),We.animateAlongBack=i(1),We.onAnimation=function(e){return this._run=e||0,this},We.animate=function(t,n,r,o){var i=this;if(i.timeouts=i.timeouts||[],!e.is(r,"function")&&r||(o=r||null),i.removed)return o&&o.call(i),i;var s={},l={},c=!1,p={};for(var h in t)if(t[d](h)&&(ee[d](h)||i.paper.customAttributes[d](h)))switch(c=!0,s[h]=i.attr(h),null==s[h]&&(s[h]=Z[h]),l[h]=t[h],ee[h]){case"along":var f=bt(t[h]),m=xt(t[h],f*!!t.back),g=i.getBBox();p[h]=f/n,p.tx=g.x,p.ty=g.y,p.sx=m.x,p.sy=m.y,l.rot=t.rot,l.back=t.back,l.len=f,t.rot&&(p.r=Y(i.rotate())||0);break;case F:p[h]=(l[h]-s[h])/n;break;case"colour":s[h]=e.getRGB(s[h]);var v=e.getRGB(l[h]);p[h]={r:(v.r-s[h].r)/n,g:(v.g-s[h].g)/n,b:(v.b-s[h].b)/n};break;case"path":var y=Se(s[h],l[h]);s[h]=y[0];var b=y[1];p[h]=[];for(var x=0,E=s[h][M];x<E;x++){p[h][x]=[0];for(var w=1,T=s[h][x][M];w<T;w++)p[h][x][w]=(b[x][w]-s[h][x][w])/n}break;case"csv":var k=C(t[h])[S](u),P=C(s[h])[S](u);switch(h){case"translation":s[h]=[0,0],p[h]=[k[0]/n,k[1]/n];break;case"rotation":s[h]=P[1]==k[1]&&P[2]==k[2]?P:[0,k[1],k[2]],p[h]=[(k[0]-s[h][0])/n,0,0];break;case"scale":t[h]=k,s[h]=C(s[h])[S](u),p[h]=[(k[0]-s[h][0])/n,(k[1]-s[h][1])/n,0,0];break;case"clip-rect":for(s[h]=C(s[h])[S](u),p[h]=[],x=4;x--;)p[h][x]=(k[x]-s[h][x])/n}l[h]=k;break;default:for(k=[].concat(t[h]),P=[].concat(s[h]),p[h]=[],x=i.paper.customAttributes[h][M];x--;)p[h][x]=((k[x]||0)-(P[x]||0))/n}if(c){var _=e.easing_formulas[r];if(!_)if(_=C(r).match(G),_&&5==_[M]){var N=_;_=function(e){return a(e,+N[1],+N[2],+N[3],+N[4],n)}}else _=function(e){return e};wt.push({start:t.start||+new Date,ms:n,easing:_,from:s,diff:p,to:l,el:i,t:{x:0,y:0}}),e.is(o,"function")&&(i._ac=setTimeout(function(){o.call(i)},n)),1==wt[M]&&setTimeout(Tt)}else{var O,A=[];for(var I in t)t[d](I)&&ne.test(I)&&(h={value:t[I]},"from"==I&&(I=0),"to"==I&&(I=100),h.key=X(I,10),A.push(h));for(A.sort(ue),A[0].key&&A.unshift({key:0,value:i.attrs}),x=0,E=A[M];x<E;x++)Ct(A[x].value,i,n/100*A[x].key,n/100*(A[x-1]&&A[x-1].key||0),A[x-1]&&A[x-1].value.callback);O=A[A[M]-1].value.callback,O&&i.timeouts.push(setTimeout(function(){O.call(i)},n))}return this},We.stop=function(){for(var e=0;e<wt.length;e++)wt[e].el.id==this.id&&wt.splice(e--,1);for(e=0,ii=this.timeouts&&this.timeouts.length;e<ii;e++)clearTimeout(this.timeouts[e]);return this.timeouts=[],clearTimeout(this._ac),delete this._ac,this},We.translate=function(e,t){return this.attr({translation:e+" "+t})},We[q]=function(){return"Raphaël’s object"},e.ae=wt;var Pt=function(e){if(this.items=[],this[M]=0,this.type="set",e)for(var t=0,n=e[M];t<n;t++)!e[t]||e[t].constructor!=Ue&&e[t].constructor!=Pt||(this[this.items[M]]=this.items[this.items[M]]=e[t],this[M]++)};Pt[h][W]=function(){for(var e,t,n=0,r=arguments[M];n<r;n++)e=arguments[n],!e||e.constructor!=Ue&&e.constructor!=Pt||(t=this.items[M],this[t]=this.items[t]=e,this[M]++);return this},Pt[h].pop=function(){return delete this[this[M]--],this.items.pop()};for(var _t in We)We[d](_t)&&(Pt[h][_t]=function(e){return function(){for(var t=0,n=this.items[M];t<n;t++)this.items[t][e][b](this.items[t],arguments);return this}}(_t));Pt[h].attr=function(t,n){if(t&&e.is(t,j)&&e.is(t[0],"object"))for(var r=0,o=t[M];r<o;r++)this.items[r].attr(t[r]);else for(var i=0,a=this.items[M];i<a;i++)this.items[i].attr(t,n);return this},Pt[h].animate=function(t,n,r,o){(e.is(r,"function")||!r)&&(o=r||null);var i,a,s=this.items[M],l=s,u=this;for(o&&(a=function(){!--s&&o.call(u)}),r=e.is(r,B)?r:a,i=this.items[--l].animate(t,n,r,a);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(i,t,n,r,a);return this},Pt[h].insertAfter=function(e){for(var t=this.items[M];t--;)this.items[t].insertAfter(e);return this},Pt[h].getBBox=function(){for(var e=[],t=[],n=[],r=[],o=this.items[M];o--;){var i=this.items[o].getBBox();e[W](i.x),t[W](i.y),n[W](i.x+i.width),r[W](i.y+i.height)}return e=I[b](0,e),t=I[b](0,t),{x:e,y:t,width:A[b](0,n)-e,height:A[b](0,r)-t}},Pt[h].clone=function(e){e=new Pt;for(var t=0,n=this.items[M];t<n;t++)e[W](this.items[t].clone());return e},e.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var r in e.face)e.face[d](r)&&(t.face[r]=e.face[r]);if(this.fonts[n]?this.fonts[n][W](t):this.fonts[n]=[t],!e.svg){t.face["units-per-em"]=X(e.face["units-per-em"],10);for(var o in e.glyphs)if(e.glyphs[d](o)){var i=e.glyphs[o];if(t.glyphs[o]={w:i.w,k:{},d:i.d&&"M"+i.d[te](/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},i.k)for(var a in i.k)i[d](a)&&(t.glyphs[o].k[a]=i.k[a])}}return e},l.getFont=function(t,n,r,o){if(o=o||"normal",r=r||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,e.fonts){var i=e.fonts[t];if(!i){var a=new RegExp("(^|\\s)"+t[te](/[^\w\d\s+!~.:_-]/g,w)+"(\\s|$)","i");for(var s in e.fonts)if(e.fonts[d](s)&&a.test(s)){i=e.fonts[s];break}}var l;if(i)for(var u=0,c=i[M];u<c&&(l=i[u],l.face["font-weight"]!=n||l.face["font-style"]!=r&&l.face["font-style"]||l.face["font-stretch"]!=o);u++);return l}},l.print=function(t,n,r,o,i,a,s){a=a||"middle",s=A(I(s||0,1),-1);var l,c=this.set(),p=C(r)[S](w),h=0;if(e.is(o,r)&&(o=this.getFont(o)),o){l=(i||16)/o.face["units-per-em"];for(var d=o.face.bbox.split(u),f=+d[0],m=+d[1]+("baseline"==a?d[3]-d[1]+ +o.face.descent:(d[3]-d[1])/2),g=0,v=p[M];g<v;g++){var y=g&&o.glyphs[p[g-1]]||{},b=o.glyphs[p[g]];h+=g?(y.w||o.w)+(y.k&&y.k[p[g]]||0)+o.w*s:0,b&&b.d&&c[W](this.path(b.d).attr({fill:"#000",stroke:"none",translation:[h,0]}))}c.scale(l,l,f,m).translate(t-f,n-m)}return c},e.format=function(t,n){var r=e.is(n,j)?[0][x](n):arguments;return t&&e.is(t,B)&&r[M]-1&&(t=t[te](p,function(e,t){return null==r[++t]?w:r[t]})),t||w},e.ninja=function(){return g.was?m.Raphael=g.is:delete Raphael,e},e.el=We,e.st=Pt[h],g.was?m.Raphael=e:Raphael=e}()},function(e,t,n){"use strict";function r(e,t){var n=$(e).find("."+t);return 0===n.length?$("<span>").addClass(t).appendTo($(e)):n}function o(e,t){var n=0;!function r(){var o=e.scrollHeight;o>18||n>=10?t():(n++,setTimeout(r,100))}()}var i=n(90);e.exports={processMath:function(e,t,n,a){var s=$(e);if(null==s.attr("data-math-formula")||n){var l=r(s,"katex-holder"),u=r(s,"mathjax-holder"),c=u.find("script[type='math/tex']")[0];if(null==t&&(s.attr("data-math-formula")?t=s.attr("data-math-formula"):c&&(t=c.text||c.textContent)),t=null!=t?t+"":"",t=i.cleanMath(t),s.attr("data-math-formula",t),Exercises.useKatex)try{if(katex.render(t,l[0]),"mathjax"===s.attr("data-math-type")){var p=MathJax.Hub.getJaxFor(c);if(p){var h=p.SourceElement();h.previousSibling&&h.previousSibling.className&&p.Remove()}}return s.attr("data-math-type","katex"),void(a&&o(e,a))}catch(e){if(e.__proto__!==katex.ParseError.prototype)throw e}s.attr("data-math-type","mathjax"),c?"text"in c?c.text=t:c.textContent=t:u.append("<script type='math/tex'>"+t.replace(/<\//g,"< /")+"</script>"),"undefined"!=typeof MathJax&&(MathJax.Hub.Queue(["Reprocess",MathJax.Hub,u[0]]),MathJax.Hub.Queue(function(){KhanUtil.debugLog("MathJax done typesetting ("+t+")")}),a&&MathJax.Hub.Queue(function(){var t=MathJax.Callback(function(){});return o(e,function(){a(),t()}),t}))}},processAllMath:function(e,t){var n=$(e);n.filter("code").add(n.find("code")).each(function(){var e=$(this),n=e.attr("data-math-formula");null==n&&(n=e.text(),e.empty()),KhanUtil.processMath(this,n,t)})},cleanupMath:function(e){var t=$(e);if(t.attr("data-math-formula")){if("undefined"!=typeof MathJax){var n=MathJax.Hub.getJaxFor(t.find("script")[0]);if(n){var r=n.SourceElement();r.previousSibling&&r.previousSibling.className&&n.Remove()}}t.text(t.attr("data-math-formula")),t.attr("data-math-formula",null),t.attr("data-math-type",null)}return e},retrieveMathFormula:function(e){return $(e).attr("data-math-formula")}}},function(e,t,n){!function(e,t,n,r){function o(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function i(t,n){var i,a,s,l,u,c,p,h,d=t.type;if(t=e.Event(t),t.type=n,i=t.originalEvent,a=e.event.props,d.search(/mouse/)>-1&&(a=_),i)for(p=a.length,l;p;)l=a[--p],t[l]=i[l];if(d.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),d.search(/^touch/)!==-1&&(s=o(i),d=s.touches,u=s.changedTouches,c=d&&d.length?d[0]:u&&u.length?u[0]:r))for(h=0,len=k.length;h<len;h++)l=k[h],t[l]=c[l];return t}function a(t){for(var n,r,o={};t;){n=e.data(t,T);for(r in n)n[r]&&(o[r]=o.hasVirtualBinding=!0);t=t.parentNode}return o}function s(t,n){for(var r;t;){if(r=e.data(t,T),r&&(!n||r[n]))return t;t=t.parentNode}return null}function l(){L=!1}function u(){L=!0}function c(){q=0,R.length=0,D=!1,u()}function p(){l()}function h(){d(),N=setTimeout(function(){N=0,c()},e.vmouse.resetTimerDuration)}function d(){N&&(clearTimeout(N),N=0)}function f(t,n,r){var o;return(r&&r[t]||!r&&s(n.target,t))&&(o=i(n,t),e(n.target).trigger(o)),o}function m(t){var n=e.data(t.target,C);if(!(D||q&&q===n)){var r=f("v"+t.type,t);r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function g(t){var n,r,i=o(t).touches;if(i&&1===i.length&&(n=t.target,r=a(n),r.hasVirtualBinding)){q=j++,e.data(n,C,q),d(),p(),I=!1;var s=o(t).touches[0];O=s.pageX,A=s.pageY,f("vmouseover",t,r),f("vmousedown",t,r)}}function v(e){L||(I||f("vmousecancel",e,a(e.target)),I=!0,h())}function y(t){if(!L){var n=o(t).touches[0],r=I,i=e.vmouse.moveDistanceThreshold;I=I||Math.abs(n.pageX-O)>i||Math.abs(n.pageY-A)>i,flags=a(t.target),I&&!r&&f("vmousecancel",t,flags),f("vmousemove",t,flags),h()}}function b(e){if(!L){u();var t,n=a(e.target);if(f("vmouseup",e,n),!I){var r=f("vclick",e,n);r&&r.isDefaultPrevented()&&(t=o(e).changedTouches[0],R.push({touchID:q,x:t.clientX,y:t.clientY}),D=!0)}f("vmouseout",e,n),I=!1,h()}}function x(t){var n,r=e.data(t,T);if(r)for(n in r)if(r[n])return!0;return!1}function E(){}function w(t){var n=t.substr(1);return{setup:function(r,o){x(this)||e.data(this,T,{});var i=e.data(this,T);i[t]=!0,M[t]=(M[t]||0)+1,1===M[t]&&B.bind(n,m),e(this).bind(n,E),F&&(M.touchstart=(M.touchstart||0)+1,1===M.touchstart&&B.bind("touchstart",g).bind("touchend",b).bind("touchmove",y).bind("scroll",v))},teardown:function(r,o){--M[t],M[t]||B.unbind(n,m),F&&(--M.touchstart,M.touchstart||B.unbind("touchstart",g).unbind("touchmove",y).unbind("touchend",b).unbind("scroll",v));var i=e(this),a=e.data(this,T);a&&(a[t]=!1),i.unbind(n,E),x(this)||i.removeData(T)}}}var T="virtualMouseBindings",C="virtualTouchID",S="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),k="clientX clientY pageX pageY screenX screenY".split(" "),P=e.event.mouseHooks?e.event.mouseHooks.props:[],_=e.event.props.concat(P),M={},N=0,O=0,A=0,I=!1,R=[],D=!1,L=!1,F="addEventListener"in n,B=e(n),j=1,q=0;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var z=0;z<S.length;z++)e.event.special[S[z]]=w(S[z]);F&&n.addEventListener("click",function(t){var n,r,o,i,a,s,l=R.length,u=t.target;if(l)for(n=t.clientX,r=t.clientY,threshold=e.vmouse.clickDistanceThreshold,o=u;o;){for(i=0;i<l;i++)if(a=R[i],s=0,o===u&&Math.abs(a.x-n)<threshold&&Math.abs(a.y-r)<threshold||e.data(o,C)===a.touchID)return t.preventDefault(),void t.stopPropagation();o=o.parentNode}},!0)}(jQuery,window,document)},function(e,t,n){"use strict";var r=n(55),o=n(275),i=n(191),a=n(201).vector,s={maxScale:1,mouselayer:!1,shadow:!1},l=function(e,t,n,o){o=r.extend({},s,o);var l=e.fixedEllipse(t,n,o.maxScale,o.padding);if(r.extend(this,l,{graphie:e,initialPoint:t}),o.mouselayer?this.graphie.addToMouseLayerWrapper(this.wrapper):this.graphie.addToVisibleLayerWrapper(this.wrapper),o.shadow){var u="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))",c=this.wrapper;c.style.webkitFilter=u,c.style.filter=u,this.moveTo=function(e){var t=a.subtract(this.graphie.scalePoint(e),this.graphie.scalePoint(this.initialPoint)),n=i.getCanUse3dTransform(),r="translateX("+Math.round(t[0])+"px) translateY("+Math.round(t[1])+"px)"+(n?" translateZ(0)":"");this.transform(r)}}};r.extend(l.prototype,o),e.exports=l},function(e,t,n){"use strict";var r=n(55),o=n(275),i={center:null,createPath:null,mouselayer:!1},a=function(e,t,n){n=r.extend({},i,n),r.extend(this,e.fixedPath(t,n.center,n.createPath)),r.extend(this,{graphie:e,initialPoint:e.scalePoint(r.head(t))}),n.mouselayer?this.graphie.addToMouseLayerWrapper(this.wrapper):this.graphie.addToVisibleLayerWrapper(this.wrapper)};r.extend(a.prototype,o),e.exports=a},function(e,t,n){"use strict";function r(e,t,n,r){if(e.size){var o=0;e.reduce(function(e,i,a){return t(e,i)||(n(e)&&r(o,a),o=a),i}),n(e.last())&&r(o,e.count())}}e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(o,"")}var o=new RegExp("\r","g");e.exports=r},function(e,t,n){"use strict";var r=n(243),o=n(246),i=n(328),a=n(347),s=n(348),l=20,u=!1,c=!1,p="",h={onBeforeInput:function(e){p=(p||"")+e.data},onCompositionStart:function(){c=!0},onCompositionEnd:function(){var e=this;u=!1,c=!1,setTimeout(function(){u||h.resolveComposition.call(e)},l)},onKeyDown:function(e){e.which!==i.RIGHT&&e.which!==i.LEFT||e.preventDefault()},onKeyPress:function(e){e.which===i.RETURN&&e.preventDefault()},resolveComposition:function(){if(!c){u=!0;var e=p;p="";var t=o.set(this.props.editorState,{inCompositionMode:!1}),n=t.getCurrentInlineStyle(),i=a(t.getCurrentContent(),t.getSelection()),l=!e||s(t)||n.size>0||null!==i;if(l&&this.restoreEditorDOM(),this.exitCurrentMode(),this.removeRenderGuard(),e){var h=r.replaceText(t.getCurrentContent(),t.getSelection(),e,n,i);return void this.update(o.push(t,h,"insert-characters"))}l&&this.update(o.set(t,{nativelyRenderedContent:null,forceSelection:!0}))}}};e.exports=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n,r){return h({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":4===t,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}},u=n(242),c=n(293),p=(n(246),n(54)),h=n(315),d=n(349),f=n(320),m=function(e){function t(){r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.editorState,n=e.editorState,r=t.getDirectionMap(),o=n.getDirectionMap();if(r!==o)return!0;var i=t.getSelection().getHasFocus(),a=n.getSelection().getHasFocus();if(i!==a)return!0;var s=n.getNativelyRenderedContent(),l=t.isInCompositionMode(),u=n.isInCompositionMode();if(t===n||null!==s&&n.getCurrentContent()===s||l&&u)return!1;var c=t.getCurrentContent(),p=n.getCurrentContent(),h=t.getDecorator(),d=n.getDecorator();return l!==u||c!==p||h!==d||n.mustForceSelection()}},{key:"render",value:function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.customStyleMap,o=e.editorState,s=o.getCurrentContent(),l=o.getSelection(),h=o.mustForceSelection(),m=o.getDecorator(),g=f(o.getDirectionMap()),v=s.getBlocksAsArray(),y=[],b=null,x=null,E=null,w=void 0,T=void 0,C=void 0,S=void 0,k=void 0,P=void 0,_=void 0,M=0;M<v.length;M++){T=v[M],C=T.getKey(),S=T.getType();var N=n(T),O=void 0,A=void 0,I=void 0;N&&(O=N.component,A=N.props,I=N.editable);var R=g.get(C),D=c.encode(C,0,0),L={block:T,blockProps:A,customStyleMap:r,decorator:m,direction:R,forceSelection:h,key:C,offsetKey:D,selection:l,tree:o.getBlockTree(C)},F=f(t.get(S));_=F.wrapper;var B=_!==x,j=t.get(S).element||t.get("unstyled").element,q=T.getDepth(),z=this.props.blockStyleFn(T);if("li"===j){var U=B||null===E||q>E;z=d(z,i(S,q,U,R))}var W=O||u;P={className:z,"data-block":!0,"data-editor":this.props.editorKey,"data-offset-key":D,key:C},void 0!==I&&(P=a({},P,{contentEditable:I,suppressContentEditableWarning:!0})),k=p.createElement(j,P,p.createElement(W,L)),_?(B&&(w=[],b=p.cloneElement(_,{key:C+"-wrap","data-offset-key":D},w),x=_,y.push(b)),E=T.getDepth(),f(w).push(k)):(w=null,b=null,x=null,E=null,y.push(k))}return p.createElement("div",{"data-contents":"true"},y)}}]),t}(p.Component);e.exports=m},function(e,t,n){"use strict";function r(e,t){var n=null,r=null;if(document.caretRangeFromPoint){var o=document.caretRangeFromPoint(e.x,e.y);n=o.startContainer,r=o.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=h(n),r=h(r);var i=h(u(n));return p(t,i,r,i,r)}function o(e,t){var n=s.moveText(e.getCurrentContent(),e.getSelection(),t);return l.push(e,n,"insert-fragment")}function i(e,t,n){var r=s.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return l.push(e,r,"insert-fragment")}var a=n(350),s=n(243),l=n(246),u=n(351),c=n(352),p=n(353),h=n(320),d={onDragEnd:function(){this.exitCurrentMode()},onDrop:function(e){var t=this,n=new a(e.nativeEvent.dataTransfer),s=this.props.editorState,l=r(e.nativeEvent,s);if(e.preventDefault(),this.exitCurrentMode(),null!=l){var u=n.getFiles();if(u.length>0){if(this.props.handleDroppedFiles&&this.props.handleDroppedFiles(l,u))return;return void c(u,function(e){e&&t.update(i(s,h(l),e))})}var p=this._internalDrag?"internal":"external";if(!this.props.handleDrop||!this.props.handleDrop(l,n,p))return this._internalDrag?void this.update(o(s,l)):void this.update(i(s,l,n.getText()))}}};e.exports=d},function(e,t,n){"use strict";var r=n(354),o=n(355),i=n(356),a=n(357),s=n(358),l=n(359),u=n(360),c=n(361),p=n(362),h=n(363),d=n(364),f=n(365),m={onBeforeInput:r,onBlur:o,onCompositionStart:i,onCopy:a,onCut:s,onDragOver:l,onDragStart:u,onFocus:c,onInput:p,onKeyDown:h,onPaste:d,onSelect:f};e.exports=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}},s=n(54),l=n(315),u=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()}},{key:"render",value:function(){var e=this.props.editorState.getSelection().getHasFocus(),t=l({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return s.createElement("div",{className:t},s.createElement("div",{className:l("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID},this.props.text))}}]),t}(s.Component);e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}},s=n(366),l=n(54),u=n(58),c=(n(249),n(367)),p=function(e){function t(){r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"_setSelection",value:function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.blockKey,r=t.start,o=t.text,i=r+o.length;if(e.hasEdgeWithin(n,r,i)){var a=u.findDOMNode(this),s=a.firstChild,l=void 0;l=s.nodeType===Node.TEXT_NODE?s:"BR"===s.tagName?a:s.firstChild,c(e,l,n,r,i)}}}},{key:"shouldComponentUpdate",value:function(e){return u.findDOMNode(this.refs.leaf).textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection}},{key:"componentDidUpdate",value:function(){this._setSelection()}},{key:"componentDidMount",value:function(){this._setSelection()}},{key:"render",value:function(){var e=this.props.text;e.endsWith("\n")&&this.props.isLast&&(e+="\n");var t=this.props,n=t.customStyleMap,r=t.offsetKey,o=t.styleSet,i=o.reduce(function(e,t){var r={},o=n[t];return void 0!==o&&e.textDecoration!==o.textDecoration&&(r.textDecoration=[e.textDecoration,o.textDecoration].join(" ")),Object.assign(e,o,r)},{});return l.createElement("span",{"data-offset-key":r,ref:"leaf",style:i},l.createElement(s,null,e))}}]),t}(l.Component);e.exports=p},function(e,t,n){"use strict";var r=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o="-",i={encode:function(e,t,n){return e+o+t+o+n},decode:function(e){var t=e.split(o),n=r(t,3),i=n[0],a=n[1],s=n[2];return{blockKey:i,decoratorKey:parseInt(a,10),leafKey:parseInt(s,10)}}};e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.getBlockMap(),s=t.getStartKey(),l=t.getStartOffset(),u=t.getEndKey(),c=t.getEndOffset(),p=i.skipUntil(function(e,t){return t===s}).takeUntil(function(e,t){return t===u}).concat(a([[u,i.get(u)]])).map(function(e,t){var i,a;s===u?(i=l,a=c):(i=t===s?l:0,a=t===u?c:e.getLength());for(var p,h=e.getCharacterList();i<a;)p=h.get(i),h=h.set(i,r?o.applyStyle(p,n):o.removeStyle(p,n)),i++;return e.set("characterList",h)});return e.merge({blockMap:i.merge(p),selectionBefore:t,selectionAfter:t})}var o=n(235),i=n(256),a=i.Map,s={add:function(e,t,n){return r(e,t,n,!0)},remove:function(e,t,n){return r(e,t,n,!1)}};e.exports=s},function(e,t,n){"use strict";function r(e,t,n){var r=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),l=t.getEndKey(),u=t.getEndOffset(),c=r.skipUntil(function(e,t){return t===a}).takeUntil(function(e,t){return t===l}).toOrderedMap().merge(o.OrderedMap([[l,r.get(l)]])).map(function(e,t){
var r=t===a?s:0,o=t===l?u:e.getLength();return i(e,r,o,n)});return e.merge({blockMap:r.merge(c),selectionBefore:t,selectionAfter:t})}var o=n(256),i=n(368);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.getStartOffset(),l=t.getEndOffset(),u=e.getEntityAt(r);if(!u)return t;var c=o.get(u),p=c.getMutability();if("MUTABLE"===p)return t;var h=a(e,u).filter(function(e){return r<e.end&&l>e.start});1!=h.length?s(!1):void 0;var d=h[0];if("IMMUTABLE"===p)return t.merge({anchorOffset:d.start,focusOffset:d.end,isBackward:!1});var f=i.getRemovalRange(r,l,e.getText().slice(d.start,d.end),d.start,n);return t.merge({anchorOffset:f.start,focusOffset:f.end,isBackward:!1})}var o=n(244),i=n(369),a=n(370),s=n(326);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=t.getStartKey(),r=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),l=i(e,t),u=l.getBlockMap(),c=u.keySeq(),p=c.indexOf(n),h=c.indexOf(a)+1,d=u.slice(p,h).map(function(e,t){var i=o(),l=e.getText(),u=e.getCharacterList();return n===a?e.merge({key:i,text:l.slice(r,s),characterList:u.slice(r,s)}):t===n?e.merge({key:i,text:l.slice(r),characterList:u.slice(r)}):t===a?e.merge({key:i,text:l.slice(0,s),characterList:u.slice(0,s)}):e.set("key",i)});return d.toOrderedMap()}var o=n(253),i=n(300);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){t.isCollapsed()?void 0:s(!1);var r,l,u=t.getStartKey(),c=t.getStartOffset(),p=e.getBlockMap(),h=n.size;if(1===h){var d=p.get(u),f=n.first(),m=d.getText(),g=d.getCharacterList(),v=d.merge({text:m.slice(0,c)+f.getText()+m.slice(c),characterList:a(g,f.getCharacterList(),c)});return p=p.set(u,v),r=u,l=c+f.getText().length,e.merge({blockMap:p.set(u,v),selectionBefore:t,selectionAfter:t.merge({anchorKey:r,anchorOffset:l,focusKey:r,focusOffset:l,isBackward:!1})})}var y=[];return e.getBlockMap().forEach(function(e,t){if(t!==u)return void y.push(e);var o=e.getText(),a=e.getCharacterList(),s=o.length,l=o.slice(0,c),p=a.slice(0,c),d=n.first(),f=e.merge({text:l+d.getText(),characterList:p.concat(d.getCharacterList())});y.push(f),n.slice(1,h-1).forEach(function(e){y.push(e.set("key",i()))});var m=o.slice(c,s),g=a.slice(c,s),v=n.last();r=i();var b=v.merge({key:r,text:v.getText()+m,characterList:v.getCharacterList().concat(g)});y.push(b)}),l=n.last().getLength(),e.merge({blockMap:o.createFromArray(y),selectionBefore:t,selectionAfter:t.merge({anchorKey:r,anchorOffset:l,focusKey:r,focusOffset:l,isBackward:!1})})}var o=n(234),i=n(253),a=n(371),s=n(326);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){t.isCollapsed()?void 0:a(!1);var o=n.length;if(!o)return e;var l=e.getBlockMap(),u=t.getStartKey(),c=t.getStartOffset(),p=l.get(u),h=p.getText(),d=p.merge({text:h.slice(0,c)+n+h.slice(c,p.getLength()),characterList:i(p.getCharacterList(),s(r,o).toList(),c)}),f=c+o;return e.merge({blockMap:l.set(u,d),selectionAfter:t.merge({anchorOffset:f,focusOffset:f})})}var o=n(256),i=n(371),a=n(326),s=o.Repeat;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e.getBlockMap(),r={},o=t.getStartKey(),a=t.getStartOffset(),s=n.get(o),l=i(s,a);l!==s&&(r[o]=l);var u=t.getEndKey(),c=t.getEndOffset(),p=n.get(u);o===u&&(p=l);var h=i(p,c);return h!==p&&(r[u]=h),Object.keys(r).length?e.merge({blockMap:n.merge(r),selectionAfter:t}):e.set("selectionAfter",t)}function o(e,t,n){var r;return l(e,function(e,t){return e.getEntity()===t.getEntity()},function(e){return e.getEntity()===t},function(e,t){e<=n&&t>=n&&(r={start:e,end:t})}),"object"!=typeof r?u(!1):void 0,r}function i(e,t){var n=e.getCharacterList(),r=t>0?n.get(t-1):void 0,i=t<n.count()?n.get(t):void 0,l=r?r.getEntity():void 0,u=i?i.getEntity():void 0;if(u&&u===l){var c=s.get(u);if("MUTABLE"!==c.getMutability()){for(var p,h=o(n,u,t),d=h.start,f=h.end;d<f;)p=n.get(d),n=n.set(d,a.applyEntity(p,null)),d++;return e.set("characterList",n)}}return e}var a=n(235),s=n(244),l=n(285),u=n(326);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(t.isCollapsed())return e;var n,r=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),l=t.getEndKey(),u=t.getEndOffset(),c=r.get(a),p=r.get(l);n=c===p?o(c.getCharacterList(),s,u):c.getCharacterList().slice(0,s).concat(p.getCharacterList().slice(u));var h=c.merge({text:c.getText().slice(0,s)+p.getText().slice(u),characterList:n}),d=r.toSeq().skipUntil(function(e,t){return t===a}).takeUntil(function(e,t){return t===l}).concat(i.Map([[l,null]])).map(function(e,t){return t===a?h:null});return r=r.merge(d).filter(function(e){return!!e}),e.merge({blockMap:r,selectionBefore:t,selectionAfter:t.merge({anchorKey:a,anchorOffset:s,focusKey:a,focusOffset:s,isBackward:!1})})}function o(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),o=e.slice(n);e=r.concat(o).toList()}return e}var i=n(256);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil(function(e,t){return t===r}).takeUntil(function(e,t){return t===i}).concat(o.Map([[i,a.get(i)]])).map(function(e){return e.merge({type:n,depth:0})});return e.merge({blockMap:a.merge(s),selectionBefore:t,selectionAfter:t})}var o=n(256);e.exports=r},function(e,t,n){"use strict";function r(e,t){t.isCollapsed()?void 0:i(!1);var n=t.getAnchorKey(),r=t.getAnchorOffset(),a=e.getBlockMap(),s=a.get(n),l=s.getText(),u=s.getCharacterList(),c=s.merge({text:l.slice(0,r),characterList:u.slice(0,r)}),p=o(),h=c.merge({key:p,text:l.slice(r),characterList:u.slice(r)}),d=a.toSeq().takeUntil(function(e){return e===s}),f=a.toSeq().skipUntil(function(e){return e===s}).rest(),m=d.concat([[c.getKey(),c],[h.getKey(),h]],f).toOrderedMap();return e.merge({blockMap:m,selectionBefore:t,selectionAfter:t.merge({anchorKey:p,anchorOffset:0,focusKey:p,focusOffset:0,isBackward:!1})})}var o=n(253),i=n(326);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=[],r=e.map(function(e){return e.getStyle()}).toList();return s(r,o,p,function(e,r){n.push(new f({start:e+t,end:r+t}))}),l(n)}function o(e,t){return e===t}var i=n(256),a=n(319),s=n(285),l=i.List,u=i.Repeat,c=i.Record,p=a.thatReturnsTrue,h="-",d={start:null,end:null},f=c(d),m={start:null,end:null,decoratorKey:null,leaves:null},g=c(m),v={generate:function(e,t){var n=e.getLength();if(!n)return l.of(new g({start:0,end:0,decoratorKey:null,leaves:l.of(new f({start:0,end:0}))}));var i=[],a=t?t.getDecorations(e):l(u(null,n)),c=e.getCharacterList();return s(a,o,p,function(e,t){i.push(new g({start:e,end:t,decoratorKey:a.get(e),leaves:r(c.slice(e,t).toList(),e)}))}),l(i)},getFingerprint:function(e){return e.map(function(e){var t=e.get("decoratorKey"),n=null!==t?t+"."+(e.get("end")-e.get("start")):"";return""+n+"."+e.get("leaves").size}).join(h)}};e.exports=v},function(e,t,n){"use strict";var r,o=n(256),i=n(372),a=n(320),s=o.OrderedMap,l={getDirectionMap:function(e,t){r?r.reset():r=new i;var n=e.getBlockMap(),l=n.valueSeq().map(function(e){return a(r).getDirection(e.getText())}),u=s(n.keySeq().zip(l));return null!=t&&o.is(t,u)?t:u}};e.exports=l},function(e,t,n){"use strict";function r(e,t,n,r){var o=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===i}).concat([[i,a.get(i)]]).map(function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)});return a=a.merge(s),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})}e.exports=r},function(e,t,n){"use strict";var r={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=[];return e.findEntityRanges(function(e){return!!e.getEntity()},function(r,i){var s=e.getText(),l=e.getEntityAt(r);n.push({offset:a(s.slice(0,r)),length:a(s.slice(r,i)),key:Number(t[o.stringify(l)])})}),n}var o=n(307),i=n(373),a=i.strlen;e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=[],o=t.map(function(e){return e.has(n)}).toList();return a(o,s,l,function(t,o){var a=e.getText();r.push({offset:i.strlen(a.slice(0,t)),length:i.strlen(a.slice(t,o)),style:n})}),r}function o(e){var t=e.getCharacterList().map(function(e){return e.getStyle()}).toList(),n=t.flatten().toSet().map(function(n){return r(e,t,n)});return Array.prototype.concat.apply(u,n.toJS())}var i=n(373),a=n(285),s=function(e,t){return e===t},l=function(e){return!!e},u=[];e.exports=o},function(e,t,n){"use strict";function r(e){var t,n=null;return!i&&document.implementation&&document.implementation.createHTMLDocument&&(t=document.implementation.createHTMLDocument("foo"),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}var o=n(318),i=o.isBrowser("IE <= 9");e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e.map(function(e,n){var r=t[n];return o.create({style:e,entity:r})});return a(n)}var o=n(235),i=n(256),a=i.List;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=Array(e.length).fill(null);return t&&t.forEach(function(t){for(var r=i(e,0,t.offset).length,o=r+i(e,t.offset,t.length).length,a=r;a<o;a++)n[a]=t.key}),n}var o=n(373),i=o.substr;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=Array(e.length).fill(l);return t&&t.forEach(function(t){for(var r=s(e,0,t.offset).length,o=r+s(e,t.offset,t.length).length;r<o;)n[r]=n[r].add(t.style),r++}),n}var o=n(373),i=n(256),a=i.OrderedSet,s=o.substr,l=a();e.exports=r},function(e,t,n){"use strict";function r(e){var t=o(e),n=0,r=0,i=0,a=0;if(t.length){var s=t[0];n=s.top,r=s.right,i=s.bottom,a=s.left;for(var l=1;l<t.length;l++){var u=t[l];0===u.height&&0===u.width||(n=Math.min(n,u.top),r=Math.max(r,u.right),i=Math.max(i,u.bottom),a=Math.min(a,u.left))}}return{top:n,right:r,bottom:i,left:a,width:r-a,height:i-n}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(374);e.exports=r},function(e,t,n){"use strict";function r(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).map(o).join(" "):Array.prototype.map.call(arguments,o).join(" ")}function o(e){return e.replace(/\//g,"-")}e.exports=r},function(e,t,n){"use strict";function r(e,t){return!!t&&(e===t.documentElement||e===t.body)}var o={getTop:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollTop=n.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=o},function(e,t,n){"use strict";function r(e,t){var n=i.get(e,t);return"auto"===n||"scroll"===n}var o=n(379),i={get:o,getScrollParent:function(e){if(!e)return null;for(;e&&e!==document.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return window}};e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var o=n.slice(e.length);return!!t&&(o=r?r(o):o,a.contains(o,t))}function o(e){return"Windows"===i.platformName?e.replace(/^\s*NT/,""):e}var i=n(375),a=n(376),s=n(377),l=n(378),u={isBrowser:function(e){return r(i.browserName,i.browserFullVersion,e)},isBrowserArchitecture:function(e){return r(i.browserArchitecture,null,e)},isDevice:function(e){return r(i.deviceName,null,e)},isEngine:function(e){return r(i.engineName,i.engineVersion,e)},isPlatform:function(e){return r(i.platformName,i.platformFullVersion,e,o)},isPlatformArchitecture:function(e){return r(i.platformArchitecture,null,e)}};e.exports=s(u,l)},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")};e.exports=r},function(e,t,n){"use strict";function r(e){var t=o();e===window&&(e=t);var n=i(e),r=e===t?document.documentElement:e,a=e.scrollWidth-r.clientWidth,s=e.scrollHeight-r.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}var o=n(380),i=n(381);e.exports=r},function(e,t,n){"use strict";function r(e){var t=h.exec(e);return null==t?null:t[0]}function o(e){var t=r(e);return null==t?u.NEUTRAL:d.exec(t)?u.RTL:u.LTR}function i(e,t){if(t=t||u.NEUTRAL,!e.length)return t;var n=o(e);return n===u.NEUTRAL?t:n}function a(e,t){return t||(t=u.getGlobalDir()),u.isStrong(t)?void 0:c(!1),i(e,t)}function s(e,t){return a(e,t)===u.LTR}function l(e,t){return a(e,t)===u.RTL}var u=n(323),c=n(326),p={L:"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",R:"֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",AL:"؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾"},h=new RegExp("["+p.L+p.R+p.AL+"]"),d=new RegExp("["+p.R+p.AL+"]"),f={firstStrongChar:r,firstStrongCharDir:o,resolveBlockDir:i,getDirection:a,isDirectionLTR:s,isDirectionRTL:l};e.exports=f},function(e,t,n){"use strict";function r(e){return e===p||e===h}function o(e){return r(e)?void 0:u(!1),e===p?"ltr":"rtl"}function i(e,t){return r(e)?void 0:u(!1),r(t)?void 0:u(!1),e===t?null:o(e)}function a(e){d=e}function s(){a(p)}function l(){return d||this.initGlobalDir(),d?void 0:u(!1),d}var u=n(326),c="NEUTRAL",p="LTR",h="RTL",d=null,f={NEUTRAL:c,LTR:p,RTL:h,isStrong:r,getHTMLDir:o,getHTMLDirIfDifferent:i,setGlobalDir:a,initGlobalDir:s,getGlobalDir:l};e.exports=f},function(e,t,n){"use strict";function r(e){var t=o(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}var o=n(382);e.exports=r},function(e,t,n){"use strict";function r(){var e=void 0;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function o(){var e=void 0;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function i(){return{width:window.innerWidth||r(),height:window.innerHeight||o()}}i.withoutScrollbars=function(){return{width:r(),height:o()}},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t){r(this,e),this._uri=t}return e.prototype.toString=function(){return this._uri},e}();e.exports=o},function(e,t,n){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";var r=n(54),o=n(340),i=o.connect,a=n(279),s=a.View,l=n(383),u=n(384),c=n(333),p=c.row,h=c.roundedTopLeft,d=c.roundedTopRight,f=n(199),m=f.BorderStyles,g=n(269),v=n(200),y=v.cursorContextPropType,b=n(268),x=r.createClass({displayName:"FractionKeypad",propTypes:{cursorContext:y.isRequired,dynamicJumpOut:r.PropTypes.bool,roundTopLeft:r.PropTypes.bool,roundTopRight:r.PropTypes.bool},statics:{rows:4,columns:4,maxVisibleRows:5,numPages:1},render:function(){var e=this.props,t=e.cursorContext,n=e.dynamicJumpOut,o=e.roundTopLeft,i=e.roundTopRight,a=void 0;if(n)switch(t){case g.IN_PARENS:a=b.JUMP_OUT_PARENTHESES;break;case g.IN_SUPER_SCRIPT:a=b.JUMP_OUT_EXPONENT;break;case g.IN_SUB_SCRIPT:a=b.JUMP_OUT_BASE;break;case g.BEFORE_FRACTION:a=b.JUMP_INTO_NUMERATOR;break;case g.IN_NUMERATOR:a=b.JUMP_OUT_NUMERATOR;break;case g.IN_DENOMINATOR:a=b.JUMP_OUT_DENOMINATOR;break;case g.NONE:default:a=b.DISMISS}else a=b.DISMISS;return r.createElement(l,null,r.createElement(s,{style:p},r.createElement(u,{keyConfig:b.NUM_7,borders:m.NONE,style:o&&h}),r.createElement(u,{keyConfig:b.NUM_8,borders:m.NONE}),r.createElement(u,{keyConfig:b.NUM_9,borders:m.NONE}),r.createElement(u,{keyConfig:b.FRAC_MULTI,disabled:t===g.IN_NUMERATOR||t===g.IN_DENOMINATOR,style:i&&d})),r.createElement(s,{style:p},r.createElement(u,{keyConfig:b.NUM_4,borders:m.NONE}),r.createElement(u,{keyConfig:b.NUM_5,borders:m.NONE}),r.createElement(u,{keyConfig:b.NUM_6,borders:m.NONE}),r.createElement(u,{keyConfig:b.PERCENT})),r.createElement(s,{style:p},r.createElement(u,{keyConfig:b.NUM_1,borders:m.BOTTOM}),r.createElement(u,{keyConfig:b.NUM_2,borders:m.NONE}),r.createElement(u,{keyConfig:b.NUM_3,borders:m.BOTTOM}),r.createElement(u,{keyConfig:b.BACKSPACE,borders:m.LEFT})),r.createElement(s,{style:p},r.createElement(u,{keyConfig:b.NEGATIVE,borders:m.NONE}),r.createElement(u,{keyConfig:b.NUM_0,borders:m.LEFT}),r.createElement(u,{keyConfig:b.DECIMAL,borders:m.LEFT}),r.createElement(u,{keyConfig:a,borders:m.LEFT})))}}),E=function(e){return{cursorContext:e.input.cursor.context,dynamicJumpOut:!e.layout.navigationPadEnabled}};e.exports=i(E)(x)},function(e,t,n){"use strict";var r=n(54),o=n(340),i=o.connect,a=n(341),s=a.StyleSheet,l=n(279),u=l.View,c=n(385),p=n(386),h=n(384),d=n(333),f=d.row,m=d.column,g=d.oneColumn,v=d.fullWidth,y=d.roundedTopLeft,b=d.roundedTopRight,x=n(199),E=x.BorderStyles,w=n(262),T=w.valueGrey,C=w.controlGrey,S=n(200),k=S.cursorContextPropType,P=S.keyIdPropType,_=n(268),M=n(269),N=r.createClass({displayName:"ExpressionKeypad",propTypes:{currentPage:r.PropTypes.number.isRequired,cursorContext:k.isRequired,dynamicJumpOut:r.PropTypes.bool,extraKeys:r.PropTypes.arrayOf(P),roundTopLeft:r.PropTypes.bool,roundTopRight:r.PropTypes.bool},statics:{rows:4,columns:5,maxVisibleRows:4,numPages:2},render:function(){var e=this.props,t=e.currentPage,n=e.cursorContext,o=e.dynamicJumpOut,i=e.extraKeys,a=e.roundTopLeft,s=e.roundTopRight,l=void 0;if(o)switch(n){case M.IN_PARENS:l=_.JUMP_OUT_PARENTHESES;break;case M.IN_SUPER_SCRIPT:l=_.JUMP_OUT_EXPONENT;break;case M.IN_SUB_SCRIPT:l=_.JUMP_OUT_BASE;break;case M.BEFORE_FRACTION:l=_.JUMP_INTO_NUMERATOR;break;case M.IN_NUMERATOR:l=_.JUMP_OUT_NUMERATOR;break;case M.IN_DENOMINATOR:l=_.JUMP_OUT_DENOMINATOR;break;case M.NONE:default:l=_.DISMISS}else l=_.DISMISS;var d=[f,v,O.rightPage,s&&b],x=r.createElement(u,{style:d},r.createElement(u,{style:[m,g]},r.createElement(h,{keyConfig:_.NUM_7,borders:E.NONE}),r.createElement(h,{keyConfig:_.NUM_4,borders:E.NONE}),r.createElement(h,{keyConfig:_.NUM_1,borders:E.BOTTOM}),r.createElement(p,{keys:i,borders:E.NONE})),r.createElement(u,{style:[m,g]},r.createElement(h,{keyConfig:_.NUM_8,borders:E.NONE}),r.createElement(h,{keyConfig:_.NUM_5,borders:E.NONE}),r.createElement(h,{keyConfig:_.NUM_2,borders:E.NONE}),r.createElement(h,{keyConfig:_.NUM_0,borders:E.LEFT})),r.createElement(u,{style:[m,g]},r.createElement(h,{keyConfig:_.NUM_9,borders:E.NONE}),r.createElement(h,{keyConfig:_.NUM_6,borders:E.NONE}),r.createElement(h,{keyConfig:_.NUM_3,borders:E.BOTTOM}),r.createElement(h,{keyConfig:_.DECIMAL,borders:E.LEFT})),r.createElement(u,{style:[m,g]},r.createElement(h,{keyConfig:_.DIVIDE,borders:E.LEFT}),r.createElement(h,{keyConfig:_.TIMES,borders:E.LEFT}),r.createElement(h,{keyConfig:_.MINUS,borders:E.LEFT}),r.createElement(h,{keyConfig:_.PLUS,borders:E.LEFT})),r.createElement(u,{style:[m,g]},r.createElement(h,{keyConfig:_.FRAC_INCLUSIVE,style:s&&b}),r.createElement(h,{keyConfig:_.CDOT}),r.createElement(h,{keyConfig:_.BACKSPACE,borders:E.LEFT}),r.createElement(h,{keyConfig:l,borders:E.LEFT}))),w=[f,v,O.leftPage,a&&y],T=r.createElement(u,{style:w},r.createElement(u,{style:[m,g]},r.createElement(h,{keyConfig:_.EXP_2,borders:E.NONE,style:a&&y}),r.createElement(h,{keyConfig:_.SQRT,borders:E.NONE}),r.createElement(h,{keyConfig:_.LOG,borders:E.BOTTOM}),r.createElement(h,{keyConfig:_.SIN,borders:E.NONE})),r.createElement(u,{style:[m,g]},r.createElement(h,{keyConfig:_.EXP_3,borders:E.NONE}),r.createElement(h,{keyConfig:_.CUBE_ROOT,borders:E.NONE}),r.createElement(h,{keyConfig:_.LN,borders:E.BOTTOM}),r.createElement(h,{keyConfig:_.COS,borders:E.NONE})),r.createElement(u,{style:[m,g]},r.createElement(h,{keyConfig:_.EXP,borders:E.NONE}),r.createElement(h,{keyConfig:_.RADICAL,borders:E.NONE}),r.createElement(h,{keyConfig:_.LOG_N,borders:E.BOTTOM}),r.createElement(h,{keyConfig:_.TAN,borders:E.NONE})),r.createElement(u,{style:[m,g]},r.createElement(h,{keyConfig:_.GEQ,borders:E.LEFT}),r.createElement(h,{keyConfig:_.EQUAL,borders:E.LEFT}),r.createElement(h,{keyConfig:_.LEQ}),r.createElement(h,{keyConfig:_.LEFT_PAREN,borders:E.LEFT})),r.createElement(u,{style:[m,g]},r.createElement(h,{keyConfig:_.GT,borders:E.NONE}),r.createElement(h,{keyConfig:_.NEQ,borders:E.NONE}),r.createElement(h,{keyConfig:_.LT,borders:E.BOTTOM}),r.createElement(h,{keyConfig:_.RIGHT_PAREN,borders:E.NONE})));return r.createElement(c,{currentPage:t,rightPage:x,leftPage:T})}}),O=s.create({rightPage:{backgroundColor:T},leftPage:{backgroundColor:C}}),A=function(e){return{currentPage:e.pager.currentPage,cursorContext:e.input.cursor.context,dynamicJumpOut:!e.layout.navigationPadEnabled}};e.exports=i(A)(N)},function(e,t,n){"use strict";var r=n(54),o=n(341),i=o.StyleSheet,a=n(279),s=a.View,l=n(384),u=n(333),c=u.row,p=u.column,h=u.centered,d=u.stretch,f=u.roundedTopLeft,m=n(262),g=m.navigationPadWidthPx,v=m.controlGrey,y=m.valueGrey,b=m.gray85,x=n(199),E=x.BorderStyles,w=n(268),T=r.createClass({displayName:"NavigationPad",propTypes:{roundTopLeft:r.PropTypes.bool,style:r.PropTypes.any},render:function(){var e=this.props,t=e.roundTopLeft,n=e.style,o=[p,h,P.container,t&&f].concat(Array.isArray(n)?n:[n]);return r.createElement(s,{style:o},r.createElement(s,{style:[c,h]},r.createElement(l,{keyConfig:w.UP,borders:E.NONE,style:[P.navigationKey,P.topArrow]})),r.createElement(s,{style:[c,h,d]},r.createElement(l,{keyConfig:w.LEFT,borders:E.NONE,style:[P.navigationKey,P.leftArrow]}),r.createElement(s,{style:P.horizontalSpacer}),r.createElement(l,{keyConfig:w.RIGHT,borders:E.NONE,style:[P.navigationKey,P.rightArrow]})),r.createElement(s,{style:[c,h]},r.createElement(l,{keyConfig:w.DOWN,borders:E.NONE,style:[P.navigationKey,P.bottomArrow]})))}}),C=48,S=4,k=1,P=i.create({container:{backgroundColor:v,width:g},navigationKey:{borderColor:b,backgroundColor:y,width:C,height:C,boxSizing:"content-box"},topArrow:{borderTopWidth:k,borderLeftWidth:k,borderRightWidth:k,borderTopLeftRadius:S,borderTopRightRadius:S},rightArrow:{borderTopWidth:k,borderRightWidth:k,borderBottomWidth:k,borderTopRightRadius:S,borderBottomRightRadius:S},bottomArrow:{borderBottomWidth:k,borderLeftWidth:k,borderRightWidth:k,borderBottomLeftRadius:S,borderBottomRightRadius:S},leftArrow:{borderTopWidth:k,borderBottomWidth:k,borderLeftWidth:k,borderTopLeftRadius:S,borderBottomLeftRadius:S},horizontalSpacer:{background:y,width:C}});e.exports=T},function(e,t,n){"use strict";e.exports={popover:1,echo:2,keypad:1060}},function(e,t,n){"use strict";var r=n(341),o=r.StyleSheet,i=n(262),a=i.compactKeypadBorderRadiusPx;e.exports=o.create({row:{flexDirection:"row"},column:{flexDirection:"column"},oneColumn:{flexGrow:1},fullWidth:{width:"100%"},stretch:{alignItems:"stretch"},centered:{justifyContent:"center",alignItems:"center"},centeredText:{textAlign:"center"},roundedTopLeft:{borderTopLeftRadius:a},roundedTopRight:{borderTopRightRadius:a}})},function(e,t,n){"use strict";var r={PLUS:"PLUS",MINUS:"MINUS",NEGATIVE:"NEGATIVE",TIMES:"TIMES",DIVIDE:"DIVIDE",DECIMAL:"DECIMAL",PERIOD:"PERIOD",PERCENT:"PERCENT",CDOT:"CDOT",EQUAL:"EQUAL",NEQ:"NEQ",GT:"GT",LT:"LT",GEQ:"GEQ",LEQ:"LEQ",FRAC_INCLUSIVE:"FRAC_INCLUSIVE",FRAC_EXCLUSIVE:"FRAC_EXCLUSIVE",EXP:"EXP",EXP_2:"EXP_2",EXP_3:"EXP_3",SQRT:"SQRT",CUBE_ROOT:"CUBE_ROOT",RADICAL:"RADICAL",LEFT_PAREN:"LEFT_PAREN",RIGHT_PAREN:"RIGHT_PAREN",LN:"LN",LOG:"LOG",LOG_N:"LOG_N",SIN:"SIN",COS:"COS",TAN:"TAN",PI:"PI",THETA:"THETA",UP:"UP",RIGHT:"RIGHT",DOWN:"DOWN",LEFT:"LEFT",BACKSPACE:"BACKSPACE",DISMISS:"DISMISS",JUMP_OUT_PARENTHESES:"JUMP_OUT_PARENTHESES",JUMP_OUT_EXPONENT:"JUMP_OUT_EXPONENT",JUMP_OUT_BASE:"JUMP_OUT_BASE",JUMP_INTO_NUMERATOR:"JUMP_INTO_NUMERATOR",JUMP_OUT_NUMERATOR:"JUMP_OUT_NUMERATOR",JUMP_OUT_DENOMINATOR:"JUMP_OUT_DENOMINATOR",NOOP:"NOOP",FRAC_MULTI:"FRAC_MULTI",MANY:"MANY"};e.exports=r},function(e,t,n){"use strict";var r=n(199),o=r.DecimalSeparators,i=void 0;i="undefined"!=typeof window&&window.icu&&","===window.icu.getDecimalFormatSymbols().decimal_separator?o.COMMA:o.PERIOD,e.exports={decimalSeparator:i}},function(e,t,n){"use strict";var r=n(55),o=n(283),i=n(201).point,a={constrain:function(){this.constrain()}};a.standard=[a.constrain];var s={draw:function(){this.draw()}};s.standard=[s.draw];var l={basic:function(e,t){var n=this.graphie;if(!this.state.visibleShape){var i=[this.pointSize()/n.scale[0],this.pointSize()/n.scale[1]],a={maxScale:Math.max(this.highlightStyle().scale,this.normalStyle().scale),padding:10,shadow:e.shadow};this.state.visibleShape=new o(n,this.coord(),i,a),this.state.visibleShape.attr(r.omit(this.normalStyle(),"scale")),this.state.visibleShape.toFront(),this.mouseTarget()&&this.mouseTarget().toFront()}e.normalStyle===t.normalStyle||r.isEqual(e.normalStyle,t.normalStyle)||this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.moveTo(this.coord()),this.mouseTarget()&&this.mouseTarget().moveTo(this.coord())},highlight:function(e,t){e.isHovering&&!t.isHovering?e.visibleShape.animate(this.highlightStyle(),50):!e.isHovering&&t.isHovering&&e.visibleShape.animate(this.normalStyle(),50)}};l.standard=[l.basic,l.highlight];var u={basic:function(){this.state.visibleShape&&(this.state.visibleShape.remove(),this.state.visibleShape=null)}};u.standard=u.basic;var c={fixed:function(){return function(){return!1}},snap:function(e){return function(t){return null===e||(e=e||this.graphie.snap,i.roundTo(t,e))}},bound:function(e,t,n){return void 0===n&&(n=void 0===e?10:0),function(r,o,a){var s=this.graphie;e=e||s.range,void 0===t&&(t=s.snap);var l=s.unscalePoint([n,s.ypixels-n]),u=s.unscalePoint([s.xpixels-n,n]);if(t&&(l=i.ceilTo(l,t),u=i.floorTo(u,t)),a&&a.onOutOfBounds)return(r[0]>u[0]||r[0]<l[0]||r[1]>u[1]||r[1]<l[1])&&(a.onSkipRemaining(),a.onOutOfBounds()),r;var c=Math.max(l[0],Math.min(u[0],r[0])),p=Math.max(l[1],Math.min(u[1],r[1]));return[c,p]}}};c.standard=null,e.exports={add:a,modify:s,draw:l,remove:u,onMoveStart:{standard:null},constraints:c,onMove:{standard:null},onMoveEnd:{standard:null},onClick:{standard:null}}},function(e,t,n){"use strict";var r=n(55),o=n(210),i=n(284),a=n(201).vector,s=n(201).point,l=n(90),u=function(e){var t=e.graphie.scalePoint(e.coord(0)),n=e.graphie.scalePoint(e.coord(1));return a.polarDegFromCart(a.subtract(n,t))[1]},c=function(e,t,n){var r=e.range[0][1]-e.range[0][0],o=e.range[1][1]-e.range[1][0],i=r+o,s=e.unscaleVector(a.cartFromPolarDeg([1,n])),l=a.scale(a.normalize(s),i),u=a.add(t,l),c=a.polarDegFromCart(s)[1],p=e.constrainToBoundsOnAngle(u,4,c*Math.PI/180);return p},p=function(e,t){var n=[.75,0],o=[[-3,4],[-2.75,2.5],[0,.25],n,[0,-.25],[-2.75,-2.5],[-3,-4]],s=1.4;o=r.map(o,function(e){var t=a.subtract(e,n),r=a.scale(t,s);return a.add(n,r)});var u=function(e){for(var t="M"+e[0][0]+" "+e[0][1],n=1;n<e.length;n+=3)t+="C"+e[n][0]+" "+e[n][1]+" "+e[n+1][0]+" "+e[n+1][1]+" "+e[n+2][0]+" "+e[n+2][1];return t},p=r.map(o,e.unscalePoint),h={center:e.unscalePoint(n),createPath:u},d=new i(e,p,h);return d.attr(r.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},t)),d.toCoordAtAngle=function(t,r){var o=e.scalePoint(c(e,t,r));d.transform("translateX("+(o[0]+s*n[0])+"px) translateY("+(o[1]+s*n[1])+"px) translateZ(0) rotate("+(360-l.bound(r))+"deg)")},d},h={draw:function(){this.draw()},pointsToFront:function(e){r.invoke(e.points,"toFront")}};h.standard=[h.draw,h.pointsToFront];var d={draw:function(){this.draw()}};d.standard=[d.draw];var f={basic:function(e){var t=this.graphie,n=this.coord(0),i=this.coord(1);if(!this.state.visibleShape){var a={thickness:10};this.state.visibleShape=new o(t,n,i,a),this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.toFront(),this.mouseTarget()&&this.mouseTarget().toFront()}var s=u(this);e.extendLine?(n=c(t,n,360-s),i=c(t,i,(540-s)%360)):e.extendRay&&(i=c(t,i,360-s));var l=[this.state.visibleShape];this.mouseTarget()&&l.push(this.mouseTarget()),r.each(l,function(e){e.moveTo(n,i)})},arrows:function(e){null==this._arrows&&(this._arrows=[],e.extendLine?(this._arrows.push(p(this.graphie,this.normalStyle())),this._arrows.push(p(this.graphie,this.normalStyle()))):e.extendRay&&this._arrows.push(p(this.graphie,this.normalStyle())));var t=u(this),n=[360-t,(540-t)%360];r.each(this._arrows,function(e,t){e.toCoordAtAngle(this.coord(t),n[t])},this)},highlight:function(e,t){e.isHovering&&!t.isHovering?e.visibleShape.animate(e.highlightStyle,50):!e.isHovering&&t.isHovering&&e.visibleShape.animate(e.normalStyle,50)}};f.standard=[f.basic,f.arrows,f.highlight];var m={basic:function(){this.state.visibleShape&&this.state.visibleShape.remove()},arrows:function(){null!=this._arrows&&r.invoke(this._arrows,"remove"),this._arrows=null}};m.standard=[m.basic,m.arrows];var g={fixed:function(){return function(){return!1}},snap:function(e){return function(t,n){if(null===e)return!0;var r=a.subtract(t,n);return e=e||this.graphie.snap,r=s.roundTo(r,e),a.add(n,r)}},bound:function(e,t,n){return void 0===n&&(n=void 0===e?10:0),function(e,o){var i=this.graphie,l=a.subtract(e,o),u=u||i.range;void 0===t&&(t=i.snap);var c=i.unscalePoint([n,i.ypixels-n]),p=i.unscalePoint([i.xpixels-n,n]);t&&(c=s.ceilTo(c,t),p=s.floorTo(p,t));var h=r.map(this.coords(),function(e,t){var n=a.subtract(p,e),r=a.subtract(c,e);return[r,n]}),d=r.reduce(h,function(e,t){var n=t[0],r=t[1],o=Math.max(n[0],Math.min(r[0],e[0])),i=Math.max(n[1],Math.min(r[1],e[1]));return[o,i]},l);return a.add(o,d)}}};g.standard=null;var v={updatePoints:function(e,t){var n=a.subtract(e,t);r.each(this.state.points,function(e){e.setCoord(a.add(e.coord(),n))})}};v.standard=null,e.exports={add:h,modify:d,draw:f,remove:m,onMoveStart:{standard:null},constraints:g,onMove:v,onMoveEnd:{standard:null}}},function(e,t,n){"use strict";function r(e){return i.reduce(e,function(e,t){return e+t},0)}function o(e){
var t=i.zip(e,e.slice(1).concat(e.slice(0,1))),n=i.map(t,function(e){var t=e[0],n=e[1];return(n[0]-t[0])*(n[1]+t[1])});return r(n)>0}var i=n(55),a=n(201).point,s=n(201).vector,l={constrain:function(){this.constrain()},pointsToFront:function(e){i.invoke(e.points,"toFront")}};l.standard=[l.constrain,l.pointsToFront];var u={draw:function(){this.draw()}};u.standard=[u.draw];var c={basic:function(e,t){var n=this.graphie,r=this.path(e);this.state.visibleShape||(this.state.visibleShape=n.raphael.path(r),this.state.visibleShape.attr(this.normalStyle())),e.normalStyle===t.normalStyle||i.isEqual(e.normalStyle,t.normalStyle)||this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.attr({path:r}),this.mouseTarget()&&this.mouseTarget().attr({path:r})},labels:function(e,t){var n=this.graphie,r=this,a=i.invoke(e.points,"coord"),s=o(a),l=a.length;null!=r.state._labelCache&&i.invoke(r.state._labelCache,"remove"),r.state._labelCache=[],(e.angleLabels.length||e.showRightAngleMarkers.length)&&(null==r.state._labeledAngles&&(r.state._labeledAngles=i.times(Math.max(e.angleLabels.length,e.showRightAngleMarkers.length),function(){return n.label([0,0],"","center",e.labelStyle)})),i.each(r.state._labeledAngles,function(t,o){r.state._labelCache.push(n.labelAngle({point1:a[(o-1+l)%l],vertex:a[o],point3:a[(o+1)%l],label:t,text:e.angleLabels[o],showRightAngleMarker:e.showRightAngleMarkers[o],numArcs:e.numArcs[o],clockwise:s,style:e.labelStyle}))})),e.sideLabels.length&&(null==r.state._labeledSides&&(r.state._labeledSides=i.map(e.sideLabels,function(t){return n.label([0,0],"","center",e.labelStyle)})),i.each(r.state._labeledSides,function(t,o){r.state._labelCache.push(n.labelSide({point1:a[o],point2:a[(o+1)%l],label:t,text:e.sideLabels[o],numArrows:e.numArrows[o],numTicks:e.numTicks[o],clockwise:s,style:e.labelStyle}))})),e.vertexLabels.length&&(null==r.state._labeledVertices&&(r.state._labeledVertices=i.map(e.vertexLabels,function(t){return n.label([0,0],"","center",e.labelStyle)})),i.each(r.state._labeledVertices,function(t,o){r.state._labelCache.push(n.labelVertex({point1:a[(o-1+l)%l],vertex:a[o],point3:a[(o+1)%l],label:t,text:e.vertexLabels[o],clockwise:s,style:e.labelStyle}))})),r.state._labelCache=i.flatten(r.state._labelCache)},highlight:function(e,t){e.isHovering&&!t.isHovering?e.visibleShape.animate(this.highlightStyle(),50):!e.isHovering&&t.isHovering&&e.visibleShape.animate(this.normalStyle(),50)}};c.standard=[c.basic,c.labels,c.highlight];var p={basic:function(){this.state.visibleShape&&this.state.visibleShape.remove()},labels:function e(){var e=[this.state._labeledSides,this.state._labeledVertices,this.state._labeledAngles,this.state._labelCache];i.each(e,function(e){null!=e&&e.length&&i.invoke(e,"remove")})}};p.standard=[p.basic,p.labels];var h={fixed:function(){return function(){return!1}},snap:function(e){return function(t){return null===e||(e=e||this.graphie.snap,a.roundTo(t,e))}},bound:function(e,t,n){return void 0===n&&(n=void 0===e?10:0),function(e,r){var o=this.graphie,l=s.subtract(e,r),u=u||o.range;void 0===t&&(t=o.snap);var c=o.unscalePoint([n,o.ypixels-n]),p=o.unscalePoint([o.xpixels-n,n]);t&&(c=a.ceilTo(c,t),p=a.floorTo(p,t));var h=i.map(this.coords(),function(e,t){var n=s.subtract(p,e),r=s.subtract(c,e);return[r,n]}),d=i.reduce(h,function(e,t){var n=t[0],r=t[1],o=Math.max(n[0],Math.min(r[0],e[0])),i=Math.max(n[1],Math.min(r[1],e[1]));return[o,i]},l);return s.add(r,d)}}};h.standard=null;var d={updatePoints:function(e,t){var n=s.subtract(e,t);i.each(this.state.points,function(e){e.setCoord(s.add(e.coord(),n))})}};d.standard=null,e.exports={add:l,modify:u,draw:c,remove:p,onMoveStart:{standard:null},constraints:h,onMove:d,onMoveEnd:{standard:null},onClick:{standard:null}}},function(e,t,n){"use strict";function r(e){var t;t=a.length?a.pop():new o,t.task=e,t.domain=process.domain,i(t)}function o(){this.task=null,this.domain=null}var i=n(388),a=[];e.exports=r,o.prototype.call=function(){this.domain&&this.domain.enter();var e=!0;try{this.task.call(),e=!1,this.domain&&this.domain.exit()}finally{e&&i.requestFlush(),this.task=null,this.domain=null,a.push(this)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.Provider=void 0;var o=n(390),i=r(o),a=n(391),s=r(a);t.Provider=i.default,t.connect=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(416),i=n(417),a={create:function(e){return(0,o.mapObj)(e,function(e){var t=r(e,2),n=t[0],i=t[1];return[n,{_name:n+"_"+(0,o.hashObject)(i),_definition:i}]})},rehydrate:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];(0,i.addRenderedClassNames)(e)}},s={renderStatic:function(e){(0,i.reset)(),(0,i.startBuffering)();var t=e(),n=(0,i.flushToString)();return{html:t,css:{content:n,renderedClassNames:(0,i.getRenderedClassNames)()}}}},l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(function(e){return e});if(0===r.length)return"";var o=r.map(function(e){return e._name}).join("-o_O-");return(0,i.injectStyleOnce)(o,"."+o,r.map(function(e){return e._definition})),o};t.default={StyleSheet:a,StyleSheetServer:s,css:l},e.exports=t.default},function(e,t,n){"use strict";var r=n(199),o=r.DeviceTypes,i=r.DeviceOrientations,a=r.LayoutModes,s=n(262),l=s.pageIndicatorHeightPx,u=s.toolbarHeightPx,c=s.navigationPadWidthPx,p=s.innerBorderWidthPx,h=48,d=64,f=32,m=44,g=64,v=44,y=m+v,b=v+(g-m),x=320/(480-m),E=function(e,t,n,r){var s=e.numColumns,m=e.numMaxVisibleRows,g=e.numPages,v=t.pageWidthPx,E=t.pageHeightPx,w=n.deviceOrientation,T=n.deviceType,C=r.navigationPadEnabled,S=r.paginationEnabled,k=r.toolbarEnabled,P=S?s:s*g,_=void 0;if(T===o.PHONE){var M=w===i.LANDSCAPE,N=M?y:b,O=f+N+(k?u:0)+(S?l:0),A=v,I=M?E:v/x,R=I-O,D=Math.max(Math.min(R/m,d),h),L=void 0;if(g>1){var F=S?s:s*g;L=A/F}else L=M?d:A/s;_={widthPx:L,heightPx:D}}else{if(T!==o.TABLET)throw new Error("Invalid device type: "+T);_={widthPx:d,heightPx:d}}var B=(C?1:0)+(S?0:g-1),j=P*_.widthPx+(C?c:0)+B*p;return{buttonDimensions:_,layoutMode:j>=v?a.FULLSCREEN:a.COMPACT}};e.exports=E},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(393),s=n(394),l=n(395),u=function(e){return[e.changedTouches[0].clientX,e.changedTouches[0].clientY]},c=function(){function e(t,n,u,c){var p=this;o(this,e);var h=t.swipeEnabled;this.swipeEnabled=h,this.trackEvents=!1,this.nodeManager=new a,this.popoverStateMachine=new s({onActiveNodesChanged:function(e){var t=e.popover,o=r(e,["popover"]);n.onActiveNodesChanged(i({popover:t&&{parentId:t.parentId,bounds:p.nodeManager.layoutPropsForId(t.parentId).initialBounds,childKeyIds:t.childIds}},o))},onClick:function(e,t,r){n.onClick(e,p.nodeManager.layoutPropsForId(t),r)}}),this.gestureStateMachine=new l({onFocus:function(e){p.popoverStateMachine.onFocus(e)},onLongPress:function(e){p.popoverStateMachine.onLongPress(e)},onTouchEnd:function(e){p.popoverStateMachine.onTouchEnd(e)},onBlur:function(){p.popoverStateMachine.onBlur()},onSwipeChange:n.onSwipeChange,onSwipeEnd:n.onSwipeEnd,onTrigger:function(e){p.popoverStateMachine.onTrigger(e)}},{},u,c)}return e.prototype.onTouchStart=function(e,t){if(this.trackEvents){for(var n=u(e),r=n[0],o=0;o<e.changedTouches.length;o++)this.gestureStateMachine.onTouchStart(function(){return t},e.changedTouches[o].identifier,r);e.preventDefault()}},e.prototype.onTouchMove=function(e){var t=this;if(this.trackEvents)for(var n=this.popoverStateMachine.isPopoverVisible(),r=this.swipeEnabled&&!n,o=u(e),i=o[0],a=o[1],s=0;s<e.changedTouches.length;s++)this.gestureStateMachine.onTouchMove(function(){return t.nodeManager.idForCoords(i,a)},e.changedTouches[s].identifier,i,r)},e.prototype.onTouchEnd=function(e){var t=this;if(this.trackEvents)for(var n=u(e),r=n[0],o=n[1],i=0;i<e.changedTouches.length;i++)this.gestureStateMachine.onTouchEnd(function(){return t.nodeManager.idForCoords(r,o)},e.changedTouches[i].identifier,r)},e.prototype.onTouchCancel=function(e){if(this.trackEvents)for(var t=0;t<e.changedTouches.length;t++)this.gestureStateMachine.onTouchCancel(e.changedTouches[t].identifier)},e.prototype.registerDOMNode=function(e,t,n,r){this.nodeManager.registerDOMNode(e,t,n,r),this.popoverStateMachine.registerPopover(e,n)},e.prototype.unregisterDOMNode=function(e){this.nodeManager.unregisterDOMNode(e),this.popoverStateMachine.unregisterPopover(e)},e.prototype.enableEventTracking=function(){this.trackEvents=!0},e.prototype.disableEventTracking=function(){this.trackEvents=!1},e}();e.exports=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(448),a=function(){function e(t){r(this,e),this.options=o({velocityTimeout:100},t),this._events=[]}return e.prototype.push=function(e){this._events.push({x:e,t:i()})},e.prototype.getVelocity=function(){var e=this._getEvents();if(e.length<2)return 0;var t=e[e.length-1],n=e[0],r=t.t-n.t;return(t.x-n.x)/r},e.prototype._getEvents=function(){var e=i()-this.options.velocityTimeout,t=this._events.filter(function(t){return t.t>e});return this._events=[],t},e}();e.exports=a},function(e,t,n){"use strict";var r=n(54),o=n(341),i=o.StyleSheet,a=o.css,s=r.createClass({displayName:"Text",propTypes:{children:r.PropTypes.oneOfType([r.PropTypes.arrayOf(r.PropTypes.node),r.PropTypes.node]),dynamicStyle:r.PropTypes.any,numberOfLines:r.PropTypes.number,style:r.PropTypes.any},render:function(){var e=this.props,t=e.numberOfLines,n=e.style,o=a.apply(void 0,[l.initial].concat(Array.isArray(n)?n:[n],[1===t&&l.singleLineStyle]));return r.createElement("span",{className:o,style:this.props.dynamicStyle},this.props.children)}}),l=i.create({initial:{color:"inherit",display:"inline",font:"inherit",margin:0,padding:0,textDecorationLine:"none",wordWrap:"break-word"},singleLineStyle:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}});e.exports=s},function(e,t,n){"use strict";var r=n(54),o=n(341),i=o.StyleSheet,a=o.css,s=r.createClass({displayName:"View",propTypes:{ariaLabel:r.PropTypes.string,children:r.PropTypes.oneOfType([r.PropTypes.arrayOf(r.PropTypes.node),r.PropTypes.node]),dynamicStyle:r.PropTypes.any,numberOfLines:r.PropTypes.number,onClick:r.PropTypes.func,onTouchCancel:r.PropTypes.func,onTouchEnd:r.PropTypes.func,onTouchMove:r.PropTypes.func,onTouchStart:r.PropTypes.func,role:r.PropTypes.string,style:r.PropTypes.any},statics:{styles:i.create({initial:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",margin:0,padding:0,position:"relative",backgroundColor:"transparent",color:"inherit",font:"inherit",textAlign:"inherit",textDecorationLine:"none",listStyle:"none",maxWidth:"100%",minHeight:0,minWidth:0}})},render:function(){var e=a.apply(void 0,[s.styles.initial].concat(Array.isArray(this.props.style)?this.props.style:[this.props.style]));return r.createElement("div",{className:e,style:this.props.dynamicStyle,onClick:this.props.onClick,onTouchCancel:this.props.onTouchCancel,onTouchEnd:this.props.onTouchEnd,onTouchMove:this.props.onTouchMove,onTouchStart:this.props.onTouchStart,"aria-label":this.props.ariaLabel,role:this.props.role},this.props.children)}});e.exports=s},function(e,t,n){"use strict";function r(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),i=t.getAnchorOffset();return i>0?(n=e.getBlockForKey(r).getEntityAt(i-1),o(n)):null}var a=t.getStartKey(),s=t.getStartOffset(),l=e.getBlockForKey(a);return n=s===l.getLength()?null:l.getEntityAt(s),o(n)}function o(e){if(e){var t=i.get(e);return"MUTABLE"===t.getMutability()?e:null}return null}var i=n(244);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),o=t.getStartOffset(),i=!1;return r.some(function(e){return o===e.get("start")?(i=!0,!0):o<e.get("end")&&e.get("leaves").some(function(e){var t=e.get("start");return o===t?(i=!0,!0):!(o<t)&&void 0})}),i}e.exports=r},function(e,t,n){"use strict";function r(e){e||(e="");var t=void 0,n=arguments.length;if(n>1)for(var r=1;r<n;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){if("file"==e.kind)return e.getAsFile()}var i=n(397),a=n(398),s=n(319),l=new RegExp("\r\n","g"),u="\n",c={"text/rtf":1,"text/html":1},p=function(){function e(t){r(this,e),this.data=t,this.types=t.types?a(t.types):[]}return e.prototype.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(e){return c[e]})},e.prototype.getText=function(){var e;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(l,u):null},e.prototype.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}},e.prototype.isLink=function(){return this.types.some(function(e){return e.indexOf("Url")!=-1||e.indexOf("text/uri-list")!=-1||e.indexOf("text/x-moz-url")})},e.prototype.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var e=this.data.getData("text/x-moz-url").split("\n");return e[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},e.prototype.isImage=function e(){var e=this.types.some(function(e){return e.indexOf("application/x-moz-file")!=-1});if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var r=t[n].type;if(!i.isImage(r))return!1}return!0},e.prototype.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},e.prototype.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(o).filter(s.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},e.prototype.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=p},function(e,t,n){"use strict";function r(e){for(;e&&e!==document.documentElement;){var t=o(e);if(null!=t)return t;e=e.parentNode}return null}var o=n(396);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=0,r=[];e.forEach(function(i){o(i,function(o){n++,o&&r.push(o.slice(0,s)),n==e.length&&t(r.join("\r"))})})}function o(e,t){if(!global.FileReader||e.type&&!(e.type in a))return void t("");if(""===e.type){var n="";return i.test(e.name)&&(n=e.name.replace(i,"")),void t(n)}var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(){t("")},r.readAsText(e)}var i=/\.textClipping$/,a={"text/plain":!0,"text/html":!0,"text/rtf":!0},s=5e3;e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,a){var s=i(e.getSelection()),l=o.decode(t),u=l.blockKey,c=e.getBlockTree(u).getIn([l.decoratorKey,"leaves",l.leafKey]),p=o.decode(r),h=p.blockKey,d=e.getBlockTree(h).getIn([p.decoratorKey,"leaves",p.leafKey]),f=c.get("start"),m=d.get("start"),g=c?f+n:null,v=d?m+a:null,y=s.getAnchorKey()===u&&s.getAnchorOffset()===g&&s.getFocusKey()===h&&s.getFocusOffset()===v;if(y)return s;var b=!1;if(u===h){var x=c.get("end"),E=d.get("end");b=m===f&&E===x?a<n:m<f}else{var w=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(e){return e===u||e===h}).first();b=w===h}return s.merge({anchorKey:u,anchorOffset:g,focusKey:h,focusOffset:v,isBackward:b})}var o=n(293),i=n(320);e.exports=r},function(e,t,n){"use strict";function r(e){return m&&(e==d||e==f)}function o(e,t,n,r){var o=s.replaceText(e.getCurrentContent(),e.getSelection(),t,n,r);return l.push(e,o,"insert-characters")}function i(e){var t=e.data;if(t){if(this.props.handleBeforeInput&&this.props.handleBeforeInput(t))return void e.preventDefault();var n=this.props.editorState,i=n.getSelection();if(!i.isCollapsed())return e.preventDefault(),void this.update(o(n,t,n.getCurrentInlineStyle(),c(n.getCurrentContent(),n.getSelection())));var s=!p(n),u=o(n,t,n.getCurrentInlineStyle(),c(n.getCurrentContent(),n.getSelection()));if(!s)return e.preventDefault(),void this.update(u);var d=i.getAnchorKey(),f=n.getBlockTree(d),m=a.getFingerprint(f),g=a.getFingerprint(u.getBlockTree(d));r(t)||m!==g||h(u.getDirectionMap()).get(d)!==h(n.getDirectionMap()).get(d)?e.preventDefault():u=l.set(u,{nativelyRenderedContent:u.getCurrentContent()}),this.update(u)}}var a=n(304),s=n(243),l=n(246),u=n(318),c=n(347),p=n(348),h=n(320),d="'",f="/",m=u.isBrowser("Firefox");e.exports=i},function(e,t,n){"use strict";function r(e){s&&a()===document.body&&global.getSelection().removeAllRanges();var t=this.props.editorState,n=t.getSelection();if(n.getHasFocus()){var r=n.set("hasFocus",!1);this.props.onBlur&&this.props.onBlur(e),this.update(o.acceptSelection(t,r))}}var o=n(246),i=n(318),a=n(399),s=i.isEngine("WebKit");e.exports=r},function(e,t,n){"use strict";function r(){this.setRenderGuard(),this.setMode("composite"),this.update(o.set(this.props.editorState,{inCompositionMode:!0}))}var o=n(246);e.exports=r},function(e,t,n){"use strict";function r(e){var t=this.props.editorState,n=t.getSelection();return n.isCollapsed()?void e.preventDefault():void this.setClipboard(o(this.props.editorState))}var o=n(400);e.exports=r},function(e,t,n){"use strict";function r(e){var t=this,n=this.props.editorState,r=n.getSelection();if(r.isCollapsed())return void e.preventDefault();var i=s.getScrollParent(e.target),a=u(i),c=a.x,p=a.y,h=l(n);this.setClipboard(h),this.setRenderGuard(),this.setMode("cut"),setTimeout(function(){t.restoreEditorDOM({x:c,y:p}),t.removeRenderGuard(),t.exitCurrentMode(),t.update(o(n))},0)}function o(e){var t=i.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return a.push(e,t,"remove-range")}var i=n(243),a=n(246),s=n(317),l=n(400),u=n(321);e.exports=r},function(e,t,n){"use strict";function r(e){this._internalDrag=!1,this.setMode("drag"),e.preventDefault()}e.exports=r},function(e,t,n){"use strict";function r(){this._internalDrag=!0,this.setMode("drag")}e.exports=r},function(e,t,n){"use strict";function r(e){var t=this.props.editorState,n=t.getSelection();if(!n.getHasFocus()){var r=n.set("hasFocus",!0);this.props.onFocus&&this.props.onFocus(e),this.update(o.forceSelection(t,r))}}var o=n(246);e.exports=r},function(e,t,n){"use strict";function r(){var e=global.getSelection(),t=e.anchorNode,n=e.isCollapsed;if(t.nodeType===Node.TEXT_NODE){var r=t.textContent,l=this.props.editorState,d=c(u(t)),f=i.decode(d),m=f.blockKey,g=f.decoratorKey,v=f.leafKey,y=l.getBlockTree(m).getIn([g,"leaves",v]),b=y.start,x=y.end,E=l.getCurrentContent(),w=E.getBlockForKey(m),T=w.getText().slice(b,x);if(r.endsWith(h)&&(r=r.slice(0,-1)),r!==T){var C,S,k,P,_=l.getSelection(),M=_.merge({anchorOffset:b,focusOffset:x,isBackward:!1}),N=w.getEntityAt(b),O=N&&s.get(N),A=O&&O.getMutability(),I="MUTABLE"===A,R=I?"spellcheck-change":"apply-entity",D=o.replaceText(E,M,r,w.getInlineStyleAt(b),I?w.getEntityAt(b):null);if(p)C=e.anchorOffset,S=e.focusOffset,k=b+Math.min(C,S),P=k+Math.abs(C-S),C=k,S=P;else{var L=r.length-T.length;k=_.getStartOffset(),P=_.getEndOffset(),C=n?P+L:k,S=P+L}var F=D.merge({selectionBefore:E.getSelectionAfter(),selectionAfter:_.merge({anchorOffset:C,focusOffset:S})});this.update(a.push(l,F,R))}}}var o=n(243),i=n(293),a=n(246),s=n(244),l=n(318),u=n(351),c=n(320),p=l.isEngine("Gecko"),h="\n\n";e.exports=r},function(e,t,n){"use strict";function r(e,t){switch(e){case"redo":return a.redo(t);case"delete":return g(t);case"delete-word":return d(t);case"backspace":return m(t);case"backspace-word":return h(t);case"backspace-to-start-of-line":return p(t);case"split-block":return f(t);case"transpose-characters":return b(t);case"move-selection-to-start-of-block":return y(t);case"move-selection-to-end-of-block":return v(t);case"secondary-cut":return u.cut(t);case"secondary-paste":return u.paste(t);default:return t}}function o(e){var t=e.which,n=this.props.editorState;switch(t){case l.RETURN:if(e.preventDefault(),this.props.handleReturn&&this.props.handleReturn(e))return;break;case l.ESC:return e.preventDefault(),void(this.props.onEscape&&this.props.onEscape(e));case l.TAB:return void(this.props.onTab&&this.props.onTab(e));case l.UP:return void(this.props.onUpArrow&&this.props.onUpArrow(e));case l.DOWN:return void(this.props.onDownArrow&&this.props.onDownArrow(e));case l.SPACE:if(w&&E(e)){e.preventDefault();var o=i.replaceText(n.getCurrentContent(),n.getSelection()," ");return void this.update(a.push(n,o,"insert-characters"))}}var s=this.props.keyBindingFn(e);if(s){if("undo"===s)return void x(e,n,this.update);if(e.preventDefault(),!this.props.handleKeyCommand||!this.props.handleKeyCommand(s)){var u=r(s,n);u!==n&&this.update(u)}}}var i=n(243),a=n(246),s=n(247),l=n(328),u=n(401),c=n(318),p=n(402),h=n(403),d=n(404),f=n(405),m=n(406),g=n(407),v=n(408),y=n(409),b=n(410),x=n(411),E=s.isOptionKeyCommand,w=c.isBrowser("Chrome");e.exports=o},function(e,t,n){"use strict";function r(e){var t=this;e.preventDefault();var n=new s(e.clipboardData);if(!n.isRichText()){var r=n.getFiles(),f=n.getText();if(r.length>0){if(this.props.handlePastedFiles&&this.props.handlePastedFiles(r))return;return void h(r,function(e){if(e=e||f){var n=t.props.editorState,r=d(e),o=a.create({style:n.getCurrentInlineStyle(),entity:p(n.getCurrentContent(),n.getSelection())}),s=u.processText(r,o),h=i.createFromArray(s),m=l.replaceWithFragment(n.getCurrentContent(),n.getSelection(),h);t.update(c.push(n,m,"insert-fragment"))}})}}var m=[],g=n.getText(),v=n.getHTML();if(!this.props.handlePastedText||!this.props.handlePastedText(g,v)){if(g&&(m=d(g)),!this.props.stripPastedStyles){var y=this.getClipboard();if(n.isRichText()&&y&&(v.indexOf(this.getEditorKey())!==-1||1===m.length&&1===y.size&&y.first().getText()===g))return void this.update(o(this.props.editorState,y));if(v){var b=u.processHTML(v,this.props.blockRenderMap);if(b){var x=i.createFromArray(b);return void this.update(o(this.props.editorState,x))}}this.setClipboard(null)}if(m){var E=this.props.editorState,w=a.create({style:E.getCurrentInlineStyle(),entity:p(E.getCurrentContent(),E.getSelection())}),T=u.processText(m,w),C=i.createFromArray(T);this.update(o(this.props.editorState,C))}}}function o(e,t){var n=l.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return c.push(e,n,"insert-fragment")}var i=n(234),a=n(235),s=n(350),l=n(243),u=n(412),c=n(246),p=n(347),h=n(352),d=n(413);e.exports=r},function(e,t,n){"use strict";function r(){if(!this._blockSelectEvents){var e=this.props.editorState,t=a(e,i.findDOMNode(this.refs.editorContainer).firstChild),n=t.selectionState;n!==e.getSelection()&&(e=t.needsRecovery?o.forceSelection(e,n):o.acceptSelection(e,n),this.update(e))}}var o=n(246),i=n(58),a=n(414);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return p?"\n"===e.textContent:"BR"===e.tagName}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=i,n=a,r=!0,s=u=void 0}},l=n(54),u=n(58),c=n(318),p=c.isBrowser("IE <= 11"),h=p?l.createElement("span",{key:"A","data-text":"true"},"\n"):l.createElement("br",{key:"A","data-text":"true"}),d=p?l.createElement("span",{key:"B","data-text":"true"},"\n"):l.createElement("br",{key:"B","data-text":"true"}),f=function(e){function t(e){r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._forceFlag=!1}return o(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){var t=u.findDOMNode(this),n=""===e.children;return n?!i(t):t.textContent!==e.children}},{key:"componentWillUpdate",value:function(){this._forceFlag=!this._forceFlag}},{key:"render",value:function(){return""===this.props.children?this._forceFlag?h:d:l.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true"},this.props.children)}}]),t}(l.Component);e.exports=f},function(e,t,n){"use strict";function r(e,t,n,r,s){if(a(document.documentElement,t)){var l=global.getSelection(),u=e.getAnchorKey(),c=e.getAnchorOffset(),p=e.getFocusKey(),h=e.getFocusOffset(),d=e.getIsBackward();if(!l.extend&&d){var f=u,m=c;u=p,c=h,p=f,h=m,d=!1}var g=u===n&&r<=c&&s>=c,v=p===n&&r<=h&&s>=h;if(g&&v)return l.removeAllRanges(),i(l,t,c-r),void o(l,t,h-r);if(d){if(v&&(l.removeAllRanges(),i(l,t,h-r)),g){var y=l.focusNode,b=l.focusOffset;l.removeAllRanges(),i(l,t,c-r),o(l,y,b)}}else g&&(l.removeAllRanges(),i(l,t,c-r)),v&&o(l,t,h-r)}}function o(e,t,n){if(e.extend&&a(s(),t))e.extend(t,n);else{var r=e.getRangeAt(0);r.setEnd(t,n),e.addRange(r.cloneRange())}}function i(e,t,n){var r=document.createRange();r.setStart(t,n),e.addRange(r)}var a=n(415),s=n(399);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){for(var i=e.getCharacterList();t<n;)i=i.set(t,o.applyEntity(i.get(t),r)),t++;return e.set("characterList",i)}var o=n(235);e.exports=r},function(e,t,n){"use strict";var r={getRemovalRange:function(e,t,n,r,o){var i=n.split(" ");i=i.map(function(e,t){if("forward"===o){if(t>0)return" "+e}else if(t<i.length-1)return e+" ";return e});for(var a,s,l=r,u=null,c=null,p=0;p<i.length;p++){if(s=i[p],a=l+s.length,e<a&&l<t)null!==u?c=a:(u=l,c=a);else if(null!==u)break;l=a}var h=r+n.length,d=u===r,f=c===h;return(!d&&f||d&&!f)&&("forward"===o?c!==h&&c++:u!==r&&u--),{start:u,end:c}}};e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=[];return e.findEntityRanges(function(e){return e.getEntity()===t},function(e,t){n.push({start:e,end:t})}),n.length?void 0:o(!1),n}var o=n(326);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(n===e.count())t.forEach(function(t){e=e.push(t)});else if(0===n)t.reverse().forEach(function(t){e=e.unshift(t)});else{var r=e.slice(0,n),o=e.slice(n);e=r.concat(t,o).toList()}return e}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(322),i=n(323),a=n(326),s=function(){function e(t){r(this,e),t?i.isStrong(t)?void 0:a(!1):t=i.getGlobalDir(),this._defaultDir=t,this.reset()}return e.prototype.reset=function(){this._lastDir=this._defaultDir},e.prototype.getDirection=function(e){return this._lastDir=o.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=s},function(e,t,n){"use strict";function r(e){return h<=e&&e<=m}function o(e,t){if(0<=t&&t<e.length?void 0:p(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),r=e.charCodeAt(t+1);return h<=n&&n<=d&&f<=r&&r<=m}function i(e){return g.test(e)}function a(e,t){return 1+r(e.charCodeAt(t))}function s(e){if(!i(e))return e.length;for(var t=0,n=0;n<e.length;n+=a(e,n))t++;return t}function l(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!i(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var o=0;if(t>0){for(;t>0&&o<r;t--)o+=a(e,o);if(o>=r)return""}else if(t<0){for(o=r;t<0&&0<o;t++)o-=a(e,o-1);o<0&&(o=0)}var s=r;if(n<r)for(s=o;n>0&&s<r;n--)s+=a(e,s);return e.substring(o,s)}function u(e,t,n){t=t||0,n=void 0===n?1/0:n||0,t<0&&(t=0),n<0&&(n=0);var r=Math.abs(n-t);return t=t<n?t:n,l(e,t,r)}function c(e){for(var t=[],n=0;n<e.length;n+=a(e,n))t.push(e.codePointAt(n));return t}var p=n(326),h=55296,d=56319,f=56320,m=57343,g=/[\uD800-\uDFFF]/,v={getCodePoints:c,getUTF16Length:a,hasSurrogateUnit:i,isCodeUnitInSurrogateRange:r,isSurrogatePair:o,strlen:s,substring:u,substr:l};e.exports=v},function(e,t,n){"use strict";function r(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var o=r===e.commonAncestorContainer;o?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var a=Array.from(t.getClientRects());if(n.push(a),o){var s;return n.reverse(),(s=[]).concat.apply(s,n)}t.setEndBefore(r)}i(!1)}var o=n(318),i=n(326),a=o.isBrowser("Chrome"),s=a?r:function(e){return Array.from(e.getClientRects())};e.exports=s},function(e,t,n){"use strict";function r(e){return s[e]||e}function o(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}var i=n(459),a="Unknown",s={"Mac OS":"Mac OS X"},l=new i,u=l.getResult(),c=o(u.browser.version),p={browserArchitecture:u.cpu.architecture||a,browserFullVersion:u.browser.version||a,browserMinorVersion:c.minor||a,browserName:u.browser.name||a,browserVersion:u.browser.major||a,deviceName:u.device.model||a,engineName:u.engine.name||a,engineVersion:u.engine.version||a,platformArchitecture:u.cpu.architecture||a,platformName:r(u.os.name)||a,platformVersion:u.os.version||a,platformFullVersion:u.os.version||a};e.exports=p},function(e,t,n){"use strict";function r(e,t){var n=e.split(w);return n.length>1?n.some(function(e){return k.contains(e,t)}):(e=n[0].trim(),o(e,t))}function o(e,t){var n=e.split(T);if(n.length>0&&n.length<=2?void 0:x(!1),1===n.length)return i(n[0],t);var r=n[0],o=n[1];return f(r)&&f(o)?void 0:x(!1),i(">="+r,t)&&i("<="+o,t)}function i(e,t){if(e=e.trim(),""===e)return!0;var n=t.split(E),r=h(e),o=r.modifier,i=r.rangeComponents;switch(o){case"<":return a(n,i);case"<=":return s(n,i);case">=":return u(n,i);case">":return c(n,i);case"~":case"~>":return p(n,i);default:return l(n,i)}}function a(e,t){return b(e,t)===-1}function s(e,t){var n=b(e,t);return n===-1||0===n}function l(e,t){return 0===b(e,t)}function u(e,t){var n=b(e,t);return 1===n||0===n}function c(e,t){return 1===b(e,t)}function p(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var o=r.length-1,i=parseInt(r[o],10);return d(i)&&(r[o]=i+1+""),u(e,n)&&a(e,r)}function h(e){var t=e.split(E),n=t[0].match(C);return n?void 0:x(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function d(e){return!isNaN(e)&&isFinite(e)}function f(e){return!h(e).modifier}function m(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function g(e,t){e=e.slice(),t=t.slice(),m(e,t.length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var o=n;o<e.length;o++)e[o]="0"}return m(t,e.length),[e,t]}function v(e,t){var n=e.match(S)[1],r=t.match(S)[1],o=parseInt(n,10),i=parseInt(r,10);return d(o)&&d(i)&&o!==i?y(o,i):y(e,t)}function y(e,t){return typeof e!=typeof t?x(!1):void 0,e>t?1:e<t?-1:0}function b(e,t){for(var n=g(e,t),r=n[0],o=n[1],i=0;i<o.length;i++){var a=v(r[i],o[i]);
if(a)return a}return 0}var x=n(326),E=/\./,w=/\|\|/,T=/\s+\-\s+/,C=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,S=/^(\d*)(.*)/,k={contains:function(e,t){return r(e.trim(),t.trim())}};e.exports=k},function(e,t,n){"use strict";function r(e,t,n){if(!e)return null;var r={};for(var i in e)o.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}var o=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=r},function(e,t,n){"use strict";function r(e){return null==e?e:String(e)}function o(e,t){var n=void 0;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return r(n.getPropertyValue(a(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return r(n.getPropertyValue(a(t)));if("display"===t)return"none"}return r(e.currentStyle?"float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[i(t)]:e.style&&e.style[i(t)])}var i=n(418),a=n(419);e.exports=o},function(e,t,n){"use strict";function r(e){return e=e||document,o||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}var o="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=r},function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=r},function(e,t,n){"use strict";function r(e){var t=document.documentElement;if(!("getBoundingClientRect"in e&&o(t,e)))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}var o=n(415);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(54),a=n(58),s=n(340),l=s.connect,u=n(277),c=u.removeEcho,p=n(279),h=p.View,d=n(421),f=n(422),m=n(200),g=m.echoPropType,v=m.popoverPropType,y=i.createClass({displayName:"Keypad",propTypes:{active:i.PropTypes.bool,children:i.PropTypes.oneOfType([i.PropTypes.arrayOf(i.PropTypes.node),i.PropTypes.node]),echoes:i.PropTypes.arrayOf(g).isRequired,popover:v,removeEcho:i.PropTypes.func.isRequired,style:i.PropTypes.any},componentDidMount:function(){window.addEventListener("resize",this._onResize),this._updateSizeAndPosition()},componentWillReceiveProps:function(e){this._container||!e.popover&&!e.echoes.length||this._computeContainer()},componentWillUnmount:function(){window.removeEventListener("resize",this._onResize)},_computeContainer:function(){var e=a.findDOMNode(this);this._container=e.getBoundingClientRect()},_updateSizeAndPosition:function(){this._container=null},_onResize:function(){var e=this;null==this._resizeTimeout&&(this._resizeTimeout=setTimeout(function(){e._resizeTimeout=null,e.isMounted()&&e._updateSizeAndPosition()},66))},render:function(){var e=this,t=this.props,n=t.children,a=t.echoes,s=t.removeEcho,l=t.popover,u=t.style,c=a.map(function(t){var n=t.initialBounds,i=r(t,["initialBounds"]);return o({},i,{initialBounds:{top:n.top-e._container.top,right:n.right-e._container.left,bottom:n.bottom-e._container.top,left:n.left-e._container.left,width:n.width,height:n.height}})}),p=l&&o({},l,{bounds:{bottom:this._container.height-(l.bounds.bottom-this._container.top),left:l.bounds.left-this._container.left,width:l.bounds.width}});return i.createElement(h,{style:u},n,i.createElement(d,{echoes:c,onAnimationFinish:s}),i.createElement(f,{popover:p}))}}),b=function(e){return o({},e.echoes,{active:e.keypad.active,popover:e.gestures.popover})},x=function(e){return{removeEcho:function(t){e(c(t))}}};e.exports=l(b,x)(y)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(54),a=n(58),s=n(340),l=s.connect,u=n(423),c=n(268),p=n(343),h=n(200),d=h.bordersPropType,f=h.keyIdPropType,m=n(199),g=m.KeyTypes,v=i.createClass({displayName:"TouchableKeypadButton",propTypes:{borders:d,childKeyIds:i.PropTypes.arrayOf(f),disabled:i.PropTypes.bool,focused:i.PropTypes.bool,gestureManager:i.PropTypes.instanceOf(p),id:f.isRequired,popoverEnabled:i.PropTypes.bool,style:i.PropTypes.any,type:i.PropTypes.oneOf(Object.keys(g)).isRequired},shouldComponentUpdate:function(e){return e.id!==this.props.id||e.gestureManager!==this.props.gestureManager||e.focused!==this.props.focused||e.disabled!==this.props.disabled||e.popoverEnabled!==this.props.popoverEnabled||e.type!==this.props.type||!!e.style},componentWillUnmount:function(){var e=this.props,t=e.gestureManager,n=e.id;t.unregisterDOMNode(n)},render:function(){var e=this.props,t=e.borders,n=e.childKeyIds,s=e.disabled,l=e.gestureManager,c=e.id,p=r(e,["borders","childKeyIds","disabled","gestureManager","id"]),h=s?{onTouchStart:function(e){return e.preventDefault()}}:{onTouchStart:function(e){return l.onTouchStart(e,c)},onTouchEnd:function(e){return l.onTouchEnd(e)},onTouchMove:function(e){return l.onTouchMove(e)},onTouchCancel:function(e){return l.onTouchCancel(e)}};return i.createElement(u,o({ref:function(e){return l.registerDOMNode(c,a.findDOMNode(e),n,t)},borders:t,disabled:s},h,p))}}),y=function(e){var t=e.ariaLabel,n=e.icon,r=e.type;return{ariaLabel:t,icon:n,type:r}},b=function(e,t){var n=e.gestures,i=t.keyConfig,a=r(t,["keyConfig"]),s=i.id,l=i.childKeyIds,u=i.type,p=l&&l.map(function(e){return c[e]}),h=u!==g.MANY&&p&&p.length>0;return o({},a,{childKeyIds:l,gestureManager:n.gestureManager,id:s,focused:n.focus===s,popoverEnabled:n.popover&&n.popover.parentId===s,childKeys:p},y(h?p[0]:i))};e.exports=l(b)(v)},function(e,t,n){"use strict";var r=n(54),o=n(340),i=o.connect,a=n(341),s=a.StyleSheet,l=n(383),u=n(424),c=n(425),p=n(279),h=p.View,d=n(333),f=d.column,m=d.row,g=d.fullWidth,v=n(262),y=v.innerBorderColor,b=v.innerBorderStyle,x=v.innerBorderWidthPx,E=v.gray85,w=r.createClass({displayName:"TwoPageKeypad",propTypes:{currentPage:r.PropTypes.oneOf([0,1]).isRequired,leftPage:r.PropTypes.node.isRequired,paginationEnabled:r.PropTypes.bool.isRequired,rightPage:r.PropTypes.node.isRequired},render:function(){var e=this.props,t=e.currentPage,n=e.leftPage,o=e.paginationEnabled,i=e.rightPage;return o?r.createElement(l,{style:[f,T.keypad]},r.createElement(c,{numPages:2,currentPage:t}),r.createElement(h,{style:T.borderTop},r.createElement(u,null,n,i))):r.createElement(l,{style:T.keypad},r.createElement(h,{style:m},r.createElement(h,{style:g},n),r.createElement(h,{style:[T.borderLeft,g]},i)))}}),T=s.create({keypad:{backgroundColor:E},borderTop:{borderTop:x+"px "+b+" "+y},borderLeft:{borderLeft:x+"px "+b+" "+y,boxSizing:"content-box"}}),C=function(e){return{paginationEnabled:e.layout.paginationEnabled}};e.exports=i(C)(w)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(54),a=n(426),s=n(384),l=n(334),u=n(268),c=n(199),p=c.KeyTypes,h=n(200),d=h.keyIdPropType,f=i.createClass({displayName:"ManyKeypadButton",propTypes:{keys:i.PropTypes.arrayOf(d).isRequired},render:function(){var e=this.props,t=e.keys,n=r(e,["keys"]);if(0===t.length)return i.createElement(a,n);if(1===t.length){var c=u[t[0]];return i.createElement(s,o({keyConfig:c},n))}var h={id:l.MANY,type:p.MANY,childKeyIds:t};return i.createElement(s,o({keyConfig:h},n))}});e.exports=f},function(e,t,n){var r,o;(function(e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(t,r){"object"===n(e)&&"object"===n(e.exports)?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:void 0,function(i,a){function s(e){var t=!!e&&"length"in e&&e.length,n=ye.type(e);return"function"!==n&&!ye.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function l(e,t,n){if(ye.isFunction(t))return ye.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ye.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(_e.test(t))return ye.filter(t,e,n);t=ye.filter(t,e)}return ye.grep(e,function(e){return ye.inArray(e,t)>-1!==n})}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function c(e){var t={};return ye.each(e.match(Re)||[],function(e,n){t[n]=!0}),t}function p(){le.addEventListener?(le.removeEventListener("DOMContentLoaded",h),i.removeEventListener("load",h)):(le.detachEvent("onreadystatechange",h),i.detachEvent("onload",h))}function h(){(le.addEventListener||"load"===i.event.type||"complete"===le.readyState)&&(p(),ye.ready())}function d(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(je,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Be.test(n)?ye.parseJSON(n):n)}catch(e){}ye.data(e,t,n)}else n=void 0}return n}function f(e){var t;for(t in e)if(("data"!==t||!ye.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function m(e,t,r,o){if(Fe(e)){var i,a,s=ye.expando,l=e.nodeType,u=l?ye.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(o||u[c].data)||void 0!==r||"string"!=typeof t)return c||(c=l?e[s]=se.pop()||ye.guid++:s),u[c]||(u[c]=l?{}:{toJSON:ye.noop}),"object"!==("undefined"==typeof t?"undefined":n(t))&&"function"!=typeof t||(o?u[c]=ye.extend(u[c],t):u[c].data=ye.extend(u[c].data,t)),a=u[c],o||(a.data||(a.data={}),a=a.data),void 0!==r&&(a[ye.camelCase(t)]=r),"string"==typeof t?(i=a[t],null==i&&(i=a[ye.camelCase(t)])):i=a,i}}function g(e,t,n){if(Fe(e)){var r,o,i=e.nodeType,a=i?ye.cache:e,s=i?e[ye.expando]:ye.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ye.isArray(t)?t=t.concat(ye.map(t,ye.camelCase)):t in r?t=[t]:(t=ye.camelCase(t),t=t in r?[t]:t.split(" ")),o=t.length;for(;o--;)delete r[t[o]];if(n?!f(r):!ye.isEmptyObject(r))return}(n||(delete a[s].data,f(a[s])))&&(i?ye.cleanData([e],!0):ge.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}function v(e,t,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return ye.css(e,t,"")},l=s(),u=n&&n[3]||(ye.cssNumber[t]?"":"px"),c=(ye.cssNumber[t]||"px"!==u&&+l)&&ze.exec(ye.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do i=i||".5",c/=i,ye.style(e,t,c+u);while(i!==(i=s()/l)&&1!==i&&--a)}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=o)),o}function y(e){var t=Ye.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function b(e,t){var n,r,o=0,i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!i)for(i=[],n=e.childNodes||e;null!=(r=n[o]);o++)!t||ye.nodeName(r,t)?i.push(r):ye.merge(i,b(r,t));return void 0===t||t&&ye.nodeName(e,t)?ye.merge([e],i):i}function x(e,t){for(var n,r=0;null!=(n=e[r]);r++)ye._data(n,"globalEval",!t||ye._data(t[r],"globalEval"))}function E(e){Ve.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t,n,r,o){for(var i,a,s,l,u,c,p,h=e.length,d=y(t),f=[],m=0;m<h;m++)if(a=e[m],a||0===a)if("object"===ye.type(a))ye.merge(f,a.nodeType?[a]:a);else if(Je.test(a)){for(l=l||d.appendChild(t.createElement("div")),u=(Ke.exec(a)||["",""])[1].toLowerCase(),p=Xe[u]||Xe._default,l.innerHTML=p[1]+ye.htmlPrefilter(a)+p[2],i=p[0];i--;)l=l.lastChild;if(!ge.leadingWhitespace&&$e.test(a)&&f.push(t.createTextNode($e.exec(a)[0])),!ge.tbody)for(a="table"!==u||Qe.test(a)?"<table>"!==p[1]||Qe.test(a)?0:l:l.firstChild,i=a&&a.childNodes.length;i--;)ye.nodeName(c=a.childNodes[i],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(ye.merge(f,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=d.lastChild}else f.push(t.createTextNode(a));for(l&&d.removeChild(l),ge.appendChecked||ye.grep(b(f,"input"),E),m=0;a=f[m++];)if(r&&ye.inArray(a,r)>-1)o&&o.push(a);else if(s=ye.contains(a.ownerDocument,a),l=b(d.appendChild(a),"script"),s&&x(l),n)for(i=0;a=l[i++];)Ge.test(a.type||"")&&n.push(a);return l=null,d}function T(){return!0}function C(){return!1}function S(){try{return le.activeElement}catch(e){}}function k(e,t,r,o,i,a){var s,l;if("object"===("undefined"==typeof t?"undefined":n(t))){"string"!=typeof r&&(o=o||r,r=void 0);for(l in t)k(e,l,r,o,t[l],a);return e}if(null==o&&null==i?(i=r,o=r=void 0):null==i&&("string"==typeof r?(i=o,o=void 0):(i=o,o=r,r=void 0)),i===!1)i=C;else if(!i)return e;return 1===a&&(s=i,i=function(e){return ye().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ye.guid++)),e.each(function(){ye.event.add(this,t,i,o,r)})}function P(e,t){return ye.nodeName(e,"table")&&ye.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _(e){return e.type=(null!==ye.find.attr(e,"type"))+"/"+e.type,e}function M(e){var t=ut.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function N(e,t){if(1===t.nodeType&&ye.hasData(e)){var n,r,o,i=ye._data(e),a=ye._data(t,i),s=i.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,o=s[n].length;r<o;r++)ye.event.add(t,n,s[n][r])}a.data&&(a.data=ye.extend({},a.data))}}function O(e,t){var n,r,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ge.noCloneEvent&&t[ye.expando]){o=ye._data(t);for(r in o.events)ye.removeEvent(t,r,o.handle);t.removeAttribute(ye.expando)}"script"===n&&t.text!==e.text?(_(t).text=e.text,M(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ge.html5Clone&&e.innerHTML&&!ye.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ve.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function A(e,t,n,r){t=ce.apply([],t);var o,i,a,s,l,u,c=0,p=e.length,h=p-1,d=t[0],f=ye.isFunction(d);if(f||p>1&&"string"==typeof d&&!ge.checkClone&&lt.test(d))return e.each(function(o){var i=e.eq(o);f&&(t[0]=d.call(this,o,i.html())),A(i,t,n,r)});if(p&&(u=w(t,e[0].ownerDocument,!1,e,r),o=u.firstChild,1===u.childNodes.length&&(u=o),o||r)){for(s=ye.map(b(u,"script"),_),a=s.length;c<p;c++)i=u,c!==h&&(i=ye.clone(i,!0,!0),a&&ye.merge(s,b(i,"script"))),n.call(e[c],i,c);if(a)for(l=s[s.length-1].ownerDocument,ye.map(s,M),c=0;c<a;c++)i=s[c],Ge.test(i.type||"")&&!ye._data(i,"globalEval")&&ye.contains(l,i)&&(i.src?ye._evalUrl&&ye._evalUrl(i.src):ye.globalEval((i.text||i.textContent||i.innerHTML||"").replace(ct,"")));u=o=null}return e}function I(e,t,n){for(var r,o=t?ye.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||ye.cleanData(b(r)),r.parentNode&&(n&&ye.contains(r.ownerDocument,r)&&x(b(r,"script")),r.parentNode.removeChild(r));return e}function R(e,t){var n=ye(t.createElement(e)).appendTo(t.body),r=ye.css(n[0],"display");return n.detach(),r}function D(e){var t=le,n=ft[e];return n||(n=R(e,t),"none"!==n&&n||(dt=(dt||ye("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(dt[0].contentWindow||dt[0].contentDocument).document,t.write(),t.close(),n=R(e,t),dt.detach()),ft[e]=n),n}function L(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function F(e){if(e in Mt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=_t.length;n--;)if(e=_t[n]+t,e in Mt)return e}function B(e,t){for(var n,r,o,i=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(i[a]=ye._data(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&We(r)&&(i[a]=ye._data(r,"olddisplay",D(r.nodeName)))):(o=We(r),(n&&"none"!==n||!o)&&ye._data(r,"olddisplay",o?n:ye.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function j(e,t,n){var r=St.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function q(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;i<4;i+=2)"margin"===n&&(a+=ye.css(e,n+Ue[i],!0,o)),r?("content"===n&&(a-=ye.css(e,"padding"+Ue[i],!0,o)),"margin"!==n&&(a-=ye.css(e,"border"+Ue[i]+"Width",!0,o))):(a+=ye.css(e,"padding"+Ue[i],!0,o),"padding"!==n&&(a+=ye.css(e,"border"+Ue[i]+"Width",!0,o)));return a}function z(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=bt(e),a=ge.boxSizing&&"border-box"===ye.css(e,"boxSizing",!1,i);if(o<=0||null==o){if(o=xt(e,t,i),(o<0||null==o)&&(o=e.style[t]),gt.test(o))return o;r=a&&(ge.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+q(e,t,n||(a?"border":"content"),r,i)+"px"}function U(e,t,n,r,o){return new U.prototype.init(e,t,n,r,o)}function W(){return i.setTimeout(function(){Nt=void 0}),Nt=ye.now()}function H(e,t){var n,r={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)n=Ue[o],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function V(e,t,n){for(var r,o=($.tweeners[t]||[]).concat($.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function K(e,t,n){var r,o,i,a,s,l,u,c,p=this,h={},d=e.style,f=e.nodeType&&We(e),m=ye._data(e,"fxshow");n.queue||(s=ye._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,ye.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=ye.css(e,"display"),c="none"===u?ye._data(e,"olddisplay")||D(e.nodeName):u,"inline"===c&&"none"===ye.css(e,"float")&&(ge.inlineBlockNeedsLayout&&"inline"!==D(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ge.shrinkWrapBlocks()||p.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],At.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;f=!0}h[r]=m&&m[r]||ye.style(e,r)}else u=void 0;if(ye.isEmptyObject(h))"inline"===("none"===u?D(e.nodeName):u)&&(d.display=u);else{m?"hidden"in m&&(f=m.hidden):m=ye._data(e,"fxshow",{}),i&&(m.hidden=!f),f?ye(e).show():p.done(function(){ye(e).hide()}),p.done(function(){var t;ye._removeData(e,"fxshow");for(t in h)ye.style(e,t,h[t])});for(r in h)a=V(f?m[r]:0,r,p),r in m||(m[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function G(e,t){var n,r,o,i,a;for(n in e)if(r=ye.camelCase(n),o=t[r],i=e[n],ye.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),a=ye.cssHooks[r],a&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function $(e,t,n){var r,o,i=0,a=$.prefilters.length,s=ye.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Nt||W(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,i=1-r,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(i);return s.notifyWith(e,[u,i,n]),i<1&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ye.extend({},t),opts:ye.extend(!0,{specialEasing:{},easing:ye.easing._default},n),originalProperties:t,originalOptions:n,startTime:Nt||W(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ye.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(G(c,u.opts.specialEasing);i<a;i++)if(r=$.prefilters[i].call(u,e,c,u.opts))return ye.isFunction(r.stop)&&(ye._queueHooks(u.elem,u.opts.queue).stop=ye.proxy(r.stop,r)),r;return ye.map(c,V,u),ye.isFunction(u.opts.start)&&u.opts.start.call(e,u),ye.fx.timer(ye.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function Y(e){return ye.attr(e,"class")||""}function X(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(Re)||[];if(ye.isFunction(n))for(;r=i[o++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function J(e,t,n,r){function o(s){var l;return i[s]=!0,ye.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||i[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}var i={},a=e===rn;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Q(e,t){var n,r,o=ye.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&ye.extend(!0,e,n),e}function Z(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)i=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){i=a;break}r||(r=a)}i=i||r}if(i)return i!==l[0]&&l.unshift(i),n[i]}function ee(e,t,n,r){var o,i,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(a=u[l+" "+i]||u["* "+i],!a)for(o in u)if(s=o.split(" "),s[1]===i&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[o]:u[o]!==!0&&(i=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}function te(e){return e.style&&e.style.display||ye.css(e,"display")}function ne(e){if(!ye.contains(e.ownerDocument||le,e))return!0;for(;e&&1===e.nodeType;){if("none"===te(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function re(e,t,r,o){var i;if(ye.isArray(t))ye.each(t,function(t,i){r||un.test(e)?o(e,i):re(e+"["+("object"===("undefined"==typeof i?"undefined":n(i))&&null!=i?t:"")+"]",i,r,o)});else if(r||"object"!==ye.type(t))o(e,t);else for(i in t)re(e+"["+i+"]",t[i],r,o)}function oe(){try{return new i.XMLHttpRequest}catch(e){}}function ie(){try{return new i.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function ae(e){return ye.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var se=[],le=i.document,ue=se.slice,ce=se.concat,pe=se.push,he=se.indexOf,de={},fe=de.toString,me=de.hasOwnProperty,ge={},ve="1.12.4",ye=function e(t,n){return new e.fn.init(t,n)},be=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,xe=/^-ms-/,Ee=/-([\da-z])/gi,we=function(e,t){return t.toUpperCase()};ye.fn=ye.prototype={jquery:ve,constructor:ye,selector:"",length:0,toArray:function(){return ue.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ue.call(this)},pushStack:function(e){var t=ye.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ye.each(this,e)},map:function(e){return this.pushStack(ye.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ue.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:pe,sort:se.sort,splice:se.splice},ye.extend=ye.fn.extend=function(){var e,t,r,o,i,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[l]||{},l++),"object"===("undefined"==typeof s?"undefined":n(s))||ye.isFunction(s)||(s={}),l===u&&(s=this,l--);l<u;l++)if(null!=(i=arguments[l]))for(o in i)e=s[o],r=i[o],s!==r&&(c&&r&&(ye.isPlainObject(r)||(t=ye.isArray(r)))?(t?(t=!1,a=e&&ye.isArray(e)?e:[]):a=e&&ye.isPlainObject(e)?e:{},s[o]=ye.extend(c,a,r)):void 0!==r&&(s[o]=r));return s},ye.extend({expando:"jQuery"+(ve+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ye.type(e)},isArray:Array.isArray||function(e){return"array"===ye.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!ye.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ye.type(e)||e.nodeType||ye.isWindow(e))return!1;try{if(e.constructor&&!me.call(e,"constructor")&&!me.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!ge.ownFirst)for(t in e)return me.call(e,t);for(t in e);return void 0===t||me.call(e,t)},type:function(e){return null==e?e+"":"object"===("undefined"==typeof e?"undefined":n(e))||"function"==typeof e?de[fe.call(e)]||"object":"undefined"==typeof e?"undefined":n(e)},globalEval:function(e){e&&ye.trim(e)&&(i.execScript||function(e){i.eval.call(i,e)})(e)},camelCase:function(e){return e.replace(xe,"ms-").replace(Ee,we)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(be,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?ye.merge(n,"string"==typeof e?[e]:e):pe.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(he)return he.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;)e[o++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[o++]=t[r++];return e.length=o,e},grep:function(e,t,n){for(var r,o=[],i=0,a=e.length,s=!n;i<a;i++)r=!t(e[i],i),r!==s&&o.push(e[i]);return o},map:function(e,t,n){var r,o,i=0,a=[];if(s(e))for(r=e.length;i<r;i++)o=t(e[i],i,n),null!=o&&a.push(o);else for(i in e)o=t(e[i],i,n),null!=o&&a.push(o);return ce.apply([],a)},guid:1,proxy:function e(t,n){var r,e,o;if("string"==typeof n&&(o=t[n],n=t,t=o),ye.isFunction(t))return r=ue.call(arguments,2),e=function(){return t.apply(n||this,r.concat(ue.call(arguments)))},e.guid=t.guid=t.guid||ye.guid++,e},now:function(){return+new Date},support:ge}),"function"==typeof Symbol&&(ye.fn[Symbol.iterator]=se[Symbol.iterator]),ye.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){de["[object "+t+"]"]=t.toLowerCase()});var Te=function(e){function t(e,t,n,r){var o,i,a,s,l,u,p,d,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:q)!==A&&O(t),t=t||A,R)){if(11!==m&&(u=ve.exec(e)))if(o=u[1]){if(9===m){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(f&&(a=f.getElementById(o))&&B(t,a)&&a.id===o)return n.push(a),n}else{if(u[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((o=u[3])&&E.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(o)),n}if(E.qsa&&!V[e+" "]&&(!D||!D.test(e))){if(1!==m)f=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=j),p=S(e),i=p.length,l=he.test(s)?"#"+s:"[id='"+s+"']";i--;)p[i]=l+" "+h(p[i]);d=p.join(","),f=ye.test(e)&&c(t.parentNode)||t}if(d)try{return Q.apply(n,f.querySelectorAll(d)),n}catch(e){}finally{s===j&&t.removeAttribute("id")}}}return P(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[j]=!0,e}function o(e){var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function h(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=U++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,l,u,c=[z,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(u=t[j]||(t[j]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),(s=l[r])&&s[0]===z&&s[1]===i)return c[2]=s[2];if(l[r]=c,c[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var o=0,i=n.length;o<i;o++)t(e,n[o],r);return r}function g(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function v(e,t,n,o,i,a){return o&&!o[j]&&(o=v(o)),i&&!i[j]&&(i=v(i,a)),r(function(r,a,s,l){var u,c,p,h=[],d=[],f=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,h,e,s,l),b=n?i||(r?e:f||o)?[]:a:y;if(n&&n(y,b,s,l),o)for(u=g(b,d),o(u,[],s,l),c=u.length;c--;)(p=u[c])&&(b[d[c]]=!(y[d[c]]=p));if(r){if(i||e){if(i){for(u=[],c=b.length;c--;)(p=b[c])&&u.push(y[c]=p);i(null,b=[],u,l)}for(c=b.length;c--;)(p=b[c])&&(u=i?ee(r,p):h[c])>-1&&(r[u]=!(a[u]=p))}}else b=g(b===a?b.splice(f,b.length):b),i?i(null,a,b,l):Q.apply(a,b)})}function y(e){for(var t,n,r,o=e.length,i=w.relative[e[0].type],a=i||w.relative[" "],s=i?1:0,l=d(function(e){return e===t},a,!0),u=d(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var o=!i&&(r||n!==_)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,o}];s<o;s++)if(n=w.relative[e[s].type])c=[d(f(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[j]){for(r=++s;r<o&&!w.relative[e[r].type];r++);return v(s>1&&f(c),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&y(e.slice(s,r)),r<o&&y(e=e.slice(r)),r<o&&h(e))}c.push(n)}return f(c)}function b(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,s,l,u){var c,p,h,d=0,f="0",m=r&&[],v=[],y=_,b=r||i&&w.find.TAG("*",u),x=z+=null==y?1:Math.random()||.1,E=b.length;for(u&&(_=a===A||a||u);f!==E&&null!=(c=b[f]);f++){if(i&&c){for(p=0,a||c.ownerDocument===A||(O(c),s=!R);h=e[p++];)if(h(c,a||A,s)){l.push(c);break}u&&(z=x)}o&&((c=!h&&c)&&d--,r&&m.push(c))}if(d+=f,o&&f!==d){for(p=0;h=n[p++];)h(m,v,a,s);if(r){if(d>0)for(;f--;)m[f]||v[f]||(v[f]=X.call(l));v=g(v)}Q.apply(l,v),u&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(l)}return u&&(z=x,_=y),m};return o?r(a):a}var x,E,w,T,C,S,k,P,_,M,N,O,A,I,R,D,L,F,B,j="sizzle"+1*new Date,q=e.document,z=0,U=0,W=n(),H=n(),V=n(),K=function(e,t){return e===t&&(N=!0),0},G=1<<31,$={}.hasOwnProperty,Y=[],X=Y.pop,J=Y.push,Q=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ie=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(ie),he=new RegExp("^"+re+"$"),de={
ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=function(){O()};try{Q.apply(Y=Z.call(q.childNodes),q.childNodes),Y[q.childNodes.length].nodeType}catch(e){Q={apply:Y.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}E=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:q;return r!==A&&9===r.nodeType&&r.documentElement?(A=r,I=A.documentElement,R=!C(A),(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),E.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=o(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=ge.test(A.getElementsByClassName),E.getById=o(function(e){return I.appendChild(e).id=j,!A.getElementsByName||!A.getElementsByName(j).length}),E.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&R){var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(xe,Ee);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(xe,Ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=E.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):E.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},w.find.CLASS=E.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&R)return t.getElementsByClassName(e)},L=[],D=[],(E.qsa=ge.test(A.querySelectorAll))&&(o(function(e){I.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+j+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||D.push(".#.+[+~]")}),o(function(e){var t=A.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(E.matchesSelector=ge.test(F=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&o(function(e){E.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),L.push("!=",ie)}),D=D.length&&new RegExp(D.join("|")),L=L.length&&new RegExp(L.join("|")),t=ge.test(I.compareDocumentPosition),B=t||ge.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},K=t?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!E.sortDetached&&t.compareDocumentPosition(e)===n?e===A||e.ownerDocument===q&&B(q,e)?-1:t===A||t.ownerDocument===q&&B(q,t)?1:M?ee(M,e)-ee(M,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],l=[t];if(!o||!i)return e===A?-1:t===A?1:o?-1:i?1:M?ee(M,e)-ee(M,t):0;if(o===i)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===q?-1:l[r]===q?1:0},A):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&O(e),n=n.replace(ce,"='$1']"),E.matchesSelector&&R&&!V[n+" "]&&(!L||!L.test(n))&&(!D||!D.test(n)))try{var r=F.call(e,n);if(r||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&O(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&O(e);var n=w.attrHandle[t.toLowerCase()],r=n&&$.call(w.attrHandle,t.toLowerCase())?n(e,t,!R):void 0;return void 0!==r?r:E.attributes||!R?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(N=!E.detectDuplicates,M=!E.sortStable&&e.slice(0),e.sort(K),N){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return M=null,e},T=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=T(t);return n},w=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,Ee),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,h,d,f,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(i){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(h=g,p=h[j]||(h[j]={}),c=p[h.uniqueID]||(p[h.uniqueID]={}),u=c[e]||[],d=u[0]===z&&u[1],b=d&&u[2],h=d&&g.childNodes[d];h=++d&&h&&h[m]||(b=d=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){c[e]=[z,d,b];break}}else if(y&&(h=t,p=h[j]||(h[j]={}),c=p[h.uniqueID]||(p[h.uniqueID]={}),u=c[e]||[],d=u[0]===z&&u[1],b=d),b===!1)for(;(h=++d&&h&&h[m]||(b=d=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(p=h[j]||(h[j]={}),c=p[h.uniqueID]||(p[h.uniqueID]={}),c[e]=[z,b]),h!==t)););return b-=o,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(e,n){var o,i=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[j]?i(n):i.length>1?(o=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)r=ee(e,o[a]),e[r]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=k(e.replace(se,"$1"));return o[j]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(xe,Ee),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,Ee).toLowerCase(),function(t){var n;do if(n=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=l(x);return p.prototype=w.filters=w.pseudos,w.setFilters=new p,S=t.tokenize=function(e,n){var r,o,i,a,s,l,u,c=H[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=w.preFilter;s;){r&&!(o=le.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),r=!1,(o=ue.exec(s))&&(r=o.shift(),i.push({value:r,type:o[0].replace(se," ")}),s=s.slice(r.length));for(a in w.filter)!(o=de[a].exec(s))||u[a]&&!(o=u[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):H(e,l).slice(0)},k=t.compile=function(e,t){var n,r=[],o=[],i=V[e+" "];if(!i){for(t||(t=S(e)),n=t.length;n--;)i=y(t[n]),i[j]?r.push(i):o.push(i);i=V(e,b(o,r)),i.selector=e}return i},P=t.select=function(e,t,n,r){var o,i,a,s,l,u="function"==typeof e&&e,p=!r&&S(e=u.selector||e);if(n=n||[],1===p.length){if(i=p[0]=p[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&E.getById&&9===t.nodeType&&R&&w.relative[i[1].type]){if(t=(w.find.ID(a.matches[0].replace(xe,Ee),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=de.needsContext.test(e)?0:i.length;o--&&(a=i[o],!w.relative[s=a.type]);)if((l=w.find[s])&&(r=l(a.matches[0].replace(xe,Ee),ye.test(i[0].type)&&c(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&h(i),!e)return Q.apply(n,r),n;break}}return(u||k(e,p))(r,t,!R,n,!t||ye.test(e)&&c(t.parentNode)||t),n},E.sortStable=j.split("").sort(K).join("")===j,E.detectDuplicates=!!N,O(),E.sortDetached=o(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(i);ye.find=Te,ye.expr=Te.selectors,ye.expr[":"]=ye.expr.pseudos,ye.uniqueSort=ye.unique=Te.uniqueSort,ye.text=Te.getText,ye.isXMLDoc=Te.isXML,ye.contains=Te.contains;var Ce=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ye(e).is(n))break;r.push(e)}return r},Se=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ke=ye.expr.match.needsContext,Pe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,_e=/^.[^:#\[\.,]*$/;ye.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ye.find.matchesSelector(r,e)?[r]:[]:ye.find.matches(e,ye.grep(t,function(e){return 1===e.nodeType}))},ye.fn.extend({find:function(e){var t,n=[],r=this,o=r.length;if("string"!=typeof e)return this.pushStack(ye(e).filter(function(){for(t=0;t<o;t++)if(ye.contains(r[t],this))return!0}));for(t=0;t<o;t++)ye.find(e,r[t],n);return n=this.pushStack(o>1?ye.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&ke.test(e)?ye(e):e||[],!1).length}});var Me,Ne=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Oe=ye.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||Me,"string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ne.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ye?t[0]:t,ye.merge(this,ye.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:le,!0)),Pe.test(r[1])&&ye.isPlainObject(t))for(r in t)ye.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if(o=le.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return Me.find(e);this.length=1,this[0]=o}return this.context=le,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ye.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(ye):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ye.makeArray(e,this))};Oe.prototype=ye.fn,Me=ye(le);var Ae=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};ye.fn.extend({has:function(e){var t,n=ye(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(ye.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=ke.test(e)||"string"!=typeof e?ye(e,t||this.context):0;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ye.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?ye.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?ye.inArray(this[0],ye(e)):ye.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ye.uniqueSort(ye.merge(this.get(),ye(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ye.each({parent:function e(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return Ce(e,"parentNode")},parentsUntil:function(e,t,n){return Ce(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return Ce(e,"nextSibling")},prevAll:function(e){return Ce(e,"previousSibling")},nextUntil:function(e,t,n){return Ce(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ce(e,"previousSibling",n)},siblings:function(e){return Se((e.parentNode||{}).firstChild,e)},children:function(e){return Se(e.firstChild)},contents:function(e){return ye.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ye.merge([],e.childNodes)}},function(e,t){ye.fn[e]=function(n,r){var o=ye.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=ye.filter(r,o)),this.length>1&&(Ie[e]||(o=ye.uniqueSort(o)),Ae.test(e)&&(o=o.reverse())),this.pushStack(o)}});var Re=/\S+/g;ye.Callbacks=function(e){e="string"==typeof e?c(e):ye.extend({},e);var t,n,r,o,i=[],a=[],s=-1,l=function(){for(o=e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)i[s].apply(n[0],n[1])===!1&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},u={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){ye.each(n,function(n,r){ye.isFunction(r)?e.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==ye.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return ye.each(arguments,function(e,t){for(var n;(n=ye.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?ye.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=!0,n||u.disable(),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},ye.extend({Deferred:function(e){var t=[["resolve","done",ye.Callbacks("once memory"),"resolved"],["reject","fail",ye.Callbacks("once memory"),"rejected"],["notify","progress",ye.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ye.Deferred(function(n){ye.each(t,function(t,i){var a=ye.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&ye.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ye.extend(e,r):r}},o={};return r.pipe=r.then,ye.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=ue.call(arguments),a=i.length,s=1!==a||e&&ye.isFunction(e.promise)?a:0,l=1===s?e:ye.Deferred(),u=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?ue.call(arguments):o,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);o<a;o++)i[o]&&ye.isFunction(i[o].promise)?i[o].promise().progress(u(o,n,t)).done(u(o,r,i)).fail(l.reject):--s;return s||l.resolveWith(r,i),l.promise()}});var De;ye.fn.ready=function(e){return ye.ready.promise().done(e),this},ye.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ye.readyWait++:ye.ready(!0)},ready:function(e){(e===!0?--ye.readyWait:ye.isReady)||(ye.isReady=!0,e!==!0&&--ye.readyWait>0||(De.resolveWith(le,[ye]),ye.fn.triggerHandler&&(ye(le).triggerHandler("ready"),ye(le).off("ready"))))}}),ye.ready.promise=function(e){if(!De)if(De=ye.Deferred(),"complete"===le.readyState||"loading"!==le.readyState&&!le.documentElement.doScroll)i.setTimeout(ye.ready);else if(le.addEventListener)le.addEventListener("DOMContentLoaded",h),i.addEventListener("load",h);else{le.attachEvent("onreadystatechange",h),i.attachEvent("onload",h);var t=!1;try{t=null==i.frameElement&&le.documentElement}catch(e){}t&&t.doScroll&&!function e(){if(!ye.isReady){try{t.doScroll("left")}catch(t){return i.setTimeout(e,50)}p(),ye.ready()}}()}return De.promise(e)},ye.ready.promise();var Le;for(Le in ye(ge))break;ge.ownFirst="0"===Le,ge.inlineBlockNeedsLayout=!1,ye(function(){var e,t,n,r;n=le.getElementsByTagName("body")[0],n&&n.style&&(t=le.createElement("div"),r=le.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ge.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=le.createElement("div");ge.deleteExpando=!0;try{delete e.test}catch(e){ge.deleteExpando=!1}e=null}();var Fe=function(e){var t=ye.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||t!==!0&&e.getAttribute("classid")===t)},Be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,je=/([A-Z])/g;ye.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ye.cache[e[ye.expando]]:e[ye.expando],!!e&&!f(e)},data:function(e,t,n){return m(e,t,n)},removeData:function(e,t){return g(e,t)},_data:function(e,t,n){return m(e,t,n,!0)},_removeData:function(e,t){return g(e,t,!0)}}),ye.fn.extend({data:function e(t,r){var o,i,e,a=this[0],s=a&&a.attributes;if(void 0===t){if(this.length&&(e=ye.data(a),1===a.nodeType&&!ye._data(a,"parsedAttrs"))){for(o=s.length;o--;)s[o]&&(i=s[o].name,0===i.indexOf("data-")&&(i=ye.camelCase(i.slice(5)),d(a,i,e[i])));ye._data(a,"parsedAttrs",!0)}return e}return"object"===("undefined"==typeof t?"undefined":n(t))?this.each(function(){ye.data(this,t)}):arguments.length>1?this.each(function(){ye.data(this,t,r)}):a?d(a,t,ye.data(a,t)):void 0},removeData:function(e){return this.each(function(){ye.removeData(this,e)})}}),ye.extend({queue:function e(t,n,r){var e;if(t)return n=(n||"fx")+"queue",e=ye._data(t,n),r&&(!e||ye.isArray(r)?e=ye._data(t,n,ye.makeArray(r)):e.push(r)),e||[]},dequeue:function(e,t){t=t||"fx";var n=ye.queue(e,t),r=n.length,o=n.shift(),i=ye._queueHooks(e,t),a=function(){ye.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ye._data(e,n)||ye._data(e,n,{empty:ye.Callbacks("once memory").add(function(){ye._removeData(e,t+"queue"),ye._removeData(e,n)})})}}),ye.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ye.queue(this[0],e):void 0===t?this:this.each(function(){var n=ye.queue(this,e,t);ye._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ye.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ye.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=ye.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ye._data(i[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}}),function(){var e;ge.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=le.getElementsByTagName("body")[0],n&&n.style?(t=le.createElement("div"),r=le.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(le.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var qe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+qe+")([a-z%]*)$","i"),Ue=["Top","Right","Bottom","Left"],We=function(e,t){return e=t||e,"none"===ye.css(e,"display")||!ye.contains(e.ownerDocument,e)},He=function e(t,n,r,o,i,a,s){var l=0,u=t.length,c=null==r;if("object"===ye.type(r)){i=!0;for(l in r)e(t,n,l,r[l],!0,a,s)}else if(void 0!==o&&(i=!0,ye.isFunction(o)||(s=!0),c&&(s?(n.call(t,o),n=null):(c=n,n=function(e,t,n){return c.call(ye(e),n)})),n))for(;l<u;l++)n(t[l],r,s?o:o.call(t[l],l,n(t[l],r)));return i?t:c?n.call(t):u?n(t[0],r):a},Ve=/^(?:checkbox|radio)$/i,Ke=/<([\w:-]+)/,Ge=/^$|\/(?:java|ecma)script/i,$e=/^\s+/,Ye="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=le.createElement("div"),t=le.createDocumentFragment(),n=le.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ge.leadingWhitespace=3===e.firstChild.nodeType,ge.tbody=!e.getElementsByTagName("tbody").length,ge.htmlSerialize=!!e.getElementsByTagName("link").length,ge.html5Clone="<:nav></:nav>"!==le.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),ge.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",ge.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=le.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ge.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ge.noCloneEvent=!!e.addEventListener,e[ye.expando]=1,ge.attributes=!e.getAttribute(ye.expando)}();var Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ge.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td;var Je=/<|&#?\w+;/,Qe=/<tbody/i;!function(){var e,t,n=le.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(ge[e]=t in i)||(n.setAttribute(t,"t"),ge[e]=n.attributes[t].expando===!1);n=null}();var Ze=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)/;ye.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,u,c,p,h,d,f,m,g=ye._data(e);if(g){for(n.handler&&(l=n,n=l.handler,o=l.selector),n.guid||(n.guid=ye.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return"undefined"==typeof ye||e&&ye.event.triggered===e.type?void 0:ye.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(Re)||[""],s=t.length;s--;)i=rt.exec(t[s])||[],d=m=i[1],f=(i[2]||"").split(".").sort(),d&&(u=ye.event.special[d]||{},d=(o?u.delegateType:u.bindType)||d,u=ye.event.special[d]||{},p=ye.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&ye.expr.match.needsContext.test(o),namespace:f.join(".")},l),(h=a[d])||(h=a[d]=[],h.delegateCount=0,u.setup&&u.setup.call(e,r,f,c)!==!1||(e.addEventListener?e.addEventListener(d,c,!1):e.attachEvent&&e.attachEvent("on"+d,c))),u.add&&(u.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,p):h.push(p),ye.event.global[d]=!0);e=null}},remove:function(e,t,n,r,o){var i,a,s,l,u,c,p,h,d,f,m,g=ye.hasData(e)&&ye._data(e);if(g&&(c=g.events)){for(t=(t||"").match(Re)||[""],u=t.length;u--;)if(s=rt.exec(t[u])||[],d=m=s[1],f=(s[2]||"").split(".").sort(),d){for(p=ye.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,h=c[d]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=i=h.length;i--;)a=h[i],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(h.splice(i,1),a.selector&&h.delegateCount--,p.remove&&p.remove.call(e,a));l&&!h.length&&(p.teardown&&p.teardown.call(e,f,g.handle)!==!1||ye.removeEvent(e,d,g.handle),delete c[d])}else for(d in c)ye.event.remove(e,d+t[u],n,r,!0);ye.isEmptyObject(c)&&(delete g.handle,ye._removeData(e,"events"))}},trigger:function(e,t,r,o){var a,s,l,u,c,p,h,d=[r||le],f=me.call(e,"type")?e.type:e,m=me.call(e,"namespace")?e.namespace.split("."):[];if(l=p=r=r||le,3!==r.nodeType&&8!==r.nodeType&&!nt.test(f+ye.event.triggered)&&(f.indexOf(".")>-1&&(m=f.split("."),f=m.shift(),m.sort()),s=f.indexOf(":")<0&&"on"+f,e=e[ye.expando]?e:new ye.Event(f,"object"===("undefined"==typeof e?"undefined":n(e))&&e),e.isTrigger=o?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:ye.makeArray(t,[e]),c=ye.event.special[f]||{},o||!c.trigger||c.trigger.apply(r,t)!==!1)){if(!o&&!c.noBubble&&!ye.isWindow(r)){for(u=c.delegateType||f,nt.test(u+f)||(l=l.parentNode);l;l=l.parentNode)d.push(l),p=l;p===(r.ownerDocument||le)&&d.push(p.defaultView||p.parentWindow||i)}for(h=0;(l=d[h++])&&!e.isPropagationStopped();)e.type=h>1?u:c.bindType||f,a=(ye._data(l,"events")||{})[e.type]&&ye._data(l,"handle"),a&&a.apply(l,t),a=s&&l[s],a&&a.apply&&Fe(l)&&(e.result=a.apply(l,t),e.result===!1&&e.preventDefault());if(e.type=f,!o&&!e.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),t)===!1)&&Fe(r)&&s&&r[f]&&!ye.isWindow(r)){p=r[s],p&&(r[s]=null),ye.event.triggered=f;try{r[f]()}catch(e){}ye.event.triggered=void 0,p&&(r[s]=p)}return e.result}},dispatch:function(e){e=ye.event.fix(e);var t,n,r,o,i,a=[],s=ue.call(arguments),l=(ye._data(this,"events")||{})[e.type]||[],u=ye.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ye.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(i.namespace)||(e.handleObj=i,e.data=i.data,r=((ye.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],n=0;n<s;n++)i=t[n],o=i.selector+" ",void 0===r[o]&&(r[o]=i.needsContext?ye(o,this).index(l)>-1:ye.find(o,this,null,[l]).length),r[o]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ye.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=tt.test(o)?this.mouseHooks:et.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ye.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=i.srcElement||le),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||le,o=r.documentElement,n=r.body,
e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==S()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===S()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ye.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return ye.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=ye.extend(new ye.Event,n,{type:e,isSimulated:!0});ye.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},ye.removeEvent=le.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},ye.Event=function(e,t){return this instanceof ye.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?T:C):this.type=e,t&&ye.extend(this,t),this.timeStamp=e&&e.timeStamp||ye.now(),void(this[ye.expando]=!0)):new ye.Event(e,t)},ye.Event.prototype={constructor:ye.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=T,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=T,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=T,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ye.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ye.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||ye.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),ge.submit||(ye.event.special.submit={setup:function(){return!ye.nodeName(this,"form")&&void ye.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ye.nodeName(t,"input")||ye.nodeName(t,"button")?ye.prop(t,"form"):void 0;n&&!ye._data(n,"submit")&&(ye.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),ye._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&ye.event.simulate("submit",this.parentNode,e))},teardown:function(){return!ye.nodeName(this,"form")&&void ye.event.remove(this,"._submit")}}),ge.change||(ye.event.special.change={setup:function(){return Ze.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(ye.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),ye.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),ye.event.simulate("change",this,e)})),!1):void ye.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ze.test(t.nodeName)&&!ye._data(t,"change")&&(ye.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ye.event.simulate("change",this.parentNode,e)}),ye._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ye.event.remove(this,"._change"),!Ze.test(this.nodeName)}}),ge.focusin||ye.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ye.event.simulate(t,e.target,ye.event.fix(e))};ye.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=ye._data(r,t);o||r.addEventListener(e,n,!0),ye._data(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=ye._data(r,t)-1;o?ye._data(r,t,o):(r.removeEventListener(e,n,!0),ye._removeData(r,t))}}}),ye.fn.extend({on:function(e,t,n,r){return k(this,e,t,n,r)},one:function(e,t,n,r){return k(this,e,t,n,r,1)},off:function(e,t,r){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,ye(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"===("undefined"==typeof e?"undefined":n(e))){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(r=t,t=void 0),r===!1&&(r=C),this.each(function(){ye.event.remove(this,e,r,t)})},trigger:function(e,t){return this.each(function(){ye.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ye.event.trigger(e,t,n,!0)}});var ot=/ jQuery\d+="(?:null|\d+)"/g,it=new RegExp("<(?:"+Ye+")[\\s/>]","i"),at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,st=/<script|<style|<link/i,lt=/checked\s*(?:[^=]|=\s*.checked.)/i,ut=/^true\/(.*)/,ct=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,pt=y(le),ht=pt.appendChild(le.createElement("div"));ye.extend({htmlPrefilter:function(e){return e.replace(at,"<$1></$2>")},clone:function e(t,n,r){var o,i,e,a,s,l=ye.contains(t.ownerDocument,t);if(ge.html5Clone||ye.isXMLDoc(t)||!it.test("<"+t.nodeName+">")?e=t.cloneNode(!0):(ht.innerHTML=t.outerHTML,ht.removeChild(e=ht.firstChild)),!(ge.noCloneEvent&&ge.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ye.isXMLDoc(t)))for(o=b(e),s=b(t),a=0;null!=(i=s[a]);++a)o[a]&&O(i,o[a]);if(n)if(r)for(s=s||b(t),o=o||b(e),a=0;null!=(i=s[a]);a++)N(i,o[a]);else N(t,e);return o=b(e,"script"),o.length>0&&x(o,!l&&b(t,"script")),o=s=i=null,e},cleanData:function(e,t){for(var n,r,o,i,a=0,s=ye.expando,l=ye.cache,u=ge.attributes,c=ye.event.special;null!=(n=e[a]);a++)if((t||Fe(n))&&(o=n[s],i=o&&l[o])){if(i.events)for(r in i.events)c[r]?ye.event.remove(n,r):ye.removeEvent(n,r,i.handle);l[o]&&(delete l[o],u||"undefined"==typeof n.removeAttribute?n[s]=void 0:n.removeAttribute(s),se.push(o))}}}),ye.fn.extend({domManip:A,detach:function(e){return I(this,e,!0)},remove:function(e){return I(this,e)},text:function(e){return He(this,function(e){return void 0===e?ye.text(this):this.empty().append((this[0]&&this[0].ownerDocument||le).createTextNode(e))},null,e,arguments.length)},append:function(){return A(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=P(this,e);t.appendChild(e)}})},prepend:function(){return A(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=P(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ye.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ye.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ye.clone(this,e,t)})},html:function(e){return He(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(ot,""):void 0;if("string"==typeof e&&!st.test(e)&&(ge.htmlSerialize||!it.test(e))&&(ge.leadingWhitespace||!$e.test(e))&&!Xe[(Ke.exec(e)||["",""])[1].toLowerCase()]){e=ye.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(ye.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return A(this,arguments,function(t){var n=this.parentNode;ye.inArray(this,e)<0&&(ye.cleanData(b(this)),n&&n.replaceChild(t,this))},e)}}),ye.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ye.fn[e]=function(e){for(var n,r=0,o=[],i=ye(e),a=i.length-1;r<=a;r++)n=r===a?this:this.clone(!0),ye(i[r])[t](n),pe.apply(o,n.get());return this.pushStack(o)}});var dt,ft={HTML:"block",BODY:"block"},mt=/^margin/,gt=new RegExp("^("+qe+")(?!px)[a-z%]+$","i"),vt=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o},yt=le.documentElement;!function(){function e(){var e,c,p=le.documentElement;p.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",t=r=s=!1,n=a=!0,i.getComputedStyle&&(c=i.getComputedStyle(u),t="1%"!==(c||{}).top,s="2px"===(c||{}).marginLeft,r="4px"===(c||{width:"4px"}).width,u.style.marginRight="50%",n="4px"===(c||{marginRight:"4px"}).marginRight,e=u.appendChild(le.createElement("div")),e.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",u.style.width="1px",a=!parseFloat((i.getComputedStyle(e)||{}).marginRight),u.removeChild(e)),u.style.display="none",o=0===u.getClientRects().length,o&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",e=u.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===e[0].offsetHeight,o&&(e[0].style.display="",e[1].style.display="none",o=0===e[0].offsetHeight)),p.removeChild(l)}var t,n,r,o,a,s,l=le.createElement("div"),u=le.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",ge.opacity="0.5"===u.style.opacity,ge.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",ge.clearCloneStyle="content-box"===u.style.backgroundClip,l=le.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",l.appendChild(u),ge.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,ye.extend(ge,{reliableHiddenOffsets:function(){return null==t&&e(),o},boxSizingReliable:function(){return null==t&&e(),r},pixelMarginRight:function(){return null==t&&e(),n},pixelPosition:function(){return null==t&&e(),t},reliableMarginRight:function(){return null==t&&e(),a},reliableMarginLeft:function(){return null==t&&e(),s}}))}();var bt,xt,Et=/^(top|right|bottom|left)$/;i.getComputedStyle?(bt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},xt=function(e,t,n){var r,o,i,a,s=e.style;return n=n||bt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||ye.contains(e.ownerDocument,e)||(a=ye.style(e,t)),n&&!ge.pixelMarginRight()&&gt.test(a)&&mt.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i),void 0===a?a:a+""}):yt.currentStyle&&(bt=function(e){return e.currentStyle},xt=function(e,t,n){var r,o,i,a,s=e.style;return n=n||bt(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),gt.test(a)&&!Et.test(t)&&(r=s.left,o=e.runtimeStyle,i=o&&o.left,i&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,i&&(o.left=i)),void 0===a?a:a+""||"auto"});var wt=/alpha\([^)]*\)/i,Tt=/opacity\s*=\s*([^)]*)/i,Ct=/^(none|table(?!-c[ea]).+)/,St=new RegExp("^("+qe+")(.*)$","i"),kt={position:"absolute",visibility:"hidden",display:"block"},Pt={letterSpacing:"0",fontWeight:"400"},_t=["Webkit","O","Moz","ms"],Mt=le.createElement("div").style;ye.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=xt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ge.cssFloat?"cssFloat":"styleFloat"},style:function e(t,r,o,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,s,l,u=ye.camelCase(r),e=t.style;if(r=ye.cssProps[u]||(ye.cssProps[u]=F(u)||u),l=ye.cssHooks[r]||ye.cssHooks[u],void 0===o)return l&&"get"in l&&void 0!==(a=l.get(t,!1,i))?a:e[r];if(s="undefined"==typeof o?"undefined":n(o),"string"===s&&(a=ze.exec(o))&&a[1]&&(o=v(t,r,a),s="number"),null!=o&&o===o&&("number"===s&&(o+=a&&a[3]||(ye.cssNumber[u]?"":"px")),ge.clearCloneStyle||""!==o||0!==r.indexOf("background")||(e[r]="inherit"),!(l&&"set"in l&&void 0===(o=l.set(t,o,i)))))try{e[r]=o}catch(e){}}},css:function(e,t,n,r){var o,i,a,s=ye.camelCase(t);return t=ye.cssProps[s]||(ye.cssProps[s]=F(s)||s),a=ye.cssHooks[t]||ye.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=xt(e,t,r)),"normal"===i&&t in Pt&&(i=Pt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),ye.each(["height","width"],function(e,t){ye.cssHooks[t]={get:function(e,n,r){if(n)return Ct.test(ye.css(e,"display"))&&0===e.offsetWidth?vt(e,kt,function(){return z(e,t,r)}):z(e,t,r)},set:function(e,n,r){var o=r&&bt(e);return j(e,n,r?q(e,t,r,ge.boxSizing&&"border-box"===ye.css(e,"boxSizing",!1,o),o):0)}}}),ge.opacity||(ye.cssHooks.opacity={get:function(e,t){return Tt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,o=ye.isNumeric(t)?"alpha(opacity="+100*t+")":"",i=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ye.trim(i.replace(wt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=wt.test(i)?i.replace(wt,o):i+" "+o)}}),ye.cssHooks.marginRight=L(ge.reliableMarginRight,function(e,t){if(t)return vt(e,{display:"inline-block"},xt,[e,"marginRight"])}),ye.cssHooks.marginLeft=L(ge.reliableMarginLeft,function(e,t){if(t)return(parseFloat(xt(e,"marginLeft"))||(ye.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-vt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),ye.each({margin:"",padding:"",border:"Width"},function(e,t){ye.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Ue[r]+t]=i[r]||i[r-2]||i[0];return o}},mt.test(e)||(ye.cssHooks[e+t].set=j)}),ye.fn.extend({css:function(e,t){return He(this,function(e,t,n){var r,o,i={},a=0;if(ye.isArray(t)){for(r=bt(e),o=t.length;a<o;a++)i[t[a]]=ye.css(e,t[a],!1,r);return i}return void 0!==n?ye.style(e,t,n):ye.css(e,t)},e,t,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){We(this)?ye(this).show():ye(this).hide()})}}),ye.Tween=U,U.prototype={constructor:U,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||ye.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(ye.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.options.duration?this.pos=t=ye.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ye.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ye.fx.step[e.prop]?ye.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ye.cssProps[e.prop]]&&!ye.cssHooks[e.prop]?e.elem[e.prop]=e.now:ye.style(e.elem,e.prop,e.now+e.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ye.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ye.fx=U.prototype.init,ye.fx.step={};var Nt,Ot,At=/^(?:toggle|show|hide)$/,It=/queueHooks$/;ye.Animation=ye.extend($,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return v(n.elem,e,ze.exec(t),n),n}]},tweener:function(e,t){ye.isFunction(e)?(t=e,e=["*"]):e=e.match(Re);for(var n,r=0,o=e.length;r<o;r++)n=e[r],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(t)},prefilters:[K],prefilter:function(e,t){t?$.prefilters.unshift(e):$.prefilters.push(e)}}),ye.speed=function(e,t,r){var o=e&&"object"===("undefined"==typeof e?"undefined":n(e))?ye.extend({},e):{complete:r||!r&&t||ye.isFunction(e)&&e,duration:e,easing:r&&t||t&&!ye.isFunction(t)&&t};return o.duration=ye.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in ye.fx.speeds?ye.fx.speeds[o.duration]:ye.fx.speeds._default,null!=o.queue&&o.queue!==!0||(o.queue="fx"),o.old=o.complete,o.complete=function(){ye.isFunction(o.old)&&o.old.call(this),o.queue&&ye.dequeue(this,o.queue)},o},ye.fn.extend({fadeTo:function(e,t,n,r){return this.filter(We).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=ye.isEmptyObject(e),i=ye.speed(t,n,r),a=function(){var t=$(this,ye.extend({},e),i);(o||ye._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||i.queue===!1?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=ye.timers,a=ye._data(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&It.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||ye.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ye._data(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=ye.timers,a=r?r.length:0;for(n.finish=!0,ye.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ye.each(["toggle","show","hide"],function(e,t){var n=ye.fn[t];ye.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,r,o)}}),ye.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ye.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ye.timers=[],ye.fx.tick=function(){var e,t=ye.timers,n=0;for(Nt=ye.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ye.fx.stop(),Nt=void 0},ye.fx.timer=function(e){ye.timers.push(e),e()?ye.fx.start():ye.timers.pop()},ye.fx.interval=13,ye.fx.start=function(){Ot||(Ot=i.setInterval(ye.fx.tick,ye.fx.interval))},ye.fx.stop=function(){i.clearInterval(Ot),Ot=null},ye.fx.speeds={slow:600,fast:200,_default:400},ye.fn.delay=function(e,t){return e=ye.fx?ye.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}})},function(){var e,t=le.createElement("input"),n=le.createElement("div"),r=le.createElement("select"),o=r.appendChild(le.createElement("option"));n=le.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",ge.getSetAttribute="t"!==n.className,ge.style=/top/.test(e.getAttribute("style")),ge.hrefNormalized="/a"===e.getAttribute("href"),ge.checkOn=!!t.value,ge.optSelected=o.selected,ge.enctype=!!le.createElement("form").enctype,r.disabled=!0,ge.optDisabled=!o.disabled,t=le.createElement("input"),t.setAttribute("value",""),ge.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ge.radioValue="t"===t.value}();var Rt=/\r/g,Dt=/[\x20\t\r\n\f]+/g;ye.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=ye.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,ye(this).val()):e,null==o?o="":"number"==typeof o?o+="":ye.isArray(o)&&(o=ye.map(o,function(e){return null==e?"":e+""})),t=ye.valHooks[this.type]||ye.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return t=ye.valHooks[o.type]||ye.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Rt,""):null==n?"":n)}}}),ye.extend({valHooks:{option:{get:function(e){var t=ye.find.attr(e,"value");return null!=t?t:ye.trim(ye.text(e)).replace(Dt," ")}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||o<0,a=i?null:[],s=i?o+1:r.length,l=o<0?s:i?o:0;l<s;l++)if(n=r[l],(n.selected||l===o)&&(ge.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ye.nodeName(n.parentNode,"optgroup"))){if(t=ye(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=ye.makeArray(t),a=o.length;a--;)if(r=o[a],ye.inArray(ye.valHooks.option.get(r),i)>-1)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),o}}}}),ye.each(["radio","checkbox"],function(){ye.valHooks[this]={set:function(e,t){if(ye.isArray(t))return e.checked=ye.inArray(ye(e).val(),t)>-1}},ge.checkOn||(ye.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Lt,Ft,Bt=ye.expr.attrHandle,jt=/^(?:checked|selected)$/i,qt=ge.getSetAttribute,zt=ge.input;ye.fn.extend({attr:function(e,t){return He(this,ye.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ye.removeAttr(this,e)})}}),ye.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return"undefined"==typeof e.getAttribute?ye.prop(e,t,n):(1===i&&ye.isXMLDoc(e)||(t=t.toLowerCase(),o=ye.attrHooks[t]||(ye.expr.match.bool.test(t)?Ft:Lt)),void 0!==n?null===n?void ye.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=ye.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ge.radioValue&&"radio"===t&&ye.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(Re);if(i&&1===e.nodeType)for(;n=i[o++];)r=ye.propFix[n]||n,ye.expr.match.bool.test(n)?zt&&qt||!jt.test(n)?e[r]=!1:e[ye.camelCase("default-"+n)]=e[r]=!1:ye.attr(e,n,""),e.removeAttribute(qt?n:r)}}),Ft={set:function(e,t,n){return t===!1?ye.removeAttr(e,n):zt&&qt||!jt.test(n)?e.setAttribute(!qt&&ye.propFix[n]||n,n):e[ye.camelCase("default-"+n)]=e[n]=!0,n}},ye.each(ye.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Bt[t]||ye.find.attr;zt&&qt||!jt.test(t)?Bt[t]=function(e,t,r){var o,i;return r||(i=Bt[t],Bt[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,Bt[t]=i),o}:Bt[t]=function(e,t,n){if(!n)return e[ye.camelCase("default-"+t)]?t.toLowerCase():null}}),zt&&qt||(ye.attrHooks.value={set:function(e,t,n){return ye.nodeName(e,"input")?void(e.defaultValue=t):Lt&&Lt.set(e,t,n)}}),qt||(Lt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},Bt.id=Bt.name=Bt.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ye.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Lt.set},ye.attrHooks.contenteditable={set:function(e,t,n){Lt.set(e,""!==t&&t,n)}},ye.each(["width","height"],function(e,t){ye.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),ge.style||(ye.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ut=/^(?:input|select|textarea|button|object)$/i,Wt=/^(?:a|area)$/i;ye.fn.extend({prop:function(e,t){return He(this,ye.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ye.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),ye.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&ye.isXMLDoc(e)||(t=ye.propFix[t]||t,o=ye.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ye.find.attr(e,"tabindex");return t?parseInt(t,10):Ut.test(e.nodeName)||Wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ge.hrefNormalized||ye.each(["href","src"],function(e,t){ye.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ge.optSelected||(ye.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ye.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ye.propFix[this.toLowerCase()]=this}),ge.enctype||(ye.propFix.enctype="encoding");var Ht=/[\t\r\n\f]/g;ye.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(ye.isFunction(e))return this.each(function(t){ye(this).addClass(e.call(this,t,Y(this)))});if("string"==typeof e&&e)for(t=e.match(Re)||[];n=this[l++];)if(o=Y(n),r=1===n.nodeType&&(" "+o+" ").replace(Ht," ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=ye.trim(r),o!==s&&ye.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(ye.isFunction(e))return this.each(function(t){ye(this).removeClass(e.call(this,t,Y(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Re)||[];n=this[l++];)if(o=Y(n),r=1===n.nodeType&&(" "+o+" ").replace(Ht," ")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");s=ye.trim(r),o!==s&&ye.attr(n,"class",s)}return this},toggleClass:function(e,t){var r="undefined"==typeof e?"undefined":n(e);return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):ye.isFunction(e)?this.each(function(n){ye(this).toggleClass(e.call(this,n,Y(this),t),t)}):this.each(function(){var t,n,o,i;if("string"===r)for(n=0,o=ye(this),i=e.match(Re)||[];t=i[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==r||(t=Y(this),t&&ye._data(this,"__className__",t),ye.attr(this,"class",t||e===!1?"":ye._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Y(n)+" ").replace(Ht," ").indexOf(t)>-1)return!0;return!1}}),ye.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ye.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ye.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Vt=i.location,Kt=ye.now(),Gt=/\?/,$t=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ye.parseJSON=function(e){if(i.JSON&&i.JSON.parse)return i.JSON.parse(e+"");var t,n=null,r=ye.trim(e+"");return r&&!ye.trim(r.replace($t,function(e,r,o,i){return t&&r&&(n=0),0===n?e:(t=o||r,n+=!i-!o,"")}))?Function("return "+r)():ye.error("Invalid JSON: "+e)},ye.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{i.DOMParser?(n=new i.DOMParser,t=n.parseFromString(e,"text/xml")):(t=new i.ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||ye.error("Invalid XML: "+e),t};var Yt=/#.*$/,Xt=/([?&])_=[^&]*/,Jt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Qt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Zt=/^(?:GET|HEAD)$/,en=/^\/\//,tn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nn={},rn={},on="*/".concat("*"),an=Vt.href,sn=tn.exec(an.toLowerCase())||[];ye.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:an,type:"GET",isLocal:Qt.test(sn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":on,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ye.parseJSON,"text xml":ye.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Q(Q(e,ye.ajaxSettings),t):Q(ye.ajaxSettings,e)},ajaxPrefilter:X(nn),ajaxTransport:X(rn),ajax:function(e,t){function r(e,t,n,r){var o,a,h,b,x,w=t;2!==E&&(E=2,u&&i.clearTimeout(u),p=void 0,l=r||"",T.readyState=e>0?4:0,o=e>=200&&e<300||304===e,n&&(b=Z(d,T,n)),b=ee(d,b,T,o),o?(d.ifModified&&(x=T.getResponseHeader("Last-Modified"),x&&(ye.lastModified[s]=x),x=T.getResponseHeader("etag"),x&&(ye.etag[s]=x)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=b.state,a=b.data,h=b.error,o=!h)):(h=w,!e&&w||(w="error",e<0&&(e=0))),T.status=e,T.statusText=(t||w)+"",o?g.resolveWith(f,[a,w,T]):g.rejectWith(f,[T,w,h]),T.statusCode(y),y=void 0,c&&m.trigger(o?"ajaxSuccess":"ajaxError",[T,d,o?a:h]),v.fireWith(f,[T,w]),c&&(m.trigger("ajaxComplete",[T,d]),--ye.active||ye.event.trigger("ajaxStop")))}"object"===("undefined"==typeof e?"undefined":n(e))&&(t=e,e=void 0),t=t||{};var o,a,s,l,u,c,p,h,d=ye.ajaxSetup({},t),f=d.context||d,m=d.context&&(f.nodeType||f.jquery)?ye(f):ye.event,g=ye.Deferred(),v=ye.Callbacks("once memory"),y=d.statusCode||{},b={},x={},E=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===E){if(!h)for(h={};t=Jt.exec(l);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===E?l:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return E||(e=x[n]=x[n]||e,b[e]=t),this},overrideMimeType:function(e){return E||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(E<2)for(t in e)y[t]=[y[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return p&&p.abort(t),r(0,t),this}};if(g.promise(T).complete=v.add,T.success=T.done,T.error=T.fail,d.url=((e||d.url||an)+"").replace(Yt,"").replace(en,sn[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ye.trim(d.dataType||"*").toLowerCase().match(Re)||[""],null==d.crossDomain&&(o=tn.exec(d.url.toLowerCase()),d.crossDomain=!(!o||o[1]===sn[1]&&o[2]===sn[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(sn[3]||("http:"===sn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ye.param(d.data,d.traditional)),J(nn,d,t,T),2===E)return T;c=ye.event&&d.global,c&&0===ye.active++&&ye.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Zt.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(Gt.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Xt.test(s)?s.replace(Xt,"$1_="+Kt++):s+(Gt.test(s)?"&":"?")+"_="+Kt++)),d.ifModified&&(ye.lastModified[s]&&T.setRequestHeader("If-Modified-Since",ye.lastModified[s]),ye.etag[s]&&T.setRequestHeader("If-None-Match",ye.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+on+"; q=0.01":""):d.accepts["*"]);
for(a in d.headers)T.setRequestHeader(a,d.headers[a]);if(d.beforeSend&&(d.beforeSend.call(f,T,d)===!1||2===E))return T.abort();w="abort";for(a in{success:1,error:1,complete:1})T[a](d[a]);if(p=J(rn,d,t,T)){if(T.readyState=1,c&&m.trigger("ajaxSend",[T,d]),2===E)return T;d.async&&d.timeout>0&&(u=i.setTimeout(function(){T.abort("timeout")},d.timeout));try{E=1,p.send(b,r)}catch(e){if(!(E<2))throw e;r(-1,e)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return ye.get(e,t,n,"json")},getScript:function(e,t){return ye.get(e,void 0,t,"script")}}),ye.each(["get","post"],function(e,t){ye[t]=function(e,n,r,o){return ye.isFunction(n)&&(o=o||r,r=n,n=void 0),ye.ajax(ye.extend({url:e,type:t,dataType:o,data:n,success:r},ye.isPlainObject(e)&&e))}}),ye._evalUrl=function(e){return ye.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ye.fn.extend({wrapAll:function(e){if(ye.isFunction(e))return this.each(function(t){ye(this).wrapAll(e.call(this,t))});if(this[0]){var t=ye(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ye.isFunction(e)?this.each(function(t){ye(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ye(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ye.isFunction(e);return this.each(function(n){ye(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ye.nodeName(this,"body")||ye(this).replaceWith(this.childNodes)}).end()}}),ye.expr.filters.hidden=function(e){return ge.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:ne(e)},ye.expr.filters.visible=function(e){return!ye.expr.filters.hidden(e)};var ln=/%20/g,un=/\[\]$/,cn=/\r?\n/g,pn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;ye.param=function(e,t){var n,r=[],o=function(e,t){t=ye.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ye.ajaxSettings&&ye.ajaxSettings.traditional),ye.isArray(e)||e.jquery&&!ye.isPlainObject(e))ye.each(e,function(){o(this.name,this.value)});else for(n in e)re(n,e[n],t,o);return r.join("&").replace(ln,"+")},ye.fn.extend({serialize:function(){return ye.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ye.prop(this,"elements");return e?ye.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ye(this).is(":disabled")&&hn.test(this.nodeName)&&!pn.test(e)&&(this.checked||!Ve.test(e))}).map(function(e,t){var n=ye(this).val();return null==n?null:ye.isArray(n)?ye.map(n,function(e){return{name:t.name,value:e.replace(cn,"\r\n")}}):{name:t.name,value:n.replace(cn,"\r\n")}}).get()}}),ye.ajaxSettings.xhr=void 0!==i.ActiveXObject?function(){return this.isLocal?ie():le.documentMode>8?oe():/^(get|post|head|put|delete|options)$/i.test(this.type)&&oe()||ie()}:oe;var dn=0,fn={},mn=ye.ajaxSettings.xhr();i.attachEvent&&i.attachEvent("onunload",function(){for(var e in fn)fn[e](void 0,!0)}),ge.cors=!!mn&&"withCredentials"in mn,mn=ge.ajax=!!mn,mn&&ye.ajaxTransport(function(e){if(!e.crossDomain||ge.cors){var t;return{send:function(n,r){var o,a=e.xhr(),s=++dn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&a.setRequestHeader(o,n[o]+"");a.send(e.hasContent&&e.data||null),t=function(n,o){var i,l,u;if(t&&(o||4===a.readyState))if(delete fn[s],t=void 0,a.onreadystatechange=ye.noop,o)4!==a.readyState&&a.abort();else{u={},i=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);try{l=a.statusText}catch(e){l=""}i||!e.isLocal||e.crossDomain?1223===i&&(i=204):i=u.text?200:404}u&&r(i,l,u,a.getAllResponseHeaders())},e.async?4===a.readyState?i.setTimeout(t):a.onreadystatechange=fn[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ye.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ye.globalEval(e),e}}}),ye.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ye.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=le.head||ye("head")[0]||le.documentElement;return{send:function(r,o){t=le.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var gn=[],vn=/(=)\?(?=&|$)|\?\?/;ye.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=gn.pop()||ye.expando+"_"+Kt++;return this[e]=!0,e}}),ye.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,a,s=e.jsonp!==!1&&(vn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&vn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ye.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(vn,"$1"+r):e.jsonp!==!1&&(e.url+=(Gt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||ye.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always(function(){void 0===o?ye(i).removeProp(r):i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,gn.push(r)),a&&ye.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ye.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||le;var r=Pe.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=w([e],t,o),o&&o.length&&ye(o).remove(),ye.merge([],r.childNodes))};var yn=ye.fn.load;ye.fn.load=function(e,t,r){if("string"!=typeof e&&yn)return yn.apply(this,arguments);var o,i,a,s=this,l=e.indexOf(" ");return l>-1&&(o=ye.trim(e.slice(l,e.length)),e=e.slice(0,l)),ye.isFunction(t)?(r=t,t=void 0):t&&"object"===("undefined"==typeof t?"undefined":n(t))&&(i="POST"),s.length>0&&ye.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){a=arguments,s.html(o?ye("<div>").append(ye.parseHTML(e)).find(o):e)}).always(r&&function(e,t){s.each(function(){r.apply(this,a||[e.responseText,t,e])})}),this},ye.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ye.fn[t]=function(e){return this.on(t,e)}}),ye.expr.filters.animated=function(e){return ye.grep(ye.timers,function(t){return e===t.elem}).length},ye.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,u,c=ye.css(e,"position"),p=ye(e),h={};"static"===c&&(e.style.position="relative"),s=p.offset(),i=ye.css(e,"top"),l=ye.css(e,"left"),u=("absolute"===c||"fixed"===c)&&ye.inArray("auto",[i,l])>-1,u?(r=p.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),ye.isFunction(t)&&(t=t.call(e,n,ye.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+o),"using"in t?t.using.call(e,h):p.css(h)}},ye.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ye.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},o=this[0],i=o&&o.ownerDocument;if(i)return t=i.documentElement,ye.contains(t,o)?("undefined"!=typeof o.getBoundingClientRect&&(r=o.getBoundingClientRect()),n=ae(i),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ye.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ye.nodeName(e[0],"html")||(n=e.offset()),n.top+=ye.css(e[0],"borderTopWidth",!0),n.left+=ye.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ye.css(r,"marginTop",!0),left:t.left-n.left-ye.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!ye.nodeName(e,"html")&&"static"===ye.css(e,"position");)e=e.offsetParent;return e||yt})}}),ye.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ye.fn[e]=function(r){return He(this,function(e,r,o){var i=ae(e);return void 0===o?i?t in i?i[t]:i.document.documentElement[r]:e[r]:void(i?i.scrollTo(n?ye(i).scrollLeft():o,n?o:ye(i).scrollTop()):e[r]=o)},e,r,arguments.length,null)}}),ye.each(["top","left"],function(e,t){ye.cssHooks[t]=L(ge.pixelPosition,function(e,n){if(n)return n=xt(e,t),gt.test(n)?ye(e).position()[t]+"px":n})}),ye.each({Height:"height",Width:"width"},function(e,t){ye.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ye.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return He(this,function(t,n,r){var o;return ye.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?ye.css(t,n,a):ye.style(t,n,r,a)},t,i?r:void 0,i,null)}})}),ye.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ye.fn.size=function(){return this.length},ye.fn.andSelf=ye.fn.addBack,r=[],o=function(){return ye}.apply(t,r),!(void 0!==o&&(e.exports=o));var bn=i.jQuery,xn=i.$;return ye.noConflict=function(e){return i.$===ye&&(i.$=xn),e&&i.jQuery===ye&&(i.jQuery=bn),ye},a||(i.jQuery=i.$=ye),ye})}).call(t,n(457)(e))},function(e,t,n){"use strict";function r(e){l.length||(i(),u=!0),l[l.length]=e}function o(){for(;c<l.length;){var e=c;if(c+=1,l[e].call(),c>p){for(var t=0,n=l.length-c;t<n;t++)l[t]=l[t+c];l.length-=c,c=0}}l.length=0,c=0,u=!1}function i(){var e=process.domain;e&&(a||(a=n(420)),a.active=process.domain=null),u&&s?setImmediate(o):process.nextTick(o),e&&(a.active=process.domain=e)}var a,s="function"==typeof setImmediate;e.exports=r;var l=[],u=!1,c=0,p=1024;r.requestFlush=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return r instanceof Object&&!Array.isArray(r)?t[n]=o(r):(Object.keys(a.default).forEach(function(e){var o=a.default[e];o[n]&&(t[e+(0,l.default)(n)]=r)}),P.forEach(function(e){return(0,c.default)(t,e(n,r))})),t},e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(427),a=r(i),s=n(428),l=r(s),u=n(429),c=r(u),p=n(430),h=r(p),d=n(431),f=r(d),m=n(432),g=r(m),v=n(433),y=r(v),b=n(434),x=r(b),E=n(435),w=r(E),T=n(436),C=r(T),S=n(437),k=r(S),P=[h.default,f.default,y.default,x.default,w.default,C.default,k.default,g.default];e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":s(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.__esModule=!0,t.default=void 0;var l=n(54),u=n(438),c=r(u),p=n(441),h=(r(p),function(e){function t(n,r){o(this,t);var a=i(this,e.call(this,n,r));return a.store=n.store,a}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return l.Children.only(e)},t}(l.Component));t.default=h,h.propTypes={store:c.default.isRequired,children:l.PropTypes.element.isRequired},h.childContextTypes={store:c.default.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":c(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.displayName||e.name||"Component"}function l(e,t){try{return e.apply(t)}catch(e){return _.value=e,_}}function u(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],u=Boolean(e),c=e||S,d=void 0;d="function"==typeof t?t:t?(0,y.default)(t):k;var m=n||P,v=r.pure,b=void 0===v||v,x=r.withRef,E=void 0!==x&&x,T=b&&m!==P,N=M++;return function(e){function t(e,t,n){var r=m(e,t,n);return r}var n="Connect("+s(e)+")",r=function(r){function s(e,t){o(this,s);var a=i(this,r.call(this,e,t));a.version=N,a.store=e.store||t.store,(0,C.default)(a.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var l=a.store.getState();return a.state={storeState:l},a.clearCache(),a}return a(s,r),s.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},s.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},s.prototype.configureFinalMapState=function(e,t){var n=c(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:c,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},s.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},s.prototype.configureFinalMapDispatch=function(e,t){var n=d(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},s.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,g.default)(e,this.stateProps))&&(this.stateProps=e,!0)},s.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,g.default)(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},s.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&T&&(0,g.default)(e,this.mergedProps))&&(this.mergedProps=e,!0)},s.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},s.prototype.trySubscribe=function(){u&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},s.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},s.prototype.componentDidMount=function(){this.trySubscribe()},s.prototype.componentWillReceiveProps=function(e){b&&(0,g.default)(e,this.props)||(this.haveOwnPropsChanged=!0)},s.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},s.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},s.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!b||t!==e){if(b&&!this.doStatePropsDependOnOwnProps){var n=l(this.updateStatePropsIfNeeded,this);if(!n)return;n===_&&(this.statePropsPrecalculationError=_.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},s.prototype.getWrappedInstance=function(){return(0,C.default)(E,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},s.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,i=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var a=!0,s=!0;b&&i&&(a=n||t&&this.doStatePropsDependOnOwnProps,s=t&&this.doDispatchPropsDependOnOwnProps);var l=!1,u=!1;r?l=!0:a&&(l=this.updateStatePropsIfNeeded()),s&&(u=this.updateDispatchPropsIfNeeded());var c=!0;return c=!!(l||u||t)&&this.updateMergedPropsIfNeeded(),!c&&i?i:(E?this.renderedElement=(0,h.createElement)(e,p({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,h.createElement)(e,this.mergedProps),this.renderedElement)},s}(h.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:f.default},r.propTypes={store:f.default},(0,w.default)(r,e)}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t.default=u;var h=n(54),d=n(438),f=r(d),m=n(439),g=r(m),v=n(440),y=r(v),b=n(441),x=(r(b),n(456)),E=(r(x),n(460)),w=r(E),T=n(468),C=r(T),S=function(e){return{}},k=function(e){return{dispatch:e}},P=function(e,t,n){return p({},n,e,t)},_={value:null},M=0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=n(442),i=r(o),a=n(443),s=r(a),l=n(444),u=r(l),c=n(445),p=r(c),h=n(446),d=r(h),f=n(447);r(f);t.createStore=i.default,t.combineReducers=s.default,t.bindActionCreators=u.default,t.applyMiddleware=p.default,t.compose=d.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){var t=this;r(this,e),this._nodesById={},this._bordersById={},this._orderedIds=[],this._cachedBoundingBoxesById={},window.addEventListener("resize",function(){t._cachedBoundingBoxesById={}})}return e.prototype.registerDOMNode=function(e,t,n,r){this._nodesById[e]=t,this._bordersById[e]=r;for(var o=[].concat(n||[],[e],this._orderedIds),i=[],a={},s=o,l=Array.isArray(s),u=0,s=l?s:s[Symbol.iterator]();;){var c;if(l){if(u>=s.length)break;c=s[u++]}else{if(u=s.next(),u.done)break;c=u.value}var p=c;a[p]||(i.push(p),a[p]=!0)}this._orderedIds=i},e.prototype.unregisterDOMNode=function(e){delete this._nodesById[e]},e.prototype.idForCoords=function(e,t){for(var n=this._orderedIds,r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if(o=n.next(),o.done)break;i=o.value}var a=i,s=this._nodesById[a];if(s){var l=s.getBoundingClientRect();if(l.left<=e&&l.right>e&&l.top<=t&&l.bottom>t)return this._cachedBoundingBoxesById[a]=l,a}}},e.prototype.layoutPropsForId=function(e){return this._cachedBoundingBoxesById[e]||(this._cachedBoundingBoxesById[e]=this._nodesById[e].getBoundingClientRect()),{initialBounds:this._cachedBoundingBoxesById[e],borders:this._bordersById[e]}},e}();e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t){r(this,e),this.handlers=t,this.activePopover=null,this.popovers={}}return e.prototype.registerPopover=function(e,t){this.popovers[e]=t},e.prototype.unregisterPopover=function(e){delete this.popovers[e]},e.prototype.isPopoverVisible=function(){return null!=this.activePopover},e.prototype.onBlur=function(){this.activePopover=null,this.handlers.onActiveNodesChanged({popover:null,focus:null})},e.prototype.onFocus=function(e){this.activePopover?this._isNodeInsidePopover(this.activePopover,e)?this.handlers.onActiveNodesChanged({popover:{parentId:this.activePopover,childIds:this.popovers[this.activePopover]},focus:e}):this.handlers.onActiveNodesChanged({popover:{parentId:this.activePopover,childIds:this.popovers[this.activePopover]},focus:null}):(this.activePopover=null,this.handlers.onActiveNodesChanged({popover:null,focus:e}))},e.prototype.onLongPress=function(e){!this.activePopover&&this.popovers[e]&&(this.activePopover=e,this.handlers.onActiveNodesChanged({popover:{parentId:this.activePopover,childIds:this.popovers[this.activePopover]},focus:this._defaultNodeForPopover(this.activePopover)}))},e.prototype.onTrigger=function(e){this.handlers.onClick(e,e,!1)},e.prototype.onTouchEnd=function(e){var t=!!this.activePopover;if(t){if(this._isNodeInsidePopover(this.activePopover,e))this.handlers.onClick(e,e,t);else if(this.activePopover===e){var n=this._defaultNodeForPopover(e);this.handlers.onClick(n,n,t)}}else if(this.popovers[e]){var r=this._defaultNodeForPopover(e),o=e;this.handlers.onClick(r,o,t)}else null!=e&&this.onTrigger(e);this.onBlur()},e.prototype._isNodeInsidePopover=function(e,t){return this.popovers[e].includes(t)},e.prototype._defaultNodeForPopover=function(e){return this.popovers[e][0]},e}();e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={longPressWaitTimeMs:50,swipeThresholdPx:20,holdIntervalMs:250},a=function(){function e(t,n,a,s){r(this,e),this.handlers=t,this.options=o({},i,n),this.swipeDisabledNodeIds=a||[],this.multiPressableKeys=s||[],this.touchState={},this.swipeState=null}return e.prototype._maybeCancelLongPressForTouch=function(e){var t=this.touchState[e].longPressTimeoutId;t&&(clearTimeout(t),this.touchState[e]=o({},this.touchState[e],{longPressTimeoutId:null}))},e.prototype._maybeCancelPressAndHoldForTouch=function(e){var t=this.touchState[e].pressAndHoldIntervalId;t&&(clearInterval(t),this.touchState[e]=o({},this.touchState[e],{pressAndHoldIntervalId:null}))},e.prototype._cleanupTouchEvent=function(e){this._maybeCancelLongPressForTouch(e),this._maybeCancelPressAndHoldForTouch(e),delete this.touchState[e]},e.prototype._onFocus=function(e,t){var n=this;this._maybeCancelLongPressForTouch(t),this._maybeCancelPressAndHoldForTouch(t),this.touchState[t]=o({},this.touchState[t],{activeNodeId:e}),this.handlers.onFocus(e),e&&(this.multiPressableKeys.includes(e)?(this.handlers.onTrigger(e),this.touchState[t]=o({},this.touchState[t],{pressAndHoldIntervalId:setInterval(function(){n.handlers.onTrigger(e)},this.options.holdIntervalMs)})):this.touchState[t]=o({},this.touchState[t],{longPressTimeoutId:setTimeout(function(){n.handlers.onLongPress(e),n.touchState[t]=o({},n.touchState[t],{longPressTimeoutId:null})},this.options.longPressWaitTimeMs)}))},e.prototype._onSwipeStart=function(){for(var e=Object.keys(this.touchState),t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}var o=r;this._maybeCancelLongPressForTouch(o),this._maybeCancelPressAndHoldForTouch(o)}this.touchState={},this.handlers.onBlur()},e.prototype.onTouchStart=function(e,t,n){if(!this.swipeState&&!this.touchState[t]){var r=e();this.touchState[t]={swipeLocked:this.swipeDisabledNodeIds.includes(r),startX:n},this._onFocus(r,t)}},e.prototype.onTouchMove=function(e,t,n,r){if(this.swipeState)this.swipeState.touchId===t&&this.handlers.onSwipeChange(n-this.swipeState.startX);else if(this.touchState[t]){var o=this.touchState[t],i=o.activeNodeId,a=o.startX,s=o.swipeLocked,l=n-a,u=r&&!s&&Math.abs(l)>this.options.swipeThresholdPx;if(u)this._onSwipeStart(),this.swipeState={touchId:t,startX:a},this.handlers.onSwipeChange(n-this.swipeState.startX);else{var c=e();c!==i&&this._onFocus(c,t)}}},e.prototype.onTouchEnd=function(e,t,n){if(this.swipeState)this.swipeState.touchId===t&&(this.handlers.onSwipeEnd(n-this.swipeState.startX),this.swipeState=null);else if(this.touchState[t]){var r=this.touchState[t],o=r.activeNodeId,i=r.pressAndHoldIntervalId;this._cleanupTouchEvent(t);var a=!!i;a?this.handlers.onBlur():this.handlers.onTouchEnd(o)}},e.prototype.onTouchCancel=function(e){this.swipeState?this.swipeState.touchId===e&&(this.handlers.onSwipeEnd(0),this.swipeState=null):this.touchState[e]&&(this._cleanupTouchEvent(e),this.handlers.onBlur())},e}();e.exports=a},function(e,t,n){"use strict";function r(e){return e instanceof Element?e.getAttribute("data-offset-key"):null}e.exports=r},function(e,t,n){"use strict";function r(e){return e.split("/")}var o={isImage:function(e){return"image"===r(e)[0]},isJpeg:function(e){var t=r(e);return o.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};e.exports=o},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=n(326);e.exports=i},function(e,t,n){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection();if(!t.isCollapsed())return o(e.getCurrentContent(),t)}var o=n(297);e.exports=r},function(e,t,n){"use strict";var r=n(243),o=n(246),i=n(297),a=n(320),s=null,l={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),l=null;if(n.isCollapsed()){var u=n.getAnchorKey(),c=t.getBlockForKey(u).getLength();if(c===n.getAnchorOffset())return e;l=n.set("focusOffset",c)}else l=n;l=a(l),s=i(t,l);var p=r.removeRange(t,l,"forward");return p===t?e:o.push(e,p,"remove-range")},paste:function(e){if(!s)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return o.push(e,t,"insert-fragment")}};e.exports=l},function(e,t,n){"use strict";function r(e){var t=l(e,function(e){var t=e.getSelection();if(t.isCollapsed()&&0===t.getAnchorOffset())return s(e,1);var n=global.getSelection(),r=n.getRangeAt(0);return r=i(r),a(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState},"backward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}var o=n(246),i=n(449),a=n(450),s=n(451),l=n(452);e.exports=r},function(e,t,n){"use strict";function r(e){var t=s(e,function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return a(e,1);var r=t.getStartKey(),i=e.getCurrentContent(),s=i.getBlockForKey(r).getText().slice(0,n),l=o.getBackward(s);return a(e,l.length||1)},"backward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}var o=n(453),i=n(246),a=n(451),s=n(452);e.exports=r},function(e,t,n){"use strict";function r(e){var t=s(e,function(e){var t=e.getSelection(),n=t.getStartOffset(),r=t.getStartKey(),i=e.getCurrentContent(),s=i.getBlockForKey(r).getText().slice(n),l=o.getForward(s);return a(e,l.length||1)},"forward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}var o=n(453),i=n(246),a=n(454),s=n(452);e.exports=r},function(e,t,n){"use strict";function r(e){var t=o.splitBlock(e.getCurrentContent(),e.getSelection());return i.push(e,t,"split-block")}var o=n(243),i=n(246);e.exports=r},function(e,t,n){"use strict";function r(e){var t=s(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),o=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[o-1];return a(e,s?i.getUTF16Length(s,0):1)},"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return o.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}var o=n(246),i=n(373),a=n(451),s=n(452);e.exports=r},function(e,t,n){"use strict";function r(e){var t=s(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),o=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[o];return a(e,s?i.getUTF16Length(s,0):1)},"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return o.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}var o=n(246),i=n(373),a=n(454),s=n(452);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection(),n=t.getEndKey(),r=e.getCurrentContent(),i=r.getBlockForKey(n).getLength();return o.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}var o=n(246);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection(),n=t.getStartKey();return o.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}var o=n(246);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var r=t.getAnchorKey(),s=e.getCurrentContent(),l=s.getBlockForKey(r),u=l.getLength();if(u<=1)return e;var c,p;n===u?(c=t.set("anchorOffset",n-1),p=t):(c=t.set("focusOffset",n+1),p=c.set("anchorOffset",n+1));var h=a(s,c),d=o.removeRange(s,c,"backward"),f=d.getSelectionAfter(),m=f.getAnchorOffset()-1,g=f.merge({anchorOffset:m,focusOffset:m}),v=o.replaceWithFragment(d,g,h),y=i.push(e,v,"insert-fragment");return i.acceptSelection(y,p)}var o=n(243),i=n(246),a=n(297);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=o.undo(t);if("spellcheck-change"===t.getLastChangeType()){var i=r.getCurrentContent();return void n(o.set(r,{nativelyRenderedContent:i}))}return e.preventDefault(),t.getNativelyRenderedContent()?(n(o.set(t,{nativelyRenderedContent:null})),void setTimeout(function(){n(r)},0)):void n(r)}var o=n(246);e.exports=r},function(e,t,n){"use strict";var r=(n(235),n(237)),o=n(256),i=n(251),a=n(253),s=n(310),l=n(286),u=o.List,c=o.Repeat,p={processHTML:function(e,t){return i(e,s,t)},processText:function(e,t){return e.map(function(e){return e=l(e),new r({key:a(),type:"unstyled",text:e,characterList:u(c(t,e.length))})})}};e.exports=p},function(e,t,n){"use strict";function r(e){return e.split(o)}var o=/\r\n?|\n/g;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=global.getSelection();return 0===n.rangeCount?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:o(e,t,n.anchorNode,n.anchorOffset,n.focusNode,n.focusOffset);
}var o=n(450);e.exports=r},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=n(455);e.exports=r},function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}function o(e){for(var t=e.length,n=t,r=0,o=void 0;t>=4;)o=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),o^=o>>>24,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^o,t-=4,++r;switch(t){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n^=255&e.charCodeAt(r),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)}return n^=n>>>13,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>15,(n>>>0).toString(36)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})};t.objectToPairs=l;var u=function(e){var t={};return e.forEach(function(e){var n=a(e,2),r=n[0],o=n[1];t[r]=o}),t},c=function(e,t){return u(l(e).map(t))};t.mapObj=c;var p=/([A-Z])/g,h=/^ms-/,d=function(e){return e.replace(p,"-$1").toLowerCase()},f=function(e){return d(e).replace(h,"-ms-")};t.kebabifyStyleName=f;var m=function e(t,n){if("object"!==("undefined"==typeof t?"undefined":i(t)))return n;var r=s({},t);return Object.keys(n).forEach(function(o){r.hasOwnProperty(o)?r[o]=e(t[o],n[o]):r[o]=n[o]}),r};t.recursiveMerge=m;var g={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},v=["Webkit","ms","Moz","O"];Object.keys(g).forEach(function(e){v.forEach(function(t){g[r(t,e)]=g[e]})});var y=function(e,t){return"number"==typeof t?g[e]?""+t:t+"px":t};t.stringifyValue=y;var b=function(e){return o(JSON.stringify(e))};t.hashObject=b;var x=/^([^:]+:.*?)( !important)?$/,E=function(e){return e.split(";").map(function(e){return e.replace(x,function(e,t,n){return t+" !important"})}).join(";")};t.importantify=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(475),a=r(i),s=n(458),l=null,u=function(e){if(null==l&&(l=document.querySelector("style[data-aphrodite]"),null==l)){var t=document.head||document.getElementsByTagName("head")[0];l=document.createElement("style"),l.type="text/css",l.setAttribute("data-aphrodite",""),t.appendChild(l)}l.styleSheet?l.styleSheet.cssText+=e:l.appendChild(document.createTextNode(e))},c={fontFamily:function e(t){return Array.isArray(t)?t.map(e).join(","):"object"===("undefined"==typeof t?"undefined":o(t))?(f(t.fontFamily,"@font-face",[t],!1),'"'+t.fontFamily+'"'):t}},p={},h="",d=!1,f=function(e,t,n,r){if(!p[e]){var o=(0,s.generateCSS)(t,n,c,r);if(!d){if("undefined"==typeof document)throw new Error("Cannot automatically buffer without a document");d=!0,(0,a.default)(y)}h+=o,p[e]=!0}};t.injectStyleOnce=f;var m=function(){h="",p={},d=!1,l=null};t.reset=m;var g=function(){if(d)throw new Error("Cannot buffer while already buffering");d=!0};t.startBuffering=g;var v=function(){d=!1;var e=h;return h="",e};t.flushToString=v;var y=function(){var e=v();e.length>0&&u(e)};t.flushToStyleTag=y;var b=function(){return Object.keys(p)};t.getRenderedClassNames=b;var x=function(e){e.forEach(function(e){p[e]=!0})};t.addRenderedClassNames=x},function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;e.exports=r},function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;e.exports=r},function(e,t,n){e.exports=require("domain")},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(469),a=n(423),s=n(268),l=n(199),u=l.KeyTypes,c=l.EchoAnimationTypes,p=n(200),h=p.echoPropType,d=p.bordersPropType,f=p.boundingBoxPropType,m=p.keyIdPropType,g=n(332),v=o.createClass({displayName:"Echo",propTypes:{animationDurationMs:o.PropTypes.number.isRequired,borders:d,id:m.isRequired,initialBounds:f.isRequired,onAnimationFinish:o.PropTypes.func.isRequired},componentDidMount:function(){var e=this.props,t=e.animationDurationMs,n=e.onAnimationFinish;setTimeout(function(){return n()},t)},render:function(){var e=this.props,t=e.borders,n=e.id,i=e.initialBounds,l=s[n].icon,c=r({zIndex:g.echo,position:"absolute",pointerEvents:"none"},i);return o.createElement("div",{style:c},o.createElement(a,{name:n,icon:l,type:u.ECHO,borders:t}))}}),y=o.createClass({displayName:"EchoManager",propTypes:{echoes:o.PropTypes.arrayOf(h),onAnimationFinish:o.PropTypes.func.isRequired},_animationConfigForType:function(e){var t=void 0,n=void 0;switch(e){case c.SLIDE_AND_FADE:t=400,n="echo-slide-and-fade";break;case c.FADE_ONLY:t=300,n="echo-fade-only";break;case c.LONG_FADE_ONLY:t=400,n="echo-long-fade-only";break;default:throw new Error("Invalid echo animation type:",e)}return{animationDurationMs:t,animationTransitionName:n}},render:function(){var e=this,t=this.props,n=t.echoes,a=t.onAnimationFinish;return o.createElement("span",null,Object.keys(c).map(function(t){var s=e._animationConfigForType(t),l=s.animationDurationMs,u=s.animationTransitionName,c=n.filter(function(e){return e.animationType===t});return o.createElement(i,{transitionName:u,transitionEnter:!0,transitionLeave:!1,transitionEnterTimeout:l,key:t},c.map(function(e){var t=e.animationId;return o.createElement(v,r({key:t,animationDurationMs:l,onAnimationFinish:function(){return a(t)}},e))}))}))}});e.exports=y},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(469),a=n(268),s=n(461),l=n(200),u=l.boundingBoxPropType,c=l.keyConfigPropType,p=l.popoverPropType,h="popover",d=200,f=o.createClass({displayName:"PopoverContainer",propTypes:{bounds:u.isRequired,childKeys:o.PropTypes.arrayOf(c).isRequired},render:function(){var e=this.props,t=e.bounds,n=e.childKeys,i=r({position:"absolute"},t);return o.createElement("div",{style:i},o.createElement(s,{keys:n}))}}),m=o.createClass({displayName:"PopoverManager",propTypes:{popover:p},render:function(){var e=this.props.popover;return o.createElement(i,{transitionName:h,transitionEnter:!0,transitionLeave:!1,transitionEnterTimeout:d},e&&o.createElement(f,{key:e.childKeyIds[0],bounds:e.bounds,childKeys:e.childKeyIds.map(function(e){return a[e]})}))}});e.exports=m},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(196),a=n(340),s=a.connect,l=n(341),u=l.StyleSheet,c=l.css,p=n(279),h=p.View,d=n(462),f=n(463),m=n(464),g=n(199),v=g.KeyTypes,y=g.BorderDirections,b=g.BorderStyles,x=n(262),E=x.brightGreen,w=x.innerBorderColor,T=x.innerBorderStyle,C=x.innerBorderWidthPx,S=x.valueGrey,k=x.operatorGrey,P=x.controlGrey,_=x.emptyGrey,M=n(200),N=M.bordersPropType,O=M.iconPropType,A=M.keyConfigPropType,I=o.createClass({displayName:"KeypadButton",propTypes:{ariaLabel:o.PropTypes.string,borders:N,childKeys:o.PropTypes.arrayOf(A),disabled:o.PropTypes.bool,focused:o.PropTypes.bool,heightPx:o.PropTypes.number.isRequired,icon:O,onTouchCancel:o.PropTypes.func,onTouchEnd:o.PropTypes.func,onTouchMove:o.PropTypes.func,onTouchStart:o.PropTypes.func,popoverEnabled:o.PropTypes.bool,style:o.PropTypes.any,type:o.PropTypes.oneOf(Object.keys(v)).isRequired,widthPx:o.PropTypes.number.isRequired},mixins:[i],getDefaultProps:function(){return{borders:b.ALL,childKeys:[],disabled:!1,focused:!1,popoverEnabled:!1}},componentWillMount:function(){this.buttonSizeStyle=F(this.props.heightPx,this.props.widthPx)},componentDidMount:function(){this._preInjectStyles()},componentWillUpdate:function(e,t){e.heightPx===this.props.heightPx&&e.widthPx===this.props.widthPx||(this.buttonSizeStyle=F(e.heightPx,e.widthPx),this._preInjectStyles())},_preInjectStyles:function(){for(var e=Object.keys(v),t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}var o=r;c.apply(void 0,[h.styles.initial].concat(this._getFocusStyle(o)));for(var i=Object.values(b),a=Array.isArray(i),s=0,i=a?i:i[Symbol.iterator]();;){var l;if(a){if(s>=i.length)break;l=i[s++]}else{if(s=i.next(),s.done)break;l=s.value}var u=l;c.apply(void 0,[h.styles.initial].concat(this._getButtonStyle(o,u)))}}},_getFocusStyle:function(e){var t=void 0;return t=e===v.INPUT_NAVIGATION||e===v.KEYPAD_NAVIGATION?L.light:L.bright,[L.focusBox,t]},_getButtonStyle:function(e,t,n){var r=void 0;switch(e){case v.EMPTY:r=L.empty;break;case v.MANY:case v.VALUE:r=L.value;break;case v.OPERATOR:r=L.operator;break;case v.INPUT_NAVIGATION:case v.KEYPAD_NAVIGATION:r=L.control;break;case v.ECHO:r=null}var o=[];return t.indexOf(y.LEFT)!==-1&&o.push(L.leftBorder),t.indexOf(y.BOTTOM)!==-1&&o.push(L.bottomBorder),[L.buttonBase,r].concat(o,[e===v.ECHO&&L.echo,this.buttonSizeStyle],Array.isArray(n)?n:[n])},render:function(){var e=this.props,t=e.ariaLabel,n=e.borders,i=e.childKeys,a=e.disabled,s=e.focused,l=e.icon,u=e.onTouchCancel,c=e.onTouchEnd,p=e.onTouchMove,g=e.onTouchStart,y=e.popoverEnabled,b=e.style,x=e.type,E=!a&&s||y||x===v.ECHO,w=this._getButtonStyle(x,n,b),T=this._getFocusStyle(x),C=[L.iconWrapper,a&&L.disabled],S={onTouchCancel:u,onTouchEnd:c,onTouchMove:p,onTouchStart:g},k=E&&o.createElement(h,{style:T}),P=!E&&!a&&i&&i.length>0&&o.createElement(m,{style:L.decalInset});if(x===v.EMPTY)return o.createElement(h,r({style:w},S));if(x===v.MANY){var _={role:"button",ariaLabel:i[0].ariaLabel},M=i.map(function(e){return e.icon});return o.createElement(h,r({style:w},S,_),k,o.createElement(h,{style:C},o.createElement(f,{icons:M,focused:E})),P)}var N={role:"button",ariaLabel:t};return o.createElement(h,r({style:w},S,N),k,o.createElement(h,{style:C},o.createElement(d,{icon:l,focused:E})),P)}}),R=4,D=0,L=u.create({buttonBase:{"-webkit-box-flex":"1",flex:1,cursor:"pointer",userSelect:"none",justifyContent:"center",alignItems:"center",borderColor:w,borderStyle:T,boxSizing:"border-box"},decalInset:{top:R,right:R},echo:{borderColor:"transparent"},value:{backgroundColor:S},operator:{backgroundColor:k},control:{backgroundColor:P},empty:{backgroundColor:_,cursor:"default"},bright:{backgroundColor:E},light:{backgroundColor:"rgba(33, 36, 44, 0.1)"},iconWrapper:{zIndex:D+1},focusBox:{position:"absolute",zIndex:D,left:R,right:R,bottom:R,top:R,borderRadius:1},disabled:{opacity:.3},leftBorder:{borderLeftWidth:C},bottomBorder:{borderBottomWidth:C}}),F=function(e,t){return u.create({buttonSize:{height:e,width:t,maxWidth:t}}).buttonSize},B=function(e){return e.layout.buttonDimensions};e.exports=s(B)(I)},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=n(340),a=i.connect,s=n(341),l=s.StyleSheet,u=n(279),c=u.View,p=n(333),h=p.row,d=n(200),f=d.childrenPropType,m=n(262),g=m.innerBorderColor,v=m.innerBorderStyle,y=m.innerBorderWidthPx,b=o.createClass({displayName:"ViewPager",propTypes:{animateToPosition:o.PropTypes.bool,children:f,pageWidthPx:o.PropTypes.number.isRequired,translateX:o.PropTypes.number.isRequired},getInitialState:function(){return{animationDurationMs:0}},componentWillReceiveProps:function(e){var t=void 0;if(e.animateToPosition){var n=e.translateX,r=this.props.translateX;t=Math.abs(n-r)}else t=0;this.setState({animationDurationMs:t})},render:function(){var e=this.props,t=e.children,n=e.pageWidthPx,i=e.translateX,a=this.state.animationDurationMs,s=[h,x.twoPagePager],l={msTransform:"translate3d("+i+"px, 0, 0)",WebkitTransform:"translate3d("+i+"px, 0, 0)",transform:"translate3d("+i+"px, 0, 0)"},u=a?{msTransitionProperty:"transform",WebkitTransitionProperty:"transform",transitionProperty:"transform",msTransitionDuration:a+"ms",WebkitTransitionDuration:a+"ms",transitionDuration:a+"ms",msTransitionTimingFunction:"ease-out",WebkitTransitionTimingFunction:"ease-out",transitionTimingFunction:"ease-out"}:{},p=r({},l,u),d={width:n};return o.createElement(c,{style:s,dynamicStyle:p},o.createElement(c,{dynamicStyle:d},t[0]),o.createElement(c,{style:x.rightPage,dynamicStyle:d},t[1]))}}),x=l.create({twoPagePager:{alignSelf:"flex-start",maxWidth:"250%"},rightPage:{borderLeft:y+"px "+v+" "+g,boxSizing:"content-box"}}),E=function(e){var t=e.pager,n=t.animateToPosition,r=t.currentPage,o=t.dx,i=t.pageWidthPx;return{animateToPosition:n,pageWidthPx:i,translateX:-r*(i+y)+o}};e.exports=a(E)(b)},function(e,t,n){"use strict";var r=n(54),o=n(341),i=o.StyleSheet,a=n(279),s=a.View,l=n(262),u=l.pageIndicatorHeightPx,c=l.gray68,p=l.gray85,h=r.createClass({displayName:"PagerIcon",propTypes:{active:r.PropTypes.bool,radiusPx:r.PropTypes.number},getDefaultProps:function(){return{active:!1,radiusPx:4}},render:function(){var e=this.props,t=e.active,n=e.radiusPx,o=t?c:p;return r.createElement("svg",{width:2*n,height:2*n},r.createElement("circle",{cx:n,cy:n,r:n,fill:o}))}}),d=r.createClass({displayName:"PagerIndicator",propTypes:{currentPage:r.PropTypes.number.isRequired,numPages:r.PropTypes.number.isRequired},render:function(){for(var e=this.props,t=e.currentPage,n=e.numPages,o=4,i=[],a=0;a<n;a++)i.push(r.createElement(h,{key:a,active:a===t,radiusPx:o}));var l=2*o*n,u=2*o*(n-1),c={width:l+u};return r.createElement(s,{style:f.indicatorStrip},r.createElement(s,{style:f.iconStrip,dynamicStyle:c},i))}}),f=i.create({indicatorStrip:{backgroundColor:"#F0F1F2",flexDirection:"row",justifyContent:"center",alignItems:"center",height:u},iconStrip:{flexDirection:"row",justifyContent:"space-between"}});e.exports=d},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(54),a=n(340),s=a.connect,l=n(343),u=n(268),c=n(423),p=i.createClass({displayName:"EmptyKeypadButton",propTypes:{gestureManager:i.PropTypes.instanceOf(l)},render:function(){var e=this.props,t=e.gestureManager,n=r(e,["gestureManager"]);return i.createElement(c,o({onTouchStart:function(e){return t.onTouchStart(e)},onTouchEnd:function(e){return t.onTouchEnd(e)},onTouchMove:function(e){return t.onTouchMove(e)},onTouchCancel:function(e){return t.onTouchCancel(e)}},u.NOOP,n))}}),h=function(e){var t=e.gestures;return{gestureManager:t.gestureManager}};e.exports=s(h)(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Webkit:{transform:!0,transformOrigin:!0,transformOriginX:!0,transformOriginY:!0,backfaceVisibility:!0,perspective:!0,perspectiveOrigin:!0,transformStyle:!0,transformOriginZ:!0,animation:!0,animationDelay:!0,animationDirection:!0,animationFillMode:!0,animationDuration:!0,animationIterationCount:!0,animationName:!0,animationPlayState:!0,animationTimingFunction:!0,appearance:!0,userSelect:!0,fontKerning:!0,textEmphasisPosition:!0,textEmphasis:!0,textEmphasisStyle:!0,textEmphasisColor:!0,boxDecorationBreak:!0,clipPath:!0,maskImage:!0,maskMode:!0,maskRepeat:!0,maskPosition:!0,maskClip:!0,maskOrigin:!0,maskSize:!0,maskComposite:!0,mask:!0,maskBorderSource:!0,maskBorderMode:!0,maskBorderSlice:!0,maskBorderWidth:!0,maskBorderOutset:!0,maskBorderRepeat:!0,maskBorder:!0,maskType:!0,textDecorationStyle:!0,textDecorationSkip:!0,textDecorationLine:!0,textDecorationColor:!0,filter:!0,fontFeatureSettings:!0,breakAfter:!0,breakBefore:!0,breakInside:!0,columnCount:!0,columnFill:!0,columnGap:!0,columnRule:!0,columnRuleColor:!0,columnRuleStyle:!0,columnRuleWidth:!0,columns:!0,columnSpan:!0,columnWidth:!0,flex:!0,flexBasis:!0,flexDirection:!0,flexGrow:!0,flexFlow:!0,flexShrink:!0,flexWrap:!0,alignContent:!0,alignItems:!0,alignSelf:!0,justifyContent:!0,order:!0,transition:!0,transitionDelay:!0,transitionDuration:!0,transitionProperty:!0,transitionTimingFunction:!0,backdropFilter:!0,scrollSnapType:!0,scrollSnapPointsX:!0,scrollSnapPointsY:!0,scrollSnapDestination:!0,scrollSnapCoordinate:!0,shapeImageThreshold:!0,shapeImageMargin:!0,shapeImageOutside:!0,hyphens:!0,flowInto:!0,flowFrom:!0,regionFragment:!0,textSizeAdjust:!0,borderImage:!0,borderImageOutset:!0,borderImageRepeat:!0,borderImageSlice:!0,borderImageSource:!0,borderImageWidth:!0,tabSize:!0,objectFit:!0,objectPosition:!0},Moz:{appearance:!0,userSelect:!0,boxSizing:!0,textAlignLast:!0,textDecorationStyle:!0,textDecorationSkip:!0,textDecorationLine:!0,textDecorationColor:!0,tabSize:!0,hyphens:!0,fontFeatureSettings:!0,breakAfter:!0,breakBefore:!0,breakInside:!0,columnCount:!0,columnFill:!0,columnGap:!0,columnRule:!0,columnRuleColor:!0,columnRuleStyle:!0,columnRuleWidth:!0,columns:!0,columnSpan:!0,columnWidth:!0},ms:{flex:!0,flexBasis:!1,flexDirection:!0,flexGrow:!1,flexFlow:!0,flexShrink:!1,flexWrap:!0,alignContent:!1,alignItems:!1,alignSelf:!1,justifyContent:!1,order:!1,transform:!0,transformOrigin:!0,transformOriginX:!0,transformOriginY:!0,userSelect:!0,wrapFlow:!0,wrapThrough:!0,wrapMargin:!0,scrollSnapType:!0,scrollSnapPointsX:!0,scrollSnapPointsY:!0,scrollSnapDestination:!0,scrollSnapCoordinate:!0,touchAction:!0,hyphens:!0,flowInto:!0,flowFrom:!0,breakBefore:!0,breakAfter:!0,breakInside:!0,regionFragment:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridTemplate:!0,gridAutoColumns:!0,gridAutoRows:!0,gridAutoFlow:!0,grid:!0,gridRowStart:!0,gridColumnStart:!0,gridRowEnd:!0,gridRow:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridRowGap:!0,gridArea:!0,gridGap:!0,textSizeAdjust:!0}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return Object.keys(t).reduce(function(n,r){return e[r]=t[r],n},{})},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if("string"==typeof t&&t.indexOf("calc(")>-1){if((0,l.default)(t))return;return(0,a.default)(e,t,function(e,t){return t.replace(/calc\(/g,e+"calc(")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(465),a=r(i),s=n(466),l=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if("cursor"===e&&s[t])return(0,a.default)(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(465),a=r(i),s={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if("display"===e&&a[t])return{display:["-webkit-box","-moz-box","-ms-"+t+"box","-webkit-"+t,t]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(467),a=(r(i),{flex:!0,"inline-flex":!0});e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(s[e]&&l[t])return(0,a.default)(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(465),a=r(i),s={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},l={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if("string"==typeof t&&null!==t.match(u)){if((0,l.default)(t))return;return(0,a.default)(e,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(465),a=r(i),s=n(466),l=r(s),u=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if("string"==typeof t&&m[e]){var n,r=a(t),i=r.split(",").filter(function(e){return null===e.match(/-moz-|-ms-/)}).join(",");return e.indexOf("Webkit")>-1?o({},e,i):(n={},o(n,"Webkit"+(0,c.default)(e),i),o(n,e,r),n)}}function a(e){if((0,h.default)(e))return e;var t=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return t.forEach(function(e,n){t[n]=Object.keys(f.default).reduce(function(t,n){var r="-"+n.toLowerCase()+"-";return Object.keys(f.default[n]).forEach(function(n){var o=(0,l.default)(n);e.indexOf(o)>-1&&(t=e.replace(o,r+o)+","+t)}),t},e)}),t.join(",")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=n(467),l=r(s),u=n(428),c=r(u),p=n(466),h=r(p),d=n(427),f=r(d),m={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0};e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(a[e])return r({},a[e],i[t]||t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},a={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msPreferredSize"};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return"flexDirection"===e?{WebkitBoxOrient:t.indexOf("column")>-1?"vertical":"horizontal",WebkitBoxDirection:t.indexOf("reverse")>-1?"reverse":"normal"}:l[e]?o({},l[e],s[t]||t):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(467),s=(r(a),{"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"}),l={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(54);t.default=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!o.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return function(t){return(0,o.bindActionCreators)(e,t)}}t.__esModule=!0,t.default=r;var o=n(392)},function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){function r(){y===v&&(y=v.slice())}function a(){return g}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),y.push(e),function(){if(t){t=!1,r();var n=y.indexOf(e);y.splice(n,1)}}}function p(e){if(!(0,s.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(b)throw new Error("Reducers may not dispatch actions.");try{b=!0,g=m(g,e)}finally{b=!1}for(var t=v=y,n=0;n<t.length;n++)t[n]();return e}function h(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");m=e,p({type:c.INIT})}function d(){var e,t=l;return e={subscribe:function(e){function n(){e.next&&e.next(a())}if("object"!==("undefined"==typeof e?"undefined":i(e)))throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[u.default]=function(){return this},e}var f;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var m=e,g=t,v=[],y=v,b=!1;return p({type:c.INIT}),f={dispatch:p,subscribe:l,getState:a,replaceReducer:h},f[u.default]=d,f}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.__esModule=!0,t.ActionTypes=void 0,t.default=o;var a=n(456),s=r(a),l=n(479),u=r(l),c=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s,l=Object.keys(n);try{i(n)}catch(e){s=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var r=!1,i={},a=0;a<l.length;a++){var u=l[a],c=n[u],p=e[u],h=c(p,t);if("undefined"==typeof h){var d=o(u,t);throw new Error(d)}i[u]=h,r=r||h!==p}return r?i:e}}t.__esModule=!0,t.default=a;var s=n(442),l=n(456),u=(r(l),n(447));r(u)},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!==("undefined"==typeof e?"undefined":i(e))||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":"undefined"==typeof e?"undefined":i(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},a=0;a<n.length;a++){var s=n[a],l=e[s];"function"==typeof l&&(o[s]=r(l,t))}return o}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.__esModule=!0,t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a=e(n,r,o),l=a.dispatch,u=[],c={getState:a.getState,dispatch:function(e){return l(e)}};return u=t.map(function(e){return e(c)}),l=s.default.apply(void 0,u)(a.dispatch),i({},a,{dispatch:l})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var a=n(446),s=r(a)},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};var r=function(){var e=t[t.length-1],n=t.slice(0,-1);return{v:function(){return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}}();return"object"===("undefined"==typeof r?"undefined":o(r))?r.v:void 0}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";(function(){var t,n,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-r)/1e6},n=process.hrtime,t=function(){var e;return e=n(),1e9*e[0]+e[1]},r=t()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(void 0)},function(e,t,n){"use strict";function r(e){var t=getComputedStyle(e),n=document.createElement("div");n.style.fontFamily=t.fontFamily,n.style.fontSize=t.fontSize,n.style.fontStyle=t.fontStyle,n.style.fontWeight=t.fontWeight,n.style.lineHeight=t.lineHeight,n.style.position="absolute",n.textContent="M",document.body.appendChild(n);var r=n.getBoundingClientRect();return document.body.removeChild(n),r.height}function o(e,t){for(var n=1/0,r=1/0,o=-(1/0),i=-(1/0),a=0;a<e.length;a++){var s=e[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),o=Math.max(o,s.top),i=Math.max(i,s.bottom))}return o<=r&&o-n<t&&i-r<t}function i(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}function a(e){e.collapsed?void 0:u(!1),e=e.cloneRange();var t=e.startContainer;1!==t.nodeType&&(t=t.parentNode);var n=r(t),a=e.endContainer,c=e.endOffset;for(e.setStart(e.startContainer,0);o(l(e),n)&&(a=e.startContainer,c=e.startOffset,a.parentNode?void 0:u(!1),e.setStartBefore(a),1!==a.nodeType||"inline"===getComputedStyle(a).display););
for(var p=a,h=c-1;;){for(var d=p.nodeValue,f=h;f>=0;f--)if(!(null!=d&&f>0&&s.isSurrogatePair(d,f-1))){if(e.setStart(p,f),!o(l(e),n))break;a=p,c=f}if(f===-1||0===p.childNodes.length)break;p=p.childNodes[f],h=i(p)}return e.setStart(a,c),e}var s=n(373),l=n(374),u=n(326);e.exports=a},function(e,t,n){"use strict";function r(e,t,n,r,o,i){var s=n.nodeType===Node.TEXT_NODE,u=o.nodeType===Node.TEXT_NODE;if(s&&u)return{selectionState:c(e,h(l(n)),r,h(l(o)),i),needsRecovery:!1};var p=null,d=null,f=!0;return s?(p={key:h(l(n)),offset:r},d=a(t,o,i)):u?(d={key:h(l(o)),offset:i},p=a(t,n,r)):(p=a(t,n,r),d=a(t,o,i),n===o&&r===i&&(f="BR"!==n.firstChild.nodeName)),{selectionState:c(e,p.key,p.offset,d.key,d.offset),needsRecovery:f}}function o(e){for(;e.firstChild&&u(e.firstChild);)e=e.firstChild;return e}function i(e){for(;e.lastChild&&u(e.lastChild);)e=e.lastChild;return e}function a(e,t,n){var r=l(t);if(null!=r||e&&(e===t||e.firstChild===t)?void 0:p(!1),e===t&&(t=t.firstChild,t instanceof Element&&"true"===t.getAttribute("data-contents")?void 0:p(!1),n>0&&(n=t.childNodes.length)),0===n){var a=null;if(null!=r)a=r;else{var c=o(t);a=h(u(c))}return{key:a,offset:0}}var d=t.childNodes[n-1],f=null,m=null;if(u(d)){var g=i(d);f=h(u(g)),m=s(g)}else f=h(r),m=s(d);return{key:f,offset:m}}function s(e){var t=e.textContent;return"\n"===t?0:t.length}var l=n(351),u=n(396),c=n(353),p=n(326),h=n(320);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e.getSelection(),r=e.getCurrentContent(),o=n.getStartKey(),i=n.getStartOffset(),a=o,s=0;if(t>i){var l=r.getKeyBefore(o);if(null==l)a=o;else{a=l;var u=r.getBlockForKey(l);s=u.getText().length}}else s=i-t;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=e.getSelection(),i=e.getCurrentContent(),a=r;if(r.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return i}else if(e.isSelectionAtStartOfContent())return i;if(a=t(e),a===r)return i}return o.removeRange(i,a,n)}var o=n(243);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=t?p.exec(e):u.exec(e);return n?n[0]:e}var o=n(470),i=o.getPunctuation(),a="['‘’]",s="\\s|(?![_])"+i,l="^(?:"+s+")*(?:"+a+"|(?!"+s+").)*(?:(?!"+s+").)",u=new RegExp(l),c="(?:(?!"+s+").)(?:"+a+"|(?!"+s+").)*(?:"+s+")*$",p=new RegExp(c),h={getBackward:function(e){return r(e,!0)},getForward:function(e){return r(e,!1)}};e.exports=h},function(e,t,n){"use strict";function r(e,t){var n,r=e.getSelection(),o=r.getStartKey(),i=r.getStartOffset(),a=e.getCurrentContent(),s=o,l=a.getBlockForKey(o);return t>l.getText().length-i?(s=a.getKeyAfter(o),n=0):n=i+t,r.merge({focusKey:s,focusOffset:n})}e.exports=r},function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=n(471);e.exports=r},function(e,t,n){"use strict";function r(e){if(!a(e)||h.call(e)!=s||i(e))return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==p}var o=n(472),i=n(473),a=n(474),s="[object Object]",l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,p=u.call(Object),h=l.toString;e.exports=r},function(e,t,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(481),a=r(i),s=n(416),l=function e(t,n,r,o){var i=n.reduce(s.recursiveMerge),a={},l={},u={};return Object.keys(i).forEach(function(e){":"===e[0]?u[e]=i[e]:"@"===e[0]?l[e]=i[e]:a[e]=i[e]}),c(t,a,r,o)+Object.keys(u).map(function(e){return c(t+e,u[e],r,o)}).join("")+Object.keys(l).map(function(n){var i=e(t,[l[n]],r,o);return n+"{"+i+"}"}).join("")};t.generateCSS=l;var u=function(e,t){var n={};return Object.keys(e).forEach(function(r){t&&t.hasOwnProperty(r)?n[r]=t[r](e[r]):n[r]=e[r]}),n},c=function(e,t,n,r){var i=u(t,n),l=a.default.prefixAll(i),c=(0,s.objectToPairs)(l).map(function(e){var t=o(e,2),n=t[0],i=t[1],a=(0,s.stringifyValue)(n,i),l=(0,s.kebabifyStyleName)(n)+":"+a+";";return r===!1?l:(0,s.importantify)(l)}).join("");return c?e+"{"+c+"}":""};t.generateCSSRuleset=c},function(e,t,n){var r;!function(o,i){"use strict";var a="0.7.10",s="",l="?",u="function",c="undefined",p="object",h="string",d="major",f="model",m="name",g="type",v="vendor",y="version",b="architecture",x="console",E="mobile",w="tablet",T="smarttv",C="wearable",S="embedded",k={extend:function(e,t){for(var n in t)"browser cpu device engine os".indexOf(n)!==-1&&t[n].length%2===0&&(e[n]=t[n].concat(e[n]));return e},has:function(e,t){return"string"==typeof e&&t.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===h?e.split(".")[0]:i}},P={rgx:function(){for(var e,t,n,r,o,a,s,l=0,h=arguments;l<h.length&&!a;){var d=h[l],f=h[l+1];if(typeof e===c){e={};for(r in f)f.hasOwnProperty(r)&&(o=f[r],typeof o===p?e[o[0]]=i:e[o]=i)}for(t=n=0;t<d.length&&!a;)if(a=d[t++].exec(this.getUA()))for(r=0;r<f.length;r++)s=a[++n],o=f[r],typeof o===p&&o.length>0?2==o.length?typeof o[1]==u?e[o[0]]=o[1].call(this,s):e[o[0]]=o[1]:3==o.length?typeof o[1]!==u||o[1].exec&&o[1].test?e[o[0]]=s?s.replace(o[1],o[2]):i:e[o[0]]=s?o[1].call(this,s,o[2]):i:4==o.length&&(e[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):i):e[o]=s?s:i;l+=2}return e},str:function(e,t){for(var n in t)if(typeof t[n]===p&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(k.has(t[n][r],e))return n===l?i:n}else if(k.has(t[n],e))return n===l?i:n;return e}},_={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},M={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[m,y],[/\s(opr)\/([\w\.]+)/i],[[m,"Opera"],y],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[m,y],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[m,"IE"],y],[/(edge)\/((\d+)?[\w\.]+)/i],[m,y],[/(yabrowser)\/([\w\.]+)/i],[[m,"Yandex"],y],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],y],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[m,y],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[m,"UCBrowser"],y],[/(dolfin)\/([\w\.]+)/i],[[m,"Dolphin"],y],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[m,"Chrome"],y],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[y,[m,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[y,[m,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[y,[m,"Facebook"]],[/fxios\/([\w\.-]+)/i],[y,[m,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[y,[m,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[y,m],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[m,[y,P.str,_.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[m,y],[/(navigator|netscape)\/([\w\.-]+)/i],[[m,"Netscape"],y],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[m,y]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,k.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[b,/ower/,"",k.lowerize]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[b,k.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[f,v,[g,w]],[/applecoremedia\/[\w\.]+ \((ipad)/],[f,[v,"Apple"],[g,w]],[/(apple\s{0,1}tv)/i],[[f,"Apple TV"],[v,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[v,f,[g,w]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[f,[v,"Amazon"],[g,w]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[f,P.str,_.device.amazon.model],[v,"Amazon"],[g,E]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[f,v,[g,E]],[/\((ip[honed|\s\w*]+);/i],[f,[v,"Apple"],[g,E]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[v,f,[g,E]],[/\(bb10;\s(\w+)/i],[f,[v,"BlackBerry"],[g,E]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[f,[v,"Asus"],[g,w]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[v,"Sony"],[f,"Xperia Tablet"],[g,w]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[v,"Sony"],[f,"Xperia Phone"],[g,E]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[v,f,[g,x]],[/android.+;\s(shield)\sbuild/i],[f,[v,"Nvidia"],[g,x]],[/(playstation\s[34portablevi]+)/i],[f,[v,"Sony"],[g,x]],[/(sprint\s(\w+))/i],[[v,P.str,_.device.sprint.vendor],[f,P.str,_.device.sprint.model],[g,E]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[v,f,[g,w]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[v,[f,/_/g," "],[g,E]],[/(nexus\s9)/i],[f,[v,"HTC"],[g,w]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[f,[v,"Microsoft"],[g,x]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[v,"Microsoft"],[g,E]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],[f,[v,"Motorola"],[g,E]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[f,[v,"Motorola"],[g,w]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[v,"Samsung"],f,[g,w]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[v,"Samsung"],f,[g,E]],[/(samsung);smarttv/i],[v,f,[g,T]],[/\(dtv[\);].+(aquos)/i],[f,[v,"Sharp"],[g,T]],[/sie-(\w+)*/i],[f,[v,"Siemens"],[g,E]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[v,"Nokia"],f,[g,E]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[f,[v,"Acer"],[g,w]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[v,"LG"],f,[g,w]],[/(lg) netcast\.tv/i],[v,f,[g,T]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[f,[v,"LG"],[g,E]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[f,[v,"Lenovo"],[g,w]],[/linux;.+((jolla));/i],[v,f,[g,E]],[/((pebble))app\/[\d\.]+\s/i],[v,f,[g,C]],[/android.+;\s(glass)\s\d/i],[f,[v,"Google"],[g,C]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[f,/_/g," "],[v,"Xiaomi"],[g,E]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[[g,k.lowerize],v,f]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[y,[m,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[m,y],[/rv\:([\w\.]+).*(gecko)/i],[y,m]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[m,y],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[m,[y,P.str,_.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[m,"Windows"],[y,P.str,_.os.windows.version]],[/\((bb)(10);/i],[[m,"BlackBerry"],y],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[m,y],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[m,"Symbian"],y],[/\((series40);/i],[m],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[m,"Firefox OS"],y],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[m,y],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[m,"Chromium OS"],y],[/(sunos)\s?([\w\.]+\d)*/i],[[m,"Solaris"],y],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[m,y],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[m,"iOS"],[y,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[m,"Mac OS"],[y,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[m,y]]},N=function(e,t){if(!(this instanceof N))return new N(e,t).getResult();var n=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:s),r=t?k.extend(M,t):M;return this.getBrowser=function(){var e=P.rgx.apply(this,r.browser);return e.major=k.major(e.version),e},this.getCPU=function(){return P.rgx.apply(this,r.cpu)},this.getDevice=function(){return P.rgx.apply(this,r.device)},this.getEngine=function(){return P.rgx.apply(this,r.engine)},this.getOS=function(){return P.rgx.apply(this,r.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this.setUA(n),this};N.VERSION=a,N.BROWSER={NAME:m,MAJOR:d,VERSION:y},N.CPU={ARCHITECTURE:b},N.DEVICE={MODEL:f,VENDOR:v,TYPE:g,CONSOLE:x,MOBILE:E,SMARTTV:T,TABLET:w,WEARABLE:C,EMBEDDED:S},N.ENGINE={NAME:m,VERSION:y},N.OS={NAME:m,VERSION:y},typeof t!==c?(typeof e!==c&&e.exports&&(t=e.exports=N),t.UAParser=N):"function"===u&&n(63)?(r=function(){return N}.call(t,n,t,e),!(r!==i&&(e.exports=r))):o.UAParser=N;var O=o.jQuery||o.Zepto;if(typeof O!==c){var A=new N;O.ua=A.getResult(),O.ua.get=function(){return A.getUA()},O.ua.set=function(e){A.setUA(e);var t=A.getResult();for(var n in t)O.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(r[a[s]]||o[a[s]]||n&&n[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},function(e,t,n){"use strict";var r=n(54),o=n(341),i=o.StyleSheet,a=n(279),s=a.View,l=n(200),u=l.keyConfigPropType,c=n(199),p=c.BorderStyles,h=n(332),d=r.createClass({displayName:"MultiSymbolPopover",propTypes:{keys:r.PropTypes.arrayOf(u)},render:function(){var e=this.props.keys,t=n(384);return r.createElement(s,{style:f.container},e.map(function(e){return r.createElement(t,{key:e.id,keyConfig:e,borders:p.NONE})}))}}),f=i.create({container:{flexDirection:"column-reverse",position:"relative",width:"100%",borderRadius:2,boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",zIndex:h.popover},popoverButton:{backgroundColor:"#FFF",borderWidth:0}});e.exports=d},function(e,t,n){"use strict";var r=n(54),o=n(196),i=n(341),a=i.StyleSheet,s=n(476),l=n(477),u=n(478),c=n(199),p=c.IconTypes,h=n(200),d=h.iconPropType,f=n(262),m=f.gray25,g="#FFF",v=m,y=r.createClass({displayName:"Icon",propTypes:{focused:r.PropTypes.bool,icon:d.isRequired,style:r.PropTypes.any},mixins:[o],render:function(){var e=this.props,t=e.focused,n=e.icon,o=e.style,i=[t?b.focused:b.unfocused].concat(Array.isArray(o)?o:[o]);switch(n.type){case p.MATH:return r.createElement(s,{math:n.data,style:i});case p.SVG:return r.createElement(l,{name:n.data,color:t?g:v});case p.TEXT:return r.createElement(u,{character:n.data,style:i})}throw new Error("No icon or symbol provided")}}),b=a.create({unfocused:{color:v},focused:{color:g}});e.exports=y},function(e,t,n){"use strict";var r=n(54),o=n(341),i=o.StyleSheet,a=n(279),s=a.View,l=n(462),u=n(199),c=u.IconTypes,p=n(200),h=p.iconPropType,d=n(333),f=d.row,m=d.column,g=d.centered,v=d.fullWidth,y=n(262),b=y.iconSizeHeightPx,x=y.iconSizeWidthPx,E=r.createClass({displayName:"MultiSymbolGrid",propTypes:{focused:r.PropTypes.bool,icons:r.PropTypes.arrayOf(h).isRequired},render:function(){var e=this.props,t=e.focused,n=e.icons;if(n.forEach(function(e){if(e.type!==c.MATH)throw new Error("Received invalid icon: type="+e.type+", data="+e.data)}),1===n.length)return r.createElement(l,{icon:n[0],focused:t});var o=C.base,i=[C.base,C.secondary];if(2===n.length)return r.createElement(s,{style:[f,C.size]},r.createElement(s,{style:[m,g,v,C.middleLeft]},r.createElement(l,{style:o,icon:n[0],focused:t})),r.createElement(s,{style:[m,g,v,C.middleRight]},r.createElement(l,{style:i,icon:n[1],focused:t})));if(n.length>=3)return r.createElement(s,{style:[m,C.size]},r.createElement(s,{style:f},r.createElement(s,{style:[g,v,C.topLeft]},r.createElement(l,{style:o,icon:n[0],focused:t})),r.createElement(s,{style:[g,v,C.topRight]},r.createElement(l,{style:i,icon:n[1],focused:t}))),r.createElement(s,{style:f},r.createElement(s,{style:[g,v,C.bottomLeft]},r.createElement(l,{style:i,icon:n[2],focused:t})),r.createElement(s,{style:[g,v,C.bottomRight]},n[3]&&r.createElement(l,{style:i,icon:n[3],focused:t}))));throw new Error("Invalid number of icons:",n.length)}}),w=2,T=4,C=i.create({size:{height:b,width:x},bottomLeft:{marginBottom:w,marginLeft:T},topLeft:{marginTop:w,marginLeft:T},topRight:{marginTop:w,marginRight:T},bottomRight:{marginBottom:w,marginRight:T},middleLeft:{marginLeft:T},middleRight:{marginRight:T},base:{fontSize:18},secondary:{opacity:.3}});e.exports=E},function(e,t,n){"use strict";var r=n(54),o=n(341),i=o.StyleSheet,a=n(279),s=a.View,l=n(262),u=l.gray25,c=r.createClass({displayName:"CornerDecal",propTypes:{style:r.PropTypes.any},render:function(){var e=this.props.style,t=[h.container].concat(Array.isArray(e)?e:[e]);return r.createElement(s,{style:t},r.createElement("svg",{width:p,height:p,viewBox:"4 4 8 8"},r.createElement("path",{fill:u,opacity:"0.3",d:"M5.29289322,5.70710678 L10.2928932,10.7071068 C10.9228581,11.3370716 12,10.8909049 12,10 L12,5 C12,4.44771525 11.5522847,4 11,4 L6,4 C5.10909515,4 4.66292836,5.07714192 5.29289322,5.70710678 Z"})))}}),p=7,h=i.create({container:{position:"absolute",top:0,right:0,width:p,height:p}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(467);r(i);t.default=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?function(e,t){return e+t}:arguments[2];return function(){return o({},e,["-webkit-","-moz-",""].map(function(e){return n(e,t)}))}()},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Array.isArray(e)&&(e=e.join(",")),null!==e.match(/-webkit-|-moz-|-ms-/)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/([a-z]|^)([A-Z])/g,function(e,t,n){return t+"-"+n.toLowerCase()}).replace("ms-","-ms-")},e.exports=t.default},function(e,t,n){"use strict";var r="production",o=function(e,t,n,o,i,a,s,l){if("production"!==r&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,s,l],p=0;u=new Error(t.replace(/%s/g,function(){return c[p++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=o},function(e,t,n){e.exports=n(54).__internalAddons.CSSTransitionGroup},function(e,t,n){"use strict";var r="[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]";e.exports={getPunctuation:function(){return r}}},function(e,t,n){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";var r=n(480),o=Object.getPrototypeOf,i=r(o,Object);e.exports=i},function(e,t,n){"use strict";function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}e.exports=r},function(e,t,n){"use strict";function r(e){return!!e&&"object"==("undefined"==typeof e?"undefined":o(e))}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};e.exports=r},function(e,t,n){"use strict";function r(e){var t;t=a.length?a.pop():new o,t.task=e,t.domain=process.domain,i(t)}function o(){this.task=null,this.domain=null}var i=n(482),a=[];e.exports=r,o.prototype.call=function(){this.domain&&this.domain.enter();var e=!0;try{this.task.call(),e=!1,this.domain&&this.domain.exit()}finally{e&&i.requestFlush(),this.task=null,this.domain=null,a.push(this)}}},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(341),a=i.StyleSheet,s=n(279),l=s.View,u=n(333),c=u.row,p=u.centered,h=n(262),d=h.iconSizeHeightPx,f=h.iconSizeWidthPx,m=r.createClass({displayName:"MathIcon",propTypes:{math:r.PropTypes.string.isRequired,style:r.PropTypes.any},componentDidMount:function(){this._renderMath()},componentDidUpdate:function(e){e.math!==this.props.math&&this._renderMath()},_renderMath:function(){var e=this.props.math;window.katex.render(e,o.findDOMNode(this))},render:function(){var e=this.props.style,t=[c,p,g.size,g.base].concat(Array.isArray(e)?e:[e]);return r.createElement(l,{style:t})}}),g=a.create({size:{height:d,width:f},base:{fontSize:25}});e.exports=m},function(e,t,n){"use strict";var r=n(54),o=n(58),i=n(484),a=r.createClass({displayName:"SvgIcon",propTypes:{color:r.PropTypes.string.isRequired,name:r.PropTypes.string.isRequired},componentDidMount:function(){this._addFillRule()},componentDidUpdate:function(e){e.name!==this.props.name&&this._addFillRule()},_addFillRule:function(){var e=o.findDOMNode(this);if(e instanceof SVGElement){var t=e.querySelector("g");t.setAttributeNS(null,"fill-rule","evenodd")}},render:function(){var e=this.props,t=e.color,n=e.name,o=i[n];return r.createElement(o,{color:t})}});e.exports=a},function(e,t,n){"use strict";var r=n(54),o=n(341),i=o.StyleSheet,a=n(279),s=a.View,l=a.Text,u=n(333),c=u.row,p=u.centered,h=n(262),d=h.iconSizeHeightPx,f=h.iconSizeWidthPx,m=r.createClass({displayName:"TextIcon",propTypes:{character:r.PropTypes.string.isRequired,style:r.PropTypes.any},render:function(){var e=this.props,t=e.character,n=e.style,o=[c,p,g.size,g.base].concat(Array.isArray(n)?n:[n]);return r.createElement(s,{style:o},r.createElement(l,null,t))}}),g=i.create({size:{height:d,width:f},base:{fontFamily:"Proxima Nova",fontSize:25}});e.exports=m},function(e,t,n){"use strict";e.exports=n(483)(global||window||void 0)},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(485),s=r(a),l=n(486),u=r(l),c=n(487),p=r(c),h=n(488),d=r(h),f=n(489),m=r(f),g=d.default,v=(0,s.default)(),y=function(){function e(){o(this,e)}return i(e,null,[{key:"prefixAll",value:function(t){return t=(0,p.default)({},t),Object.keys(t).forEach(function(n){var r=t[n];if(r instanceof Object)t[n]=e.prefixAll(r);else{var o=Object.keys(v.prefixes);o.forEach(function(e){var o=v.prefixes[e];null!=g[n]&&(t[o.inline+(0,u.default)(n)]=r)}),m.default.forEach(function(e){var o=e({property:n,value:r,styles:t,prefix:{},keepUnprefixed:!0,requiresPrefix:g});(0,p.default)(t,o)})}}),t}}]),e}();t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){l.length||(i(),u=!0),l[l.length]=e}function o(){for(;c<l.length;){var e=c;if(c+=1,l[e].call(),c>p){for(var t=0,n=l.length-c;t<n;t++)l[t]=l[t+c];l.length-=c,c=0}}l.length=0,c=0,u=!1}function i(){var e=process.domain;e&&(a||(a=n(420)),a.active=process.domain=null),u&&s?setImmediate(o):process.nextTick(o),e&&(a.active=process.domain=e)}var a,s="function"==typeof setImmediate;e.exports=r;var l=[],u=!1,c=0,p=1024;r.requestFlush=i},function(e,t,n){"use strict";e.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},function(e,t,n){"use strict";e.exports={COS:n(490),LOG:n(491),EQUAL:n(492),BACKSPACE:n(493),SQRT:n(494),EXP:n(495),NEQ:n(496),GEQ:n(497),LN:n(498),DISMISS:n(499),SIN:n(500),LT:n(501),CUBE_ROOT:n(502),PLUS:n(503),TAN:n(504),LEFT:n(505),UP:n(506),DOWN:n(507),LEFT_PAREN:n(508),RIGHT_PAREN:n(509),GT:n(510),DIVIDE:n(511),PERIOD:n(512),PERCENT:n(513),TIMES:n(514),EXP_3:n(515),EXP_2:n(516),RIGHT:n(517),CDOT:n(518),LOG_N:n(519),LEQ:n(520),MINUS:n(521),NEGATIVE:n(521),RADICAL:n(522),FRAC_INCLUSIVE:n(523),FRAC_EXCLUSIVE:n(524),JUMP_OUT_PARENTHESES:n(525),JUMP_OUT_EXPONENT:n(526),JUMP_OUT_BASE:n(527),JUMP_INTO_NUMERATOR:n(528),JUMP_OUT_NUMERATOR:n(529),JUMP_OUT_DENOMINATOR:n(530)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={Webkit:["chrome","safari","ios","android","phantom","opera","webos","blackberry","bada","tizen"],Moz:["firefox","seamonkey","sailfish"],ms:["msie","msedge"]},o={chrome:[["chrome"]],safari:[["safari"]],firefox:[["firefox"]],ie:[["msie"]],edge:[["msedge"]],opera:[["opera"]],ios_saf:[["ios","mobile"],["ios","tablet"]],ie_mob:[["windowsphone","mobile","msie"],["windowsphone","tablet","msie"],["windowsphone","mobile","msedge"],["windowsphone","tablet","msedge"]],op_mini:[["opera","mobile"],["opera","tablet"]],and_uc:[["android","mobile"],["android","tablet"]],android:[["android","mobile"],["android","tablet"]]},i=function(e){var t=void 0,n=void 0,i=void 0,a=void 0,s=void 0,l=void 0;t=Object.keys(r);for(var u=0;u<t.length;u++){n=t[u],i=r[n],a=o[e];for(var c=0;c<i.length;c++){s=i[c];for(var p=0;p<a.length;p++)if(l=a[p],l.indexOf(s)!==-1)return{inline:n,css:"-"+n.toLowerCase()+"-"}}}return{inline:"",css:""}};t.default=function(){var e={};return e.browsers=Object.keys(o),e.prefixes={},e.browsers.forEach(function(t){e.prefixes[t]=i(t)}),e},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return Object.keys(t).forEach(function(n){return e[n]=t[n]}),e},e.exports=t.default},function(e,t,n){"use strict";e.exports={transform:0,transformOrigin:0,transformOriginX:0,transformOriginY:0,backfaceVisibility:0,perspective:0,perspectiveOrigin:0,transformStyle:0,transformOriginZ:0,animation:0,animationDelay:0,animationDirection:0,animationFillMode:0,animationDuration:0,animationIterationCount:0,animationName:0,animationPlayState:0,animationTimingFunction:0,appearance:0,userSelect:0,fontKerning:0,textEmphasisPosition:0,textEmphasis:0,textEmphasisStyle:0,textEmphasisColor:0,boxDecorationBreak:0,clipPath:0,maskImage:0,maskMode:0,maskRepeat:0,maskPosition:0,maskClip:0,maskOrigin:0,maskSize:0,maskComposite:0,mask:0,maskBorderSource:0,maskBorderMode:0,maskBorderSlice:0,maskBorderWidth:0,maskBorderOutset:0,maskBorderRepeat:0,maskBorder:0,maskType:0,textDecorationStyle:0,textDecorationSkip:0,textDecorationLine:0,textDecorationColor:0,filter:0,fontFeatureSettings:0,breakAfter:0,breakBefore:0,breakInside:0,columnCount:0,columnFill:0,columnGap:0,columnRule:0,columnRuleColor:0,columnRuleStyle:0,columnRuleWidth:0,columns:0,columnSpan:0,columnWidth:0,flex:0,flexBasis:0,flexDirection:0,flexGrow:0,flexFlow:0,flexShrink:0,flexWrap:0,alignContent:0,alignItems:0,alignSelf:0,justifyContent:0,order:0,transition:0,transitionDelay:0,transitionDuration:0,transitionProperty:0,transitionTimingFunction:0,backdropFilter:0,scrollSnapType:0,scrollSnapPointsX:0,scrollSnapPointsY:0,scrollSnapDestination:0,scrollSnapCoordinate:0,shapeImageThreshold:0,shapeImageMargin:0,shapeImageOutside:0,hyphens:0,flowInto:0,flowFrom:0,regionFragment:0,boxSizing:0,textAlignLast:0,tabSize:0,grid:0,gridColumnStart:0,gridRow:0,gridTemplateColumns:0,gridRowStart:0,gridRowEnd:0,gridTemplateRows:0,gridAutoRows:0,wrapThrough:0,wrapFlow:0,gridColumnGap:0,touchAction:0,gridRowGap:0,gridAutoFlow:0,gridColumn:0,gridGap:0,gridTemplateAreas:0,gridTemplate:0,gridArea:0,wrapMargin:0,gridAutoColumns:0,gridColumnEnd:0,textSizeAdjust:0,borderImage:0,borderImageOutset:0,borderImageRepeat:0,borderImageSlice:0,borderImageSource:0,borderImageWidth:0,objectFit:0,objectPosition:0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(531),i=r(o),a=n(532),s=r(a),l=n(533),u=r(l),c=n(534),p=r(c),h=n(535),d=r(h),f=n(536),m=r(f),g=n(537),v=r(g),y=n(538),b=r(y);t.default=[i.default,s.default,p.default,d.default,m.default,v.default,b.default,u.default],e.exports=t.default},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Cos",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M13 12h24v24H13z"}),r.createElement("path",{d:"M18.182 29.168c1.386 0 2.226-.602 2.674-1.232l-1.162-1.078a1.707 1.707 0 0 1-1.428.728c-1.078 0-1.834-.798-1.834-1.974s.756-1.96 1.834-1.96c.616 0 1.106.252 1.428.728l1.162-1.092c-.448-.616-1.288-1.218-2.674-1.218-2.086 0-3.584 1.47-3.584 3.542 0 2.086 1.498 3.556 3.584 3.556zm6.972 0c2.24 0 3.584-1.624 3.584-3.556 0-1.918-1.344-3.542-3.584-3.542-2.226 0-3.57 1.624-3.57 3.542 0 1.932 1.344 3.556 3.57 3.556zm0-1.582c-1.106 0-1.722-.91-1.722-1.974 0-1.05.616-1.96 1.722-1.96 1.106 0 1.736.91 1.736 1.96 0 1.064-.63 1.974-1.736 1.974zm7.336 1.582c1.876 0 2.926-.938 2.926-2.17 0-2.73-4.004-1.89-4.004-2.898 0-.378.42-.672 1.064-.672.826 0 1.596.35 2.002.784l.714-1.218c-.672-.532-1.582-.924-2.73-.924-1.778 0-2.772.994-2.772 2.128 0 2.66 4.018 1.75 4.018 2.87 0 .42-.364.728-1.134.728-.84 0-1.848-.462-2.338-.924l-.77 1.246c.714.658 1.848 1.05 3.024 1.05z",fill:this.props.color
})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Log",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M16.776 29v-9.338h-1.778V29h1.778zm4.9.168c2.24 0 3.584-1.624 3.584-3.556 0-1.918-1.344-3.542-3.584-3.542-2.226 0-3.57 1.624-3.57 3.542 0 1.932 1.344 3.556 3.57 3.556zm0-1.582c-1.106 0-1.722-.91-1.722-1.974 0-1.05.616-1.96 1.722-1.96 1.106 0 1.736.91 1.736 1.96 0 1.064-.63 1.974-1.736 1.974zm7.672 4.158c1.666 0 3.654-.63 3.654-3.206v-6.3H31.21v.868c-.546-.686-1.274-1.036-2.086-1.036-1.708 0-2.982 1.232-2.982 3.444 0 2.254 1.288 3.444 2.982 3.444.826 0 1.554-.392 2.086-1.064v.686c0 1.33-1.008 1.708-1.862 1.708-.854 0-1.568-.238-2.114-.84l-.798 1.288c.854.742 1.75 1.008 2.912 1.008zm.336-4.368c-1.008 0-1.708-.7-1.708-1.862 0-1.162.7-1.862 1.708-1.862.588 0 1.232.322 1.526.77v2.184c-.294.434-.938.77-1.526.77z",fill:this.props.color})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Equal",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M16 21h17M16 27h17",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M13 24l6 6h14V18H19l-6 6zm-1.414-1.414l6-6A2 2 0 0 1 19 16h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H19a2 2 0 0 1-1.414-.586l-6-6a2 2 0 0 1 0-2.828z",fill:"#888D93"}),r.createElement("path",{d:"M23 21l6 6M29 21l-6 6",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Sqrt",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M14 29l4 6 9-14h7"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Exp",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M28 16.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM30 18h4v4h-4v-4zM14 21c0-.552.456-1 1.002-1h9.996A1 1 0 0 1 26 21v14c0 .552-.456 1-1.002 1h-9.996A1 1 0 0 1 14 35V21zm2 1h8v12h-8V22z",fill:this.props.color})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Neq",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M19 33l10-18M16 21h17M16 27h17",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Geq",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M16 33h16M16 30l16-6-16-6",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Ln",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M20.836 29v-9.338h-1.778V29h1.778zm8.106 0v-4.774c0-1.316-.714-2.156-2.198-2.156-1.106 0-1.932.532-2.366 1.05v-.882H22.6V29h1.778v-4.55c.294-.406.84-.798 1.54-.798.756 0 1.246.322 1.246 1.26V29h1.778z",fill:this.props.color})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M18 21l6 6 6-6",strokeLinecap:"round",strokeWidth:"2",stroke:"#71B307",strokeLinejoin:"round"})))};e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Sin",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M18.655 29.168c1.876 0 2.926-.938 2.926-2.17 0-2.73-4.004-1.89-4.004-2.898 0-.378.42-.672 1.064-.672.826 0 1.596.35 2.002.784l.714-1.218c-.672-.532-1.582-.924-2.73-.924-1.778 0-2.772.994-2.772 2.128 0 2.66 4.018 1.75 4.018 2.87 0 .42-.364.728-1.134.728-.84 0-1.848-.462-2.338-.924l-.77 1.246c.714.658 1.848 1.05 3.024 1.05zm5.124-7.658c.588 0 1.064-.476 1.064-1.064 0-.588-.476-1.05-1.064-1.05a1.06 1.06 0 0 0-1.064 1.05c0 .588.49 1.064 1.064 1.064zm.896 7.49v-6.762h-1.778V29h1.778zm8.106 0v-4.774c0-1.316-.714-2.156-2.198-2.156-1.106 0-1.932.532-2.366 1.05v-.882h-1.778V29h1.778v-4.55c.294-.406.84-.798 1.54-.798.756 0 1.246.322 1.246 1.26V29h1.778z",fill:this.props.color})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Lt",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M32 30l-16-6 16-6"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"CubeRoot",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M17.91 23.12c1.66 0 2.76-.81 2.76-1.98 0-.96-.86-1.51-1.57-1.58.79-.13 1.46-.72 1.46-1.5 0-1.1-.95-1.83-2.65-1.83-1.23 0-2.11.45-2.67 1.08l.83 1.08c.47-.42 1.05-.64 1.66-.64.64 0 1.12.19 1.12.61 0 .35-.39.52-1.08.52-.25 0-.77 0-.9-.01v1.53c.1-.01.61-.01.9-.01.91 0 1.19.18 1.19.56 0 .37-.38.65-1.12.65-.58 0-1.34-.23-1.82-.7l-.87 1.17c.52.6 1.48 1.05 2.76 1.05z",fill:this.props.color}),r.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M14 29l4 6 9-14h7"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Plus",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M19 24h10M24 29V19",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Tan",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M16.93 29.168c.742 0 1.218-.196 1.484-.434l-.378-1.344c-.098.098-.35.196-.616.196-.392 0-.616-.322-.616-.742v-3.052h1.372v-1.554h-1.372V20.39h-1.792v1.848h-1.12v1.554h1.12v3.528c0 1.204.672 1.848 1.918 1.848zM25.232 29v-4.368c0-1.946-1.414-2.562-2.954-2.562-1.064 0-2.128.336-2.954 1.064l.672 1.19c.574-.532 1.246-.798 1.974-.798.896 0 1.484.448 1.484 1.134v.91c-.448-.532-1.246-.826-2.142-.826-1.078 0-2.352.602-2.352 2.184 0 1.512 1.274 2.24 2.352 2.24.882 0 1.68-.322 2.142-.868v.7h1.778zm-3.206-1.036c-.7 0-1.274-.364-1.274-.994 0-.658.574-1.022 1.274-1.022.574 0 1.134.196 1.428.588v.84c-.294.392-.854.588-1.428.588zM33.338 29v-4.774c0-1.316-.714-2.156-2.198-2.156-1.106 0-1.932.532-2.366 1.05v-.882h-1.778V29h1.778v-4.55c.294-.406.84-.798 1.54-.798.756 0 1.246.322 1.246 1.26V29h1.778z",fill:this.props.color})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=n(539),i=function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement(o,null))};e.exports=i},function(e,t,n){"use strict";var r=n(54),o=n(539),i=function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement(o,{transform:"rotate(90 24 24)"}))};e.exports=i},function(e,t,n){"use strict";var r=n(54),o=n(539),i=function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement(o,{transform:"rotate(270 24 24)"}))};e.exports=i},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"LeftParen",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M26 14c-4 6-4 14 0 20",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"RightParen",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M23 14c4 6 4 14 0 20",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Gt",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M16 30l16-6-16-6"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Divide",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M19 24h10",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("circle",{fill:this.props.color,cx:"24",cy:"19.5",r:"1.5"}),r.createElement("circle",{fill:this.props.color,cx:"24",cy:"28.5",r:"1.5"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Period",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("circle",{fill:this.props.color,cx:"24",cy:"30",r:"2"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Percent",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("g",{transform:"translate(12 12)"},r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.createElement("path",{d:"M16 4L8 20",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("circle",{stroke:this.props.color,strokeWidth:"2",cx:"7",cy:"7",r:"3"}),r.createElement("circle",{stroke:this.props.color,strokeWidth:"2",cx:"17",cy:"17",r:"3"}))))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Times",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M20 20l8 8M28 20l-8 8",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Exp3",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M14 21c0-.552.456-1 1.002-1h9.996A1 1 0 0 1 26 21v14c0 .552-.456 1-1.002 1h-9.996A1 1 0 0 1 14 35V21zm2 1h8v12h-8V22zM30.92 23.12c1.66 0 2.76-.81 2.76-1.98 0-.96-.86-1.51-1.57-1.58.79-.13 1.46-.72 1.46-1.5 0-1.1-.95-1.83-2.65-1.83-1.23 0-2.11.45-2.67 1.08l.83 1.08c.47-.42 1.05-.64 1.66-.64.64 0 1.12.19 1.12.61 0 .35-.39.52-1.08.52-.25 0-.77 0-.9-.01v1.53c.1-.01.61-.01.9-.01.91 0 1.19.18 1.19.56 0 .37-.38.65-1.12.65-.58 0-1.34-.23-1.82-.7l-.87 1.17c.52.6 1.48 1.05 2.76 1.05z",fill:this.props.color})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Exp2",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M14 21c0-.552.456-1 1.002-1h9.996A1 1 0 0 1 26 21v14c0 .552-.456 1-1.002 1h-9.996A1 1 0 0 1 14 35V21zm2 1h8v12h-8V22zM33.67 23v-1.5h-2.44c1.66-1.16 2.39-2.03 2.39-3.05 0-1.34-1.13-2.22-2.7-2.22-.93 0-1.99.33-2.7 1.11l.95 1.14c.48-.45 1.04-.73 1.78-.73.49 0 .92.24.92.7 0 .66-.54 1.12-3.43 3.21V23h5.23z",fill:this.props.color})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=n(539),i=function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement(o,{transform:"rotate(180 24 24)"}))};e.exports=i},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Cdot",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("g",{transform:"translate(12 12)"},r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.createElement("circle",{fill:this.props.color,cx:"12",cy:"12",r:"3"}))))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"LogN",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M30 28.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM32 30h4v4h-4v-4zM12.776 29v-9.338h-1.778V29h1.778zm4.9.168c2.24 0 3.584-1.624 3.584-3.556 0-1.918-1.344-3.542-3.584-3.542-2.226 0-3.57 1.624-3.57 3.542 0 1.932 1.344 3.556 3.57 3.556zm0-1.582c-1.106 0-1.722-.91-1.722-1.974 0-1.05.616-1.96 1.722-1.96 1.106 0 1.736.91 1.736 1.96 0 1.064-.63 1.974-1.736 1.974zm7.672 4.158c1.666 0 3.654-.63 3.654-3.206v-6.3H27.21v.868c-.546-.686-1.274-1.036-2.086-1.036-1.708 0-2.982 1.232-2.982 3.444 0 2.254 1.288 3.444 2.982 3.444.826 0 1.554-.392 2.086-1.064v.686c0 1.33-1.008 1.708-1.862 1.708-.854 0-1.568-.238-2.114-.84l-.798 1.288c.854.742 1.75 1.008 2.912 1.008zm.336-4.368c-1.008 0-1.708-.7-1.708-1.862 0-1.162.7-1.862 1.708-1.862.588 0 1.232.322 1.526.77v2.184c-.294.434-.938.77-1.526.77z",fill:this.props.color})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Leq",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M16 33h16M32 30l-16-6 16-6",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Minus",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M19 24h10",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"Radical",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M13 16.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM15 18h4v4h-4v-4z",fill:this.props.color}),r.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M14 29l4 6 9-14h7"})))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"FracInclusive",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("g",{transform:"translate(12 12)"},r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.createElement("path",{d:"M8 16.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997H8.997c-.55 0-.997-.453-.997-.997v-6.006zM10 18h4v4h-4v-4z",fill:this.props.color}),r.createElement("rect",{fill:this.props.color,x:"2",y:"11",width:"20",height:"2",rx:"1"}),r.createElement("path",{d:"M8 .997C8 .447 8.453 0 8.997 0h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997H8.997C8.447 8 8 7.547 8 7.003V.997zM10 2h4v4h-4V2z",fill:this.props.color}))))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=r.createClass({displayName:"FracExclusive",propTypes:{color:r.PropTypes.string.isRequired},render:function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("g",{transform:"translate(12 12)"},r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.createElement("path",{d:"M13 16.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM15 18h4v4h-4v-4z",fill:this.props.color}),r.createElement("rect",{fill:this.props.color,x:"10",y:"11",width:"14",height:"2",rx:"1"}),r.createElement("path",{d:"M13 .997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997V.997zM15 2h4v4h-4V2zM0 8.997C0 8.447.453 8 .997 8h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997H.997C.447 16 0 15.547 0 15.003V8.997zM2 10h4v4H2v-4z",fill:this.props.color}))))}});e.exports=o},function(e,t,n){"use strict";var r=n(54),o=function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M24 18c3 3 3 9 0 12M18 18c-3 3-3 9 0 12",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M32 27l3-3-3-3M22 24h12"})))};e.exports=o},function(e,t,n){"use strict";var r=n(54),o=function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M35 19v16M23 19l8 8M31 23v4h-4",stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M12 12.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM14 14h4v4h-4v-4z",fill:"#888D93"})))};e.exports=o},function(e,t,n){"use strict";var r=n(54),o=function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M12 28.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM14 30h4v4h-4v-4z",fill:"#888D93"}),r.createElement("path",{d:"M35 13v16M23 29l8-8M27 21h4v4",stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.exports=o},function(e,t,n){"use strict";var r=n(54),o=function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M13 16v16M17 22l6-6M23 20v-4h-4",stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M26 27.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM28 29h4v4h-4v-4z",fill:"#888D93"}),r.createElement("path",{d:"M35 24H25",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M26 13.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM28 15h4v4h-4v-4z",fill:"#78C008"})))};e.exports=o},function(e,t,n){"use strict";var r=n(54),o=function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),r.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),r.createElement("path",{stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M33 29l-3 3-3-3M30 18v14"}),r.createElement("path",{d:"M16 27.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM18 29h4v4h-4v-4z",fill:"#78C008"}),r.createElement("path",{d:"M25 24H15",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M16 13.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM18 15h4v4h-4v-4z",fill:"#888D93"})))};e.exports=o},function(e,t,n){"use strict";var r=n(54),o=function(){return r.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M0 0h48v48H0z"}),r.createElement("path",{d:"M12 12h24v24H12z"}),r.createElement("path",{d:"M35 16v16m-4-4v-4h-4m-2 6l6-6",stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M14 27.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM16 29h4v4h-4v-4z",fill:"#888D93"}),r.createElement("path",{d:"M23 24H13",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M14 13.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM16 15h4v4h-4v-4z",fill:"#888D93"})))};e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.property,n=e.value,r=(e.prefix,e.keepUnprefixed);if("string"==typeof n&&n.indexOf("calc(")>-1){var i=(0,s.default)(t),a=["-webkit-","-moz-"].map(function(e){return n.replace(/calc\(/g,e+"calc(")}).join(";"+i+":");return o({},t,a+(r?";"+i+":"+n:""))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(540),s=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=e.property,n=e.value,r=(e.prefix,e.keepUnprefixed);if("cursor"===t&&o[n]){var i=["-webkit-","-moz-"].map(function(e){return e+n}).join(";"+t+":");return{cursor:i+(r?";"+t+":"+n:"")}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=e.property,n=e.value,r=(e.prefix,e.keepUnprefixed);if("display"===t&&o[n]){var i=["-webkit-box","-moz-box","-ms-"+n+"box","-webkit-"+n].join(";"+t+":");return{display:i+(r?";"+t+":"+n:"")}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o={flex:!0,"inline-flex":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.property,n=e.value,r=(e.prefix,e.keepUnprefixed);if(l[t]&&u[n]){var i=(0,s.default)(t),a=["-webkit-","-moz-"].map(function(e){return e+n}).join(";"+i+":");return o({},t,a+(r?";"+i+":"+n:""))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(540),s=r(a),l={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},u={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.property,n=e.value,r=(e.prefix,e.keepUnprefixed);if("string"==typeof n&&null!==n.match(l)){var i=(0,s.default)(t),a=["-webkit-","-moz-"].map(function(e){return e+n}).join(";"+i+":");return o({},t,a+(r?";"+i+":"+n:""))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(540),s=r(a),l=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.property,n=e.value,r=(e.prefix,e.keepUnprefixed),i=e.requiresPrefix,s=void 0;if("string"==typeof n&&(s=t.match(p))){var u,h=function(){var e="transition"+s[2],t=Object.keys(i).map(function(e){return(0,l.default)(e)}),a=n,p=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g);t.forEach(function(e){p.forEach(function(t,n){if(t.indexOf(e)>-1){var o=["-webkit-","-moz-","-ms-"].map(function(n){return t.replace(e,n+e)}).join(",");p[n]=o+(r?","+t:"")}})});var h=p.join(",");return{v:(u={},o(u,"Webkit"+(0,c.default)(e),h),o(u,"Moz"+(0,c.default)(e),h),o(u,"ms"+(0,c.default)(e),h),o(u,e,h),u)}}();if("object"===("undefined"==typeof h?"undefined":a(h)))return h.v}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=n(540),l=r(s),u=n(486),c=r(u),p=/^(WebkitT|MozT|msT|t)ransition(Property|)$/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.property,n=e.value,r=e.styles,i=(e.prefix,e.keepUnprefixed);if(p[t]){var a=(0,l.default)(t);if(i||delete r[t],c[t])return o({},c[t],u[n]||n);if(u[n])return o({},t,u[n]+(i?";"+a+":"+n:""))}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var s=n(540),l=r(s),u={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end",flex:"-ms-flexbox","inline-flex":"-ms-inline-flexbox"},c={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msPreferredSize"},p=Object.keys(c).concat("display").reduce(function(e,t){return a({},e,o({},t,!0))},{});e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.property,n=e.value,r=e.styles,i=e.prefix,a=e.keepUnprefixed;if(p[t]){var s=(0,l.default)(t);if(a||delete r[t],"flexDirection"===t)return{WebkitBoxOrient:n.indexOf("column")>-1?"vertical":"horizontal",WebkitBoxDirection:n.indexOf("reverse")>-1?"reverse":"normal"};if("display"===t&&u[n])return{display:i.css+u[n]+(a?";"+s+":"+n:"")};if(c[t])return o({},c[t],u[n]||n);if(u[n])return o({},t,u[n]+(a?";"+s+":"+n:""))}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var s=n(540),l=r(s),u={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},c={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},p=Object.keys(c).concat(["alignContent","alignSelf","display","order","flexGrow","flexShrink","flexBasis","flexDirection"]).reduce(function(e,t){return a({},e,o({},t,!0))},{});e.exports=t.default},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(54),i=function(e){return o.createElement("g",r({fill:"none",fillRule:"evenodd"},e),o.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),o.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),o.createElement("path",{stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M22 18l-6 6 6 6M16 24h16"}))};e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/([a-z]|^)([A-Z])/g,function(e,t,n){return t+"-"+n.toLowerCase()}).replace("ms-","-ms-")},e.exports=t.default}]);