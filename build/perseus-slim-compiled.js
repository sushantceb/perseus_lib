!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("underscore"),require("react"),require("react-dom"),require("classnames"),require("aphrodite"),require("jquery"),require("react-addons-pure-render-mixin"),require("react-addons-css-transition-group")):"function"==typeof define&&define.amd?define(["underscore","react","react-dom","classnames","aphrodite","jquery","react-addons-pure-render-mixin","react-addons-css-transition-group"],t):"object"==typeof exports?exports.Perseus=t(require("underscore"),require("react"),require("react-dom"),require("classnames"),require("aphrodite"),require("jquery"),require("react-addons-pure-render-mixin"),require("react-addons-css-transition-group")):e.Perseus=t(e.underscore,e.react,e["react-dom"],e.classnames,e.aphrodite,e.jquery,e["react-addons-pure-render-mixin"],e["react-addons-css-transition-group"])}(this,function(e,t,r,n,o,i,s,a){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r=window.webpackJsonpPerseus;window.webpackJsonpPerseus=function(n,i){for(var s,a,l=0,c=[];l<n.length;l++)a=n[l],o[a]&&c.push.apply(c,o[a]),o[a]=0;for(s in i)e[s]=i[s];for(r&&r(n,i);c.length;)c.shift().call(null,t)};var n={},o={0:0};return t.e=function(e,r){if(0===o[e])return r.call(null,t);if(void 0!==o[e])o[e].push(r);else{o[e]=[r];var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.src=t.p+""+e+"."+({1:"extra-widgets"}[e]||e)+".js",n.appendChild(i)}},t.m=e,t.c=n,t.p="if you see this then you failed to preload the extra-widgets chunk from perseus. webpack is trying to load it for you",t(0)}([function(e,t,r){"use strict";var n=r(19),o=r(1),i=r(2);o.registerMany(i),e.exports={apiVersion:n.apiVersion,itemDataVersion:n.itemDataVersion,init:r(3),ArticleRenderer:r(4),ItemRenderer:r(5),ServerItemRenderer:r(6),HintsRenderer:r(7),Renderer:r(8)}},function(e,t,r){"use strict";var n=r(9),o="block",i=["default"],s=!1,a="",l={},c={},u={register:function(e,t,r){l[e]=t,c[e]=r},registerMany:function(e){var t=this;e.forEach(function(e){var r=e[0],n=e[1];r&&t.register(r.name,r,n)}),this.validateAlignments()},getWidget:function(e){return n.has(l,e)?l[e].getWidget?l[e].getWidget():l[e].widget:null},getEditor:function(e){return n.has(c,e)?c[e]:null},getTransform:function(e){return n.has(l,e)?l[e].transform||n.identity:null},getVersion:function(e){var t=l[e];return t?l[e].version||{major:0,minor:0}:null},getVersionVector:function(){var e={};return n.each(n.keys(l),function(t){e[t]=u.getVersion(t)}),e},getPublicWidgets:function(){return n.pick(l,n.reject(n.keys(l),function(e){return l[e].hidden}))},isAccessible:function(e){var t=l[e.type].accessible;return"function"==typeof t?t(e.options):!!t},getAllWidgetTypes:function(){return n.keys(l)},upgradeWidgetInfoToLatestVersion:function(e){var t=e.type;if(!n.isString(t))throw new Error("widget type must be a string, but was: "+t);var r=l[t];if(null==r)return e;var o=e.version||{major:0,minor:0},i=r.version||{major:0,minor:0};if(o.major>i.major||o.major===i.major&&o.minor>i.minor)return e;var a=n.clone(e.options)||{},p=r.propUpgrades||{};if(0!==n.keys(a).length)for(var h=o.major+1;h<=i.major;h++)p[h]?a=p[h](a):"undefined"!=typeof console&&console.warn&&console.warn("No upgrade found for widget `"+t+"` from major version `"+(h-1)+"` to major version `"+h+"` found. This is necessary to render this `"+t+"` correctly.");var d=c[t].defaultProps;a=n.extend({},d,a);var f=e.alignment;null!=f&&"default"!==f||(f=u.getSupportedAlignments(t)[0]);var m=e.static;return null==m&&(m=s),n.extend({},e,{version:i,graded:null==e.graded||e.graded,alignment:f,static:m,options:a})},getRendererPropsForWidgetInfo:function(e,t){var r=e.type,o=l[r];if(null==o)return e.options;var i;return(i=e.static?this.getStaticTransform(r)||n.identity:o.transform||n.identity)(e.options,t)},traverseChildWidgets:function(e,t){if(!t)throw new Error("traverseRenderer must be provided, but was not");if(!e||!e.type||!l[e.type])return e;var r=l[e.type],o=e.options;if(r.traverseChildWidgets&&o){var i=r.traverseChildWidgets(o,t);return n.extend({},e,{options:i})}return e},getSupportedAlignments:function(e){var t=l[e];return t&&t.supportedAlignments||i},getDefaultAlignment:function(e){var t,r=l[e];return r?(t=r.getDefaultAlignment?r.getDefaultAlignment():r.defaultAlignment,t||o):o},validAlignments:["block","inline-block","inline","float-left","float-right","full-width"],validateAlignments:function(){n.each(l,function(e){if(e.defaultAlignment&&!n.contains(u.validAlignments,e.defaultAlignment))throw new Error("Widget '"+e.displayName+"' has an invalid defaultAlignment value: "+e.defaultAlignment);if(e.supportedAlignments){var t=n.difference(e.supportedAlignments,u.validAlignments);if(t.length)throw new Error("Widget '"+e.displayName+"' has an invalid value for supportedAlignments: "+t.join(" "))}})},supportsStaticMode:function(e){var t=l[e];return t&&null!=t.staticTransform},getStaticTransform:function(e){var t=l[e];return t&&t.staticTransform},getTracking:function(e){var t=l[e];return t&&t.tracking||a}};e.exports=u},function(e,t,r){"use strict";e.exports=[[r(25),!1],[r(26),!1],[r(27),!1],[r(28),!1]]},function(e,t,r){"use strict";var n=function(e){var t=e.skipMathJax,n=$.Deferred();void 0===e.loadExtraWidgets||e.loadExtraWidgets?!function(){var e=r(1);r.e(1,function(t){var o=r(15);e.registerMany(o),n.resolve()},0)}():n.resolve();var o=$.Deferred();return t?o.resolve():(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:"none","HTML-CSS":{availableFonts:["TeX"],imageFont:null,scale:100,showMathMenu:!1}}),MathJax.Hub.Configured(),MathJax.Hub.Queue(o.resolve)),n.then(function(){return o})};e.exports=n},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(11),s=r(12),a=r(16),l=r(17).Options,c=r(17).ClassNames,u=r(8),p=r(29),h=o.PropTypes.shape({content:o.PropTypes.string,widgets:o.PropTypes.object,images:o.PropTypes.object}),d=o.createClass({displayName:"ArticleRenderer",propTypes:{apiOptions:o.PropTypes.shape({onFocusChange:o.PropTypes.func,isMobile:o.PropTypes.bool}),json:o.PropTypes.oneOfType([h,o.PropTypes.arrayOf(h)]).isRequired,useNewStyles:o.PropTypes.bool},mixins:[p],getDefaultProps:function(){return{apiOptions:{},useNewStyles:!1}},componentDidMount:function(){this._currentFocus=null},shouldComponentUpdate:function(e,t){return e!==this.props||t!==this.state},_handleFocusChange:function(e,t){e?this._setCurrentFocus(e):this._onRendererBlur(t)},_setCurrentFocus:function(e){var t=this,r=this.keypadElement(),n=this._currentFocus;this._currentFocus=e;var o=!1;this._currentFocus&&!function(){var e=t._currentFocus,r=e[0],n=e.slice(1),i=t.refs[r].getInputPaths();o=i.some(function(e){return a.inputPathsEqual(e,n)})}(),null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,n,o&&r&&i.findDOMNode(r)),r&&(o?r.activate():r.dismiss())},_onRendererBlur:function(e){var t=this,r=this._currentFocus;a.inputPathsEqual(e,r)&&setTimeout(function(){a.inputPathsEqual(t._currentFocus,r)&&t._setCurrentFocus(null)})},blur:function(){if(this._currentFocus){var e=this._currentFocus,t=e[0],r=e.slice(1);this.refs[t].blurPath(r)}},_sections:function(){return Array.isArray(this.props.json)?this.props.json:[this.props.json]},render:function(){var e,t=this,r=n({},l.defaults,this.props.apiOptions,{isArticle:!0}),i=s((e={"framework-perseus":!0,"perseus-article":!0,"bibliotron-article":this.props.useNewStyles},e[c.MOBILE]=r.isMobile,e)),a=this._sections().map(function(e,i){var s="section-"+i;return o.createElement("div",{key:i,className:"clearfix"},o.createElement(u,n({},e,{ref:s,key:i,key_:i,keypadElement:t.keypadElement(),apiOptions:n({},r,{onFocusChange:function(e,r){t._handleFocusChange(e&&[s].concat(e),r&&[s].concat(r))}})})))});return o.createElement("div",{className:i},a)}});e.exports=d},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(11),s=r(9),a=r(17).Options,l=r(7),c=r(8),u=r(29),p=r(16),h=r(31),d=h.mapObject,f=o.PropTypes,m=o.createClass({displayName:"ItemRenderer",propTypes:{apiOptions:f.shape({interactionCallback:f.func,onFocusChange:f.func,setDrawingAreaAvailable:f.func}),controlPeripherals:f.bool,hintsAreaSelector:f.string,initialHintsVisible:f.number,item:f.shape({answerArea:f.shape({calculator:f.bool,chi2Table:f.bool,periodicTable:f.bool,tTable:f.bool,zTable:f.bool}),hints:f.arrayOf(f.object),question:f.object}).isRequired,onShowCalculator:f.func,onShowChi2Table:f.func,onShowPeriodicTable:f.func,onShowTTable:f.func,onShowZTable:f.func,problemNum:f.number,savedState:f.any,workAreaSelector:f.string},mixins:[u],getDefaultProps:function(){return{apiOptions:{},controlPeripherals:!0,hintsAreaSelector:"#hintsarea",initialHintsVisible:0,workAreaSelector:"#workarea"}},getInitialState:function(){return{hintsVisible:this.props.initialHintsVisible,questionCompleted:!1,questionHighlightedWidgets:[]}},componentDidMount:function(){this.props.controlPeripherals&&this.props.apiOptions.setDrawingAreaAvailable&&this.props.apiOptions.setDrawingAreaAvailable(!0),this._currentFocus=null,this.update()},componentWillReceiveProps:function(e){this.setState({questionHighlightedWidgets:[]})},componentDidUpdate:function(){this.update()},componentWillUnmount:function(){if(i.unmountComponentAtNode(document.querySelector(this.props.workAreaSelector)),i.unmountComponentAtNode(document.querySelector(this.props.hintsAreaSelector)),this.props.controlPeripherals){var e=this.props.item.answerArea||{};e.calculator&&$("#calculator").hide(),e.periodicTable&&$(".periodic-table-info-box").hide(),e.zTable&&$(".z-table-info-box").hide(),e.tTable&&$(".t-table-info-box").hide(),e.chi2Table&&$(".chi2-table-info-box").hide()}},update:function(){var e=n({},a.defaults,this.props.apiOptions,{onFocusChange:this._handleFocusChange});this.questionRenderer=i.render(o.createElement(c,n({keypadElement:this.keypadElement(),problemNum:this.props.problemNum,onInteractWithWidget:this.handleInteractWithWidget,highlightedWidgets:this.state.questionHighlightedWidgets,apiOptions:e,questionCompleted:this.state.questionCompleted,savedState:this.props.savedState},this.props.item.question)),document.querySelector(this.props.workAreaSelector)),this.hintsRenderer=i.render(o.createElement(l,{hints:this.props.item.hints,hintsVisible:this.state.hintsVisible,apiOptions:e}),document.querySelector(this.props.hintsAreaSelector));var t=this.props.item.answerArea||{};if(this.props.controlPeripherals?($("#calculator").toggle(t.calculator||!1),$(".periodic-table-info-box").toggle(t.periodicTable||!1),$(".z-table-info-box").toggle(t.zTable||!1),$(".t-table-info-box").toggle(t.tTable||!1),$(".chi2-table-info-box").toggle(t.chi2Table||!1)):(t.calculator&&this.props.onShowCalculator&&this.props.onShowCalculator(),t.periodicTable&&this.props.onShowPeriodicTable&&this.props.onShowPeriodicTable(),t.zTable&&this.props.onShowZTable&&this.props.onShowZTable(),t.tTable&&this.props.onShowTTable&&this.props.onShowTTable(),t.chi2Table&&this.props.onShowChi2Table&&this.props.onShowChi2Table()),e.answerableCallback){var r=0===this.questionRenderer.emptyWidgets().length;e.answerableCallback(r)}},_handleFocusChange:function(e,t){null!=e?this._setCurrentFocus(e):this._onRendererBlur(t)},_setCurrentFocus:function(e){var t=this,r=this.keypadElement(),n=this._currentFocus;this._currentFocus=e;var o=this.getInputPaths(),s=this._currentFocus&&o.some(function(e){return p.inputPathsEqual(e,t._currentFocus)});null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,n,s&&r&&i.findDOMNode(r)),r&&(s?r.activate():r.dismiss())},_onRendererBlur:function(e){var t=this,r=this._currentFocus;p.inputPathsEqual(e,r)&&setTimeout(function(){p.inputPathsEqual(t._currentFocus,r)&&t._setCurrentFocus(null)})},_setWidgetProps:function(e,t,r){this.questionRenderer._setWidgetProps(e,t,r)},_handleAPICall:function(e,t){var r=s.rest(arguments),n=this.questionRenderer;return n[e].apply(n,r)},setInputValue:function(e,t,r){return this._handleAPICall("setInputValue",e,t,r)},focusPath:function(e){return this._handleAPICall("focusPath",e)},blurPath:function(e){return this._handleAPICall("blurPath",e)},getDOMNodeForPath:function(e){return this._handleAPICall("getDOMNodeForPath",e)},getGrammarTypeForPath:function(e){return this._handleAPICall("getGrammarTypeForPath",e)},getInputPaths:function(){var e=this.questionRenderer.getInputPaths();return e},handleInteractWithWidget:function(e){var t=s.difference(this.state.questionHighlightedWidgets,[e]);this.setState({questionCompleted:!1,questionHighlightedWidgets:t}),this.props.apiOptions.interactionCallback&&this.props.apiOptions.interactionCallback()},focus:function(){return this.questionRenderer.focus()},blur:function(){this._currentFocus&&this.blurPath(this._currentFocus)},showHint:function(){this.state.hintsVisible<this.getNumHints()&&this.setState({hintsVisible:this.state.hintsVisible+1})},getNumHints:function(){return this.props.item.hints.length},scoreInput:function(){var e=this.questionRenderer.guessAndScore(),t=e[0],r=e[1],n=[t,[]],o=p.keScoreFromPerseusScore(r,n),i=this.questionRenderer.emptyWidgets();return this.setState({questionCompleted:o.correct,questionHighlightedWidgets:i}),o},getWidgetIds:function(){return this.questionRenderer.getWidgetIds()},scoreWidgets:function(){var e=this.questionRenderer.scoreWidgets(),t=this.questionRenderer.getUserInputForWidgets();return d(e,function(e,r){return p.keScoreFromPerseusScore(e,t[r])})},getSerializedState:function(){return{question:this.questionRenderer.getSerializedState(),hints:this.hintsRenderer.getSerializedState()}},restoreSerializedState:function(e,t){var r=2,n=function(){--r,t&&0===r&&t()};this.questionRenderer.restoreSerializedState(e.question,n),this.hintsRenderer.restoreSerializedState(e.hints,n)},render:function(){return o.createElement("div",null)}});e.exports=m},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(11),s=r(9),a=r(13),l=a.StyleSheet,c=a.css,u=r(17).Options,p=r(7),h=r(29),d=r(8),f=r(16),m=r(31),v=m.mapObject,g=o.PropTypes,y=o.createClass({displayName:"ItemRenderer",propTypes:{apiOptions:g.any,hintsVisible:g.number,item:g.shape({answerArea:g.shape({calculator:g.bool,chi2Table:g.bool,periodicTable:g.bool,tTable:g.bool,zTable:g.bool}),hints:g.arrayOf(g.object),question:g.object}).isRequired,problemNum:g.number,savedState:g.any},mixins:[h],getDefaultProps:function(){return{apiOptions:{}}},getInitialState:function(){return{questionCompleted:!1,questionHighlightedWidgets:[]}},componentDidMount:function(){this._currentFocus=null},componentWillReceiveProps:function(e){this.setState({questionHighlightedWidgets:[]})},componentDidUpdate:function(){if(this.props.apiOptions.answerableCallback){var e=0===this.questionRenderer.emptyWidgets().length;this.props.apiOptions.answerableCallback(e)}},_handleFocusChange:function(e,t){null!=e?this._setCurrentFocus(e):this._onRendererBlur(t)},_setCurrentFocus:function(e){var t=this,r=this.keypadElement(),n=this._currentFocus;this._currentFocus=e;var o=this.getInputPaths(),s=this._currentFocus&&o.some(function(e){return f.inputPathsEqual(e,t._currentFocus)});null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,n,s&&r&&i.findDOMNode(r)),r&&(s?r.activate():r.dismiss())},_onRendererBlur:function(e){var t=this,r=this._currentFocus;s.isEqual(e,r)&&s.defer(function(){s.isEqual(t._currentFocus,r)&&t._setCurrentFocus(null)})},_setWidgetProps:function(e,t,r){this.questionRenderer._setWidgetProps(e,t,r)},_handleAPICall:function(e,t){var r=s.rest(arguments),n=this.questionRenderer;return n[e].apply(n,r)},setInputValue:function(e,t,r){return this._handleAPICall("setInputValue",e,t,r)},focusPath:function(e){return this._handleAPICall("focusPath",e)},blurPath:function(e){return this._handleAPICall("blurPath",e)},getDOMNodeForPath:function(e){return this._handleAPICall("getDOMNodeForPath",e)},getGrammarTypeForPath:function(e){return this._handleAPICall("getGrammarTypeForPath",e)},getInputPaths:function(){var e=this.questionRenderer.getInputPaths();return e},handleInteractWithWidget:function(e){var t=s.difference(this.state.questionHighlightedWidgets,[e]);this.setState({questionCompleted:!1,questionHighlightedWidgets:t}),this.props.apiOptions.interactionCallback&&this.props.apiOptions.interactionCallback()},focus:function(){return this.questionRenderer.focus()},blur:function(){this._currentFocus&&this.blurPath(this._currentFocus)},getNumHints:function(){return this.props.item.hints.length},scoreInput:function(){var e=this.questionRenderer.guessAndScore(),t=e[0],r=e[1],n=[t,[]],o=f.keScoreFromPerseusScore(r,n),i=this.questionRenderer.emptyWidgets();return this.setState({questionCompleted:o.correct,questionHighlightedWidgets:i}),o},getWidgetIds:function(){return this.questionRenderer.getWidgetIds()},scoreWidgets:function(){var e=this.questionRenderer.scoreWidgets(),t=this.questionRenderer.getUserInputForWidgets();return v(e,function(e,r){return f.keScoreFromPerseusScore(e,t[r])})},getSerializedState:function(){return{question:this.questionRenderer.getSerializedState(),hints:this.hintsRenderer.getSerializedState()}},restoreSerializedState:function(e,t){var r=2,n=function(){--r,t&&0===r&&t()};this.questionRenderer.restoreSerializedState(e.question,n),this.hintsRenderer.restoreSerializedState(e.hints,n)},render:function(){var e=this,t=n({},u.defaults,this.props.apiOptions,{onFocusChange:this._handleFocusChange}),r=o.createElement(d,n({keypadElement:this.keypadElement(),problemNum:this.props.problemNum,onInteractWithWidget:this.handleInteractWithWidget,highlightedWidgets:this.state.questionHighlightedWidgets,apiOptions:t,questionCompleted:this.state.questionCompleted,savedState:this.props.savedState,ref:function(t){return e.questionRenderer=t}},this.props.item.question)),i=o.createElement(p,{hints:this.props.item.hints,hintsVisible:this.props.hintsVisible,apiOptions:t,ref:function(t){return e.hintsRenderer=t}});return o.createElement("div",null,o.createElement("div",null,r),o.createElement("div",{className:!t.isMobile&&c(b.hintsContainer)},i))}}),b=l.create({hintsContainer:{marginLeft:50}});e.exports=y},function(e,t,r){"use strict";var n,o,i,s=r(10),a=r(11),l=r(13),c=l.StyleSheet,u=l.css,p=r(12),h=r(9),d=window.i18n,f=r(18),m=r(32),v=r(30),g=r(34),y=r(35),b=r(36),T=b.baseUnitPx,x=b.hintBorderWidth,E=b.kaGreen,P=b.gray85,w=b.gray17,S=s.createClass({displayName:"HintsRenderer",propTypes:{className:s.PropTypes.string,hints:s.PropTypes.arrayOf(s.PropTypes.any),hintsVisible:s.PropTypes.number},mixins:[v],componentDidMount:function(){this._cacheHintImages()},componentDidUpdate:function(e,t){if(h.isEqual(e.hints,this.props.hints)&&e.hintsVisible===this.props.hintsVisible||this._cacheHintImages(),e.hintsVisible<this.props.hintsVisible){var r=this.props.hintsVisible-1;a.findDOMNode(this.refs["hintRenderer"+r]).focus()}},_hintsVisible:function(){return null==this.props.hintsVisible||this.props.hintsVisible===-1?this.props.hints.length:this.props.hintsVisible},_cacheImagesInHint:function(e){h.each(e.images,function(e,t){var r=new Image;r.src=m.getRealImageUrl(t)})},_cacheHintImages:function(){this._hintsVisible()>0?h.each(this.props.hints,this._cacheImagesInHint):this.props.hints.length>0&&this._cacheImagesInHint(this.props.hints[0])},getSerializedState:function(){var e=this;return h.times(this._hintsVisible(),function(t){return e.refs["hintRenderer"+t].getSerializedState()})},restoreSerializedState:function(e,t){var r=this,n=1,o=function(){--n,t&&0===n&&t()};h.each(e,function(e,t){var i=r.refs["hintRenderer"+t];i&&(++n,i.restoreSerializedState(e,o))}),o()},render:function(){var e=this,t=this.getApiOptions(),r=this._hintsVisible(),n=[];this.props.hints.slice(0,r).forEach(function(o,i){var a=i===e.props.hints.length-1&&!/\*\*/.test(o.content),l=i===r-1,c=s.createElement(f,{lastHint:a,lastRendered:l,hint:o,pos:i,totalHints:e.props.hints.length,ref:"hintRenderer"+i,key:"hintRenderer"+i,apiOptions:t});o.replace&&n.length>0?n[n.length-1]=c:n.push(c)});var o=t.getAnotherHint&&r>0&&r<this.props.hints.length,i=p(this.props.className,t.isMobile&&r>0&&u(C.mobileHintStylesHintsRenderer));return s.createElement("div",{className:i},t.isMobile&&r>0&&s.createElement("div",{className:u(C.mobileHintStylesHintTitle,y.responsiveLabel)},d._("Hints")),n,o&&s.createElement("button",{rel:"button",className:u(C.linkButton,C.getAnotherHintButton,t.isMobile&&C.mobileHintStylesGetAnotherHintButton),onClick:function(e){e.preventDefault(),e.stopPropagation(),t.getAnotherHint()}},s.createElement("span",{className:u(C.plusText,t.isMobile&&C.mobileHintStylesPlusText)},"+"),s.createElement("span",{className:u(C.getAnotherHintText)},d._("Get another hint")," (",r,"/",this.props.hints.length,")")))}}),k=T+x,C=c.create({rendererMargins:{marginTop:T},linkButton:{cursor:"pointer",border:"none",backgroundColor:"transparent",fontSize:"100%",fontFamily:"inherit",fontWeight:"bold",color:E,padding:0,position:"relative"},plusText:{fontSize:20,position:"absolute",top:-3,left:0},getAnotherHintText:{marginLeft:16},mobileHintStylesHintsRenderer:{marginTop:4*T,border:"solid "+P,borderWidth:"1px 0 0 0",position:"relative",":before":{content:'""',display:"table",clear:"both"},":after":{content:'""',display:"table",clear:"both"}},mobileHintStylesHintTitle:(n={fontFamily:"inherit",fontStyle:"normal",fontWeight:"bold",color:w,paddingTop:T,paddingBottom:1.5*T},n[g.lgOrSmaller]={paddingLeft:0},n[g.smOrSmaller]={paddingLeft:k},n),getAnotherHintButton:{marginTop:1.5*T},mobileHintStylesGetAnotherHintButton:(o={},o[g.lgOrSmaller]={paddingLeft:0},o[g.smOrSmaller]={paddingLeft:k},o),mobileHintStylesPlusText:(i={},i[g.lgOrSmaller]={left:0},i[g.smOrSmaller]={left:k},i)});e.exports=S},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(14),s=r(10),a=r(11),l=r(9),c=r(12),u=r(20),p=r(21),h=r(22),d=r(32),f=r(38),m=r(23),v=r(1),g=r(16),y=r(30),b=r(17).ClassNames,T=r(33),x=r(24),E=r(37),P=r(73).propTypes.keypadElementPropType,w=r(31),S=w.mapObject,k=w.mapObjectFromArray,C={"\\a":"","\\b":"\b","\\t":"\t","\\n":"\n","\\v":"\v","\\f":"\f","\\r":"\r","\\\\":"\\"},_=/\\a|\\b|\\t|\\n|\\v|\\f|\\r|\\\\/g,M=/\S/,R=/(web\+graphie|https):\/\/[^\s]*/,N=function(){};"undefined"!=typeof KA&&"en-pt"===KA.language&&(window.PerseusTranslationComponents=[],KA.jipt_dom_insert_checks||(KA.jipt_dom_insert_checks=[]),KA.jipt_dom_insert_checks.push(function(e,t,r){var n=i(t),o=n.data("perseus-component-index"),s=n.data("perseus-paragraph-index");if(t&&"undefined"!=typeof o){var a=window.PerseusTranslationComponents[o];return!!a&&(e=e.replace(_,function(e){return C[e]}),a.replaceJiptContent(e,s),!1)}return e}));var O=["content","problemNum","widgets"],A=function(e,t){return null===e||null===t?e===t:l.every(e,function(e,r){return l.isEqual(e,t[r])})},I=function(e,t,r,n){e?(this._tracked=!1,this.trackApi=e,this.widgetType=t,this.widgetID=r,this.setting=n,this.track=this._track.bind(this)):this.track=this._noop};I.prototype._track=function(e){this._tracked&&!this.setting||(this._tracked=!0,this.trackApi(o({type:this.widgetType,id:this.widgetID},e)))},I.prototype._noop=function(){};var L=s.createClass({displayName:"Renderer",propTypes:{alwaysUpdate:s.PropTypes.bool,highlightedWidgets:s.PropTypes.arrayOf(s.PropTypes.any),ignoreMissingWidgets:s.PropTypes.bool,images:s.PropTypes.any,interWidgets:s.PropTypes.func,keypadElement:P,onInteractWithWidget:s.PropTypes.func,onRender:s.PropTypes.func,problemNum:s.PropTypes.number,questionCompleted:s.PropTypes.bool,reviewMode:s.PropTypes.bool},mixins:[y],getDefaultProps:function(){return{content:"",widgets:{},images:{},ignoreMissingWidgets:!0,highlightedWidgets:[],questionCompleted:!1,onRender:N,onInteractWithWidget:function(){},interWidgets:function(){return null},alwaysUpdate:!1,reviewMode:!1}},getInitialState:function(){return l.extend({jiptContent:null},this._getInitialWidgetState())},componentDidMount:function(){this.handleRender({}),this._currentFocus=null,this._rootNode=a.findDOMNode(this),this._isMounted=!0},componentWillReceiveProps:function(e){l.isEqual(l.pick(this.props,O),l.pick(e,O))||this.setState(this._getInitialWidgetState(e))},shouldComponentUpdate:function(e,t){if(this.props.alwaysUpdate)return!0;var r=!l.isEqual(this.state,t),n=!l.isEqual(this.props,e);return n||r},componentWillUpdate:function(e,t){var r=this.shouldRenderJiptPlaceholder(this.props,this.state),n=this.shouldRenderJiptPlaceholder(e,t),o=this.getContent(this.props,this.state),i=this.getContent(e,t),s=this.props.highlightedWidgets,a=e.highlightedWidgets;this.reuseMarkdown=!r&&!n&&o===i&&s===a},componentDidUpdate:function(e,t){var r=this;this.handleRender(e),l.each(this.widgetIds,function(e){var t=r.refs["container:"+e];t.replaceWidgetProps(r.getWidgetProps(e))})},componentWillUnmount:function(){null!=this.translationIndex&&(window.PerseusTranslationComponents[this.translationIndex]=null),this._isMounted=!1},_getInitialWidgetState:function(e){e=e||this.props;var t=this._getAllWidgetsInfo(e);return{widgetInfo:t,widgetProps:this._getAllWidgetsStartProps(t,e)}},_getAllWidgetsInfo:function(e){return e=e||this.props,S(e.widgets,function(e,t){if(!e.type||!e.alignment){var r={};e.type||(r.type=t.split(" ")[0]),e.alignment||(r.alignment="default"),e=l.extend({},e,r)}return v.upgradeWidgetInfoToLatestVersion(e)})},_getAllWidgetsStartProps:function(e,t){return S(e,function(e){return v.getRendererPropsForWidgetInfo(e,t.problemNum)})},_getDefaultWidgetInfo:function(e){var t=g.rTypeFromWidgetId.exec(e);return null==t?{}:{type:t[1],graded:!0,options:{}}},_getWidgetInfo:function(e){return this.state.widgetInfo[e]||this._getDefaultWidgetInfo(e)},renderWidget:function(e,t,r){var n=this.state.widgetInfo[t];if(n&&"full-width"===n.alignment&&(r.foundFullWidth=!0),n||this.props.ignoreMissingWidgets){var o=n&&n.type||e,i=l.contains(this.props.highlightedWidgets,t);return s.createElement(m,{ref:"container:"+t,key:"container:"+t,type:o,initialProps:this.getWidgetProps(t),shouldHighlight:i})}return null},getWidgetProps:function(e){var t=this,r=this.getApiOptions(),n=this.state.widgetProps[e]||{},i=null,s=this.state.widgetInfo[e];this.props.reviewMode&&s&&(i=s.options),this._interactionTrackers||(this._interactionTrackers={});var a=this._interactionTrackers[e];return a||(a=this._interactionTrackers[e]=new I(r.trackInteraction,s&&s.type,e,v.getTracking(s&&s.type))),o({},n,{ref:e,widgetId:e,alignment:s&&s.alignment,static:s&&s.static,problemNum:this.props.problemNum,apiOptions:this.getApiOptions(this.props),keypadElement:this.props.keypadElement,questionCompleted:this.props.questionCompleted,onFocus:l.partial(this._onWidgetFocus,e),onBlur:l.partial(this._onWidgetBlur,e),interWidgets:this.interWidgets,reviewModeRubric:i,onChange:function(r,n){t._setWidgetProps(e,r,n)},trackInteraction:a.track})},getSerializedState:function(){var e=this;return S(this.state.widgetProps,function(t,r){var n=e.getWidgetInstance(r);return n&&n.getSerializedState?n.getSerializedState():t})},restoreSerializedState:function(e,t){var r=this,n=l.keys(e),o=l.keys(this.state.widgetProps);if(n.length!==o.length||l.intersection(n,o).length!==n.length)return void console.error("Refusing to restore bad serialized state:",e,"Current props:",this.state.widgetProps);var i=1,s=function(){--i,t&&0===i&&t()};this.setState({widgetProps:S(e,function(e,t){var n=r.getWidgetInstance(t);if(n&&n.restoreSerializedState){++i;var o=n.restoreSerializedState(e,s);return l.extend({},r.state.widgetProps[t],o)}return e})},s)},interWidgets:function(e){var t,r=this;if("string"==typeof e)if(e.indexOf(" ")!==-1){var n=e;t=function(e,t){return e===n}}else{var o=e;t=function(e,t){return t.type===o}}else t=e;var i=this.widgetIds.filter(function(e){var n=r._getWidgetInfo(e),o=r.getWidgetInstance(e);return t(e,n,o)}).map(this.getWidgetInstance),s=this.props.interWidgets(e,i);return s?s:i},getWidgetInstance:function(e){var t=this.refs["container:"+e];return t?t.getWidget():null},_onWidgetFocus:function(e,t){if(void 0===t)t=[];else if(!l.isArray(t))throw new Error("widget props.onFocus focusPath must be an Array, but was"+JSON.stringify(t));this._setCurrentFocus([e].concat(t))},_onWidgetBlur:function(e,t){var r=this,n=this._currentFocus,o=[e].concat(t);l.isEqual(o,n)&&l.defer(function(){l.isEqual(r._currentFocus,n)&&r._setCurrentFocus(null)})},getContent:function(e,t){return t.jiptContent||e.content},shouldRenderJiptPlaceholder:function(e,t){return"undefined"!=typeof KA&&"en-pt"===KA.language&&null==t.jiptContent&&e.content.indexOf("crwdns")!==-1},replaceJiptContent:function(e,t){if(null==t)this.setState({jiptContent:e});else{/\S\n\s*\n\S/.test(e)&&(e="$\\large{\\red{\\text{Please translate each paragraph to a single paragraph.}}}$"),/^\s*$/.test(e)&&(e="$\\large{\\red{\\text{Translated paragraph is currently empty}}}$");var r=this.getContent(this.props,this.state),n=u.parseToArray(r);n[t]=e,this.setState({jiptContent:u.joinFromArray(n)})}},outputMarkdown:function(e,t){if(l.isArray(e)){for(var r=t.key,n=[],o=!1,i=0;i<e.length;i++){t.key=i,t.paragraphIndex=i;var a=this.outputMarkdown(e[i],t),u="string"==typeof a;u&&o?n[n.length-1]+=a:n.push(a),o=u}return t.key=r,n}this._foundTextNodes=!1,t.foundFullWidth=!1;var p,d=this.outputNested(e,t);return p=null!=this.translationIndex?null:c({"perseus-paragraph-centered":!this._foundTextNodes,"perseus-paragraph-full-width":t.foundFullWidth&&1===e.content.length}),s.createElement(h,{key:t.key,className:p,translationIndex:this.translationIndex,paragraphIndex:t.paragraphIndex},d)},outputNested:function(e,t){if(l.isArray(e)){for(var r=t.key,n=[],o=!1,i=0;i<e.length;i++){t.key=i;var s=this.outputNested(e[i],t),a="string"==typeof s;a&&o?n[n.length-1]+=s:n.push(s),o=a}return t.key=r,n}return this.outputNode(e,this.outputNested,t)},outputNode:function(e,t,r){var i=this,a=this.getApiOptions(),c=a.imagePlaceholder;if("widget"===e.type){var u=a.widgetPlaceholder;return u?u:(this._foundTextNodes=!0,l.contains(this.widgetIds,e.id)?s.createElement("span",{key:r.key,className:"renderer-widget-error"},"Widget [[","☃"," ",e.id,"]] already exists."):(this.widgetIds.push(e.id),this.renderWidget(e.widgetType,e.id,r)))}if("blockMath"!==e.type){if("math"===e.type){var h=e.content.replace(/\{align[*]?\}/g,"{aligned}");return s.createElement("span",{key:r.key,style:{whiteSpace:"nowrap"}},s.createElement("span",null),s.createElement(f,{onRender:this.props.onRender},h),s.createElement("span",null))}if("image"===e.type){if(c)return c;var m=l.has(this.props.images,e.target)?this.props.images[e.target]:null,v=!r.inTable;return s.createElement(d,o({key:r.key,src:p.sanitizeUrl(e.target),alt:e.alt,title:e.title,responsive:v,onUpdate:this.props.onRender,zoomToFullSizeOnMobile:a.isMobile&&a.isArticle},m))}if("columns"===e.type)return this._isTwoColumn=!0,p.ruleOutput(e,t,r);if("text"===e.type)return M.test(e.content)&&(this._foundTextNodes=!0),c&&R.test(e.content)?c:e.content;if("table"===e.type||"titledTable"===e.type){r.inTable=!0;var g=p.ruleOutput(e,t,r);if(r.inTable=!1,!a.isMobile)return g;var y=16,b={marginLeft:-y,marginRight:-y},P={paddingLeft:0,
paddingRight:0},w=s.createElement("div",{style:o({},P,{overflowX:"auto"})},s.createElement(T,{animateHeight:!0},g));return s.createElement("div",{style:b},w)}return p.ruleOutput(e,t,r)}var S=function(){var t=new x,n=function(e){if(i.props.onRender&&i.props.onRender(e),a.isMobile&&e){var r=e.querySelector(".katex"),n=e.querySelector('script[type="math/tex"]')||e.querySelector(".MathJax");if(r)t.resolve();else{if(!n)throw new Error("No math present in Renderer");t.resolve()}}},l=s.createElement(f,{onRender:n},E(e.content)),c={overflowX:"auto",overflowY:"hidden",paddingTop:10,paddingBottom:10,marginTop:-10,marginBottom:-10};if(a.isMobile){var u=16,p={marginLeft:-u,marginRight:-u},h={paddingLeft:u,paddingRight:u},d=function(e,t){var r=e.querySelector(".katex-html")||e.querySelector(".MathJax"),n={width:r.offsetWidth,height:r.offsetHeight};return{width:Math.max(t.width,n.width),height:Math.max(t.height,n.height)}};return{v:s.createElement("div",{key:r.key,className:"perseus-block-math",style:p},s.createElement("div",{className:"perseus-block-math-inner",style:o({},c,h)},s.createElement(T,{readyToMeasureDeferred:t,computeChildBounds:d},l)))}}return{v:s.createElement("div",{key:r.key,className:"perseus-block-math"},s.createElement("div",{className:"perseus-block-math-inner",style:c},l))}}();if("object"===("undefined"==typeof S?"undefined":n(S)))return S.v},handleRender:function(e){var t=this.props.onRender,r=e.onRender;if(t!==N||r!==N){var n=i(a.findDOMNode(this)).find("img");r!==N&&n.off("load",r),t!==N&&n.on("load",t)}t()},_setCurrentFocus:function(e){var t=this.getApiOptions();if(!A(e,this._currentFocus)){var r=this._currentFocus;r&&this.blurPath(r),this._currentFocus=e,null!=t.onFocusChange&&t.onFocusChange(this._currentFocus,r)}},focus:function(){for(var e,t,r=0;r<this.widgetIds.length;r++){var n=this.widgetIds[r],o=this.getWidgetInstance(n),i=o&&o.focus&&o.focus();if(i){e=n,t=i;break}}if(e){var s;return s=l.isObject(t)?[e].concat(t.path||[]):[e],this._setCurrentFocus(s),!0}},getDOMNodeForPath:function(e){var t=l.first(e),r=l.rest(e),n=this.getWidgetInstance(t),o=n.getDOMNodeForPath;return o?o(r):0===r.length?a.findDOMNode(n):void 0},getGrammarTypeForPath:function(e){var t=l.first(e),r=l.rest(e),n=this.getWidgetInstance(t);return n.getGrammarTypeForPath(r)},getInputPaths:function(){var e=this,t=[];return l.each(this.widgetIds,function(r){var n=e.getWidgetInstance(r);if(n.getInputPaths){var o=n.getInputPaths();l.each(o,function(e){var n=[r].concat(e);t.push(n)})}}),t},focusPath:function(e){if(!l.isEqual(this._currentFocus,e)){this._currentFocus&&this.blurPath(this._currentFocus);var t=l.first(e),r=l.rest(e),n=this.getWidgetInstance(t).focusInputPath;n&&n(r)}},blurPath:function(e){if(l.isEqual(this._currentFocus,e)){var t=l.first(e),r=l.rest(e),n=this.getWidgetInstance(t);if(n){var o=this.getWidgetInstance(t).blurInputPath;o&&o(r)}}},blur:function(){this._currentFocus&&this.blurPath(this._currentFocus)},serialize:function(){var e={};return l.each(this.state.widgetInfo,function(t,r){var n=this.getWidgetInstance(r),o=n.serialize();l.isEmpty(o)||(e[r]=o)},this),e},emptyWidgets:function(){var e=this;return l.filter(this.widgetIds,function(t){var r=e._getWidgetInfo(t),n=e.getWidgetInstance(t).simpleValidate(r.options,null);return g.scoreIsEmpty(n)})},_setWidgetProps:function(e,t,r){var n=this,o=l.clone(this.state.widgetProps);o[e]=l.extend({},o[e],t),this.setState({widgetProps:o},function(){var t=r&&r();n.props.onInteractWithWidget(e),!1!==t&&n._setCurrentFocus([e])})},setInputValue:function(e,t,r){var n=l.first(e),o=l.rest(e),i=this.getWidgetInstance(n);i.setInputValue(o,t,r)},getUserInput:function(){var e=this;return l.map(this.widgetIds,function(t){return e.getWidgetInstance(t).getUserInput()})},getWidgetIds:function(){return this.widgetIds},getAllWidgetIds:function(){var e=this;return l.map(this.getWidgetIds(),function(t){var r="group";return t.substring(0,r.length)===r&&e.getWidgetInstance(t)?{id:t,children:e.getWidgetInstance(t).getRenderer().getAllWidgetIds()}:{id:t,children:[]}})},getUserInputForWidgets:function(){var e=this;return k(this.widgetIds,function(t){return e.getWidgetInstance(t).getUserInput()})},scoreWidgets:function(){var e=this,t=this.state.widgetInfo,r=this.getApiOptions().onInputError||function(){},n=l.filter(this.widgetIds,function(e){var r=t[e];return null==r.graded||r.graded}),o={};return l.each(n,function(n){var i=t[n],s=e.getWidgetInstance(n);s&&(o[n]=s.simpleValidate(i.options,r))}),o},score:function(){return l.reduce(this.scoreWidgets(),g.combineScores,g.noScore)},guessAndScore:function(){var e=this.getUserInput(),t=this.score();return[e,t]},examples:function e(){var t=this.widgetIds,e=l.compact(l.map(t,function(e){return e.examples?e.examples():null}));if(!e.length)return null;var r=l.all(e,function(t){return l.isEqual(e[0],t)});return r?e[0]:null},render:function(){var e,t=this.getApiOptions();if(this.reuseMarkdown)return this.lastRenderedMarkdown;var r=this.getContent(this.props,this.state);if(this.widgetIds=[],this.shouldRenderJiptPlaceholder(this.props,this.state)&&(this.translationIndex||(this.translationIndex=window.PerseusTranslationComponents.push(this)-1),!t.isArticle))return s.createElement("div",{"data-perseus-component-index":this.translationIndex},r);this._isTwoColumn=!1;var n=p.parse(r,{isJipt:null!=this.translationIndex}),o=this.outputMarkdown(n,{baseElements:t.baseElements}),i=c((e={},e[b.RENDERER]=!0,e[b.RESPONSIVE_RENDERER]=!0,e[b.TWO_COLUMN_RENDERER]=this._isTwoColumn,e));return this.lastRenderedMarkdown=s.createElement("div",{className:i},o),this.lastRenderedMarkdown}});e.exports=L},function(t,r,n){t.exports=e},function(e,r,n){e.exports=t},function(e,t,n){e.exports=r},function(e,t,r){e.exports=n},function(e,t,r){e.exports=o},function(e,t,r){e.exports=i},,function(e,t,r){"use strict";var n=r(9),o=r(70),i=function e(t,r,o){return n.isArray(t)?n.map(t,function(t){return e(t,r)}):r.call(o,t)},s={inputPathsEqual:function(e,t){return null==e||null==t?null==e==(null==t):e.length===t.length&&e.every(function(e,r){return t[r]===e})},nestedMap:i,rWidgetParts:/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]$/,rWidgetRule:/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/,rTypeFromWidgetId:/^([a-z-]+) ([0-9]+)$/,snowman:"☃",noScore:{type:"points",earned:0,total:0,message:null},seededRNG:function(e){var t=e;return function(){var e=t;return e=e+2127912214+(e<<12)&4294967295,e=4294967295&(3345072700^e^e>>>19),e=e+374761393+(e<<5)&4294967295,e=4294967295&(e+3550635116^e<<9),e=e+4251993797+(e<<3)&4294967295,e=4294967295&(3042594569^e^e>>>16),(t=268435455&e)/268435456}},shuffle:function(e,t,r){var o=n.clone(e);if(!o.length||n.all(o,function(e){return n.isEqual(e,o[0])}))return o;var i;i=n.isFunction(t)?t:s.seededRNG(t);do for(var a=o.length;a>0;a--){var l=Math.floor(i()*a),c=o[l];o[l]=o[a-1],o[a-1]=c}while(r&&n.isEqual(e,o));return o},split:"x".split(/(.)/g).length?function(e,t){return e.split(t)}:function(e,t){for(var r,n=[],o=t.lastIndex=0;r=t.exec(e);)n.push(e.slice(o,r.index)),n.push.apply(n,r.slice(1)),o=r.index+r[0].length;return n.push(e.slice(o)),n},combineScores:function(e,t){var r;return"points"===e.type&&"points"===t.type?(r=e.message&&t.message&&e.message!==t.message?null:e.message||t.message,{type:"points",earned:e.earned+t.earned,total:e.total+t.total,message:r}):"points"===e.type&&"invalid"===t.type?t:"invalid"===e.type&&"points"===t.type?e:"invalid"===e.type&&"invalid"===t.type?(r=e.message&&t.message&&e.message!==t.message?null:e.message||t.message,{type:"invalid",message:r}):void 0},keScoreFromPerseusScore:function(e,t){if("points"===e.type)return{empty:!1,correct:e.earned>=e.total,message:e.message,guess:t};if("invalid"===e.type)return{empty:!0,correct:!1,message:e.message,guess:t};throw new Error("Invalid score type: "+e.type)},firstNumericalParse:function(e){var t,r=o.predicate.createValidatorFunctional(function(e){return t=e,!0},{simplify:"optional",inexact:!0,forms:"integer, proper, improper, pi, log, mixed, decimal"});return r(e),t},stringArrayOfSize:function(e){return n(e).times(function(){return""})},gridDimensionConfig:function(e,t,r,n){var o=s.scaleFromExtent(t,r),i=e*o,a=i>30;return{scale:o,tickStep:e/n,unityLabel:a}},getGridStep:function(e,t,r){return n(2).times(function(n){var o=s.scaleFromExtent(e[n],r),i=s.gridStepFromTickStep(t[n],o);return i})},snapStepFromGridStep:function(e){return n.map(e,function(e){return e/2})},scaleFromExtent:function(e,t){var r=e[1]-e[0],n=t/r;return n},tickStepFromExtent:function(e,t){var r,n=e[1]-e[0];r=15<n&&n<=20?23:n>100||n<5?10:16;var o=t/500,i=r*o;return s.tickStepFromNumTicks(n,i)},gridStepFromTickStep:function(e,t){var r=e*t,n=e,o=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),i=Math.floor(n/o);return r<25?e:r<50?5===i?e:e/2:1===i?e/2:2===i?e/4:5===i?e/5:void 0},tickStepFromNumTicks:function(e,t){var r=Math.pow(10,Math.floor(Math.log(e/t)/Math.LN10)),n=t/e*r;return n<=.15?r*=10:n<=.35?r*=5:n<=.75&&(r*=2),r},constrainedTickStepsFromTickSteps:function(e,t){for(var r=[],n=0;n<2;n++){var o=t[n][1]-t[n][0],i=o/e[n];i<=10?r[n]=e[n]:i<=20?r[n]=2*e[n]:r[n]=s.tickStepFromNumTicks(o,10)}return r},DeprecationMixin:{componentWillMount:function(){var e={};n.each(this.deprecatedProps,function(t,r){n.has(this.props,r)&&n.extend(e,t(this.props))},this),n.isEmpty(e)||(n.extend(this.props,e),setTimeout(this.props.onChange,0,e))}},eq:function(e,t){return n.isNumber(e)&&n.isNumber(t)?Math.abs(e-t)<1e-9:e===t},deepEq:function(e,t){if(n.isArray(e)&&n.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!s.deepEq(e[r],t[r]))return!1;return!0}return!n.isArray(e)&&!n.isArray(t)&&(n.isFunction(e)&&n.isFunction(t)?s.eq(e,t):!n.isFunction(e)&&!n.isFunction(t)&&(n.isObject(e)&&n.isObject(t)?e===t||n.all(e,function(e,r){return s.deepEq(t[r],e)})&&n.all(t,function(t,r){return s.deepEq(e[r],t)}):!n.isObject(e)&&!n.isObject(t)&&s.eq(e,t)))},parseQueryString:function(e){e=e||window.location.search.substring(1);for(var t,r={},n=/\+/g,o=/([^&=]+)=?([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(n," "))};t=o.exec(e);)r[i(t[1])]=i(t[2]);return r},updateQueryString:function(e,t,r){r=encodeURIComponent(r);var n=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=e.indexOf("?")!==-1?"&":"?";return e.match(n)?e.replace(n,"$1"+t+"="+r+"$2"):e+o+t+"="+r},strongEncodeURIComponent:function(e){return encodeURIComponent(e).replace(/['()!]/g,window.escape).replace(/\*/g,"%2A")},widgetShouldHighlight:function(e){if(!e)return!1;var t=["measurer","protractor"];return!n.contains(t,e.type)},scoreIsEmpty:function(e){return"invalid"===e.type&&(!e.message||0===e.message.length)},touchHandlers:{pointerDown:!1,currentTouchIdentifier:null},resetTouchHandlers:function(){n.extend(s.touchHandlers,{pointerDown:!1,currentTouchIdentifier:null})},extractPointerLocation:function(e){var t;if(s.touchHandlers.pointerDown){if(null!=s.touchHandlers.currentTouchIdentifier)for(var r=e.changedTouches?e.changedTouches.length:0,n=0;n<r;n++)e.changedTouches[n].identifier===s.touchHandlers.currentTouchIdentifier&&(t=e.changedTouches[n]);else t=e;var o="touchend"===e.type||"touchcancel"===e.type;t&&o&&(s.touchHandlers.pointerDown=!1,s.touchHandlers.currentTouchIdentifier=null)}else s.touchHandlers.pointerDown=!0,e.changedTouches?(t=e.changedTouches[0],s.touchHandlers.currentTouchIdentifier=t.identifier):t=e;if(t)return{left:t.pageX,top:t.pageY}},captureScratchpadTouchStart:function(e){e.stopPropagation()},getImageSize:function(e,t){var o=new Image;o.onload=function(){0===o.width&&0===o.height?(document.body.appendChild(o),n.defer(function(){t(o.clientWidth,o.clientHeight),document.body.removeChild(o)})):t(o.width,o.height)};var i=r(32);o.src=i.getRealImageUrl(e)},textarea:{getWordBeforeCursor:function(e){var t=e.value,r=e.selectionStart-1,n=Math.max(t.lastIndexOf("\n",r),t.lastIndexOf(" ",r))+1;return{string:t.substring(n,r+1),pos:{start:n,end:r}}},moveCursor:function(e,t){e.selectionStart=t,e.selectionEnd=t}}};s.random=s.seededRNG(4294967295&(new Date).getTime()),e.exports=s},function(e,t,r){"use strict";var n=r(10),o=r(71);e.exports={Options:{propTypes:n.PropTypes.shape({isArticle:n.PropTypes.bool.isRequired,satStyling:n.PropTypes.bool.isRequired,onInputError:n.PropTypes.func.isRequired,onFocusChange:n.PropTypes.func.isRequired,staticRender:n.PropTypes.bool.isRequired,GroupMetadataEditor:n.PropTypes.func.isRequired,showAlignmentOptions:n.PropTypes.bool.isRequired,readOnly:n.PropTypes.bool.isRequired,answerableCallback:n.PropTypes.func,getAnotherHint:n.PropTypes.func,interactionCallback:n.PropTypes.func,groupAnnotator:n.PropTypes.func.isRequired,imagePlaceholder:n.PropTypes.node,widgetPlaceholder:n.PropTypes.node,baseElements:n.PropTypes.shape({Link:n.PropTypes.func}),imagePreloader:n.PropTypes.func,trackInteraction:n.PropTypes.func,customKeypad:n.PropTypes.bool,isMobile:n.PropTypes.bool,setDrawingAreaAvailable:n.PropTypes.func,useDraftEditor:n.PropTypes.bool}).isRequired,defaults:{isArticle:!1,isMobile:!1,satStyling:!1,onInputError:function(){},onFocusChange:function(){},staticRender:!1,GroupMetadataEditor:o,showAlignmentOptions:!1,readOnly:!1,groupAnnotator:function(){return null},baseElements:{Link:function(e){return n.createElement("a",e)}},setDrawingAreaAvailable:function(){},useDraftEditor:!0}},ClassNames:{RENDERER:"perseus-renderer",TWO_COLUMN_RENDERER:"perseus-renderer-two-columns",RESPONSIVE_RENDERER:"perseus-renderer-responsive",INPUT:"perseus-input",FOCUSED:"perseus-focused",RADIO:{OPTION:"perseus-radio-option",SELECTED:"perseus-radio-selected",OPTION_CONTENT:"perseus-radio-option-content"},INTERACTIVE:"perseus-interactive",CORRECT:"perseus-correct",INCORRECT:"perseus-incorrect",UNANSWERED:"perseus-unanswered",MOBILE:"perseus-mobile"}}},function(e,t,r){"use strict";var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(10),s=r(13),a=s.StyleSheet,l=s.css,c=r(12),u=window.i18n,p=r(8),h=r(17).Options,d=r(34),f=r(36),m=f.baseUnitPx,v=f.hintBorderWidth,g=f.kaGreen,y=f.gray97,b=i.createClass({displayName:"HintRenderer",propTypes:{apiOptions:h.propTypes,className:i.PropTypes.string,hint:i.PropTypes.any,lastHint:i.PropTypes.bool,lastRendered:i.PropTypes.bool,pos:i.PropTypes.number,totalHints:i.PropTypes.number},getSerializedState:function(){return this.refs.renderer.getSerializedState()},restoreSerializedState:function(e,t){this.refs.renderer.restoreSerializedState(e,t)},render:function(){var e=this.props,t=e.apiOptions,r=e.className,n=e.hint,s=e.lastHint,a=e.lastRendered,h=e.pos,d=e.totalHints,f=t.isMobile,m=c(!f&&"perseus-hint-renderer",f&&l(T.newHint),f&&a&&l(T.lastRenderedNewHint),s&&"last-hint",a&&"last-rendered",r),v=o({},t,{customKeypad:!1,staticRender:!1});return i.createElement("div",{className:m,tabIndex:"-1"},!t.isMobile&&i.createElement("span",{className:"perseus-sr-only"},u._("Hint #%(pos)s",{pos:h+1})),!t.isMobile&&d&&null!=h&&i.createElement("span",{className:"perseus-hint-label",style:{display:"block"}},h+1+" / "+d),i.createElement(p,{ref:"renderer",widgets:n.widgets,content:n.content||"",images:n.images,apiOptions:v}))}}),T=a.create({newHint:(n={marginBottom:1.5*m,borderLeftColor:y,borderLeftStyle:"solid",borderLeftWidth:v},n[d.lgOrSmaller]={paddingLeft:m},n[d.smOrSmaller]={paddingLeft:0},n[":focus"]={outline:"none"},n),lastRenderedNewHint:{marginBottom:0,borderLeftColor:g}});e.exports=b},function(e,t,r){e.exports={apiVersion:{major:8,minor:1},itemDataVersion:{major:0,minor:1}}},function(e,t,r){"use strict";var n=r(109),o={paragraph:{match:n.defaultRules.paragraph.match,order:1,parse:function(e,t,r){return e[1]}}},i=n.parserFor(o),s=function(e){var t=e.replace(/^\n\s*\n/,"")+"\n\n";return i(t,{inline:!1})},a=function(e){return e.join("\n\n")};e.exports={parseToArray:s,joinFromArray:a}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(9),i=r(109),s=r(38),a=r(16),l=function(e,t,r){var n=e.length,o=0;if(r){if(t.inline)return null;for(;o<n&&" "===e[o];)o++}if(!(o<n&&"$"===e[o]))return null;o++;for(var i=o,s=0;o<n;){var a=e[o];if("\\"===a)o++;else{if(s<=0&&"$"===a){var l=o+1;if(r){var c=/^(?: *\n){2,}/.exec(e.slice(l));l=c?l+c[0].length:null}return l?[e.substring(0,l),e.substring(i,o)]:null}if("{"===a)s++;else if("}"===a)s--;else if("\n"===a&&"\n"===e[o-1])return null}o++}return null},c=function(e,t){return l(e,t,!1)},u=function(e,t){return l(e,t,!0)},p=new RegExp("^\\|\\| +(.*) +\\|\\| *\\n("+i.defaultRules.nptable.match.regex.source.substring(1)+")"),h=i.blockRegex(/^(crwdns.*)\n\s*\n/),d=o.extend({},i.defaultRules,{columns:{order:-2,match:i.blockRegex(/^([\s\S]*\n\n)={5,}\n\n([\s\S]*)/),parse:function(e,t,r){return{col1:t(e[1],r),col2:t(e[2],r)}},react:function(e,t,r){return React.createElement("div",{className:"perseus-two-columns",key:r.key},React.createElement("div",{className:"perseus-column"},React.createElement("div",{className:"perseus-column-content"},t(e.col1,r))),React.createElement("div",{className:"perseus-column"},React.createElement("div",{className:"sat-header-grafting-area"}),React.createElement("div",{className:"perseus-column-content"},t(e.col2,r),React.createElement("div",{className:"sat-grafting-area"}))))}},crowdinId:{order:-1,match:function(e,t,r){return t.isJipt?h(e,t,r):null},parse:function(e,t,r){return{id:e[1]}},react:function(e,t,r){return e.id}},titledTable:{order:i.defaultRules.nptable.order-.5,match:i.blockRegex(p),parse:function(e,t,r){var n=i.parseInline(t,e[1],r),s=o.rest(e,2),a=i.defaultRules.nptable.parse(s,t,r);return{title:n,table:a}},react:function(e,t,r){var n=e.table?i.defaultRules.table.react(e.table,t,r):"//invalid table//";return React.createElement("div",{className:"perseus-titled-table",key:r.key},React.createElement("div",{className:"perseus-table-title"},t(e.title,r)),n)}},widget:{order:i.defaultRules.link.order-.75,match:i.inlineRegex(a.rWidgetRule),parse:function(e,t,r){return{id:e[1],widgetType:e[2]}},react:function(e,t,r){return React.createElement("em",{key:r.key},"[Widget: ",e.id,"]")}},blockMath:{order:i.defaultRules.codeBlock.order+.5,match:u,parse:function(e,t,r){return{content:e[1]}},react:function(e,t,r){return React.createElement(s,{key:r.key},e.content)}},math:{order:i.defaultRules.link.order-.25,match:c,parse:function(e,t,r){return{content:e[1]}},react:function(e,t,r){return React.createElement(s,{key:r.key},e.content)}},unescapedDollar:{order:i.defaultRules.link.order-.24,match:i.inlineRegex(/^(?!\\)\$/),parse:function(e,t,r){return{}},react:function(e,t,r){return"$"}},fence:o.extend({},i.defaultRules.fence,{parse:function(e,t,r){var n=i.defaultRules.fence.parse(e,t,r);return"alt"===n.lang?{type:"codeBlock",lang:"alt",content:t(n.content+"\n\n",r)}:n}}),link:o.extend({},i.defaultRules.link,{react:function(e,t,r){var o=i.defaultRules.link.react(e,t,r),s=o.props.href;"undefined"!=typeof KA&&KA.isZeroRated&&(s=s.match(/https?:\/\/[^\/]*khanacademy.org/)?s.replace("khanacademy.org","zero.khanacademy.org"):"/zero/external-link?url="+encodeURIComponent(s));var a=n({},o.props,{href:s});return r.baseElements&&r.baseElements.Link?r.baseElements.Link(a):React.cloneElement(o,a)}}),codeBlock:o.extend({},i.defaultRules.codeBlock,{react:function(e,t,r){return"alt"===e.lang?React.createElement("div",{key:r.key,className:"perseus-markdown-alt perseus-sr-only"},t(e.content,r)):i.defaultRules.codeBlock.react(e,t,r)}}),list:o.extend({},i.defaultRules.list,{match:function(e,t,r){return t.isJipt?null:i.defaultRules.list.match(e,t,r)}})}),f=i.parserFor(d),m=function(e,t){var r=e+"\n\n";return f(r,o.extend({inline:!1},t))},v=function(e,t){return f(e,o.extend({inline:!0},t))},g=function e(t,r){o.isArray(t)?o.each(t,function(t){return e(t,r)}):o.isObject(t)&&(r(t),"table"===t.type?(e(t.header,r),e(t.cells,r)):"list"===t.type?e(t.items,r):"titledTable"===t.type?e(t.table,r):"columns"===t.type?(e(t.col1,r),e(t.col2,r)):o.isArray(t.content)&&e(t.content,r))},y=function e(t){if(o.isArray(t))return o.flatten(o.map(t,e));if(t.content&&o.isString(t.content))return t.type.toLowerCase().indexOf("code")!==-1?["",t.content,""]:[t.content.replace(/\s+/g," ")];var r=o.chain(t).values().flatten().filter(function(e){return null!=e&&o.has(e,"type")}).value();if(r.length){var n=e(r);if("paragraph"===t.type&&n.length){n[0]=n[0].replace(/^\s+/,"");var i=n.length-1;n[i]=n[i].replace(/\s+$/,"")}return n}return[]},b=function(e){var t=m(e),r=y(t).join("");return r.length};e.exports={characterCount:b,traverseContent:g,parse:m,parseInline:v,reactFor:i.reactFor,ruleOutput:i.ruleOutput(d,"react"),basicOutput:i.reactFor(i.ruleOutput(d,"react")),sanitizeUrl:i.sanitizeUrl}},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"QuestionParagraph",render:function(){var e=this.props.className?"paragraph "+this.props.className:"paragraph";return n.createElement("div",{className:e,"data-perseus-component-index":this.props.translationIndex,"data-perseus-paragraph-index":this.props.paragraphIndex},this.props.children)}});e.exports=o},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(12),i=r(10),s=r(11),a=r(1),l=r(72),c=l.containerSizeClass,u=l.getClassFromWidth,p=i.createClass({displayName:"WidgetContainer",propTypes:{shouldHighlight:i.PropTypes.bool.isRequired,type:i.PropTypes.string,initialProps:i.PropTypes.object.isRequired},getInitialState:function(){return{sizeClass:c.MEDIUM,widgetProps:this.props.initialProps}},componentDidMount:function(){if(this.state.widgetProps.apiOptions.isMobile){var e=s.findDOMNode(this).offsetWidth;this.setState({sizeClass:u(e)})}},render:function(){var e=o({"perseus-widget-container":!0,"widget-highlight":this.props.shouldHighlight,"widget-nohighlight":!this.props.shouldHighlight}),t=this.props.type,r=a.getWidget(t);if(null==r)return i.createElement("div",{className:e});var s=this.state.widgetProps.alignment;"default"===s&&(s=a.getDefaultAlignment(t)),e+=" widget-"+s;var l=this.state.widgetProps.apiOptions,c=this.state.widgetProps.static||l.readOnly,u={position:"relative",overflow:"visible"},p={width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:100};return i.createElement("div",{className:e,style:c?u:{}},i.createElement(r,n({},this.state.widgetProps,{containerSizeClass:this.state.sizeClass,ref:"widget"})),c&&i.createElement("div",{style:p}))},componentWillReceiveProps:function(e){if(this.props.type!==e.type)throw new Error("WidgetContainer can't change widget type; set a different key instead to recreate the container.")},shouldComponentUpdate:function(e,t){return this.props.shouldHighlight!==e.shouldHighlight||this.props.type!==e.type||this.state.widgetProps!==t.widgetProps||this.state.sizeClass!==t.sizeClass},getWidget:function(){return this.refs.widget},replaceWidgetProps:function(e){this.setState({widgetProps:e})}});e.exports=p},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){var t=this;n(this,e),this.promise=new Promise(function(e,r){t.resolve=e,t.reject=r})}return e.prototype.then=function(e){return this.promise.then(e)},e}();e.exports=o},function(e,t,r){"use strict";var n=r(9),o=r(16).shuffle,i=r(89),s=function(e,t){var r=function(r){return e.randomize?o(r,t):r},i=function(e){var t=null,r=n.reject(e,function(e,r){if(e.isNoneOfTheAbove)return t=e,!0});return t&&r.push(t),r},s=e.choices.slice();return s=n.map(s,function(e,t){return n.extend({},e,{originalIndex:t})}),i(r(s))},a=function(e,t){var r=n.map(s(e,t),function(e){return n.omit(e,"correct")});return e=n.extend({},e,{choices:r}),n.pick(e,"choices","hasNoneOfTheAbove","onePerLine","multipleSelect","correctAnswer","deselectEnabled")},l=function(e,t){var r=s(e,t),o=n.pluck(r,"correct"),i=n.pick(e,"hasNoneOfTheAbove","onePerLine","multipleSelect","correctAnswer","deselectEnabled"),a=n.extend({},i,{choices:r,values:o});return a},c={1:function(e){var t,r;if(e.noneOfTheAbove){t=n.clone(e.choices);var o=n.random(0,e.choices.length-1),i=n.extend({},e.choices[o],{isNoneOfTheAbove:!0});t.splice(o,1),t.push(i),r=!0}else t=e.choices,r=!1;return n.extend(n.omit(e,"noneOfTheAbove"),{choices:t,hasNoneOfTheAbove:r})}};e.exports={name:"radio",displayName:"Multiple choice",accessible:!0,widget:i,transform:a,staticTransform:l,version:{major:1,minor:0},propUpgrades:c}},function(e,t,r){"use strict";var n=r(12),o=r(10),i=r(9),s=r(74),a=r(75),l=r(76).parseTex,c=r(77),u=r(70),p=r(73).propTypes.keypadElementPropType,h=r(17).ClassNames,d=r(17).Options,f={number:{name:"Numbers",forms:"integer, decimal, proper, improper, mixed"},decimal:{name:"Decimals",forms:"decimal"},integer:{name:"Integers",forms:"integer"},rational:{name:"Fractions and mixed numbers",forms:"integer, proper, improper, mixed"},improper:{name:"Improper numbers (no mixed)",forms:"integer, proper, improper"},mixed:{name:"Mixed numbers (no improper)",forms:"integer, proper, mixed"},percent:{name:"Numbers or percents",forms:"integer, decimal, proper, improper, mixed, percent"},pi:{name:"Numbers with pi",forms:"pi"}},m={integer:function(e){return i18n._("an integer, like $6$")},proper:function(e){return"optional"===e.simplify?i18n._("a *proper* fraction, like $1/2$ or $6/10$"):i18n._("a *simplified proper* fraction, like $3/5$")},improper:function(e){return"optional"===e.simplify?i18n._("an *improper* fraction, like $10/7$ or $14/8$"):i18n._("a *simplified improper* fraction, like $7/4$")},mixed:function(e){return i18n._("a mixed number, like $1\\ 3/4$")},decimal:function(e){return i18n._("an *exact* decimal, like $0.75$")},percent:function(e){return i18n._("a percent, like $12.34\\%$")},pi:function(e){return i18n._("a multiple of pi, like $12\\ \\text{pi}$ or $2/3\\ \\text{pi}$")}},v=o.createClass({displayName:"InputNumber",propTypes:{answerType:o.PropTypes.oneOf(Object.keys(f)),currentValue:o.PropTypes.string,keypadElement:p,reviewModeRubric:o.PropTypes.object,widgetId:o.PropTypes.string.isRequired},getDefaultProps:function(){return{currentValue:"",size:"normal",answerType:"number",apiOptions:d.defaults}},shouldShowExamples:function(){return"number"!==this.props.answerType&&!this.props.apiOptions.staticRender},render:function(){if(this.props.apiOptions.customKeypad)return o.createElement(a,{ref:"input",value:this.props.currentValue,keypadElement:this.props.keypadElement,onChange:this.handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur});var e=this.props.reviewModeRubric,t=null,r=null;if(e){var i=this.simpleValidate(e);if(t="points"===i.type&&i.earned===i.total,!t){var l=String(e.value);e.inexact&&e.maxError&&(l+=" ± "+e.maxError);var u=[l];r=o.createElement(c,{answers:u})}}var p={};p["perseus-input-size-"+this.props.size]=!0,p[h.CORRECT]=e&&t&&this.props.currentValue,p[h.INCORRECT]=e&&!t&&this.props.currentValue,p[h.UNANSWERED]=e&&!this.props.currentValue;var d=o.createElement(s,{ref:"input",value:this.props.currentValue,onChange:this.handleChange,className:n(p),type:this._getInputType(),examples:this.examples(),shouldShowExamples:this.shouldShowExamples(),onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId,disabled:this.props.apiOptions.readOnly});return r?o.createElement("span",{className:"perseus-input-with-answer-blurb"},d,r):d},handleChange:function(e,t){this.props.onChange({currentValue:e},t)},_getInputType:function(){return this.props.apiOptions.staticRender?"tex":"text"},_handleFocus:function(){this.props.onFocus([])},_handleBlur:function(){this.props.onBlur([])},focus:function(){return this.refs.input.focus(),!0},focusInputPath:function(e){this.refs.input.focus()},blurInputPath:function(e){this.refs.input.blur()},getInputPaths:function(){return[[]]},getGrammarTypeForPath:function(e){return"number"},setInputValue:function(e,t,r){this.props.onChange({currentValue:t},r)},getUserInput:function(){return{currentValue:this.props.currentValue}},simpleValidate:function(e,t){return t=t||function(){},v.validate(this.getUserInput(),e,t)},examples:function e(){var t=this.props.answerType,r=f[t].forms.split(/\s*,\s*/),e=i.map(r,function(e){return m[e](this.props)},this);return[i18n._("**Your answer should be** ")].concat(e)}});i.extend(v,{validate:function(e,t,r){null==t.answerType&&(t.answerType="number");var n=u.number.createValidatorFunctional(t.value,{simplify:t.simplify,inexact:t.inexact||void 0,maxError:t.maxError,forms:f[t.answerType].forms}),o=l(e.currentValue),i=n(o);if(i.empty){var s=r(null,e.currentValue,i.message);return{type:"invalid",message:!1===s?null:i.message}}return{type:"points",earned:i.correct?1:0,total:1,message:i.message}}});var g=function(e){var t=e.simplify,r=e.size,n=e.answerType;return{simplify:t,size:r,answerType:n}};e.exports={name:"input-number",displayName:"Number text box (old)",defaultAlignment:"inline-block",hidden:!0,widget:v,transform:g}},function(e,t,r){"use strict";var n=r(12),o=r(10),i=r(9),s=r(74),a=r(75),l=r(76).parseTex,c=r(77),u=r(17).ClassNames,p=r(17).Options,h=r(70),d=r(78),f=r(73).propTypes.keypadElementPropType,m=[{title:"Integers",value:"integer",content:"6"},{title:"Decimals",value:"decimal",content:"0.75"},{title:"Proper fractions",value:"proper",content:"⅗"},{title:"Improper fractions",value:"improper",content:"⁷⁄₄"},{title:"Mixed numbers",value:"mixed",content:"1¾"},{title:"Numbers with π",value:"pi",content:"π"}],v={integer:function(){return i18n._("an integer, like $6$")},proper:function(e){return"optional"===e.simplify?i18n._("a *proper* fraction, like $1/2$ or $6/10$"):i18n._("a *simplified proper* fraction, like $3/5$")},improper:function(e){return"optional"===e.simplify?i18n._("an *improper* fraction, like $10/7$ or $14/8$"):i18n._("a *simplified improper* fraction, like $7/4$")},mixed:function(){return i18n._("a mixed number, like $1\\ 3/4$")},decimal:function(){return i18n._("an *exact* decimal, like $0.75$")},pi:function(){return i18n._("a multiple of pi, like $12\\ \\text{pi}$ or $2/3\\ \\text{pi}$")}},g=o.createClass({displayName:"NumericInput",propTypes:{currentValue:o.PropTypes.string,size:o.PropTypes.oneOf(["normal","small"]),apiOptions:p.propTypes,coefficient:o.PropTypes.bool,answerForms:o.PropTypes.arrayOf(o.PropTypes.shape({name:o.PropTypes.string.isRequired,simplify:o.PropTypes.oneOf(["required","optional"]).isRequired})),keypadElement:f,labelText:o.PropTypes.string,reviewModeRubric:o.PropTypes.object,trackInteraction:o.PropTypes.func.isRequired,widgetId:o.PropTypes.string.isRequired},getDefaultProps:function(){return{currentValue:"",size:"normal",apiOptions:p.defaults,coefficient:!1,answerForms:[],labelText:""}},render:function(){if(this.props.apiOptions.customKeypad)return o.createElement(a,{ref:"input",value:this.props.currentValue,keypadElement:this.props.keypadElement,onChange:this.handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur});var e,t,r=this.props.reviewModeRubric;if(r){var l=this.simpleValidate(r);if(e="points"===l.type&&l.earned===l.total,!e){var p=i.filter(r.answers,function(e){return"correct"===e.status}),h=i.map(p,function(e){var t="decimal";e.answerForms&&e.answerForms[0]&&(t=e.answerForms[0]);var r=d.toNumericString(e.value,t);return e.maxError&&(r+=" ± "+d.toNumericString(e.maxError,t)),r});t=o.createElement(c,{answers:h})}}var f={};f["perseus-input-size-"+this.props.size]=!0,f[u.CORRECT]=r&&e&&this.props.currentValue,f[u.INCORRECT]=r&&!e&&this.props.currentValue,f[u.UNANSWERED]=r&&!this.props.currentValue;var m=this.props.labelText;null!=m&&""!==m||(m=i18n._("Your answer:"));var v=o.createElement(s,{ref:"input",value:this.props.currentValue,onChange:this.handleChange,className:n(f),labelText:m,type:this._getInputType(),examples:this.examples(),shouldShowExamples:this.shouldShowExamples(),onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId,
disabled:this.props.apiOptions.readOnly});return t?o.createElement("span",{className:"perseus-input-with-answer-blurb"},v,t):v},handleChange:function(e,t){this.props.onChange({currentValue:e},t),this.props.trackInteraction()},_getInputType:function(){return this.props.apiOptions.staticRender?"tex":"text"},_handleFocus:function(){this.props.onFocus([])},_handleBlur:function(){this.props.onBlur([])},focus:function(){return this.refs.input.focus(),!0},focusInputPath:function(e){this.refs.input.focus()},blurInputPath:function(e){this.refs.input.blur()},getInputPaths:function(){return[[]]},getGrammarTypeForPath:function(e){return"number"},setInputValue:function(e,t,r){this.props.onChange({currentValue:t},r)},getUserInput:function(){return{currentValue:this.props.currentValue}},simpleValidate:function(e){return g.validate(this.getUserInput(),e)},shouldShowExamples:function(){var e=0===this.props.answerForms.length,t=i.uniq(this.props.answerForms.map(function(e){return e.name})),r=t.length>=i.size(v);return!e&&!r},examples:function e(){var t=0!==this.props.answerForms.length?this.props.answerForms:i.map(i.keys(v),function(e){return{name:e,simplify:"required"}}),e=i.map(t,function(e){return v[e.name](e)});return e=i.uniq(e),[i18n._("**Your answer should be** ")].concat(e)}});i.extend(g,{validate:function(e,t){var r=i.pluck(m,"value"),n=function(e){return h.number.createValidatorFunctional(e.value,{message:e.message,simplify:"correct"===e.status?e.simplify:"optional",inexact:!0,maxError:e.maxError,forms:e.strict&&e.answerForms&&0!==e.answerForms.length?e.answerForms:r})},o=l(e.currentValue),s=i.where(t.answers,{status:"correct"}),a=i.find(i.map(s,function(e){var r=o;t.coefficient&&(r?"-"===r&&(r=-1):r=1);var i=n(e);return i(r)}),function(e){return e.correct||e.empty});if(!a){var c=[].concat(i.where(t.answers,{status:"ungraded"}),i.where(t.answers,{status:"wrong"})),u=i.find(c,function(e){var t=n(e);return t(o).correct});a={empty:!!u&&"ungraded"===u.status,correct:!!u&&"correct"===u.status,message:u?u.message:null,guess:o}}return a.empty?{type:"invalid",message:a.message}:{type:"points",earned:a.correct?1:0,total:1,message:a.message}}});var y=function(e){var t=function(e,t){return i.reduce(e,function(e,r){var n=i.find(e,t.bind(null,r));return n?e:e.concat([r])},[])},r=i.flatten(e),n=t(r,i.isEqual);return i.sortBy(n,function(e){return i.keys(v).indexOf(e.name)})},b=function(e){var t=i.extend(i.omit(e,"answers"),{answerForms:y(i.map(e.answers,function(e){return i.map(e.answerForms,function(t){return{simplify:e.simplify,name:t}})}))});return t};e.exports={name:"numeric-input",displayName:"Number text box",defaultAlignment:"inline-block",accessible:!0,widget:g,transform:b}},function(e,t,r){"use strict";var n=r(12),o=r(10),i=(r(11),r(79)),s=r(9),a=r(17).Options,l=r(80),a=r(17).Options,c=r(17).ClassNames,u=r(70),p=r(81),h=r(74),d=r(82),f=r(83),m=r(73).components.KeypadInput,v=r(73).propTypes,g=v.keypadConfigurationPropType,y=v.keypadElementPropType,b=r(73).consts.KeypadTypes,T=r(84),x=T.iconExclamationSign,E=(r(92),i18n._("Sorry, I don't understand that!")),P=(["An expression without an answer","is no expression to me.","Who can learn from an input","like the one that I see?","Put something in there","won't you please?","A few digits will do -","might I suggest some threes?"].join("\n"),function(e){return e.replace(/([_^])([^{])/g,"$1{$2}")}),w=o.createClass({displayName:"Expression",mixins:[l],propTypes:{apiOptions:a.propTypes,buttonSets:f.buttonSetsType,buttonsVisible:o.PropTypes.oneOf(["always","never","focused"]),functions:o.PropTypes.arrayOf(o.PropTypes.string),keypadConfiguration:g,keypadElement:y,times:o.PropTypes.bool,trackInteraction:o.PropTypes.func.isRequired,value:o.PropTypes.string,widgetId:o.PropTypes.string.isRequired},getDefaultProps:function(){return{value:"",times:!1,functions:[],buttonSets:["basic","trig","prealgebra","logarithms"],onFocus:function(){},onBlur:function(){},apiOptions:a.defaults}},getInitialState:function(){return{showErrorTooltip:!1,showErrorText:!1}},parse:function(e,t){var r=s.pick(t||this.props,"functions");return window.icu&&window.icu.getDecimalFormatSymbols&&s.extend(r,window.icu.getDecimalFormatSymbols()),KAS.parse(P(e),r)},render:function(){var e=this;if(this.props.apiOptions.customKeypad)return o.createElement(m,{ref:"input",value:this.props.value,keypadElement:this.props.keypadElement,onChange:this.changeAndTrack,onFocus:function(){e.props.keypadElement.configure(e.props.keypadConfiguration,function(){e.isMounted()&&e._handleFocus()})},onBlur:this._handleBlur});if(this.props.apiOptions.staticRender)return o.createElement(h,{ref:"input",value:this.props.value,type:"tex",examples:[],shouldShowExamples:!1,onChange:this.changeAndTrack,onFocus:this._handleFocus,onBlur:this._handleBlur,id:this.props.widgetId});var t=o.createElement("span",{className:"error-tooltip"},o.createElement(i,{className:"error-text-container",horizontalPosition:"right",horizontalAlign:"left",verticalPosition:"top",arrowSize:10,borderColor:"#fcc335",show:this.state.showErrorText},o.createElement("span",{className:"error-icon",onMouseEnter:function(){e.setState({showErrorText:!0})},onMouseLeave:function(){e.setState({showErrorText:!1})},onClick:function(){e.setState({showErrorText:!e.state.showErrorText})}},o.createElement(p,x)),o.createElement("div",{className:"error-text"},E))),r=n({"perseus-widget-expression":!0,"show-error-tooltip":this.state.showErrorTooltip});return o.createElement("span",{className:r},o.createElement(d,{ref:"input",className:c.INTERACTIVE,value:this.props.value,onChange:this.changeAndTrack,convertDotToTimes:this.props.times,buttonsVisible:this.props.buttonsVisible||"focused",buttonSets:this.props.buttonSets,onFocus:this._handleFocus,onBlur:this._handleBlur}),this.state.showErrorTooltip&&t)},changeAndTrack:function(e,t){this.change("value",e,t),this.props.trackInteraction()},_handleFocus:function(){this.props.onFocus([])},_handleBlur:function(){this.props.onBlur([])},errorTimeout:null,componentWillReceiveProps:function(e){var t=this;s.isEqual(this.props.value,e.value)&&s.isEqual(this.props.functions,e.functions)||(clearTimeout(this.errorTimeout),this.parse(e.value,e).parsed?this.setState({showErrorTooltip:!1}):this.errorTimeout=setTimeout(function(){var e=t.props.apiOptions.onInputError(null,t.props.value,E);!1!==e&&t.setState({showErrorTooltip:!0})},2e3))},componentWillUnmount:function(){clearTimeout(this.errorTimeout)},focus:function(){return this.props.apiOptions.customKeypad&&this.refs.input.focus(),!0},focusInputPath:function(e){this.refs.input.focus()},blurInputPath:function(e){this.refs.input.blur()},insert:function(e){this.props.apiOptions.staticRender||this.refs.input.insert(e)},getInputPaths:function(){return[[]]},getGrammarTypeForPath:function(e){return"expression"},setInputValue:function(e,t,r){this.props.onChange({value:t},r)},getAcceptableFormatsForInputPath:function(){return null},getUserInput:function(){return P(this.props.value)},simpleValidate:function(e,t){return t=t||function(){},w.validate(this.getUserInput(),e,t)}});s.extend(w,{validate:function(e,t,r){var n=s.clone(t);window.icu&&window.icu.getDecimalFormatSymbols&&s.extend(n,window.icu.getDecimalFormatSymbols());var o,i,a=function(e){return u.expression.createValidatorFunctional(KAS.parse(e.value,t).expr,s({}).extend(n,{simplify:e.simplify,form:e.form}))},l=!0,c=!!s(t.answerForms).find(function(t){var r=a(t);return o=r(e),i=t,l=l&&o.empty,o.correct}),p=o&&o.message;if(c){if("ungraded"===i.considered){var h=r(null,e,p);return{type:"invalid",message:!1===h?null:p}}return{type:"points",earned:"correct"===i.considered?1:0,total:1,message:p}}return l?{type:"invalid",message:null}:{type:"points",earned:0,total:1}}});var S=function(e){for(var t=b.EXPRESSION,r={},n={},o=e.answerForms,i=Array.isArray(o),s=0,o=i?o:o[Symbol.iterator]();;){var a;if(i){if(s>=o.length)break;a=o[s++]}else{if(s=o.next(),s.done)break;a=s.value}var l=a,c=KAS.parse(l.value,e);c.parsed&&!function(){for(var e=c.expr,t=function(e){return"pi"===e||"theta"===e},o=function(e){return t(e)?e.toUpperCase():e},i=e.getVars(),s=Array.isArray(i),a=0,i=s?i:i[Symbol.iterator]();;){var l;if(s){if(a>=i.length)break;l=i[a++]}else{if(a=i.next(),a.done)break;l=a.value}var u=l;r[o(u)]=!0}for(var p=e.getConsts(),h=Array.isArray(p),d=0,p=h?p:p[Symbol.iterator]();;){var f;if(h){if(d>=p.length)break;f=p[d++]}else{if(d=p.next(),d.done)break;f=d.value}var m=f;n[o(m)]=!0}}()}var u=Object.keys(r);u.sort();var p=Object.keys(n);p.sort();var h=[].concat(u,p);return h.length||h.push("PI"),{keypadType:t,extraKeys:h}},k={1:function(e){return{times:e.times,buttonSets:e.buttonSets,functions:e.functions,buttonsVisible:e.buttonsVisible,answerForms:[{considered:"correct",form:e.form,simplify:e.simplify,value:e.value,key:0}]}}};e.exports={name:"expression",displayName:"Expression / Equation",defaultAlignment:"inline-block",widget:w,transform:function(e){var t=e.times,r=e.functions,n=e.buttonSets,o=e.buttonsVisible;return{keypadConfiguration:S(e),times:t,functions:r,buttonSets:n,buttonsVisible:o}},version:{major:1,minor:0},propUpgrades:k,Expression:w}},function(e,t,r){"use strict";var n=r(10),o=r(11),i=r(73).components.Keypad,s={propTypes:{apiOptions:n.PropTypes.shape({customKeypad:n.PropTypes.bool}),keypadStyle:n.PropTypes.any},getInitialState:function(){return{keypadElement:null}},componentDidMount:function(){var e=this;this.props.apiOptions&&this.props.apiOptions.customKeypad&&(this._keypadContainer=document.createElement("div"),document.body.appendChild(this._keypadContainer),o.render(n.createElement(i,{onElementMounted:function(t){e.setState({keypadElement:t})},onDismiss:function(){e.blur&&e.blur()},style:this.props.keypadStyle}),this._keypadContainer))},componentWillUnmount:function(){this._keypadContainer&&(o.unmountComponentAtNode(this._keypadContainer),this._keypadContainer.parentNode&&this._keypadContainer.parentNode.removeChild(this._keypadContainer),this._keypadContainer=null)},keypadElement:function(){return this.state.keypadElement}};e.exports=s},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(17).Options,s={propTypes:{apiOptions:o.PropTypes.any},getDefaultProps:function(){return{apiOptions:{}}},getApiOptions:function(){return n({},i.defaults,this.props.apiOptions)}};e.exports=s},function(e,t,r){"use strict";var n=r(9),o=function(e,t){return n.object(n.map(e,function(e,r){return[r,e[t]]}))},i=function(e,t){var r={};return n.each(n.keys(e),function(n){r[n]=t(e[n],n)}),r},s=function(e,t){var r={};return n.each(e,function(e){r[e]=t(e)}),r};e.exports={pluck:o,mapObject:i,mapObjectFromArray:s}},function(e,t,r){"use strict";function n(e){return S.test(e)}function o(e){return/\.(jpg|jpeg)$/i.test(e)}function i(e){var t="http:"===window.location.protocol?"http:":"https:";return e.replace(S,t)}function s(e){return i(e)+".svg"}function a(e){return i(e)+"-data.json"}function l(){return"undefined"!=typeof KA&&"en"!==KA.language}function c(){return"undefined"!=typeof KA&&"en-pt"===KA.language}function u(e){if("undefined"!=typeof KA){var t=i(e).split(R),r=t[0],n=t[1];return r+"/"+KA.language+"/"+n+"-data.json"}return a(e)}function p(e){var t=e.match(k);return t&&t[1]}function h(){return f.DOM.span({style:{background:"url(/images/throbber.gif) no-repeat",backgroundPosition:"center",width:"100%",height:"100%",position:"absolute",minWidth:"20px"}})}var d=r(12),f=r(10),m=r(14),v=r(9),g=r(85),y=r(86),b=r(87),T=r(16),x=r(88),E=700,P={},w=function(e,t){function r(){document.head.removeChild(n),delete window[t.callbackName]}t=v.extend({},{callbackName:"callback",success:m.noop,error:m.noop},t);var n=document.createElement("script");n.setAttribute("async",""),n.setAttribute("src",e),window[t.callbackName]=function(){r(),t.success.apply(null,arguments)},n.addEventListener("error",function(){r(),t.error.apply(null,arguments)}),document.head.appendChild(n)},S=/^web\+graphie\:/,k=/\/([^\/]+)$/,C={"\\a":"","\\b":"\b","\\t":"\t","\\n":"\n","\\v":"\v","\\f":"\f","\\r":"\r","\\\\":"\\"},_=/\\a|\\b|\\t|\\n|\\v|\\f|\\r|\\\\/g,M=[];c()&&(KA.jipt_dom_insert_checks||(KA.jipt_dom_insert_checks=[]),KA.jipt_dom_insert_checks.push(function(e,t,r){var n=m(t).data("jipt-label-index");if(t&&"undefined"!=typeof n){var o=M[n],i=o.label,s=o.useMath;if(i.text(""),e=e.replace(_,function(e){return C[e]}),s){var a=/^\$(.*)\$$/,l=e.match(a),c=l?l[1]:"\\color{red}{\\text{Invalid Math}}";i.processMath(c,!0)}else i.processText(e);return!1}return e}));var R=/\/(?=[^\/]+$)/,N=f.createClass({displayName:"SvgImage",propTypes:{allowFullBleed:f.PropTypes.bool,alt:f.PropTypes.string,constrainHeight:f.PropTypes.bool,extraGraphie:f.PropTypes.shape({box:f.PropTypes.array.isRequired,range:f.PropTypes.array.isRequired,labels:f.PropTypes.array.isRequired}),height:f.PropTypes.number,onUpdate:f.PropTypes.func,preloader:f.PropTypes.func,responsive:f.PropTypes.bool,scale:f.PropTypes.number,src:f.PropTypes.string.isRequired,title:f.PropTypes.string,trackInteraction:f.PropTypes.func,width:f.PropTypes.number,zoomToFullSizeOnMobile:f.PropTypes.bool},statics:{getRealImageUrl:function(e){return n(e)?s(e):e}},getDefaultProps:function(){return{constrainHeight:!1,onUpdate:function(){},responsive:!0,src:"",scale:1,zoomToFullSizeOnMobile:!1}},getInitialState:function(){return{imageLoaded:!1,imageDimensions:null,dataLoaded:!1,labels:[],range:[[0,0],[0,0]]}},componentDidMount:function(){n(this.props.src)&&this.loadResources()},componentWillReceiveProps:function(e){this.props.src!==e.src&&this.setState({imageLoaded:!1,dataLoaded:!1})},shouldComponentUpdate:function(e,t){if(!v.isEqual(this.props,e))return!0;if(!n(e.src))return!1;var r=this.isLoadedInState(this.state),o=this.isLoadedInState(t);return r!==o},componentDidUpdate:function(){n(this.props.src)&&!this.isLoadedInState(this.state)&&this.loadResources()},isLoadedInState:function(e){return e.imageLoaded&&e.dataLoaded},loadResources:function(){var e=this,t=p(this.props.src);if(P[t])P[t].loaded?this.onDataLoaded(P[t].data):P[t].dataCallbacks.push(this.onDataLoaded);else{var r={loaded:!1,dataCallbacks:[this.onDataLoaded],data:null};P[t]=r;var n=function(e,n){w(e,{callbackName:"svgData"+t,success:function(e){r.data=e,r.loaded=!0,v.each(r.dataCallbacks,function(e){e(r.data)})},error:n})};l()?n(u(this.props.src),function(t,r,o){n(a(e.props.src),function(t,r,n){console.error("Data load failed:",a(e.props.src),n)})}):n(a(this.props.src),function(t,r,n){console.error("Data load failed:",a(e.props.src),n)})}},onDataLoaded:function(e){this.isMounted()&&e.labels&&e.range&&this.setState({dataLoaded:!0,labels:e.labels,range:e.range})},sizeProvided:function(){return null!=this.props.width&&null!=this.props.height},onImageLoad:function(){var e=this;this.sizeProvided()?this.setState({imageLoaded:!0}):T.getImageSize(this.props.src,function(t,r){e.isMounted()&&e.setState({imageLoaded:!0,imageDimensions:[t,r]})})},setupGraphie:function(e,t){var r=this;v.map(t.labels,function(t){if(c()){var n=e.label(t.coordinates,t.content,t.alignment,!1);m(n).data("jipt-label-index",M.length),M.push({label:n,useMath:t.typesetAsMath})}else if(t.coordinates){var o=e.label(t.coordinates,t.content,t.alignment,t.typesetAsMath,{"font-size":100*r.props.scale+"%"}),i=o.position(),s=r.props.height*r.props.scale,a=r.props.width*r.props.scale;o.css({top:i.top/s*100+"%",left:i.left/a*100+"%"}),v.each(t.style,function(e,t){o.css(t,e)})}})},_handleZoomClick:function(e){var t=m(e.target);(t.width()<this.props.width||this.props.zoomToFullSizeOnMobile)&&x.ZoomService.handleZoomClick(e,this.props.zoomToFullSizeOnMobile),this.props.trackInteraction&&this.props.trackInteraction()},render:function(){var e,t=this.props.src,r={alt:this.props.alt,title:this.props.title},i=this.props.width&&this.props.width*this.props.scale,a=this.props.height&&this.props.height*this.props.scale,l={width:i,height:a},c=this.props.responsive&&!(!i||!a);this.props.extraGraphie&&this.props.extraGraphie.labels.length&&(e=f.createElement(y,{box:this.props.extraGraphie.box,range:this.props.extraGraphie.range,options:{labels:this.props.extraGraphie.labels},responsive:!0,addMouseLayer:!1,setup:this.setupGraphie}));var u=void 0===this.props.preloader?h:this.props.preloader,p=u?function(){return u(l)}:null;if(!n(t)){if(c){var m=d({zoomable:i>E,"svg-image":!0});return r.onClick=this._handleZoomClick,f.createElement(g,{className:m,width:i,height:a,constrainHeight:this.props.constrainHeight,allowFullBleed:this.props.allowFullBleed&&o(t)},f.createElement(b,{src:t,imgProps:r,preloader:p,onUpdate:this.props.onUpdate}),e)}return r.style=l,f.createElement(b,{src:t,preloader:p,imgProps:r,onUpdate:this.props.onUpdate})}var T,x=s(t);if(this.isLoadedInState(this.state)){var P;P=this.sizeProvided()?[i,a]:[this.state.imageDimensions[0]*this.props.scale,this.state.imageDimensions[1]*this.props.scale];var w=[40*this.props.scale,40*this.props.scale];T=f.createElement(y,{ref:"graphie",box:P,scale:w,range:this.state.range,options:v.pick(this.state,"labels"),responsive:c,addMouseLayer:!1,setup:this.setupGraphie})}return c?f.createElement(g,{className:"svg-image",width:i,height:a,constrainHeight:this.props.constrainHeight},f.createElement(b,{src:x,onLoad:this.onImageLoad,onUpdate:this.props.onUpdate,preloader:p,imgProps:r}),T,e):(r.style=l,f.createElement("div",{className:"unresponsive-svg-image",style:l},f.createElement(b,{src:x,onLoad:this.onImageLoad,onUpdate:this.props.onUpdate,preloader:p,imgProps:r}),T))}});e.exports=N},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(11),s=r(24),a=o.createClass({displayName:"Zoomable",propTypes:{animateHeight:o.PropTypes.bool,children:o.PropTypes.element.isRequired,computeChildBounds:o.PropTypes.func,readyToMeasureDeferred:o.PropTypes.shape({then:o.PropTypes.func.isRequired,reject:o.PropTypes.func.isRequired}).isRequired},getDefaultProps:function(){var e=new s;return e.resolve(),{animateHeight:!1,readyToMeasureDeferred:e,computeChildBounds:function(e){var t=e.firstElementChild;return{width:t.offsetWidth+1,height:t.offsetHeight+1}}}},getInitialState:function(){return{visible:!1,marginBottomPx:0,zoomed:!0}},componentDidMount:function(){var e=this;this._node=i.findDOMNode(this),this.props.readyToMeasureDeferred.then(function(){e.isMounted()&&(e.scaleChildToFit(!1),window.MutationObserver&&(e._observer=new MutationObserver(function(t){if(e.isMounted())for(var r=t,n=Array.isArray(r),o=0,r=n?r:r[Symbol.iterator]();;){var i;if(n){if(o>=r.length)break;i=r[o++]}else{if(o=r.next(),o.done)break;i=o.value}var s=i;if(s.target!==e._node){e.scaleChildToFit(e.state.zoomed);break}}}),e._observer.observe(e._node,{childList:!0,subtree:!0,attributes:!0})),window.addEventListener("resize",e.reset))})},componentWillUnmount:function(){window.removeEventListener("resize",this.reset),this._observer&&this._observer.disconnect()},reset:function(){var e=this;this.isMounted()&&this.state.visible&&(this._originalWidth=null,this.setState({visible:!1,compactHeight:null,expandedHeight:null,zoomed:!0},function(){e.scaleChildToFit(!1)}))},stopPropagationIfZoomed:function(e){this.state.zoomed||e.stopPropagation()},scaleChildToFit:function(e){var t=this,r={width:this._node.offsetWidth,height:this._node.offsetHeight},n=this.props.computeChildBounds(this._node,r),o=n.width,i=n.height;if(o>r.width){var s=r.width/o;this.setState({scale:s,zoomed:e,compactHeight:Math.ceil(s*i),expandedHeight:i}),setTimeout(function(){t.isMounted()&&t.setState({visible:!0})})}else this.setState({visible:!0})},handleClickIfZoomed:function(e){this.state.zoomed||(e.stopPropagation(),this.handleClick())},handleClick:function(){this.setState({zoomed:!this.state.zoomed})},render:function(){var e=this.state,t=e.visible,r=e.scale,i=e.compactHeight,s=e.expandedHeight,a=e.zoomed,l=this.props.animateHeight,c=l?"opacity transform height":"opacity transform",u=t?{transitionProperty:c,WebkitTransitionProperty:c,msTransitionProperty:c,transitionDuration:"0.3s",WebkitTransitionDuration:"0.3s",msTransitionDuration:"0.3s",transitionTimingFunction:"ease-out",WebkitTransitionTimingfunction:"ease-out",msTransitionTmingFunction:"ease-out"}:{},p=t?"":" translate(0, 8px)",h=a?"scale(1, 1) "+p:"scale("+r+", "+r+") "+p,d=n({display:"block",width:"100%",height:a?s:i,transform:h,WebkitTransform:h,msTransform:h,transformOrigin:"0 0",WebkitTransformOrigin:"0 0",msTransformOrigin:"0 0",opacity:t?1:0,WebkitTapHighlightColor:"transparent"},u);return o.createElement("span",{onClick:this.handleClick,onClickCapture:this.handleClickIfZoomed,onTouchCancelCapture:this.stopPropagationIfZoomed,onTouchEndCapture:this.stopPropagationIfZoomed,onTouchStartCapture:this.stopPropagationIfZoomed,style:d},this.props.children)}});e.exports=a},function(e,t,r){"use strict";var n=r(36),o=n.pureXsMax,i=n.pureSmMin,s=n.pureSmMax,a=n.pureMdMin,l=n.pureMdMax,c=n.pureLgMin,u=n.pureLgMax,p=n.pureXlMin;e.exports={xs:"@media screen and (max-width: "+o+")",sm:"@media screen and (min-width: "+i+") and "+("(max-width: "+s+")"),md:"@media screen and (min-width: "+a+") and "+("(max-width: "+l+")"),lg:"@media screen and (min-width: "+c+") and "+("(max-width: "+u+")"),xl:"@media screen and (min-width: "+p+"))",smOrSmaller:"@media screen and (max-width: "+s+")",mdOrSmaller:"@media screen and (max-width: "+l+")",lgOrSmaller:"@media screen and (max-width: "+u+")",smOrLarger:"@media screen and (min-width: "+i+")",mdOrLarger:"@media screen and (min-width: "+a+")",lgOrLarger:"@media screen and (min-width: "+c+")"}},function(e,t,r){"use strict";var n,o,i,s,a=r(13),l=a.StyleSheet,c=r(34),u=r(36),p=u.zIndexAboveScratchpad,h=u.zIndexInteractiveComponent,d=u.radioBorderColor,f=u.checkedColor,m=u.circleSize;e.exports=l.create({perseusInteractive:{zIndex:h,position:"relative"},aboveScratchpad:{position:"relative",zIndex:p},blankBackground:{backgroundColor:"#FDFDFD"},perseusSrOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1},responsiveLabel:(n={},n[c.smOrSmaller]={fontSize:14,lineHeight:1.3},n[c.md]={fontSize:17,lineHeight:1.4},n[c.lgOrLarger]={fontSize:20,lineHeight:1.4},n),responsiveInput:(o={},o[c.lgOrSmaller]={display:"inline-block",WebkitAppearance:"none",appearance:"none",backgroundColor:"#fff",border:"2px solid #fff",boxShadow:"0 0px 0px 1px "+d,outline:"none",boxSizing:"border-box",flexShrink:0,marginBottom:0,marginLeft:15,marginRight:15,marginTop:0,height:m,width:m},o),responsiveRadioInput:(i={},i[c.lgOrSmaller]={borderRadius:"50%",":checked":{backgroundColor:f,border:"2px solid #fff",borderRadius:"50%",boxShadow:"0 0px 0px 2px "+f,height:m,width:m}},i),responsiveMobileRadioInput:(s={},s[c.lgOrSmaller]={display:"none"},s),disableTextSelection:{userSelect:"none"}})},function(e,t,r){"use strict";e.exports={baseFontFamily:"'Proxima Nova',sans-serif",boldFontFamily:"'Proxima Nova Semibold',sans-serif",green:"#76A005",kaGreen:"#71B307",blue:"#1C758A",gray:"#AAAAAA",red:"#FFBABA",questionWidth:"480px",grayLight:"#AAAAAA",grayLighter:"#DDDDDD",learnstormBlue:"#4898FC",white:"#FFFFFF",gray98:"#FAFAFA",gray97:"#F6F7F7",gray95:"#F0F1F2",gray90:"#E3E5E6",gray85:"#D6D8DA",gray76:"#BABEC2",gray68:"#888D93",gray41:"#626569",gray25:"#3B3e40",gray17:"#21242c",black:"#000000",pureSmMin:"568px",pureMdMin:"768px",pureLgMin:"1024px",pureXlMin:"1280px",pureXsMax:"567px",pureSmMax:"767px",pureMdMax:"1023px",pureLgMax:"1279px",tableBackgroundAccent:"#F9F9F9",satBlue:"#0084CE",satSelectedBackgroundColor:"#E4F3F9",satActiveBackgroundColor:"#D0EDF4",satCorrectColor:"#009900",satCorrectBorderColor:"#00CC00",satCorrectBackgroundColor:"#E4F7E4",satIncorrectColor:"#990000",satIncorrectBorderColor:"#CC5252",satIncorrectBackgroundColor:"#F2EBEB",zIndexScratchPad:"1",zIndexAboveScratchpad:"2",zIndexInteractiveComponent:"3",zIndexCurrentlyDragging:"4",zIndexCalculator:"5",phoneMargin:16,negativePhoneMargin:-16,hintBorderWidth:4,baseUnitPx:16,interactiveSizes:{defaultBoxSize:400,defaultBoxSizeSmall:288},circleSize:20},e.exports.radioBorderColor=e.exports.gray76,e.exports.checkedColor=e.exports.kaGreen},function(e,t,r){"use strict";e.exports=function(e){return e.replace(/\{align[*]?\}/g,"{aligned}")}},function(e,t,r){"use strict";var n=r(90),o=r(10),i=r(11),s=r(91),a=[],l=[],c=!1,u=function(e,t){a.push(e),l.push(t),c||(c=!0,setTimeout(h,0))},p=function(e){if("undefined"!=typeof MathJax)e();else{if("undefined"==typeof Khan||!Khan.mathJaxLoaded)throw new Error("MathJax wasn't loaded before it was needed by <TeX/>");Khan.mathJaxLoaded.then(e)}},h=function(){p(function(){MathJax.Hub.Queue(function(){var e=MathJax.Hub.elementScripts;MathJax.Hub.elementScripts=function(e){return a};try{return MathJax.Hub.Process(null,function(){for(var e=l,t=Array.isArray(e),r=0,e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if(r=e.next(),r.done)break;n=r.value}var o=n;o()}a=[],l=[],c=!1})}catch(e){throw e}finally{MathJax.Hub.elementScripts=e}})})},d={border:0,clip:"rect(0,0,0,0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px"},f=o.createClass({displayName:"TeX",propTypes:{children:o.PropTypes.node,onClick:o.PropTypes.func,onRender:o.PropTypes.func,style:o.PropTypes.any},mixins:[n],getDefaultProps:function(){return{onRender:function(){},onClick:null}},componentDidMount:function(){var e=this;if(this._root=i.findDOMNode(this),this.refs.katex.childElementCount>0)return void this.props.onRender(this._root);var t=this.props.children;this.setScriptText(t),u(this.script,function(){return e.props.onRender(e._root)})},componentDidUpdate:function(e,t){var r=this;if(this.refs.katex.childElementCount>0)return this.script&&p(function(){var e=MathJax.Hub.getJaxFor(r.script);e&&e.Remove()}),void this.props.onRender();var n=this.props.children;this.script?p(function(){MathJax.Hub.Queue(function(){var e=MathJax.Hub.getJaxFor(r.script);return e?e.Text(n,r.props.onRender):(r.setScriptText(n),void u(r.script,r.props.onRender))})}):(this.setScriptText(n),u(this.script,this.props.onRender))},componentWillUnmount:function(){var e=this;this.script&&p(function(){var t=MathJax.Hub.getJaxFor(e.script);t&&t.Remove()})},setScriptText:function(e){this.script||(this.script=document.createElement("script"),this.script.type="math/tex",i.findDOMNode(this.refs.mathjax).appendChild(this.script)),"text"in this.script?this.script.text=e:this.script.textContent=e},render:function(){var e=null;try{e={__html:katex.renderToString(this.props.children)}}catch(e){if(e.__proto__!==katex.ParseError.prototype)throw e}var t=null;if(e)try{t={__html:s.renderString(this.props.children)}}catch(e){}return o.createElement("span",{style:this.props.style,onClick:this.props.onClick},o.createElement("span",{ref:"mathjax"}),o.createElement("span",{ref:"katex",dangerouslySetInnerHTML:e,"aria-hidden":!!e&&!!t}),o.createElement("span",{dangerouslySetInnerHTML:t,style:d}))}});e.exports=f},,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(10),o=r(9),i=r(80),s=r(21),a=r(93),l="–",c=n.createClass({displayName:"PassageRef",mixins:[a,i],propTypes:{passageNumber:n.PropTypes.number,referenceNumber:n.PropTypes.number,summaryText:n.PropTypes.string},getDefaultProps:function(){return{passageNumber:1,referenceNumber:1,summaryText:""}},getInitialState:function(){return{lineRange:null,content:null}},shouldComponentUpdate:function(e,t){return!o.isEqual(this.props,e)||!o.isEqual(this.state,t)},render:function(){var e,t=this.state.lineRange;e=t?t[0]===t[1]?$_({lineNumber:t[0]},"line %(lineNumber)s"):$_({lineRange:t[0]+l+t[1]},"lines %(lineRange)s"):$_({lineRange:"?"+l+"?"},"lines %(lineRange)s");var r;if(this.props.summaryText){var o=s.parseInline(this.props.summaryText);r=n.createElement("span",{"aria-hidden":!0}," ","(“",s.basicOutput(o),"”)")}else r=null;return n.createElement("span",null,e,r,t&&n.createElement("div",{className:"perseus-sr-only"},this.state.content))},componentDidMount:function(){this._deferredUpdateRange(),this._throttledUpdateRange=o.throttle(this._deferredUpdateRange,500),window.addEventListener("resize",this._throttledUpdateRange)},componentDidUpdate:function(){this._deferredUpdateRange()},componentWillUnmount:function(){window.removeEventListener("resize",this._throttledUpdateRange)},_deferredUpdateRange:function(){o.defer(this._updateRange)},_updateRange:function(){var e=this.props.interWidgets("passage "+this.props.passageNumber)[0],t=null;e&&(t=e.getReference(this.props.referenceNumber)),this.isMounted()&&(t?this.setState({lineRange:[t.startLine,t.endLine],content:t.content}):this.setState({lineRange:null,content:null}))},simpleValidate:function(e){return c.validate(this.getUserInput(),e)}});o.extend(c,{validate:function(e,t){return{type:"points",earned:0,total:0,message:null}}}),e.exports={name:"passage-ref",displayName:"PassageRef",defaultAlignment:"inline",widget:c,transform:function(e){return o.pick(e,"passageNumber","referenceNumber","summaryText")},version:{major:0,minor:1}}},,,,,,,,,,,function(e,t,r){"use strict";var n=r(14),o=r(9),i=r(78),s=Math.pow(2,-42),a={predicate:{defaultForms:"integer, proper, improper, mixed, decimal",createValidatorFunctional:function(e,t){t=o.extend({simplify:"required",ratio:!1,forms:a.predicate.defaultForms},t);var r=void 0;r=o.isArray(t.forms)?t.forms:t.forms.split(/\s*,\s*/),void 0===t.inexact&&(t.maxError=0),t.maxError=+t.maxError+s,o.contains(r,"percent")&&(r=o.without(r,"percent"),r.push("percent"));var l=function(e){e=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").replace(/(^\s*)|(\s*$)/gi,"");var r=e.match(/^([+-]?\d+)\s*\/\s*([+-]?\d+)$/),n=parseInt(e,10);if(r){var o=parseFloat(r[1]),s=parseFloat(r[2]),a=s>0&&(t.ratio||"1"!==r[2])&&1===i.getGCD(o,s);return[{value:o/s,exact:a}]}return isNaN(n)||""+n!==e?[]:[{value:n,exact:!0}]},c={integer:function(e){var t=c.decimal(e),r=c.decimal(e,1);return null!=t[0].value&&t[0].value===r[0].value||null!=t[1].value&&t[1].value===r[1].value?t:[]},proper:function(e){return n.map(l(e),function(e){return Math.abs(e.value)<1?[e]:[]})},improper:function(e){return n.map(l(e),function(e){return Math.abs(e.value)>=1?[e]:[]})},pi:function(e){var t=void 0,r=[];if(e=e.replace(/\u2212/,"-"),t=e.match(/^([+-]?)\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))r=[{value:parseFloat(t[1]+"1"),exact:!0}];else if(t=e.match(/^([+-]?\s*\d+\s*(?:\/\s*[+-]?\s*\d+)?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))r=l(t[1]);else if(t=e.match(/^([+-]?)\s*(\d+)\s*([+-]?\d+)\s*\/\s*([+-]?\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){var s=parseFloat(t[1]+"1"),u=parseFloat(t[2]),p=parseFloat(t[3]),h=parseFloat(t[4]),d=p<h&&1===i.getGCD(p,h);r=[{value:s*(u+p/h),exact:d}]}else if(t=e.match(/^([+-]?\s*\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\s*\d+))?$/i))r=l(t[1]+"/"+t[3]);else if(t=e.match(/^([+-]?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\d+))?$/i))r=l(t[1]+"1/"+t[3]);else if("0"===e)r=[{value:0,exact:!0}];else{if(!(t=e.match(/^(.+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i))){r=o.reduce(a.predicate.defaultForms.split(/\s*,\s*/),function(t,r){return t.concat(c[r](e))},[]);var f=!1,m=parseFloat(e);if(isNaN(m)||m===parseInt(e))e.match(/\/\s*7/)&&(f=!0);else{var v=Math.PI/12,g=v*Math.round(m/v);Math.abs(m-g)<.01&&(f=!0)}return f&&o.each(r,function(e){e.piApprox=!0}),r}r=c.decimal(t[1])}var y=Math.PI;return e.match(/\\?tau|t|\u03c4/)&&(y=2*Math.PI),e.match(/pau/)&&(y=1.5*Math.PI),n.each(r,function(e,t){t.value*=y}),r},coefficient:function(e){var t=[];return e=e.replace(/\u2212/,"-"),""===e?t=[{value:1,exact:!0}]:"-"===e&&(t=[{value:-1,exact:!0}]),t},log:function(e){var t=void 0,r=[];return e=e.replace(/\u2212/,"-"),e=e.replace(/[ \(\)]/g,""),(t=e.match(/^log\s*(\S+)\s*$/i))?r=c.decimal(t[1]):"0"===e&&(r=[{value:0,exact:!0}]),r},percent:function(e){
e=n.trim(e);var t=!1;e.indexOf("%")===e.length-1&&(e=n.trim(e.substring(0,e.length-1)),t=!0);var r=c.decimal(e);return n.each(r,function(e,r){r.exact=t,r.value=r.value/100}),r},mixed:function(e){var t=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?)(\d+)\s+(\d+)\s*\/\s*(\d+)$/);if(t){var r=parseFloat(t[1]+"1"),n=parseFloat(t[2]),o=parseFloat(t[3]),s=parseFloat(t[4]),a=o<s&&1===i.getGCD(o,s);return[{value:r*(n+o/s),exact:a}]}return[]},decimal:function(e,r){null==r&&(r=1e10);var o=function(e){e=n.trim(e);var o=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?(?:\d{1,3}(?:[, ]?\d{3})*\.?|\d{0,3}(?:[, ]?\d{3})*\.(?:\d{3}[, ]?)*\d{1,3}))$/),i=e.match(/^0[0,]*,/);if(o&&!i){var s=parseFloat(o[1].replace(/[, ]/g,""));return void 0===t.inexact&&(s=Math.round(s*r)/r),s}},i=function(e){return e=e.replace(/([\.,])/g,function(e,t){return"."===t?",":"."}),o(e)};return[{value:o(e),exact:!0},{value:i(e),exact:!0}]}};return function(i){var s=null!=t.fallback?""+t.fallback:"";i=n.trim(i)||s;var a={empty:""===i,correct:!1,message:null,guess:i};if(n.each(r,function(r,n){for(var o=c[n](i),s=0,l=o.length;s<l;s++){var u=o[s].value,p=o[s].exact,h=o[s].piApprox;if(e(u,t.maxError))return p||"optional"===t.simplify?(a.correct=!0,a.message=t.message||null,a.empty=!1):"percent"===n?(a.empty=!0,a.message=i18n._("Your answer is almost correct, but it is missing a <code>\\%</code> at the end.")):("enforced"!==t.simplify&&(a.empty=!0),a.message=i18n._("Your answer is almost correct, but it needs to be simplified.")),!1;h&&e(u,Math.abs(.001*u))&&(a.empty=!0,a.message=i18n._("Your answer is close, but you may have approximated pi. Enter your answer as a multiple of pi, like <code>12\\ \\text{pi}</code> or <code>2/3\\ \\text{pi}</code>"))}}),!1===a.correct){var l=!1;if(o.each(c,function(e){var t=o.any(e(i),function(e){return null!=e.value&&!o.isNaN(e.value)});t&&(l=!0)}),!l)return a.empty=!0,a.message=i18n._("We could not understand your answer. Please check your answer for extra text or symbols."),a}return a}}},number:{convertToPredicate:function(e,t){var r=parseFloat(n.trim(e));return[function(e,t){return Math.abs(e-r)<t},n.extend({},t,{type:"predicate"})]},createValidatorFunctional:function(e,t){var r;return(r=a.predicate).createValidatorFunctional.apply(r,a.number.convertToPredicate(e,t))}},expression:{parseSolution:function(e,t){var r=KAS.parse(e,t);if(!r.parsed)throw new Error("The provided solution ("+e+") didn't parse.");if(t.simplified&&!r.expr.isSimplified())throw new Error("The provided solution ("+e+") isn't fully expanded and simplified.");return r=r.expr},createValidatorFunctional:function(e,t){return function(r){var n={empty:!1,correct:!1,message:null,guess:r};if(!r)return n.empty=!0,n;var o=KAS.parse(r,t);if(!o.parsed)return n.empty=!0,n;"string"==typeof e&&(e=a.expression.parseSolution(e,t));var i=KAS.compare(o.expr,e,t);if(i.equal)n.correct=!0;else if(i.message)n.message=i.message;else{var s=KAS.parse(r.replace(/[xX]/g,"*"),t);if(s.parsed){var l=KAS.compare(s.expr,e,t);l.equal?(n.empty=!0,n.message="I'm a computer. I only understand multiplication if you use an asterisk (*) as the multiplication sign."):l.message&&(n.message=l.message+" Also, I'm a computer. I only understand multiplication if you use an asterisk (*) as the multiplication sign.")}}return n}}}};e.exports=a},function(e,t,r){"use strict";var n=r(10),o=r(108),i=[],s=n.createClass({displayName:"StubTagEditor",propTypes:{value:n.PropTypes.arrayOf(n.PropTypes.string),onChange:n.PropTypes.func.isRequired},getDefaultProps:function(){return{value:i}},render:function(){return n.createElement("div",null,n.createElement("div",{style:{fontSize:14}},"Tags:"),n.createElement(o,{options:this.props.value||i,layout:"vertical",onChange:this.props.onChange}))}});e.exports=s},function(e,t,r){"use strict";var n=r(36),o=n.interactiveSizes,i=r(10),s=512,a=688,l={SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"};e.exports={containerSizeClass:l,containerSizeClassPropType:i.PropTypes.oneOf(Object.values(l)),getClassFromWidth:function(e){return e?e<=s?l.SMALL:e<=a?l.MEDIUM:l.LARGE:l.MEDIUM},getInteractiveBoxFromSizeClass:function(e){return e===l.SMALL?[o.defaultBoxSizeSmall,o.defaultBoxSizeSmall]:[o.defaultBoxSize,o.defaultBoxSize]}}},function(e,t,r){"use strict";var n={Keypad:r(119),KeypadInput:r(121)},o=r(110),i=o.KeypadTypes,s={KeypadTypes:i},a=r(120),l=a.keypadConfigurationPropType,c=a.keypadElementPropType,u={keypadConfigurationPropType:l,keypadElementPropType:c};e.exports={components:n,consts:s,propTypes:u}},function(e,t,r){"use strict";var n=r(10),o=r(79),i=r(9),s=r(17).ClassNames,a=r(82),l=r(8),c=r(103),u=r(104),p=r(16).captureScratchpadTouchStart,h="math",d="text",f="tex",m=n.createClass({displayName:"InputWithExamples",propTypes:{type:n.PropTypes.oneOf([h,d,f]),value:n.PropTypes.string,onChange:n.PropTypes.func.isRequired,className:n.PropTypes.string,examples:n.PropTypes.arrayOf(n.PropTypes.string).isRequired,shouldShowExamples:n.PropTypes.bool,convertDotToTimes:n.PropTypes.bool,buttonSet:n.PropTypes.string,buttonsVisible:n.PropTypes.oneOf(["always","never","focused"]),labelText:n.PropTypes.string,onFocus:n.PropTypes.func,onBlur:n.PropTypes.func,disabled:n.PropTypes.bool,id:n.PropTypes.string.isRequired},getDefaultProps:function(){return{type:d,shouldShowExamples:!0,onFocus:function(){},onBlur:function(){},disabled:!1}},getInitialState:function(){return{focused:!1,showExamples:!1}},_getUniqueId:function(){return"input-with-examples-"+btoa(this.props.id).replace(/=/g,"")},_getInputClassName:function(){if(this.props.type===f)return this.props.className;var e=s.INPUT+" "+s.INTERACTIVE;return this.state.focused&&(e+=" "+s.FOCUSED),this.props.className&&(e+=" "+this.props.className),e},_getPropsForInputType:function(){var e={"aria-describedby":this._getUniqueId(),ref:"input",className:this._getInputClassName(),labelText:this.props.labelText,value:this.props.value,onFocus:this._handleFocus,onBlur:this._handleBlur,disabled:this.props.disabled};return this.props.type===f?e:(i.extend(e,{buttonSet:this.props.buttonSet,buttonsVisible:this.props.buttonsVisible,onChange:this.props.onChange,onTouchStart:p}),this.props.type===h?i.extend({convertDotToTimes:this.props.convertDotToTimes},e):this.props.type===d?i.extend({autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:"false"},e):void 0)},_getComponentForInputType:function(){switch(this.props.type){case f:return u;case h:return a;case d:return c;default:return null}},_renderInput:function(){var e=this._getPropsForInputType(),t=this._getComponentForInputType();return n.createElement(t,e)},render:function(){var e=this._renderInput();if(this.props.type===f)return e;var t=i.map(this.props.examples,function(e){return"- "+e}).join("\n"),r=this.props.shouldShowExamples&&this.state.showExamples;return n.createElement(o,{ref:"tooltip",className:"perseus-formats-tooltip preview-measure",horizontalPosition:"left",horizontalAlign:"left",verticalPosition:"bottom",arrowSize:10,borderColor:"#ccc",show:r},e,n.createElement("div",{id:this._getUniqueId()},n.createElement(l,{content:t})))},_handleFocus:function(){this.props.onFocus(),this.setState({focused:!0,showExamples:!0})},show:function(){this.setState({showExamples:!0})},hide:function(){this.setState({showExamples:!1})},_handleBlur:function(){this.props.onBlur(),this.setState({focused:!1,showExamples:!1})},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},handleChange:function(e){this.props.onChange(e.target.value)}});e.exports=m},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(10),s=r(73).components.KeypadInput,a=r(73).consts.KeypadTypes,l=r(73).propTypes.keypadElementPropType,c=i.createClass({displayName:"SimpleKeypadInput",propTypes:{keypadElement:l,onFocus:i.PropTypes.func,value:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.number])},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},getValue:function(){return this.props.value},render:function(){var e=this,t=this.props,r=t.keypadElement,l=t.onFocus,c=t.value,u=n(t,["keypadElement","onFocus","value"]);return i.createElement(s,o({ref:"input",keypadElement:r,onFocus:function(){r?r.configure({keypadType:a.FRACTION},function(){e.isMounted()&&l&&l()}):l&&l()},value:null==c?"":""+c},u))}});e.exports=c},function(e,t,r){"use strict";function n(e,t){for(var r=0,n=t,o=e.length;n<o;n++){var i=e[n];if("{"===i?r++:"}"===i&&r--,r<0)return n}return e.length}function o(e,t,r){var o=e.indexOf("{",t),i=o+1,a=n(e,i),l=e.substring(i,a),c=s(l,r);return{endpoint:a,expression:c}}function i(e,t){var r="\\dfrac",n="\\frac",o=e.indexOf(n,t),i=e.indexOf(r,t);return o>-1&&i>-1?Math.min(o,i):o>-1?o:i>-1?i:-1}function s(e,t){for(var r="",n=0,s=i(e,n);s>-1;){r+=e.substring(n,s),n=s;var a=o(e,n,t);n=a.endpoint+1;var l=o(e,n,t);n=l.endpoint+1,r.length&&(r+=" "),r+=t(a.expression,l.expression),s=i(e,n)}return r+=e.slice(n)}function a(e){function t(e){return e.indexOf("\\frac")>-1||e.indexOf("\\dfrac")>-1}var r=function(e,r){var n;return n=t(e)||t(r)?"\\dfrac":"\\frac",n+" {"+e+"}{"+r+"}"};return s(e,r)}function l(e){var t=function(e,t){return e+"/"+t};return s(e,t)}e.exports={parseTex:l,modifyTex:a}},function(e,t,r){"use strict";var n=r(10),o=r(9),i=n.createClass({displayName:"PossibleAnswers",propTypes:{answers:n.PropTypes.arrayOf(n.PropTypes.string)},render:function(){var e=o.uniq(this.props.answers),t=o.map(e,function(e){return n.createElement("dd",{key:e},e)});return n.createElement("dl",{className:"perseus-possible-answers"},n.createElement("dt",null,"Correct Answer"),t)}});e.exports=i},function(e,t,r){"use strict";var n=r(9),o=r(123).number,i={cleanMath:function(e){return"string"==typeof e?e.replace(/\+\s*-/g,"- ").replace(/-\s*-/g,"+ ").replace(/\^1/g,""):e},bound:function(e){return 0===e?e:e<0?-i.bound(-e):Math.max(1e-6,Math.min(e,1e20))},factorial:function(e){return e<=1?e:e*i.factorial(e-1)},getGCD:function(e,t){if(arguments.length>2){var r=[].slice.call(arguments,1);return i.getGCD(e,i.getGCD.apply(i,r))}var n=void 0;for(e=Math.abs(e),t=Math.abs(t);t;)n=e%t,e=t,t=n;return e},getLCM:function(e,t){if(arguments.length>2){var r=[].slice.call(arguments,1);return i.getLCM(e,i.getLCM.apply(i,r))}return Math.abs(e*t)/i.getGCD(e,t)},primes:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],isPrime:function(e){if(e<=1)return!1;if(e<101)return!!$.grep(i.primes,function(t,r){return Math.abs(t-e)<=.5}).length;if(e<=1||e>2&&e%2===0)return!1;for(var t=3,r=Math.sqrt(e);t<=r;t+=2)if(e%t===0)return!1;return!0},getPrimeFactorization:function(e){if(1===e)return[];if(i.isPrime(e))return[e];for(var t=Math.sqrt(e),r=2;r<=t;r++)if(e%r===0)return $.merge(i.getPrimeFactorization(r),i.getPrimeFactorization(e/r))},roundToNearest:function(e,t){return Math.round(t/e)*e},roundTo:function(e,t){var r=Math.pow(10,e).toFixed(5);return Math.round((t*r).toFixed(5))/r},toFixedApprox:function(e,t){var r=e.toFixed(t);return o.equal(+r,e)?r:"\\approx "+r},roundToApprox:function(e,t){var r=i.roundTo(t,e);return o.equal(r,e)?String(r):i.toFixedApprox(e,t)},toFraction:function(e,t){if(null==t&&(t=Math.pow(2,-46)),e<0||e>1){var r=e%1;r+=r<0?1:0;var n=i.toFraction(r,t);return n[0]+=Math.round(e-r)*n[1],n}if(Math.abs(Math.round(Number(e))-e)<=t)return[Math.round(e),1];for(var o=0,s=1,a=1,l=1,c=1,u=2;;){if(Math.abs(Number(c/u)-e)<=t)return[c,u];c/u<e?(o=c,s=u):(a=c,l=u),c=o+a,u=s+l}},getNumericFormat:function(e){if(e=$.trim(e),e=e.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1"),e.match(/^[+-]?\d+$/))return"integer";if(e.match(/^[+-]?\d+\s+\d+\s*\/\s*\d+$/))return"mixed";var t=e.match(/^[+-]?(\d+)\s*\/\s*(\d+)$/);return t?parseFloat(t[1])>parseFloat(t[2])?"improper":"proper":e.replace(/[,. ]/g,"").match(/^\d+$/)?"decimal":e.match(/(pi?|\u03c0|t(?:au)?|\u03c4|pau)/)?"pi":null},toNumericString:function(e,t){if(null==e)return"";if(0===e)return"0";if("percent"===t)return 100*e+"%";if("pi"===t){var r=o.toFraction(e/Math.PI),i=Math.abs(r[0]),s=r[1];if(o.isInteger(i)){var a=e<0?"-":"",l="π";return a+(1===i?"":i)+l+(1===s?"":"/"+s)}}if(n(["proper","improper","mixed","fraction"]).contains(t)){var c=o.toFraction(e),u=Math.abs(c[0]),p=c[1],h=e<0?"-":"";if(1===p)return h+u;if("mixed"===t){var d=u%p,f=(u-d)/p;return h+(f?f+" ":"")+d+"/"+p}return h+u+"/"+p}return String(e)}};e.exports=i},function(e,t,r){"use strict";var n=r(10),o=r(11),i=r(9),s=10,a=n.createClass({displayName:"Triangle",propTypes:{color:n.PropTypes.string.isRequired,left:n.PropTypes.number.isRequired,top:n.PropTypes.number.isRequired,width:n.PropTypes.number.isRequired,height:n.PropTypes.number.isRequired,horizontalDirection:n.PropTypes.oneOf(["left","right"]).isRequired,verticalDirection:n.PropTypes.oneOf(["top","bottom"]).isRequired},render:function(){var e,t,r,o,i=this.props.width+"px solid transparent";"right"===this.props.horizontalDirection?e=i:t=i;var s=this.props.height+"px solid "+this.props.color;return"top"===this.props.verticalDirection?r=s:o=s,n.createElement("div",{style:{display:"block",height:0,width:0,position:"absolute",left:this.props.left,top:this.props.top,borderLeft:e,borderRight:t,borderTop:r,borderBottom:o}})}}),l=n.createClass({displayName:"TooltipArrow",propTypes:{position:n.PropTypes.string,visibility:n.PropTypes.string,left:n.PropTypes.number,top:n.PropTypes.number,color:n.PropTypes.string.isRequired,border:n.PropTypes.string.isRequired,width:n.PropTypes.number.isRequired,height:n.PropTypes.number.isRequired,horizontalDirection:n.PropTypes.oneOf(["left","right"]).isRequired,verticalDirection:n.PropTypes.oneOf(["top","bottom"]).isRequired},getDefaultProps:function(){return{position:"relative",visibility:"visible",left:0,top:0}},render:function(){var e="top"===this.props.verticalDirection,t=e?0:1,r=e?0:-1;return n.createElement("div",{style:{display:"block",position:this.props.position,visibility:this.props.visibility,left:this.props.left,top:this.props.top,width:this.props.width+2,height:this.props.height+1,marginTop:-1,marginBottom:-2,zIndex:s}},n.createElement(a,{horizontalDirection:this.props.horizontalDirection,verticalDirection:this.props.verticalDirection,color:this.props.border,left:0,top:r,width:this.props.width+2,height:this.props.height+2}),n.createElement(a,{horizontalDirection:this.props.horizontalDirection,verticalDirection:this.props.verticalDirection,color:this.props.color,left:1,top:t,width:this.props.width,height:this.props.height}))}}),c={top:{top:"-100%"},bottom:{top:0}},u={left:{targetLeft:0},right:{targetLeft:"100%"}},p={left:{tooltipLeft:0,arrowLeft:function(e){return 0}},right:{tooltipLeft:"-100%",arrowLeft:function(e){return-e-2}}},h=n.createClass({displayName:"Tooltip",propTypes:{show:n.PropTypes.bool.isRequired,className:n.PropTypes.string,arrowSize:n.PropTypes.number,borderColor:n.PropTypes.string,verticalPosition:n.PropTypes.oneOf(i.keys(c)),horizontalPosition:n.PropTypes.oneOf(i.keys(u)),horizontalAlign:n.PropTypes.oneOf(i.keys(p)),children:n.PropTypes.arrayOf(n.PropTypes.element).isRequired},getDefaultProps:function(){return{className:"",arrowSize:10,borderColor:"#ccc",verticalPosition:"bottom",horizontalPosition:"left",horizontalAlign:"left"}},getInitialState:function(){return{height:null}},componentWillReceiveProps:function(){this.setState({height:null})},render:function(){var e="top"===this.props.verticalPosition;return n.createElement("span",null,e&&this._renderToolTipDiv(e),n.createElement("div",null,i.first(this.props.children)),!e&&this._renderToolTipDiv())},_renderToolTipDiv:function(e){var t,r,o=i.extend({},u[this.props.horizontalPosition],p[this.props.horizontalAlign],c[this.props.verticalPosition]);return e?(t=n.createElement(l,{verticalDirection:"top",horizontalDirection:this.props.horizontalAlign,position:"absolute",color:"white",border:this.props.borderColor,left:o.arrowLeft(this.props.arrowSize),top:-this.props.arrowSize+2,width:this.props.arrowSize,height:this.props.arrowSize,zIndex:s}),r=n.createElement(l,{verticalDirection:"top",horizontalDirection:this.props.horizontalAlign,visibility:"hidden",color:"white",border:this.props.borderColor,left:o.arrowLeft(this.props.arrowSize),top:-1,width:this.props.arrowSize,height:this.props.arrowSize,zIndex:s})):(t=n.createElement(l,{verticalDirection:"bottom",horizontalDirection:this.props.horizontalAlign,color:"white",border:this.props.borderColor,left:o.arrowLeft(this.props.arrowSize),top:-1,width:this.props.arrowSize,height:this.props.arrowSize,zIndex:s}),r=null),n.createElement("div",{style:{position:"relative",height:0,display:this.props.show?"block":"none"}},n.createElement("div",{ref:"tooltipContainer",className:"tooltipContainer",style:{position:"absolute",height:this.state.height||void 0,left:o.targetLeft}},t,n.createElement("div",{className:this.props.className,ref:"tooltipContent",style:{position:"relative",top:o.top,left:o.tooltipLeft,border:"1px solid "+this.props.borderColor,WebkitBoxShadow:"0 1px 3px "+this.props.borderColor,MozBoxShadow:"0 1px 3px "+this.props.borderColor,boxShadow:"0 1px 3px "+this.props.borderColor,zIndex:s-1}},i.rest(this.props.children)),r))},componentDidMount:function(){this._updateHeight()},componentDidUpdate:function(){this._updateHeight()},_updateHeight:function(){var e=o.findDOMNode(this.refs.tooltipContainer).offsetHeight;e!==this.state.height&&this.setState({height:e})}});e.exports=h},function(e,t,r){"use strict";var n=r(10),o=r(9),i=r(111),s='Usage:\n  this.change({propName: 5}, callback);\n  this.change("propName", 5, callback);\n  this.change("propName")',a=function(e,t,r){var n=o.omit(e.props,i),s=o.extend(n,t);e.props.onChange(s,r)},l=function e(t,r,n,i){if(void 0===n)return o.partial(e,t,r);var s={};s[r]=n,a(t,s,i)},c=function(e,t,r){if(o.isObject(e)&&void 0===r)return r=t,a(this,e,r);if(o.isString(e))return l(this,e,t,r);throw new Error("Invalid types sent to this.change(): "+o.toArray(arguments).join()+"\n"+s)},u={propTypes:{onChange:n.PropTypes.func.isRequired},change:c};e.exports=u},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=function(e){var t=e.path,r=e.width,i=e.height,s=e.style,a=void 0===s?{}:s;return o.createElement("svg",{style:n({verticalAlign:"middle"},a),width:r/i+"em",height:"1em",viewBox:"0 0 "+r+" "+i},o.createElement("path",{d:t,fill:"currentColor"}))};i.propTypes={path:o.PropTypes.string.isRequired,height:o.PropTypes.number.isRequired,width:o.PropTypes.number.isRequired,style:o.PropTypes.object},e.exports=i},function(e,t,r){"use strict";var n=r(12),o=r(10),i=r(11),s=r(9),a=r(83),l=window.MathQuill,c=o.PropTypes,u=o.createClass({displayName:"MathInput",propTypes:{value:c.string,onChange:c.func.isRequired,convertDotToTimes:c.bool,buttonsVisible:c.oneOf(["always","never","focused"]),buttonSets:a.buttonSetsType.isRequired,labelText:o.PropTypes.string,onFocus:c.func,onBlur:c.func},render:function(){var e=n({"perseus-math-input":!0,"mq-editable-field":!0,"mq-math-mode":!0});this.props.className&&(e=e+" "+this.props.className);var t=null;return this._shouldShowButtons()&&(t=o.createElement(a,{sets:this.props.buttonSets,className:"math-input-buttons absolute",convertDotToTimes:this.props.convertDotToTimes,onInsert:this.insert})),o.createElement("div",{style:{display:"inline-block"}},o.createElement("div",{style:{display:"inline-block"}},o.createElement("span",{className:e,ref:"mathinput","aria-label":this.props.labelText,onFocus:this.handleFocus,onBlur:this.handleBlur})),o.createElement("div",{style:{position:"relative"}},t))},handleFocus:function(){this.setState({focused:!0})},handleMouseDown:function(e){var t=i.findDOMNode(this).contains(e.target);this.mouseDown=t,t||this.setState({focused:!1})},handleMouseUp:function(){this.mouseDown&&this.focus(),this.mouseDown=!1},handleBlur:function(){this.mouseDown||this.setState({focused:!1})},_shouldShowButtons:function(){return"always"===this.props.buttonsVisible||"never"!==this.props.buttonsVisible&&this.state.focused},getDefaultProps:function(){return{value:"",convertDotToTimes:!1,buttonsVisible:"focused"}},getInitialState:function(){return{focused:!1}},insert:function(e){var t=this.mathField();s(e).isFunction()?e(t):"\\"===e[0]?t.cmd(e).focus():t.write(e).focus(),t.focus()},mathField:function(e){var t=l.getInterface(2);return t.MathField(i.findDOMNode(this.refs.mathinput),e)},componentWillUnmount:function(){window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("mouseup",this.handleMouseUp)},componentDidMount:function(){var e=this;window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("mouseup",this.handleMouseUp);var t=!1;this.mathField({autoCommands:"pi theta phi sqrt nthroot",charsThatBreakOutOfSupSub:"+-*/=<>≠≤≥",supSubsRequireOperand:!0,spaceBehavesLikeTab:!0,handlers:{edited:function(r){var n=r.latex();if(n=n.replace(/<>/g,"\\ne"),e.props.convertDotToTimes){n=n.replace(/\\cdot/g,"\\times");var o=r.__controller.cursor[l.L];o&&"\\cdot "===o.ctrlSeq&&(r.__controller.backspace(),r.cmd("\\times"))}else n=n.replace(/\\times/g,"\\cdot");t&&e.props.value!==n&&e.props.onChange(n)},enter:function(){$(i.findDOMNode(e.refs.mathinput)).submit()},upOutOf:function(e){e.typedText("^")}}}),this.mathField().latex(this.props.value),t=!0},componentDidUpdate:function(){s.isEqual(this.mathField().latex(),this.props.value)||this.mathField().latex(this.props.value)},focus:function(){this.mathField().focus(),this.setState({focused:!0})},blur:function(){this.mathField().blur(),this.setState({focused:!1})}});e.exports=u},function(e,t,r){"use strict";var n=r(10),o=r(9),i=r(38),s={fontSize:"150%"},a={fontSize:"120%"},l={fontSize:"130%"},c=[function(){return[n.createElement("span",{key:"plus",style:a},"+"),"+"]},function(){return[n.createElement("span",{key:"minus",style:s},"-"),"-"]},function(e){return e.convertDotToTimes?[n.createElement(i,{key:"times",style:s},"\\times"),"\\times"]:[n.createElement(i,{key:"times",style:s},"\\cdot"),"\\cdot"]},function(){return[n.createElement(i,{key:"frac",style:s},"\\frac{□}{□}"),function(e){var t=e.latex();e.typedText("/"),e.latex()===t&&e.cmd("\\frac")}]}],u={basic:c,"basic+div":c.concat([function(){return[n.createElement(i,{key:"div"},"\\div"),"\\div"]}]),trig:[function(){return[n.createElement(i,{key:"sin"},"\\sin"),"\\sin"]},function(){return[n.createElement(i,{key:"cos"},"\\cos"),"\\cos"]},function(){return[n.createElement(i,{key:"tan"},"\\tan"),"\\tan"]},function(){return[n.createElement(i,{key:"theta",style:l},"\\theta"),"\\theta"]},function(){return[n.createElement(i,{key:"pi",style:l},"\\phi"),"\\phi"]}],prealgebra:[function(){return[n.createElement(i,{key:"sqrt"},"\\sqrt{x}"),"\\sqrt"]},function(){return[n.createElement(i,{key:"nthroot"},"\\sqrt[3]{x}"),function(e){e.typedText("nthroot3"),e.keystroke("Right")}]},function(){return[n.createElement(i,{key:"pow",style:a},"□^a"),function(e){var t=e.latex();e.typedText("^"),e.latex()===t&&e.typedText("a^b")}]},function(){return[n.createElement(i,{key:"pi",style:a},"\\pi"),"\\pi"]}],logarithms:[function(){return[n.createElement(i,{key:"log"},"\\log"),"\\log"]},function(){return[n.createElement(i,{key:"ln"},"\\ln"),"\\ln"]},function(){return[n.createElement(i,{key:"log_b"},"\\log_b"),function(e){e.typedText("log_"),e.keystroke("Right"),e.typedText("("),e.keystroke("Left"),e.keystroke("Left")}]}],"basic relations":[function(){return[n.createElement(i,{key:"eq"},"="),"="]},function(){return[n.createElement(i,{key:"lt"},"\\lt"),"\\lt"]},function(){return[n.createElement(i,{key:"gt"},"\\gt"),"\\gt"]}],"advanced relations":[function(){return[n.createElement(i,{key:"neq"},"\\neq"),"\\neq"]},function(){return[n.createElement(i,{key:"leq"},"\\leq"),"\\leq"]},function(){return[n.createElement(i,{key:"geq"},"\\geq"),"\\geq"]}]},p=n.PropTypes.arrayOf(n.PropTypes.oneOf(o(u).keys())),h=n.createClass({displayName:"TexButtons",propTypes:{sets:p.isRequired,onInsert:n.PropTypes.func.isRequired},render:function(){var e=this,t=o.sortBy(this.props.sets,function(e){return o.keys(u).indexOf(e)}),r=o(t).map(function(e){return u[e]}),i=o(r).map(function(t){return t.map(function(t){var r=t(e.props);return n.createElement("button",{onClick:function(){return e.props.onInsert(r[1])},className:"tex-button",key:r[0].key,tabIndex:-1,type:"button"},r[0])})}),s=o(i).map(function(t,r){return n.createElement("div",{className:"clearfix tex-button-row",key:e.props.sets[r]},t)});return n.createElement("div",{className:this.props.className+" preview-measure"},s)},statics:{buttonSets:u,buttonSetsType:p}});e.exports=h},function(e,t,r){"use strict";e.exports={iconCheck:{path:"M10,3.8C10,4,9.9,4.2,9.8,4.3L5.1,8.9L4.3,9.8C4.2,9.9,4,10,3.8,10\n        S3.5,9.9,3.4,9.8L2.5,8.9L0.2,6.6C0.1,6.5,0,6.3,0,6.2s0.1-0.3,0.2-0.4\n        l0.9-0.9c0.1-0.1,0.3-0.2,0.4-0.2s0.3,0.1,0.4,0.2l1.9,1.9l4.2-4.2c0.1\n        -0.1,0.3-0.2,0.4-0.2c0.2,0,0.3,0.1,0.4,0.2l0.9,0.9C9.9,3.5,10,3.7,\n        10,3.8z",width:10,height:10},iconChevronDown:{path:"M99.669 13.048q0 3.36-2.352 5.712l-41.664 41.664q-2.408 2.408-5.88 2.408t-5.712-2.408l-41.664-41.664q-2.408-2.24-2.408-5.712t2.408-5.88l4.76-4.816q2.52-2.352 5.88-2.352t5.656 2.352l31.136 31.136 31.08-31.136q2.352-2.352 5.712-2.352t5.88 2.352l4.816 4.816q2.352 2.52 2.352 5.88z",width:100,height:63.034},iconChevronRight:{path:"M62.808 49.728q0 3.36-2.352 5.88l-41.72 41.664q-2.352 2.408-5.768 2.408t-5.768-2.408l-4.872-4.76q-2.352-2.52-2.352-5.88t2.352-5.712l31.08-31.136-31.08-31.024q-2.352-2.52-2.352-5.88t2.352-5.712l4.872-4.76q2.296-2.408 5.768-2.408t5.768 2.408l41.72 41.664q2.352 2.296 2.352 5.656z",width:63.034,height:100},iconCircle:{path:"M100.035 50.046q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleArrowDown:{path:"M50.046 83.676q1.767 0 2.907-1.14l29.526-29.526q1.197-1.197 1.197-2.907t-1.197-2.964l-5.928-5.928q-1.197-1.14-2.964-1.14t-2.907 1.14l-12.312 12.312l0-32.661q0-1.71-1.254-2.964t-2.907-1.254l-8.322 0q-1.71 0-2.964 1.254t-1.254 2.964l0 32.661l-12.312-12.312q-1.197-1.254-2.907-1.254t-2.907 1.254l-5.928 5.928q-1.197 1.197-1.197 2.964t1.197 2.907l29.469 29.526q1.197 1.14 2.964 1.14zm49.989-33.63q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleArrowUp:{path:"M54.207 83.391q1.653 0 2.907-1.254t1.254-2.907l0-32.718l12.312 12.312q1.254 1.254 2.964 1.254t2.907-1.254l5.928-5.928q1.197-1.197 1.14-2.964 0-1.767-1.14-2.907l-29.526-29.526q-1.197-1.14-2.907-1.14t-2.964 1.14l-29.469 29.526q-1.197 1.254-1.197 2.964t1.197 2.907l5.928 5.928q1.197 1.197 2.907 1.197t2.907-1.197l12.312-12.312l0 32.718q0 1.653 1.254 2.907t2.964 1.254l8.322 0zm45.828-33.345q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleThin:{path:"M50.046 8.322q-8.493 0-16.188 3.306-15.561 6.669-22.173 22.23-3.363 7.695-3.363 16.188t3.306 16.188 8.949 13.281q5.586 5.586 13.281 8.892t16.188 3.306 16.188-3.306 13.281-8.892 8.892-13.281 3.306-16.188-3.306-16.188-8.892-13.281-13.281-8.949q-7.695-3.306-16.188-3.306zm0 91.713q-13.623 0-25.137-6.726t-18.183-18.183q-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.126q-11.514 6.726-25.08 6.726z",width:100,height:99.944},iconDesktop:{path:"M94.208 52.119l0-43.746q0-.69-.506-1.15t-1.196-.506l-84.088 0q-.69 0-1.196.506t-.506 1.15l0 43.746q0 .69.506 1.196t1.196.506l84.088 0q.69 0 1.196-.506t.506-1.196zm6.716-43.746l0 57.224q0 3.45-2.484 5.934t-5.934 2.484l-28.566 0q0 3.128 2.53 7.774.828 1.61.828 2.622t-1.012 2.07q-1.012 1.012-2.346.966l-26.91 0q-1.38 0-2.392-1.012t-1.012-2.024q0-1.058 1.656-4.14t1.748-6.256l-28.612 0q-3.45 0-5.934-2.484t-2.484-5.934l0-57.224q0-3.45 2.484-5.934t5.934-2.438l84.088 0q3.45 0 5.98 2.438 2.438 2.484 2.438 5.934z",width:100,height:86.648},iconDropdownArrow:{path:"M9 9.8c0 .5.7 1.7 1.5 2.8 1.5 1.9 1.5 1.9 3 0C15.7 9.7 15.4 9 12 9c-1.6 0-3 .4-3 .8z",width:24,height:24},iconExclamationSign:{path:"M58.368 81.225l0-12.369q0-.912-.57-1.539t-1.425-.627l-12.54 0q-.855-.057-1.482.627t-.684 1.539l0 12.369q-.057.855.627 1.482t1.539.684l12.54 0q.855 0 1.425-.627t.57-1.539zm1.026-62.871q0-1.596-2.223-1.71l-14.307 0q-2.109 0-2.223 1.71l1.14 40.47q0 .627.627 1.14t1.539.456l12.084 0q.912-.057 1.539-.513t.684-1.083zm-9.348-18.354q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669z",width:100,height:99.944},iconGear:{path:"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z",width:1792,height:1792},iconMobilePhone:{path:"M36.04 89.557q0-2.584-1.836-4.42t-4.42-1.836-4.352 1.836q-1.836 1.836-1.836 4.42t1.836 4.352 4.42 1.836q2.652-.068 4.42-1.836t1.768-4.352zm16.184-12.444l0-54.74q0-1.088-.748-1.768t-1.768-.68l-39.78 0q-1.088 0-1.768.748t-.68 1.7l0 54.74q0 1.02.748 1.768t1.7.68l39.78 0q1.02-.068 1.768-.748t.748-1.7zm-14.892-65.892q0-1.224-1.292-1.292l-12.444 0q-1.224.068-1.224 1.292t1.224 1.224l12.444 0q1.292 0 1.292-1.224zm22.372-1.292l0 79.628q0 3.944-2.992 6.936t-7.004 2.992l-39.78 0q-4.012 0-7.004-2.924-2.924-2.924-2.924-7.004l0-79.628q0-4.012 2.924-6.936t7.004-2.992l39.78 0q4.012-.068 7.004 2.924t2.992 7.004z",width:60.013,height:100},iconOk:{path:"M37.964 76.048q-2.576 0-4.368-1.792l-31.864-31.864q-1.792-1.792-1.792-4.368t1.792-4.368l8.736-8.68q1.792-1.792 4.368-1.792t4.312 1.792l18.816 18.872 42-42.056q1.792-1.792 4.368-1.792t4.312 1.792l8.736 8.736q1.792 1.792 1.792 4.368t-1.792 4.312l-55.048 55.048q-1.792 1.792-4.368 1.792z",width:100,height:76.637},iconPlus:{path:"M99.758 43.09l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-29.45 0l0 29.45q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-29.45l-29.45 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l29.45 0l0-29.45q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836l0 29.45l29.45 0q2.852 0 4.836 1.984t1.984 4.836z",width:100,height:100},iconRemove:{path:"M100.464 80.808q0 3.404-2.368 5.772l-11.47 11.544q-2.368 2.368-5.772 2.368t-5.698-2.368l-24.864-24.864-24.864 24.864q-2.368 2.368-5.772 2.368t-5.772-2.368l-11.47-11.544q-2.368-2.368-2.368-5.772t2.368-5.698l24.864-24.864-24.864-24.864q-2.368-2.368-2.368-5.772t2.368-5.772l11.47-11.47q2.368-2.368 5.772-2.368t5.772 2.368l24.864 24.864 24.864-24.864q2.294-2.368 5.698-2.368t5.772 2.368l11.47 11.47q2.368 2.368 2.368 5.772t-2.368 5.772l-24.864 24.864 24.864 24.864q2.368 2.294 2.368 5.698z",
width:100,height:100},iconStar:{path:"M15.1052249,9.55978547 L22.0028147,9.55978545 C23.6568673,9.55978545 23.9349557,10.3753626 22.6181351,11.3858845 L16.9943688,15.7015366 L19.2518801,22.8294455 C19.7526645,24.4106317 19.0984455,24.8825885 17.769353,23.8673293 L12.0490577,19.4977438 L6.5116497,23.8422153 C5.20921411,24.8640642 4.53299569,24.4067544 5.00266927,22.8160582 L7.10332364,15.7015366 L1.42794544,11.3634306 C0.110226041,10.3562014 0.383967283,9.54239221 2.0409646,9.54574013 L8.9924676,9.55978547 L11.1485117,2.72669438 C11.6458693,1.15043244 12.4548928,1.15900049 12.9494787,2.72669438 L15.1052249,9.55978547 Z",width:24,height:24},iconTryAgain:{path:"M3.74890556,17.9799506 C2.19251241,16.1970909 1.10103636,13.4971457 1.13090903,11.1491783 C1.17160478,7.95052637 4.01704076,0.865059407 11.7028044,0.865059407 C19.388568,0.865059407 22.3026521,7.35203035 22.3026521,11.5879453 C22.3026521,15.8238603 19.386629,20.5574509 13.6832464,21.7131548 L13.6757539,17.3722171 C17.0812986,16.2190517 18.331158,14.1944123 18.3311578,11.5879451 C18.3311574,8.16554692 15.6664205,5.03476549 11.7028048,5.20494205 C7.73918903,5.37511861 5.59244567,8.66930079 5.59244567,11.1491783 C5.59244567,12.9090077 6.11128139,14.1753512 6.93640437,15.3053215 L8.14052356,14.2949456 C8.98559348,13.5858477 9.6994861,13.9070448 9.73489556,15.0076413 L9.91284941,20.5388014 C9.94832683,21.6415103 9.09967118,22.3514475 8.02194403,22.1254594 L2.60571602,20.9897332 C1.5259204,20.7633114 1.34338662,19.9984207 2.18070755,19.295825 L3.74890556,17.9799506 Z",width:23,height:23},iconTablet:{path:"M45.322 90.706q0-1.86-1.302-3.224-1.364-1.364-3.224-1.364t-3.224 1.364-1.302 3.224q0 1.86 1.364 3.224 1.302 1.364 3.162 1.302 1.86.062 3.224-1.302t1.302-3.224zm27.218-11.346l0-68.014q0-.93-.682-1.612t-1.55-.682l-58.962 0q-.93 0-1.612.682t-.682 1.612l0 68.014q0 .93.682 1.612t1.612.62l58.962 0q.992-.062 1.612-.682t.62-1.55zm9.114-68.014l0 77.066q0 4.65-3.348 7.998t-7.998 3.348l-58.962 0q-4.65 0-7.998-3.348t-3.348-7.998l0-77.066q0-4.65 3.348-7.998t7.998-3.348l58.962 0q4.65 0 7.998 3.348t3.348 7.998z",width:81.852,height:100},iconTrash:{path:"M31.293 37.506q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.218 0q-.912-.057-1.482-.627t-.57-1.482l0-37.506q0-2.109 2.052-2.109l4.218 0zm18.753 2.109l0 37.506q0 .912-.57 1.482t-1.539.627l-4.161 0q-1.995 0-2.109-2.109l0-37.506q.057-.912.627-1.482t1.482-.627l4.161 0q.969.057 1.539.627t.57 1.482zm14.592-2.109q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.161 0q-.969-.057-1.539-.627t-.57-1.482l0-37.506q0-2.109 2.109-2.109l4.161 0zm10.431 49.248l0-61.731l-58.368 0l0 61.731q.057 2.679.969 3.819t1.083 1.14l54.207 0q.171 0 1.14-1.083t.969-3.876zm-43.776-70.11l29.184 0l-3.135-7.581q-.456-.57-1.14-.741l-20.634 0q-.627.114-1.083.741zm-31.293 2.109q0-1.995 2.109-2.109l20.121 0l4.56-10.83q.969-2.394 3.477-4.104 2.565-1.71 5.187-1.71l20.805 0q2.622 0 5.187 1.71t3.477 4.104l4.56 10.83l20.178 0q.912.057 1.482.627t.57 1.482l0 4.161q0 1.995-2.052 2.109l-6.27 0l0 61.731q0 5.415-3.078 9.348t-7.353 3.933l-54.207 0q-4.275 0-7.353-3.819t-3.078-9.177l0-62.016l-6.213 0q-.969 0-1.539-.57t-.57-1.539l0-4.161z",width:91.681,height:100},iconUndo:{path:"M10,6.6C10,7.2,9.8,8,9.3,9.1c0,0,0,0.1-0.1,0.1S9.2,9.3,9.2,9.4c0,0,0,0.1-0.1,0.1C9,9.6,9,9.6,8.9,9.6 c-0.1,0-0.1,0-0.1-0.1c0,0,0-0.1,0-0.1c0,0,0-0.1,0-0.1s0-0.1,0-0.1c0-0.3,0-0.5,0-0.7c0-0.4,0-0.7-0.1-1C8.6,7.1,8.5,6.9,8.4,6.7S8.2,6.3,8,6.1C7.8,5.9,7.6,5.8,7.4,5.7S6.9,5.5,6.7,5.5S6.1,5.4,5.8,5.4c-0.3,0-0.6,0-1,0H3.6v1.4c0,0.1,0,0.2-0.1,0.3C3.4,7.1,3.3,7.1,3.2,7.1C3.1,7.1,3,7.1,3,7L0.1,4.1C0,4.1,0,4,0,3.9s0-0.2,0.1-0.3L3,0.8C3,0.7,3.1,0.7,3.2,0.7c0.1,0,0.2,0,0.3,0.1C3.5,0.9,3.6,0.9,3.6,1v1.4h1.2c2.6,0,4.3,0.7,4.9,2.2C9.9,5.2,10,5.8,10,6.6z",width:10,height:10}}},function(e,t,r){"use strict";var n=r(12),o=r(10),i=r(36),s=i.negativePhoneMargin,a=480,l=o.createClass({displayName:"FixedToResponsive",propTypes:{width:o.PropTypes.number.isRequired,height:o.PropTypes.number.isRequired,className:o.PropTypes.string,constrainHeight:o.PropTypes.bool,allowFullBleed:o.PropTypes.bool},getDefaultProps:function(){return{className:"",constrainHeight:!1,allowFullBleed:!1}},getInitialState:function(){return{viewportHeight:null,viewportWidth:null}},componentDidMount:function(){window.innerHeight<a?setTimeout(this._cacheViewportSize,800):this._cacheViewportSize()},_cacheViewportSize:function(){this.isMounted()&&this.setState({viewportHeight:Math.max(a,window.innerHeight),viewportWidth:window.innerWidth})},render:function(){var e=this.props.width/this.props.height,t=o.createElement("div",{style:{paddingBottom:100*(1/e).toFixed(4)+"%"}}),r=this.props,i=r.width,a=r.height;if(this.props.constrainHeight&&this.state.viewportHeight){var l=2/3*this.state.viewportHeight;this.props.height>=l&&(a=l,i=l*e)}var c={maxWidth:i,maxHeight:a},u=n("fixed-to-responsive",this.props.className),p=o.createElement("div",{className:u,style:c},t,this.props.children),h=this.props.allowFullBleed&&this.state.viewportWidth&&i>=this.state.viewportWidth;return h?o.createElement("div",{style:{marginLeft:s,marginRight:s}},p):p}});e.exports=l},function(e,t,r){"use strict";var n=r(10),o=r(11),i=r(9),s=r(117),a=r(118),l=s.GraphieMovable,c=r(16).deepEq,u=r(16).nestedMap,p=r(105).assert,h=r(102),d=h.createGraphie,f=n.createClass({displayName:"Graphie",propTypes:{addMouseLayer:n.PropTypes.bool,box:n.PropTypes.arrayOf(n.PropTypes.number).isRequired,children:n.PropTypes.node,isMobile:n.PropTypes.bool,onClick:n.PropTypes.func,onMouseDown:n.PropTypes.func,onMouseMove:n.PropTypes.func,onMouseUp:n.PropTypes.func,options:n.PropTypes.shape({snapStep:n.PropTypes.arrayOf(n.PropTypes.number)}),range:n.PropTypes.arrayOf(n.PropTypes.arrayOf(n.PropTypes.number)),responsive:n.PropTypes.bool,setDrawingAreaAvailable:n.PropTypes.func,setup:n.PropTypes.func.isRequired},getDefaultProps:function(){return{range:[[-10,10],[-10,10]],options:{},responsive:!1,addMouseLayer:!0}},componentDidMount:function(){this._setupGraphie(),this._updateMovables()},shouldComponentUpdate:function(e){return!c(this.props,e)},componentDidUpdate:function(e){this.props.setup!==e.setup&&window.console&&window.console.warn&&window.console.warn("<Graphie> was given a new setup function. This is a bad idea; please refactor your code to give the same setup function reference to <Graphie> on every render."),c(this.props.options,e.options)&&c(this.props.box,e.box)&&c(this.props.range,e.range)||this._setupGraphie(),this._updateMovables()},getGraphie:function(){return this._graphie},_range:function(){return i.map(this.props.range,function(e){return e[0]>=e[1]?[-10,10]:e})},_box:function(){return i.map(this.props.box,function(e){return e>0?e:340})},_scale:function(){var e=this._box(),t=this._range();return i.map(e,function(e,r){var n=t[r][1]-t[r][0];return e/n})},_setupGraphie:function(){this._removeMovables();var e=o.findDOMNode(this.refs.graphieDiv);$(e).empty();var t=this._graphie=d(e);t.init({range:this._range(),scale:this._scale(),isMobile:this.props.isMobile}),this.props.addMouseLayer&&t.addMouseLayer({onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onMouseMove:this.props.onMouseMove,setDrawingAreaAvailable:this.props.setDrawingAreaAvailable}),t.snap=this.props.options.snapStep||[1,1],this.props.responsive&&($(e).css({width:"100%",height:"100%"}),t.raphael.setSize("100%","100%")),this.props.setup(t,i.extend({range:this._range(),scale:this._scale()},this.props.options))},_removeMovables:function(){i.invoke(this._movables,"remove"),this._movables={}},_renderMovables:function(e,t){var r=this,n=t.graphie,o=t.oldMovables,s=t.newMovables,a=function(e){i.each(e.movableProps,function(n){e.props[n]=r._renderMovables(e.props[n],t)})},c=!1;return u(e,function(e){if(!e)return t.nextKey++,e;var i=new e.type(e.props);p(i instanceof l,"All children of a Graphie component must be Graphie movables");var u=e.key,h=null==u?"_no_id_"+t.nextKey:u;t.nextKey++;var d=e.ref;a(i);var f=o[h];if(f)if(i.constructor===f.constructor){f.props=i.props;var m=f.modify(n);"reordered"===m&&(c=!0),s[h]=f}else null==u&&"undefined"!=typeof console&&console.warn&&console.warn("Replacing a <Graphie> child with a child of a different type. Please add keys to your <Graphie> children"),f.remove(),i.add(n),c=!0,s[h]=i;else i.add(n),c=!0,s[h]=i;return c&&s[h].toFront(),d&&(r.movables[d]=s[h]),s[h]})},_updateMovables:function(){var e=this._graphie,t=this._movables,r={};this._movables=r,this.movables={},this._renderMovables(this.props.children,{nextKey:1,graphie:e,oldMovables:t,newMovables:r}),i.each(t,function(e,t){r[t]||e.remove()})},render:function(){return n.createElement("div",{className:"graphie-container"},n.createElement("div",{className:"graphie",ref:"graphieDiv"}))}});i.extend(f,s),i.extend(f,a),e.exports=f},function(e,t,r){"use strict";var n=r(10),o=n.PropTypes,i={PENDING:"pending",LOADING:"loading",LOADED:"loaded",FAILED:"failed"},s=n.createClass({displayName:"ImageLoader",propTypes:{children:n.PropTypes.oneOfType([n.PropTypes.arrayOf(n.PropTypes.node),n.PropTypes.node]),imgProps:o.any,onError:o.func,onLoad:o.func,onUpdate:o.func,preloader:o.func,src:o.string},getInitialState:function(e){return{status:this.props.src?i.LOADING:i.PENDING}},componentDidMount:function(){this.state.status===i.LOADING&&this.createLoader()},componentWillReceiveProps:function(e){this.props.src!==e.src&&this.setState({status:e.src?i.LOADING:i.PENDING})},componentDidUpdate:function(e,t){this.state.status!==i.LOADING||this.img||this.createLoader(),t.status!==this.state.status&&this.props.onUpdate()},componentWillUnmount:function(){this.destroyLoader()},createLoader:function(){this.destroyLoader(),this.img=new Image,this.img.onload=this.handleLoad,this.img.onerror=this.handleError,this.img.src=this.props.src},destroyLoader:function(){this.img&&(this.img.onload=null,this.img.onerror=null,this.img=null)},handleLoad:function(e){this.destroyLoader(),this.setState({status:i.LOADED}),this.props.onLoad&&this.props.onLoad(e)},handleError:function(e){this.destroyLoader(),this.setState({status:i.FAILED}),this.props.onError&&this.props.onError(e)},renderImg:function(){var e=this.props,t=e.src,r=e.imgProps,o={src:t};for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);return n.createElement("img",o)},render:function(){switch(this.state.status){case i.LOADED:return this.renderImg();case i.FAILED:if(this.props.children)return this.props.children;break;default:if(this.props.preloader)return this.props.preloader()}return null}});e.exports=s},function(e,t,r){"use strict";function n(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var r in t)if(void 0!==e.style[r])return{end:t[r]};return!1}function o(e,t){var r=window.scrollX,n=window.scrollY,o=document.querySelector("meta[name=viewport]");o?o.setAttribute("content",e):$("head").append('<meta name="viewport" content="'+e+'">'),document.body.style.opacity=.9999,setTimeout(function(){document.body.style.opacity=1,window.scrollTo(r,n),t&&setTimeout(t,0)},0)}function i(){}function s(e,t){this._fullHeight=this._fullWidth=this._overlay=null,this._targetImage=e,this._enableMobilePinch=t,this._$body=$(document.body)}$.fn.emulateTransitionEnd=function(e){var t=!1,r=this;$(this).one("bsTransitionEnd",function(){t=!0});var n=function(){t||$(r).trigger($.support.transition.end)};return setTimeout(n,e),this},$(function(){$.support.transition=n(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}),i.prototype._initialize=function(e){this._$document||(this._activeZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null,this._$document=$(document),this._$window=$(window),this._$body=$(document.body),this._boundClick=$.proxy(this._clickHandler,this),this._enableMobilePinch=e)},i.prototype.handleZoomClick=function(e,t){var r=this;this._initialize(t);var n=e.target;if(n&&"IMG"===n.tagName&&!this._$body.hasClass("zoom-overlay-open"))return e.metaKey||e.ctrlKey?window.open(e.target.src,"_blank"):void(!t&&n.width>=window.innerWidth-s.getOffset()||(this._activeZoomClose(!0),t?o("width=device-width, initial-scale=1, minimum-scale=1",function(){return r._zoom(n)}):this._zoom(n),t||(this._$window.on("scroll.zoom",$.proxy(this._scrollHandler,this)),this._$document.on("keyup.zoom",$.proxy(this._keyHandler,this)),this._$document.on("touchstart.zoom",$.proxy(this._touchStart,this))),document.addEventListener("click",this._boundClick,!0),e.stopPropagation()))},i.prototype._zoom=function(e){this._activeZoom=new s(e,this._enableMobilePinch),this._activeZoom.zoomImage()},i.prototype._activeZoomClose=function(e){var t=this;this._activeZoom&&(e?(this._activeZoom.dispose(),this._disposeActiveZoom()):o("width=device-width, initial-scale=1, minimum-scale=1,\n            maximum-scale=1",function(){t._activeZoom.close(),t._disposeActiveZoom()}))},i.prototype._disposeActiveZoom=function(){this._$window.off(".zoom"),this._$document.off(".zoom"),document.removeEventListener("click",this._boundClick,!0),this._activeZoom=null},i.prototype._scrollHandler=function(e){null===this._initialScrollPosition&&(this._initialScrollPosition=window.scrollY);var t=this._initialScrollPosition-window.scrollY;Math.abs(t)>=40&&this._activeZoomClose()},i.prototype._keyHandler=function(e){27===e.keyCode&&this._activeZoomClose()},i.prototype._clickHandler=function(e){e.stopPropagation(),e.preventDefault(),this._activeZoomClose()},i.prototype._touchStart=function(e){this._initialTouchPosition=e.originalEvent.touches[0].pageY,$(e.target).on("touchmove.zoom",$.proxy(this._touchMove,this))},i.prototype._touchMove=function(e){Math.abs(e.originalEvent.touches[0].pageY-this._initialTouchPosition)>10&&(this._activeZoomClose(),$(e.target).off("touchmove.zoom"))},s._OFFSET=80,s._MAX_WIDTH=2560,s._MAX_HEIGHT=4096,s.getOffset=function(e){return e?0:s._OFFSET},s.prototype.getOffset=function(){return s.getOffset(this._enableMobilePinch)},s.prototype.zoomImage=function(){var e=document.createElement("img"),t=$(e);e.onload=function(){this._fullHeight=Number(e.height),this._fullWidth=Number(e.width);var r=this._imageOffset=$(this._targetImage).offset(),n=this._left=r.left-$(window).scrollLeft(),o=this._top=r.top-$(window).scrollTop();t.css({left:n,top:o,width:this._targetImage.width,height:this._targetImage.height}),this._zoomOriginal()}.bind(this),e.src=this._targetImage.src,this.$zoomedImage=t},s.prototype._zoomOriginal=function(){this.$zoomedImage.addClass("zoom-img").attr("data-action","zoom-out"),$(this._targetImage).css("visibility","hidden"),this._backdrop=document.createElement("div"),this._backdrop.className="zoom-backdrop",document.body.appendChild(this._backdrop),this._overlay=document.createElement("div"),this._overlay.className="zoom-overlay",document.body.appendChild(this._overlay),this._overlay.appendChild(this.$zoomedImage[0]),this._calculateZoom(),this._triggerAnimation()},s.prototype._calculateZoom=function(){var e=this._fullWidth,t=this._fullHeight,r=window.innerHeight-this.getOffset(),n=window.innerWidth-this.getOffset(),o=e/this._targetImage.width,i=e/t,s=n/r;e<n&&t<r?this._imgScaleFactor=o:i<s?this._imgScaleFactor=r/t*o:this._imgScaleFactor=n/e*o},s.prototype._triggerAnimation=function(){var e=$(window).scrollTop()+window.innerHeight/2,t=$(window).scrollLeft()+window.innerWidth/2,r=this._imgScaleFactor,n=this._imageOffset.top+this._targetImage.height/2,o=this._imageOffset.left+this._targetImage.width/2;this._translateY=(e-n)/r,this._translateX=(t-o)/r,this._zoomedInTransformString="\n        scale("+r+")\n        translate3d("+this._translateX+"px, "+this._translateY+"px, 0)\n    ",this.$zoomedImage.css({transform:this._zoomedInTransformString}).addClass("zoom-transition").one($.support.transition.end,$.proxy(this._onZoomInFinish,this)).emulateTransitionEnd(300),this._$body.addClass("zoom-overlay-open")},s.prototype._onZoomInFinish=function(){var e=this._targetImage.height*this._imgScaleFactor,t=this._targetImage.width*this._imgScaleFactor,r=0,n=0,o=0,i=0,s=0,a=0;t<window.innerWidth?(r="50%",o=-t/2):s=(t-window.innerWidth)/2,e<window.innerHeight?(n="50%",i=-e/2):a=(e-window.innerHeight)/2,this.$zoomedImage.css({height:e,left:r,marginLeft:o,marginTop:i,top:n,transform:"",width:t}).removeClass("zoom-transition"),$(this._overlay).scrollLeft(s).scrollTop(a)},s.prototype.close=function(){var e=this;this._$body.removeClass("zoom-overlay-open").addClass("zoom-overlay-transitioning"),this.$zoomedImage.css({height:this._targetImage.height,left:this._left,marginLeft:0,marginTop:0,top:this._top,transform:this._zoomedInTransformString,width:this._targetImage.width}).removeClass("zoom-transition"),$(this._overlay).scrollLeft(0).scrollTop(0),setTimeout(function(){e.$zoomedImage.css({transform:"scale(1)"}).addClass("zoom-transition").one($.support.transition.end,$.proxy(e.dispose,e)).emulateTransitionEnd(300)},10)},s.prototype.dispose=function(){this.$zoomedImage&&this.$zoomedImage[0].parentNode&&(this.$zoomedImage.remove(),this.$zoomedImage=null,this._overlay.parentNode.removeChild(this._overlay),this._backdrop.parentNode.removeChild(this._backdrop),this._$body.removeClass("zoom-overlay-transitioning")),$(this._targetImage).css("visibility","visible")},t.ZoomService=new i},function(e,t,r){"use strict";var n=r(10),o=r(9),i=r(8),s=r(59),a=r(16),l=r(122),c=n.createClass({displayName:"Radio",propTypes:{apiOptions:l.propTypes.apiOptions,choices:l.propTypes.choices,deselectEnabled:n.PropTypes.bool,displayCount:n.PropTypes.any,interWidgets:n.PropTypes.func,multipleSelect:n.PropTypes.bool,onChange:n.PropTypes.func.isRequired,onePerLine:l.propTypes.onePerLine,questionCompleted:n.PropTypes.bool,reviewModeRubric:l.propTypes.reviewModeRubric,trackInteraction:n.PropTypes.func.isRequired,values:n.PropTypes.arrayOf(n.PropTypes.bool)},getDefaultProps:function(){return{choices:[{}],displayCount:null,multipleSelect:!1,deselectEnabled:!1}},_renderRenderer:function(e){e=e||"";var t=1,r={},o=e.replace(/\{\{passage-ref (\d+) (\d+)(?: "([^"]*)")?\}\}/g,function(e,n,o,i){var l="passage-ref "+t;return t++,r[l]={type:"passage-ref",graded:!1,options:{passageNumber:parseInt(n),referenceNumber:parseInt(o),summaryText:i},version:s.version},"[["+a.snowman+" "+l+"]]"});return n.createElement(i,{key:"choiceContentRenderer",content:o,widgets:r,interWidgets:this._interWidgets,alwaysUpdate:!0})},_interWidgets:function(e,t){return t.length?t:this.props.interWidgets(e)},focus:function(e){return this.refs.baseRadio.focus(e)},onCheckedChange:function(e){this.props.onChange({values:e}),this.props.trackInteraction()},getUserInput:function(){if(this.props.values){for(var e=null,t=!1,r=this.props.values.slice(),n=0;n<this.props.values.length;n++){var i=this.props.choices[n].originalIndex;r[i]=this.props.values[n],this.props.choices[n].isNoneOfTheAbove&&(e=i,r[n]&&(t=!0))}return{values:r,noneOfTheAboveIndex:e,noneOfTheAboveSelected:t}}return{values:o.map(this.props.choices,function(){return!1})}},simpleValidate:function(e){return c.validate(this.getUserInput(),e)},enforceOrdering:function(e){var t=o.pluck(e,"content");return o.isEqual(t,[i18n._("False"),i18n._("True")])||o.isEqual(t,[i18n._("No"),i18n._("Yes")])?[e[1]].concat([e[0]]):e},render:function(){var e=this,t=this.props.choices,r=this.props.values||o.map(t,function(){return!1});return t=o.map(t,function(t,n){var o=t.isNoneOfTheAbove&&!t.content?i18n._("None of the above"):t.content;return{content:e._renderRenderer(o),checked:r[n],correct:e.props.questionCompleted&&r[n],clue:e._renderRenderer(t.clue),isNoneOfTheAbove:t.isNoneOfTheAbove}}),t=this.enforceOrdering(t),n.createElement(l,{ref:"baseRadio",labelWrap:!0,onePerLine:this.props.onePerLine,multipleSelect:this.props.multipleSelect,choices:t,onCheckedChange:this.onCheckedChange,reviewModeRubric:this.props.reviewModeRubric,deselectEnabled:this.props.deselectEnabled,apiOptions:this.props.apiOptions})}});o.extend(c,{validate:function(e,t){var r=o.reduce(e.values,function(e,t){return e+(t?1:0)},0);if(0===r)return{type:"invalid",message:null};if(e.noneOfTheAboveSelected&&r>1)return{type:"invalid",message:i18n._("'None of the above' may not be selected when other answers are selected.")};var n=o.all(e.values,function(r,n){var i=void 0;return i=e.noneOfTheAboveIndex===n?o.all(t.choices,function(e,t){return n===t||!e.correct}):!!t.choices[n].correct,i===r});return{type:"points",earned:n?1:0,total:1,message:null}}}),e.exports=c},function(e,t,r){e.exports=s},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=r(9),i={"(":"left parenthesis",")":"right parenthesis","[":"open bracket","]":"close bracket","\\{":"left brace","\\}":"right brace","\\lvert":"open vertical bar","\\rvert":"close vertical bar","|":"vertical bar","\\uparrow":"up arrow","\\Uparrow":"up arrow","\\downarrow":"down arrow","\\Downarrow":"down arrow","\\updownarrow":"up down arrow","\\leftarrow":"left arrow","\\Leftarrow":"left arrow","\\rightarrow":"right arrow","\\Rightarrow":"right arrow","\\langle":"open angle","\\rangle":"close angle","\\lfloor":"open floor","\\rfloor":"close floor","\\int":"integral","\\intop":"integral","\\lim":"limit","\\ln":"natural log","\\log":"log","\\sin":"sine","\\cos":"cosine","\\tan":"tangent","\\cot":"cotangent","\\sum":"sum","/":"slash",",":"comma",".":"point","-":"negative","+":"plus","~":"tilde",":":"colon","?":"question mark","'":"apostrophe","\\%":"percent"," ":"space","\\ ":"space","\\$":"dollar sign","\\angle":"angle","\\degree":"degree","\\circ":"circle","\\vec":"vector","\\triangle":"triangle","\\pi":"pi","\\prime":"prime","\\infty":"infinity","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\omega":"omega","\\theta":"theta","\\sigma":"sigma","\\lambda":"lambda","\\tau":"tau","\\Delta":"delta","\\delta":"delta","\\mu":"mu","\\rho":"rho","\\nabla":"del","\\ell":"ell","\\ldots":"dots"},s={"\\prime":"prime","\\degree":"degree","\\circ":"degree"},a={"|":"open vertical bar",".":""},l={"|":"close vertical bar",".":""},c={"+":"plus","-":"minus","\\pm":"plus minus","\\cdot":"dot","*":"times","/":"divided by","\\times":"times","\\div":"divided by","\\circ":"circle","\\bullet":"bullet"},u={"=":"equals","\\approx":"approximately equals","\\neq":"does not equal","\\ne":"does not equal","\\geq":"is greater than or equal to","\\ge":"is greater than or equal to","\\leq":"is less than or equal to","\\le":"is less than or equal to",">":"is greater than","<":"is less than","\\leftarrow":"left arrow","\\Leftarrow":"left arrow","\\rightarrow":"right arrow","\\Rightarrow":"right arrow",":":"colon"},p=function(e,t,r){if(e){var n;if(n="open"===t?e in a?a[e]:i[e]||e:"close"===t?e in l?l[e]:i[e]||e:"bin"===t?c[e]||e:"rel"===t?u[e]||e:i[e]||e,n===e&&!/^\w+$/.test(e))throw"KaTeX a11y "+t+" string not found: "+e;/^\d+$/.test(n)&&r.length>0&&/^\d+$/.test(r[r.length-1])?r[r.length-1]+=n:n&&r.push(n)}},h=function(e,t){var r=[];e.push(r),t(r)},d={accent:function(e,t){h(t,function(t){f(e.value.base,t),t.push("with"),f(e.value.accent,t),t.push("on top")})},bin:function(e,t){p(e.value,"bin",t)},close:function(e,t){p(e.value,"close",t)},color:function e(t,r){var e=t.value.color.replace(/katex-/,"");h(r,function(r){r.push("start color "+e),f(t.value.value,r),r.push("end color "+e)})},delimsizing:function(e,t){e.value.value&&"."!==e.value.value&&p(e.value.value,"normal",t)},genfrac:function(e,t){h(t,function(t){e.value.hasBarLine?(t.push("start fraction"),p(e.value.leftDelim,"open",t),f(e.value.numer,t),t.push("divided by"),f(e.value.denom,t),p(e.value.rightDelim,"close",t),t.push("end fraction")):(t.push("start binomial"),p(e.value.leftDelim,"open",t),f(e.value.numer,t),t.push("over"),f(e.value.denom,t),p(e.value.rightDelim,"close",t),t.push("end binomial"))})},katex:function(e,t){t.push("KaTeX")},leftright:function(e,t){h(t,function(t){p(e.value.left,"open",t),f(e.value.body,t),p(e.value.right,"close",t)})},llap:function(e,t){f(e.value.body,t)},mathord:function(e,t){f(e.value,t)},op:function(e,t){p(e.value.body,"normal",t)},open:function(e,t){p(e.value,"open",t)},ordgroup:function(e,t){f(e.value,t)},overline:function(e,t){h(t,function(t){t.push("start overline"),f(e.value.body,t),t.push("end overline")})},phantom:function(e,t){t.push("empty space")},punct:function(e,t){p(e.value,"punct",t)},rel:function(e,t){p(e.value,"rel",t)},rlap:function(e,t){f(e.value.body,t)},rule:function(e,t){t.push("rule")},sizing:function(e,t){f(e.value.value,t)},spacing:function(e,t){t.push("space")},styling:function(e,t){f(e.value.value,t)},sqrt:function(e,t){h(t,function(t){e.value.index&&(t.push("root"),t.push("start index"),f(e.value.index,t),t.push("end index")),t.push("square root of"),f(e.value.body,t),t.push("end square root")})},supsub:function(e,t){e.value.base&&f(e.value.base,t),e.value.sub&&h(t,function(t){t.push("start subscript"),f(e.value.sub,t),t.push("end subscript")});var r=e.value.sup;if(r){var o=s[r],i=r.value;!o&&i&&(o="object"===("undefined"==typeof i?"undefined":n(i))&&1===i.length?s[i[0].value]:s[i]),h(t,function(t){return o?void t.push(o):(t.push("start superscript"),f(e.value.sup,t),void t.push("end superscript"))})}},text:function(e,t){"string"!=typeof e.value?f(e.value.body,t):p(e,"normal",t)},textord:function(e,t){f(e.value,t)}},f=function e(t,r){if(r=r||[],"string"==typeof t)p(t,"normal",r);else if(t.constructor===Array)for(var n=0;n<t.length;n++)e(t[n],r);else{if(!(t.type&&t.type in d))throw"KaTeX a11y un-recognized type: "+t.type;d[t.type](t,r)}return r},m=function e(t,r){for(var n=r.ownerDocument,o=0;o<t.length;o++){var i=t[o];if(o>0&&r.appendChild(n.createTextNode(", ")),"string"==typeof i)r.appendChild(n.createTextNode(i));else{var s=n.createElement("span");r.appendChild(s),e(i,s)}}},v=function(e){return katex.__parse(e)},g=function(e,t){var r=v(e),n=f(r);m(n,t)},y=function(e){var t=v(e),r=f(t);return o.flatten(r).join(", ")};e.exports={render:g,renderString:y,parseMath:v}},function(e,t,r){var n=r(124),o=n.clone,i=n.isObject,s=n.merge,a=r(125),l=r(126),c=r(127),u=function(e){return Array.isArray(e)?a:i(e)?l:"string"==typeof e?c:void 0},p=function(e){if(e instanceof p)return e;if(!(this instanceof p))return new p(e);var t=u(e);this._wrapped=t.thaw?t.thaw(e):e};p.prototype.freeze=function(){var e=this._wrapped,t=u(e);return t.freeze?t.freeze(e):e},p.prototype.zoom=function(e){return void 0===this._zoomStack&&(this._zoomStack=[]),this._zoomStack.push({zoom:e,wrapped:this._wrapped}),this._wrapped=p(this._wrapped).get(e),this},p.prototype.deZoom=function(){var e=this._zoomStack.pop();return this._wrapped=p(e.wrapped).set(e.zoom,this._wrapped).freeze(),this},p.prototype.get=function(e){for(var t=this._wrapped,r=0;r<e.length;r++)t=u(t).get(t,e[r]);return t},p.prototype.mod=function(e,t){var r=this._wrapped,n=o(r),i=u(r);if(0===e.length)this._wrapped=t(this._wrapped);else if(1===e.length)this._wrapped=i.mod(n,e[0],t);else{var s=e[0],a=e.slice(1);n[s]=p(r[s]).mod(a,t).freeze(),this._wrapped=n}return this},p.prototype.merge=function(e,t){return this._wrapped=p(this._wrapped).mod(e,function(e){return s(e,t)}).freeze(),this},p.prototype.del=function(e){var t=this._wrapped,r=u(t);if(1===e.length)this._wrapped=r.del(t,e[0]);else{var n=e[0],o=e.slice(1),i=r.get(t,n);this._wrapped=r.set(t,n,r.del(i,o))}return this},p.prototype.set=function(e,t){return this.mod(e,function(){return t})},e.exports=p},function(e,t,r){"use strict";var n=r(111),o=r(9),i={getUserInput:function(){return o.omit(this.props,n)}};e.exports=i},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(128),i=r(129),s=r(130),a=r(131),l=r(97),c={MovablePoint:i,addMovablePoint:function(e,t){var r=new o(e,{});return new i(e,r,t)},MovableLine:s,addMovableLine:function(e,t){var r=new o(e,{});return new s(e,r,t)},MovablePolygon:a,addMovablePolygon:function(e,t){var r=new o(e,{});return new a(e,r,t)},addMaybeMobileMovablePoint:function(e,t){var r=e.props.apiOptions.isMobile,o=r?{stroke:"#ffffff","stroke-width":3,fill:l.INTERACTIVE}:{stroke:l.INTERACTIVE,fill:l.INTERACTIVE},i=Object.assign(o,t.normalStyle),s=Object.assign(r?n({},o,{"stroke-width":0,scale:.75}):{},t.highlightStyle),a=Object.assign({normalStyle:i,highlightStyle:s,shadow:r,tooltip:r&&e.props.showTooltips,showHairlines:e.showHairlines,hideHairlines:e.hideHairlines},r?{pointSize:7}:{});return c.addMovablePoint(e.graphie,Object.assign(t,a))}};e.exports=c},,function(e,t,r){"use strict";var n=r(9),o=r(105),i=r(133),s=r(123).point,a=r(123).vector,l=r(78),c={thickness:2,mouselayer:!1},u=function(e,t,r,o){o=n.extend({},c,o);var i=[e.range[0][0],0],a=[e.range[0][1],0];n.extend(this,e.fixedLine(i,a,o.thickness)),this.visibleShape.attr(o.normalStyle),n.extend(this,{graphie:e,initialPoint:e.scalePoint(i),initialLength:s.distanceToPoint(e.scalePoint(i),e.scalePoint(a))}),o.mouselayer?this.graphie.addToMouseLayerWrapper(this.wrapper):this.graphie.addToVisibleLayerWrapper(this.wrapper),this.moveTo(t,r)};n.extend(u.prototype,i,{getMouseTarget:function(){return this.wrapper},moveTo:function(e,t){var r=this.graphie.scalePoint(e),n=this.graphie.scalePoint(t),i=a.polarDegFromCart(a.subtract(n,r)),s=i[0],c=l.bound(i[1]),u=a.subtract(r,this.initialPoint),p=l.bound(s/this.initialLength),h=o.getCanUse3dTransform(),d="translateX("+u[0]+"px) translateY("+u[1]+"px) "+(h?" translateZ(0)":"")+"rotate("+c+"deg) scaleX("+p+") scaleY(1)";this.transform(d)}}),e.exports=u},function(e,t,r){"use strict";var n={BLUE:"#6495ED",ORANGE:"#FFA500",PINK:"#FF00AF",GREEN:"#28AE7B",PURPLE:"#9D38BD",RED:"#DF0030",GRAY:"gray",BLACK:"black",LIGHT_BLUE:"#9AB8ED",LIGHT_ORANGE:"#EDD19B",LIGHT_PINK:"#ED9BD3",LIGHT_GREEN:"#9BEDCE",LIGHT_PURPLE:"#DA9BED",LIGHT_RED:"#ED9AAC",LIGHT_GRAY:"#ED9B9B",LIGHT_BLACK:"#ED9B9B",GRAY10:"#D6D6D6",GRAY20:"#CDCDCD",GRAY30:"#B3B3B3",GRAY40:"#9A9A9A",GRAY50:"#808080",GRAY60:"#666666",GRAY70:"#4D4D4D",GRAY80:"#333333",GRAY90:"#1A1A1A",BLUE_A:"#CCFAFF",BLUE_B:"#80F6FF",BLUE_C:"#63D9EA",BLUE_D:"#11ACCD",BLUE_E:"#0C7F99",TEAL_A:"#94FFF5",TEAL_B:"#26EDD5",TEAL_C:"#01D1C1",TEAL_D:"#01A995",TEAL_E:"#208170",GREEN_A:"#B6FFB0",GREEN_B:"#8AF281",GREEN_C:"#74CF70",GREEN_D:"#1FAB54",GREEN_E:"#0D923F",GOLD_A:"#FFD0A9",GOLD_B:"#FFBB71",GOLD_C:"#FF9C39",GOLD_D:"#E07D10",GOLD_E:"#A75A05",RED_A:"#FCA9A9",RED_B:"#FF8482",RED_C:"#F9685D",RED_D:"#E84D39",RED_E:"#BC2612",MAROON_A:"#FFBDE0",MAROON_B:"#FF92C6",MAROON_C:"#ED5FA6",MAROON_D:"#CA337C",MAROON_E:"#9E034E",PURPLE_A:"#DDD7FF",PURPLE_B:"#C6B9FC",PURPLE_C:"#AA87FF",PURPLE_D:"#7854AB",PURPLE_E:"#543B78",MINT_A:"#F5F9E8",MINT_B:"#EDF2DF",MINT_C:"#E0E5CC",GRAY_A:"#F6F7F7",GRAY_B:"#F0F1F2",GRAY_C:"#E3E5E6",GRAY_D:"#D6D8DA",GRAY_E:"#BABEC2",GRAY_F:"#888D93",GRAY_G:"#626569",GRAY_H:"#3B3E40",GRAY_I:"#21242C",KA_BLUE:"#314453",KA_GREEN:"#71B307",_BACKGROUND:"#FDFDFD"};n.INTERACTING=n.KA_GREEN,n.INTERACTIVE=n.KA_GREEN,n.DYNAMIC=n.BLUE,e.exports=n},,,,,function(e,t,r){"use strict";var n=r(135);r(136),e.exports=n},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(11),s=o.createClass({displayName:"TextInput",propTypes:{value:o.PropTypes.string,onChange:o.PropTypes.func.isRequired,className:o.PropTypes.string,labelText:o.PropTypes.string,onFocus:o.PropTypes.func,onBlur:o.PropTypes.func,disabled:o.PropTypes.bool},getDefaultProps:function(){return{value:"",disabled:!1}},render:function(){var e=this;return o.createElement("input",n({},this.props,{type:"text",disabled:this.props.disabled,"aria-label":this.props.labelText,
onChange:function(t){return e.props.onChange(t.target.value)}}))},focus:function(){i.findDOMNode(this).focus()},blur:function(){i.findDOMNode(this).blur()},getValue:function(){return i.findDOMNode(this).value},getStringValue:function(){return i.findDOMNode(this).value.toString()},setSelectionRange:function(e,t){i.findDOMNode(this).setSelectionRange(e,t)},getSelectionStart:function(){return i.findDOMNode(this).selectionStart},getSelectionEnd:function(){return i.findDOMNode(this).selectionEnd}});e.exports=s},function(e,t,r){"use strict";var n=r(10),o=r(11),i=r(9),s=r(38),a=r(17).ClassNames,l=(r(79),r(76).modifyTex),c=n.createClass({displayName:"MathOutput",propTypes:{value:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number]),className:n.PropTypes.string,labelText:n.PropTypes.string,onFocus:n.PropTypes.func,onBlur:n.PropTypes.func},getDefaultProps:function(){return{value:"",onFocus:function(){},onBlur:function(){}}},getInitialState:function(){return{focused:!1,selectorNamespace:i.uniqueId("math-output")}},_getInputClassName:function(){var e="math-output "+a.INPUT+" "+a.INTERACTIVE;return this.state.focused&&(e+=" "+a.FOCUSED),this.props.className&&(e+=" "+this.props.className),e},_getDisplayValue:function(e){var t;return t=null!=e?""+e:"",l(t)},render:function(){var e={textAlign:"center"};return n.createElement("span",{ref:"input",className:this._getInputClassName(),"aria-label":this.props.labelText,onMouseDown:this.focus,onTouchStart:this.focus},n.createElement("div",{style:e},n.createElement(s,null,this._getDisplayValue(this.props.value))))},getValue:function(){return this.props.value},focus:function(){this.state.focused||(this.props.onFocus(),this._bindBlurHandler(),this.setState({focused:!0}))},blur:function(){this.state.focused&&(this.props.onBlur(),this._unbindBlurHandler(),this.setState({focused:!1}))},_bindBlurHandler:function(){var e=this;$(document).bind("vclick."+this.state.selectorNamespace,function(t){var r=$(t.target).closest(o.findDOMNode(e));r.length||e.blur()})},_unbindBlurHandler:function(){$(document).unbind("."+this.state.selectorNamespace)},componentWillUnmount:function(){this._unbindBlurHandler()}});e.exports=c},function(e,t,r){"use strict";function n(){var e=document.createElement("div"),t=["transform","msTransform","MozTransform","WebkitTransform","OTransform"],r=null;return i.each(t,function(t){"undefined"!=typeof e.style[t]&&(r=t)}),r}function o(){var e=document.createElement("div"),t=c.getPrefixedTransform();return e.style[t]="translateZ(0px)",!!e.style[t]}var i=r(9),s=r(137),a=null,l=null,c={assert:function(e,t){if(!e)throw new Error("Assertion Error"+(t?": "+t:""))},createGettersFor:function(e,t){i.each(i.keys(t),function(t){void 0===e.prototype[t]&&(e.prototype[t]=function(){return this.state[t]})})},addMovableHelperMethodsTo:function(e){i.each(s,function(t,r){void 0===e.prototype[r]&&(e.prototype[r]=t)})},arrayify:function(e){return null==e?[]:i.isArray(e)?i.filter(i.flatten(e),i.identity):[e]},normalizeOptions:function(e,t){var r=i.clone(t);return i.each(e,function(e){var n=t[e];if(void 0!==n){var o=c.arrayify(n);r[e]=o}}),r},getPrefixedTransform:function(){return a=a||n()},getCanUse3dTransform:function(){return null==l&&(l=o()),l}};e.exports=c},,,function(e,t,r){"use strict";function n(e){if(!a[e]){var t=$("<span>").text(e).appendTo("body");a[e]=t.width()+5,t.remove()}return a[e]}var o=r(10),i=r(11),s=r(9),a={},l=o.createClass({displayName:"TextListEditor",propTypes:{options:o.PropTypes.array,layout:o.PropTypes.string,onChange:o.PropTypes.func.isRequired},getDefaultProps:function(){return{options:[],layout:"horizontal"}},getInitialState:function(){return{items:this.props.options.concat("")}},componentWillReceiveProps:function(e){this.setState({items:e.options.concat("")})},render:function(){var e=["perseus-text-list-editor","perseus-clearfix","layout-"+this.props.layout].join(" "),t=s.map(this.state.items,function(e,t){return o.createElement("li",{key:t},o.createElement("input",{ref:"input_"+t,type:"text",value:e,onChange:this.onChange.bind(this,t),onKeyDown:this.onKeyDown.bind(this,t),style:{width:n(e)}}))},this);return o.createElement("ul",{className:e},t)},onChange:function(e,t){var r=s.clone(this.state.items);r[e]=t.target.value,e===r.length-1&&(r=r.concat("")),this.setState({items:r}),this.props.onChange(s.compact(r))},onKeyDown:function(e,t){var r=t.nativeEvent.keyCode;if(8===r&&""===this.state.items[e]){t.preventDefault();var n=s.clone(this.state.items),o=0===e?0:e-1;e!==n.length-1||0!==e&&""===n[o]?(n.splice(e,1),this.setState({items:n},function(){i.findDOMNode(this.refs["input_"+o]).focus()})):i.findDOMNode(this.refs["input_"+o]).focus()}else if(8===r&&1===this.state.items[e].length&&e===this.state.items.length-2){t.preventDefault();var n=s.clone(this.state.items);n.splice(e,1),this.setState({items:n}),this.props.onChange(s.compact(n))}else if(13===r){t.preventDefault();var n=s.clone(this.state.items),o=e+1;e===n.length-2?i.findDOMNode(this.refs["input_"+o]).focus():(n.splice(o,0,""),this.setState({items:n},function(){i.findDOMNode(this.refs["input_"+o]).focus()}))}}});e.exports=l},function(e,t,r){(function(t){!function(){var r=/\r\n?/g,n=/\t/g,o=/\f/g,i=function(e){return e.replace(r,"\n").replace(o,"").replace(n,"    ")},s=function(e){var t=Object.keys(e);t.sort(function(t,r){var n=e[t].order,o=e[r].order;return n!==o?n-o:t<r?-1:t>r?1:0});var r=function(n,o){var i=[];o=o||{};for(var s="";n;){for(var a=0;a<t.length;){var l,c=t[a],u=e[c];if(l=u.match?u.match(n,o,s):u.regex.exec(n)){var p=l[0];n=n.substring(p.length);var h=u.parse(l,r,o);null==h.type&&(h.type=c),i.push(h),s=p;break}a++}if(a===t.length)throw new Error("could not find rule to match content: "+n)}return i},n=function(e,t){return r(i(e),t)};return n},a=function(e){var t=function(t,r){return r.inline?e.exec(t):null};return t.regex=e,t},l=function(e){var t=function(t,r){return r.inline?null:e.exec(t)};return t.regex=e,t},c=function(e){var t=function(t,r){return e.exec(t)};return t.regex=e,t},u=function(e){var t=function(r,n){if(n=n||{},Array.isArray(r)){for(var o=n.key,i=[],s=!1,a=0;a<r.length;a++){n.key=a;var l=t(r[a],n),c="string"==typeof l;c&&s?i[i.length-1]+=l:i.push(l),s=c}return n.key=o,i}return e(r,t,n)};return t},p=function(e){var t=function(r,n){return n=n||{},Array.isArray(r)?r.map(function(e){return t(e,n)}).join(""):e(r,t,n)};return t},h="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,d=function(e){return e._store={validated:!0,originalProps:e.props},e},f=function(e,t,r,n){r=r||{},n="undefined"==typeof n||n;var o="";for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&(o+=" "+i+'="'+r[i]+'"');var s="<"+e+o+">";return n?s+t+"</"+e+">":s},m={},v=function(e){if(null==e)return null;try{var t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").toLowerCase();if(0===t.indexOf("javascript:"))return null}catch(e){return null}return e},g=function(e,t,r){var n=r.inline||!1;r.inline=!0;var o=e(t,r);return r.inline=n,o},y=function(e,t,r){var n=r.inline||!1;r.inline=!1;var o=e(t+"\n\n",r);return r.inline=n,o},b=function(e,t,r){return{content:g(t,e[1],r)}},T=function(){return{}},x="(?:[*+-]|\\d+\\.)",E="( *)("+x+") +",P=new RegExp("^"+E),w=new RegExp(E+"[^\\n]*(?:\\n(?!\\1"+x+" )[^\\n]*)*(\n|$)","gm"),S=/\n{2,}$/,k=S,C=/ *\n+$/,_=new RegExp("^( *)("+x+") [\\s\\S]+?(?:\n{2,}(?! )(?!\\1"+x+" )\\n*|\\s*\n*$)"),M=/^$|\n *$/,R=function(){var e=/^ *| *\| *$/g,t=/^ *|\| *$/g,r=/(?: *\| *)?\n$/,n=/\n$/,o=/^ *\| *| *\| *$/g,i=/ *\| */,s=/^ *-+: *$/,a=/^ *:-+: *$/,l=/^ *:-+ *$/,c=function(e){return s.test(e)?"right":a.test(e)?"center":l.test(e)?"left":null},u=function(t,r,n){var o=t[1].replace(e,"").split(i);return o.map(function(e){return r(e,n)})},p=function(e,r,n){var o=e[2].replace(t,"").split(i);return o.map(c)},h=function(e,t,n){var s=e[3].replace(r,"").split("\n");return s.map(function(e){var r=e.replace(o,"").split(i);return r.map(function(e){return t(e,n)})})},d=function(e,t,r){var o=e[3].replace(n,"").split("\n");return o.map(function(e){var n=e.split(i);return n.map(function(e){return t(e,r)})})},f=function(e,t,r){r.inline=!0;var n=u(e,t,r),o=p(e,t,r),i=h(e,t,r);return r.inline=!1,{type:"table",header:n,align:o,cells:i}},m=function(e,t,r){r.inline=!0;var n=u(e,t,r),o=p(e,t,r),i=d(e,t,r);return r.inline=!1,{type:"table",header:n,align:o,cells:i}};return{parseTable:f,parseNpTable:m,NPTABLE_REGEX:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/}}(),N="(?:\\[[^\\]]*\\]|[^\\]]|\\](?=[^\\[]*\\]))*",O="\\s*<?([^\\s]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*",A=/mailto:/i,I=function(e,t,r){var n=(e[2]||e[1]).replace(/\s+/g," ").toLowerCase();if(t._defs&&t._defs[n]){var o=t._defs[n];r.target=o.target,r.title=o.title}return t._refs=t._refs||{},t._refs[n]=t._refs[n]||[],t._refs[n].push(r),r},L={heading:{match:l(/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n *)+\n/),parse:function(e,t,r){return{level:e[1].length,content:g(t,e[2],r)}},react:function(e,t,r){return d({type:"h"+e.level,key:r.key,props:{children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){return f("h"+e.level,t(e.content,r))}},nptable:{match:l(R.NPTABLE_REGEX),regex:R.NPTABLE_REGEX,parse:R.parseNpTable},lheading:{match:l(/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/),parse:function(e,t,r){return{type:"heading",level:"="===e[2]?1:2,content:g(t,e[1],r)}}},hr:{match:l(/^( *[-*_]){3,} *(?:\n *)+\n/),parse:T,react:function(e,t,r){return d({type:"hr",key:r.key,props:m,$$typeof:h,_store:null})},html:function(e,t,r){return"<hr>"}},codeBlock:{match:l(/^(?:    [^\n]+\n*)+(?:\n *)+\n/),parse:function(e,t,r){var n=e[0].replace(/^    /gm,"").replace(/\n+$/,"");return{lang:void 0,content:n}},react:function(e,t,r){var n=e.lang?"markdown-code-"+e.lang:void 0;return d({type:"pre",key:r.key,props:{children:d({type:"code",props:{className:n,children:e.content},$$typeof:h,_store:null})},$$typeof:h,_store:null})},html:function(e,t,r){var n=e.lang?"markdown-code-"+e.lang:void 0,o=f("code",e.content,{class:n});return f("pre",o)}},fence:{match:l(/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n *)+\n/),parse:function(e,t,r){return{type:"codeBlock",lang:e[2]||void 0,content:e[3]}}},blockQuote:{match:l(/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/),parse:function(e,t,r){var n=e[0].replace(/^ *> ?/gm,"");return{content:t(n,r)}},react:function(e,t,r){return d({type:"blockquote",key:r.key,props:{children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){return f("blockquote",t(e.content,r))}},list:{match:function(e,t,r){var n=M.test(r),o=t._list||!t.inline;return n&&o?_.exec(e):null},parse:function(e,t,r){var n=e[2],o=n.length>1,i=o?+n:void 0,s=e[0].replace(k,"\n").match(w),a=!1,l=s.map(function(e,n){var o=P.exec(e)[0].length,i=new RegExp("^ {1,"+o+"}","gm"),l=e.replace(i,"").replace(P,""),c=n===s.length-1,u=l.indexOf("\n\n")!==-1,p=u||c&&a;a=p;var h=r.inline,d=r._list;r._list=!0;var f;p?(r.inline=!1,f=l.replace(C,"\n\n")):(r.inline=!0,f=l.replace(C,""));var m=t(f,r);return r.inline=h,r._list=d,m});return{ordered:o,start:i,items:l}},react:function(e,t,r){var n=e.ordered?"ol":"ul";return d({type:n,key:r.key,props:{start:e.start,children:e.items.map(function(e,n){return d({type:"li",key:n,props:{children:t(e,r)},$$typeof:h,_store:null})})},$$typeof:h,_store:null})},html:function(e,t,r){var n=e.items.map(function(e){return f("li",t(e,r))}).join(""),o=e.ordered?"ol":"ul",i={start:e.start};return f(o,n,i)}},def:{match:l(/^ *\[([^\]]+)\]: *<?([^\s>]*)>?(?: +["(]([^\n]+)[")])? *\n(?: *\n)?/),parse:function(e,t,r){var n=e[1].replace(/\s+/g," ").toLowerCase(),o=e[2],i=e[3];return r._refs&&r._refs[n]&&r._refs[n].forEach(function(e){e.target=o,e.title=i}),r._defs=r._defs||{},r._defs[n]={target:o,title:i},{def:n,target:o,title:i}},react:function(){return null},html:function(){return null}},table:{match:l(/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/),parse:R.parseTable,react:function(e,t,r){var n=function(t){return null==e.align[t]?{}:{textAlign:e.align[t]}},o=e.header.map(function(e,o){return d({type:"th",key:o,props:{style:n(o),children:t(e,r)},$$typeof:h,_store:null})}),i=e.cells.map(function(e,o){return d({type:"tr",key:o,props:{children:e.map(function(e,o){return d({type:"td",key:o,props:{style:n(o),children:t(e,r)},$$typeof:h,_store:null})})},$$typeof:h,_store:null})});return d({type:"table",key:r.key,props:{children:[d({type:"thead",key:"thead",props:{children:d({type:"tr",props:{children:o},$$typeof:h,_store:null})},$$typeof:h,_store:null}),d({type:"tbody",key:"tbody",props:{children:i},$$typeof:h,_store:null})]},$$typeof:h,_store:null})},html:function(e,t,r){var n=function(t){return null==e.align[t]?"":"text-align:"+e.align[t]+";"},o=e.header.map(function(e,o){return f("th",t(e,r),{style:n(o)})}).join(""),i=e.cells.map(function(e){var o=e.map(function(e,o){return f("td",t(e,r),{style:n(o)})}).join("");return f("tr",o)}).join(""),s=f("thead",f("tr",o)),a=f("tbody",i);return f("table",s+a)}},newline:{match:l(/^(?:\n *)*\n/),parse:T,react:function(e,t,r){return"\n"},html:function(e,t,r){return"\n"}},paragraph:{match:l(/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/),parse:b,react:function(e,t,r){return d({type:"div",key:r.key,props:{className:"paragraph",children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){var n={class:"paragraph"};return f("div",t(e.content,r),n)}},escape:{match:a(/^\\([^0-9A-Za-z\s])/),parse:function(e,t,r){return{type:"text",content:e[1]}}},autolink:{match:a(/^<([^ >]+:\/[^ >]+)>/),parse:function(e,t,r){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1]}}},mailto:{match:a(/^<([^ >]+@[^ >]+)>/),parse:function(e,t,r){var n=e[1],o=e[1];return A.test(o)||(o="mailto:"+o),{type:"link",content:[{type:"text",content:n}],target:o}}},url:{match:a(/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/),parse:function(e,t,r){return{type:"link",content:[{type:"text",content:e[1]}],target:e[1],title:void 0}}},link:{match:a(new RegExp("^\\[("+N+")\\]\\("+O+"\\)")),parse:function(e,t,r){var n={content:t(e[1],r),target:e[2],title:e[3]};return n},react:function(e,t,r){return d({type:"a",key:r.key,props:{href:v(e.target),title:e.title,children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){var n={href:v(e.target),title:e.title};return f("a",t(e.content,r),n)}},image:{match:a(new RegExp("^!\\[("+N+")\\]\\("+O+"\\)")),parse:function(e,t,r){var n={alt:e[1],target:e[2],title:e[3]};return n},react:function(e,t,r){return d({type:"img",key:r.key,props:{src:v(e.target),alt:e.alt,title:e.title},$$typeof:h,_store:null})},html:function(e,t,r){var n={src:v(e.target),alt:e.alt,title:e.title};return f("img","",n,!1)}},reflink:{match:a(new RegExp("^\\[("+N+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,r){return I(e,r,{type:"link",content:t(e[1],r)})}},refimage:{match:a(new RegExp("^!\\[("+N+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(e,t,r){return I(e,r,{type:"image",alt:e[1]})}},strong:{match:a(/^\*\*([\s\S]+?)\*\*(?!\*)/),parse:b,react:function(e,t,r){return d({type:"strong",key:r.key,props:{children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){return f("strong",t(e.content,r))}},u:{match:a(/^__([\s\S]+?)__(?!_)/),parse:b,react:function(e,t,r){return d({type:"u",key:r.key,props:{children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){return f("u",t(e.content,r))}},em:{match:a(new RegExp("^\\b_((?:__|[\\s\\S])+?)_\\b|^\\*(?=\\S)((?:\\*\\*|\\s+[^\\*\\s]|[^\\s\\*])*?[^\\s\\*])\\*(?!\\*)")),parse:function(e,t,r){return{content:t(e[2]||e[1],r)}},react:function(e,t,r){return d({type:"em",key:r.key,props:{children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){return f("em",t(e.content,r))}},del:{match:a(/^~~(?=\S)([\s\S]*?\S)~~/),parse:b,react:function(e,t,r){return d({type:"del",key:r.key,props:{children:t(e.content,r)},$$typeof:h,_store:null})},html:function(e,t,r){return f("del",t(e.content,r))}},inlineCode:{match:a(/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/),parse:function(e,t,r){return{content:e[2]}},react:function(e,t,r){return d({type:"code",key:r.key,props:{children:e.content},$$typeof:h,_store:null})},html:function(e,t,r){return f("code",e.content)}},br:{match:c(/^ {2,}\n/),parse:T,react:function(e,t,r){return d({type:"br",key:r.key,props:m,$$typeof:h,_store:null})},html:function(e,t,r){return"<br>"}},text:{match:a(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00ff-\uffff]|\n\n| {2,}\n|\w+:\S|$)/),parse:function(e,t,r){return{content:e[0]}},react:function(e,t,r){return e.content},html:function(e,t,r){return e.content}}};Object.keys(L).forEach(function(e,t){L[e].order=t});var F=function(e,t){t||"undefined"==typeof console||console.warn("simple-markdown ruleOutput should take 'react' or 'html' as the second argument."),t=t||"react";var r=function(r,n,o){return e[r.type][t](r,n,o)};return r},D=s(L),B=function(e){return D(e+"\n\n",{inline:!1})},q=function(e){return D(e,{inline:!0})},z=function(e){return D(e,{inline:!S.test(e)})},H=u(F(L,"react")),U=p(F(L,"html")),W={defaultRules:L,parserFor:s,ruleOutput:F,reactFor:u,htmlFor:p,inlineRegex:a,blockRegex:l,anyScopeRegex:c,parseInline:g,parseBlock:y,defaultRawParse:D,defaultBlockParse:B,defaultInlineParse:q,defaultImplicitParse:z,defaultReactOutput:H,defaultHtmlOutput:U,preprocess:i,sanitizeUrl:v,defaultParse:z,outputFor:u,defaultOutput:H};"undefined"!=typeof e&&e.exports?e.exports=W:"undefined"!=typeof t?t.SimpleMarkdown=W:window.SimpleMarkdown=W}()}).call(t,function(){return this}())},function(e,t,r){"use strict";e.exports={KeypadTypes:{FRACTION:"FRACTION",EXPRESSION:"EXPRESSION"},KeyTypes:{EMPTY:"EMPTY",VALUE:"VALUE",OPERATOR:"OPERATOR",INPUT_NAVIGATION:"INPUT_NAVIGATION",KEYPAD_NAVIGATION:"KEYPAD_NAVIGATION",MANY:"MANY",ECHO:"ECHO"},DeviceOrientations:{LANDSCAPE:"LANDSCAPE",PORTRAIT:"PORTRAIT"},DeviceTypes:{PHONE:"PHONE",TABLET:"TABLET"},LayoutModes:{FULLSCREEN:"FULLSCREEN",COMPACT:"COMPACT"},BorderDirections:{LEFT:"LEFT",BOTTOM:"BOTTOM"},BorderStyles:{LEFT:["LEFT"],BOTTOM:["BOTTOM"],ALL:["LEFT","BOTTOM"],NONE:[]},IconTypes:{MATH:"MATH",SVG:"SVG",TEXT:"TEXT"},DecimalSeparators:{COMMA:"COMMA",PERIOD:"PERIOD"},EchoAnimationTypes:{SLIDE_AND_FADE:"SLIDE_AND_FADE",FADE_ONLY:"FADE_ONLY",LONG_FADE_ONLY:"LONG_FADE_ONLY"}}},function(e,t,r){"use strict";e.exports=["key","ref","containerSizeClass","widgetId","onChange","problemNum","apiOptions","questionCompleted","interWidgets","onRemove","id","onBlur","onFocus","trackInteraction","keypadElement"]},,,,,,function(e,t,r){"use strict";function n(e){a.extend(this,e)}var o=r(16),i=o.nestedMap,s=o.deepEq,a=r(9),l=function(){throw new Error("Abstract method! Must be implemented by Graphie Movable"+this.constructor.displayName)};a.extend(n.prototype,{movableProps:[],add:l,modify:l,remove:l,toFront:function(){}});var c=function(e,t){return a.extend({},e,{children:a.filter(a.flatten(t),a.identity)})},u=function(e){var t=function e(t){if(!(this instanceof e))throw new Error("Use createElement or JSX with graphie movables");return this.props=c(t,t.children||[]),this};return e.displayName=e.displayName||a.uniqueId("GraphieClass"),t.displayName=e.displayName,t.prototype=new n(e),t.prototype.constructor=t,t},p=function(e){return u({displayName:e.name||a.uniqueId("GraphieSimpleClass"),movableProps:["children"],add:function(t){this._elements=e(t,this.props),this._prevProps=this.props},modify:function(e){if(!s(this.props,this._prevProps))return this.remove(),this.add(e),this._prevProps=this.props,"reordered"},remove:function(){i(this._elements,function(e){e&&e.remove()}),this._elements=null,this._prevProps=null},toFront:function(){i(this._elements,function(e){a.isFunction(e.toFront)&&e.toFront()})}})};e.exports={GraphieMovable:n,createClass:u,createSimpleClass:p}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(9),i=r(117),s=r(94),a=r(105),l=r(97),c=(a.assert,i.createClass({displayName:"MovablePoint",movableProps:["children"],_getProps:function(){if(this.props.isMobile){var e=this.props.isMobile,t=e?{stroke:"#ffffff","stroke-width":3,fill:l.INTERACTIVE}:{stroke:l.INTERACTIVE,fill:l.INTERACTIVE},r=e?Object.assign(t,this.props.mobileStyleOverride||{}):Object.assign(t,this.props.normalStyle),o=e?n({},t,{"stroke-width":0,scale:.75}):this.props.highlightStyle,i=Object.assign({normalStyle:r,highlightStyle:o,shadow:e,tooltip:e&&this.props.showTooltips},e?{pointSize:7}:{});return Object.assign(this.props,i)}return this.props},add:function(e){this.point=s.addMovablePoint(e,this._getProps())},modify:function(){this.point.modify(this._getProps())},remove:function(){this.point.remove()},toFront:function(){this.point.toFront()},grab:function(e){this.point.grab(e)}}));o.extend(c,s.MovablePoint);var u=i.createClass({displayName:"MovableLine",movableProps:["children"],add:function(e){var t=o.pluck(this.props.children,"point"),r=o.extend({},this.props,{points:t});this.line=s.addMovableLine(e,r)},modify:function(){var e=o.pluck(this.props.children,"point"),t=o.extend({},this.props,{points:e});this.line.modify(t)},remove:function(){this.line.remove()},toFront:function(){this.line.toFront()}});o.extend(u,s.MovableLine);var p=i.createSimpleClass(function(e,t){var r=t.coord;return t.unscaled&&(r=e.unscalePoint(r)),e.label(r,t.text,t.direction,t.tex,t.style)}),h=i.createClass({displayName:"Line",movableProps:["children"],add:function(e){var t=this.props;this.graphie=e,this.line=this.graphie.line(t.start,t.end,t.style)},modify:function(){var e=this.props,t=this.graphie.svgPath([e.start,e.end]);this.line.attr(o.extend({},e.style,{path:t}))},remove:function(){this.line.remove()},toFront:function(){this.line.toFront()}}),d=i.createClass({displayName:"Parabola",movableProps:["children"],add:function(e){var t=this.props;this.graphie=e,this.parabola=this.graphie.parabola(t.a,t.b,t.c,t.style)},modify:function(){var e=this.props,t=this.graphie.svgParabolaPath(e.a,e.b,e.c);this.parabola.attr(o.extend({},e.style,{path:t}))},remove:function(){this.parabola.remove()},toFront:function(){this.parabola.toFront()}}),f=i.createClass({displayName:"Sinusoid",movableProps:["children"],add:function(e){var t=this.props;this.graphie=e,this.sinusoid=this.graphie.sinusoid(t.a,t.b,t.c,t.d,t.style)},modify:function(){var e=this.props,t=this.graphie.svgSinusoidPath(e.a,e.b,e.c,e.d);this.sinusoid.attr(o.extend({},e.style,{path:t}))},remove:function(){this.sinusoid.remove()},toFront:function(){this.sinusoid.toFront()}}),m=i.createSimpleClass(function(e,t){return e.plot(t.fn,t.range,t.style)}),v=i.createSimpleClass(function(e,t){return e.plotParametric(t.fn,t.range,t.style)}),g=i.createSimpleClass(function(e,t){return e.ellipse(t.coord,e.unscaleVector([4,4]),{fill:t.color||l.BLACK,stroke:t.color||l.BLACK})}),y=i.createClass({displayName:"Path",movableProps:["children"],add:function(e){var t=this.props;this.graphie=e,this.path=this.graphie.path(t.coords,t.style)},modify:function(){var e=this.props,t=this.graphie.svgPath(e.coords);this.path.attr({path:t})},remove:function(){this.path.remove()},toFront:function(){this.path.toFront()}}),b=i.createSimpleClass(function(e,t){var r=t.center,n=t.radius;return t.unscaled&&(r=e.unscalePoint(r),n=e.unscaleVector(n)),e.arc(r,n,t.startAngle,t.endAngle,t.sector,t.style)}),T=i.createSimpleClass(function(e,t){return e.circle(t.center,t.radius,t.style)}),x=i.createSimpleClass(function(e,t){return e.rect(t.x,t.y,t.width,t.height,t.style)});e.exports={Arc:b,Circle:T,Label:p,Line:h,MovableLine:u,MovablePoint:c,Parabola:d,Path:y,Plot:m,PlotParametric:v,Point:g,Sinusoid:f,Rect:x}},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(10),s=r(176),a=s.Provider,l=r(138),c=r(146),u=c.activateKeypad,p=c.dismissKeypad,h=c.configureKeypad,d=c.setCursor,f=c.setKeyHandler,m=r(147),v=i.createClass({displayName:"ProvidedKeypad",propTypes:{onElementMounted:i.PropTypes.func},componentWillMount:function(){this.store=m()},activate:function(){this.store.dispatch(u())},dismiss:function(){this.store.dispatch(p())},configure:function(e,t){this.store.dispatch(h(e)),setTimeout(function(){return t&&t()})},setCursor:function(e){this.store.dispatch(d(e))},setKeyHandler:function(e){this.store.dispatch(f(e))},render:function(){var e=this,t=this.props,r=t.onElementMounted,s=n(t,["onElementMounted"]);return i.createElement(a,{store:this.store},i.createElement(l,o({onElementMounted:function(t){var n=o({},t,{activate:e.activate,dismiss:e.dismiss,configure:e.configure,setCursor:e.setCursor,setKeyHandler:e.setKeyHandler});r&&r(n)}},s)))}});e.exports=v},function(e,t,r){"use strict";var n=r(10),o=r(148),i=r(139),s=r(110),a=s.BorderDirections,l=s.EchoAnimationTypes,c=s.IconTypes,u=s.KeyTypes,p=s.KeypadTypes,h=n.PropTypes.shape({type:n.PropTypes.oneOf(Object.keys(c)).isRequired,data:n.PropTypes.string.isRequired}),d=n.PropTypes.oneOf(Object.keys(o)),f=n.PropTypes.shape({ariaLabel:n.PropTypes.string,id:d.isRequired,type:n.PropTypes.oneOf(Object.keys(u)).isRequired,childKeyIds:n.PropTypes.arrayOf(d),icon:h.isRequired}),m=n.PropTypes.shape({keypadType:n.PropTypes.oneOf(Object.keys(p)).isRequired,extraKeys:n.PropTypes.arrayOf(d)}),v=n.PropTypes.shape({activate:n.PropTypes.func.isRequired,dismiss:n.PropTypes.func.isRequired,configure:n.PropTypes.func.isRequired,setCursor:n.PropTypes.func.isRequired,setKeyHandler:n.PropTypes.func.isRequired}),g=n.PropTypes.arrayOf(n.PropTypes.oneOf(Object.keys(a))),y=n.PropTypes.shape({height:n.PropTypes.number,width:n.PropTypes.number,top:n.PropTypes.number,right:n.PropTypes.number,bottom:n.PropTypes.number,left:n.PropTypes.number}),b=n.PropTypes.shape({animationId:n.PropTypes.string.isRequired,animationType:n.PropTypes.oneOf(Object.keys(l)).isRequired,borders:g,id:d.isRequired,initialBounds:y.isRequired}),T=n.PropTypes.oneOf(Object.keys(i)),x=n.PropTypes.shape({parentId:d.isRequired,bounds:y.isRequired,childKeyIds:n.PropTypes.arrayOf(d).isRequired}),E=n.PropTypes.oneOfType([n.PropTypes.arrayOf(n.PropTypes.node),n.PropTypes.node]);e.exports={keyConfigPropType:f,keyIdPropType:d,keypadConfigurationPropType:m,keypadElementPropType:v,bordersPropType:g,boundingBoxPropType:y,echoPropType:b,cursorContextPropType:T,popoverPropType:x,iconPropType:h,childrenPropType:E}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(11),s=r(13),a=s.StyleSheet,l=r(149),c=l.View,u=r(140),p=r(141),h=r(142),d=r(143),f=r(144),m=f.cursorHandleRadiusPx,v=f.cursorHandleDistanceMultiplier,g=f.gray76,y=r(120),b=y.keypadElementPropType,T=r(144),x=T.brightGreen,E=T.gray17,P=.8,w=o.createClass({displayName:"MathInput",propTypes:{keypadElement:b,onBlur:o.PropTypes.func,onChange:o.PropTypes.func.isRequired,onFocus:o.PropTypes.func,scrollable:o.PropTypes.bool,style:o.PropTypes.any,value:o.PropTypes.string},getDefaultProps:function(){return{scrollable:!1,style:{},value:""}},getInitialState:function(){return{focused:!1,handle:{animateIntoPosition:!1,visible:!1,x:0,y:0}}},componentDidMount:function(){var e=this;this.mathField=new p(this._mathContainer,{},{onCursorMove:function(t){e.props.keypadElement&&e.props.keypadElement.setCursor(t)}}),this.mathField.mathField.__controller.container.unbind("mousedown.mathquill"),this.props.scrollable||(this.mathField.mathField.__controller.scrollHoriz=function(){}),this.mathField.setContent(this.props.value),this._container=i.findDOMNode(this),this._root=this._container.querySelector(".mq-root-block"),this._root.style.fontSize=S+"pt",this.touchStartInitialScroll=null,this.recordTouchStartOutside=function(t){if(e.state.focused&&!e._container.contains(t.target)){var r=!1;if(e.props.keypadElement)for(var n=e._getKeypadBounds(),o=0;o<t.changedTouches.length;o++){var i=t.changedTouches[o].clientX,s=t.changedTouches[o].clientY;if(n.left<=i&&n.right>=i&&n.top<=s&&n.bottom>=s||n.bottom<s){r=!0;break}}r||(e.didTouchOutside=!0,e.dragListener&&e.dragListener.detach(),e.dragListener=new d(function(){e.didScroll=!0,e.dragListener.detach()},t),e.dragListener.attach())}},this.blurOnTouchEndOutside=function(t){e.state.focused&&e.didTouchOutside&&!e.didScroll&&e.blur(),e.didTouchOutside=!1,e.didScroll=!1,e.dragListener&&(e.dragListener.detach(),e.removeListeners=null)},window.addEventListener("touchstart",this.recordTouchStartOutside),window.addEventListener("touchend",this.blurOnTouchEndOutside),window.addEventListener("touchcancel",this.blurOnTouchEndOutside),window.addEventListener("resize",this._clearKeypadBoundsCache),window.addEventListener("orientationchange",this._clearKeypadBoundsCache)},componentWillReceiveProps:function(e){this.props.keypadElement!==e.keypadElement&&this._clearKeypadBoundsCache()},componentDidUpdate:function(){this.mathField.getContent()!==this.props.value&&this.mathField.setContent(this.props.value)},componentWillUnmount:function(){window.removeEventListener("touchstart",this.recordTouchStartOutside),window.removeEventListener("touchend",this.blurOnTouchEndOutside),window.removeEventListener("touchcancel",this.blurOnTouchEndOutside),window.removeEventListener("resize",this._clearKeypadBoundsCache()),window.removeEventListener("orientationchange",this._clearKeypadBoundsCache())},_clearKeypadBoundsCache:function(e){this._keypadBounds=null},_cacheKeypadBounds:function(e){this._keypadBounds=e.getBoundingClientRect()},_getKeypadBounds:function(){if(!this._keypadBounds){var e=i.findDOMNode(this.props.keypadElement);this._cacheKeypadBounds(e)}return this._keypadBounds},_updateCursorHandle:function(e){var t=this._container.getBoundingClientRect(),r=this._container.querySelector(".mq-cursor"),n=r.getBoundingClientRect(),o=n.width,i=2;this.setState({handle:{visible:!0,animateIntoPosition:e,x:n.left+o/2-t.left,y:n.bottom+i-t.top}})},_hideCursorHandle:function(){this.setState({handle:{visible:!1,x:0,y:0}})},blur:function(){this.mathField.blur(),this.props.onBlur&&this.props.onBlur(),this.setState({focused:!1,handle:{visible:!1}})},focus:function(){var e=this;this.props.keypadElement.setKeyHandler(function(t){var r=e.mathField.pressKey(t),n=function(){e.setState({handle:{visible:!1}})},o=e.mathField.getContent();return e.props.value!==o?e.props.onChange(o,n):n(),r}),this.mathField.focus(),this.props.onFocus&&this.props.onFocus(),this.setState({focused:!0},function(){setTimeout(function(){if(e.isMounted()){var t=e.props.keypadElement&&i.findDOMNode(e.props.keypadElement);h(e._container,t)}})})},_findHitNode:function(e,t,r,n,o){for(var i=this;r>=e.top&&r<=e.bottom;){r+=o;for(var s=[[t-n,r],[t,r],[t+n,r]],a=s.map(function(e){var t;return(t=document).elementFromPoint.apply(t,e)}).filter(function(e){return e&&i._root.contains(e)&&(!e.classList.contains("mq-root-block")&&!e.classList.contains("mq-non-leaf")||e.classList.contains("mq-empty")||e.classList.contains("mq-hasCursor"))}),l=null,c=[],u=[],p=0,h={},d={},f=a,m=Array.isArray(f),v=0,f=m?f:f[Symbol.iterator]();;){var g;if(m){if(v>=f.length)break;g=f[v++]}else{if(v=f.next(),v.done)break;g=v.value}var y=g,b=y.getAttribute("mathquill-command-id");null!=b?(c.push(y),h[b]=(h[b]||0)+1,d[b]=y):u.push(y)}for(var T=Object.entries(h),x=Array.isArray(T),E=0,T=x?T:T[Symbol.iterator]();;){var P;if(x){if(E>=T.length)break;P=T[E++]}else{if(E=T.next(),E.done)break;P=E.value}var w=P,S=w[0],k=w[1];k>p&&(p=k,l=d[S])}if(null==l&&u.length>0&&(l=u[0]),null!==l)return this.mathField.setCursorPosition(t,r,l),!0}return!1},_insertCursorAtClosestNode:function(e,t){var r=this.mathField.getCursor();if(!this._root.hasChildNodes())return void r.insAtLeftEnd(this.mathField.mathField.__controller.root);t>this._containerBounds.bottom?t=this._containerBounds.bottom:t<this._containerBounds.top&&(t=this._containerBounds.top+10);var n=void 0,o=void 0;
if(o=-8,n=5,!this._findHitNode(this._containerBounds,e,t,n,o)&&(t=this._containerBounds.top,o=8,!this._findHitNode(this._containerBounds,e,t,n,o))){var i=this._root.firstChild.getBoundingClientRect(),s=this._root.lastChild.getBoundingClientRect(),a=i.left,l=s.right;Math.abs(e-l)<Math.abs(e-a)?r.insAtRightEnd(this.mathField.mathField.__controller.root):r.insAtLeftEnd(this.mathField.mathField.__controller.root),this.props.keypadElement&&this.props.keypadElement.setCursor({context:this.mathField.contextForCursor(r)})}},handleTouchStart:function(e){if(e.stopPropagation(),this._hideCursorHandle(),""!==this.mathField.getContent()){this._containerBounds=this._container.getBoundingClientRect();var t=e.changedTouches[0];this._insertCursorAtClosestNode(t.clientX,t.clientY)}this.state.focused||this.focus()},handleTouchMove:function(e){if(e.stopPropagation(),""!==this.mathField.getContent()){var t=e.changedTouches[0];this._insertCursorAtClosestNode(t.clientX,t.clientY)}},handleTouchEnd:function(e){e.stopPropagation(),""!==this.mathField.getContent()&&this._updateCursorHandle()},onCursorHandleTouchStart:function(e){e.stopPropagation(),e.preventDefault(),this._containerBounds=this._container.getBoundingClientRect()},_constrainToBound:function(e,t,r,n){return e<t?t+(e-t)*n:e>r?r+(e-r)*n:e},onCursorHandleTouchMove:function(e){e.stopPropagation();var t=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY,n=t-this._containerBounds.left,o=r-2*m*v-this._containerBounds.top;this.setState({handle:{animateIntoPosition:!1,visible:!0,x:this._constrainToBound(n,0,this._containerBounds.width,P),y:this._constrainToBound(o,0,this._containerBounds.height,P)}});var i=22,s=r-i;this._insertCursorAtClosestNode(t,s)},onCursorHandleTouchEnd:function(e){e.stopPropagation(),this._updateCursorHandle(!0)},onCursorHandleTouchCancel:function(e){e.stopPropagation(),this._updateCursorHandle(!0)},render:function(){var e=this,t=this.state,r=t.focused,s=t.handle,a=this.props.style,l=1,p=2,h=this.state.focused?p:l,d=2,f=C-h-d,m=3,v=1,g={paddingTop:f-v,paddingRight:f,paddingBottom:f-m,paddingLeft:f},y=n({},N.innerContainer,{borderWidth:h},g,r?{borderColor:x}:{},a);return o.createElement(c,{style:R.input,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onClick:function(e){return e.stopPropagation()},role:"textbox",ariaLabel:i18n._("Math input box")},o.createElement("div",{className:"keypad-input"},o.createElement("div",{ref:function(t){e._mathContainer=i.findDOMNode(t)},style:y})),r&&s.visible&&o.createElement(u,n({},s,{onTouchStart:this.onCursorHandleTouchStart,onTouchMove:this.onCursorHandleTouchMove,onTouchEnd:this.onCursorHandleTouchEnd,onTouchCancel:this.onCursorHandleTouchCancel})))}}),S=18,k=20,C=8,_=k+2*C,M=64,R=a.create({input:{position:"relative",display:"inline-block",verticalAlign:"middle"}}),N={innerContainer:{backgroundColor:"white",display:"flex",minHeight:_,minWidth:M,boxSizing:"border-box",position:"relative",overflow:"hidden",borderStyle:"solid",borderColor:g,borderRadius:4,color:E}};e.exports=w},function(e,t,r){"use strict";var n,o,i,s,a,l=r(13),c=l.StyleSheet,u=l.css,p=r(12),h=r(10),d=r(11),f=r(9),m=r(17).ClassNames,v=r(8),g=r(35),y=r(36),b=r(34),T=r(16).captureScratchpadTouchStart,x=r(145),E=h.createClass({displayName:"ChoiceNoneAbove",propTypes:{className:h.PropTypes.string,content:h.PropTypes.node,showContent:h.PropTypes.bool},getDefaultProps:function(){return{showContent:!0}},render:function(){var e=f.extend({},this.props,{className:p(this.props.className,"none-of-above"),content:this.props.showContent?this.props.content:h.createElement(v,{key:"noneOfTheAboveRenderer",content:i18n._("None of the above")})});return h.createElement(x,e)}}),P=h.PropTypes.arrayOf(h.PropTypes.shape({checked:h.PropTypes.bool,content:h.PropTypes.node,clue:h.PropTypes.node,correct:h.PropTypes.bool,originalIndex:h.PropTypes.number,isNoneOfTheAbove:h.PropTypes.bool})),w=y.radioBorderColor,S=y.checkedColor,k="1px 16px",C="0px 15px",_=h.createClass({displayName:"BaseRadio",propTypes:{apiOptions:h.PropTypes.shape({readOnly:h.PropTypes.bool,satStyling:h.PropTypes.bool,isMobile:h.PropTypes.bool}),choices:P,deselectEnabled:h.PropTypes.bool,editMode:h.PropTypes.bool,labelWrap:h.PropTypes.bool,multipleSelect:h.PropTypes.bool,onCheckedChange:h.PropTypes.func,onePerLine:h.PropTypes.bool,reviewModeRubric:h.PropTypes.shape({choices:P})},statics:{styles:c.create({instructions:{display:"block",color:y.gray17,fontStyle:"normal",fontWeight:"bold",margin:"8px 0"},radio:{width:"100%"},responsiveRadio:(n={},n[b.lgOrSmaller]={borderBottom:"1px solid "+w,borderTop:"1px solid "+w,width:"auto"},n[b.smOrSmaller]={marginLeft:y.negativePhoneMargin,marginRight:y.negativePhoneMargin},n),responsiveMobileRadio:(o={},o[b.lgOrSmaller]={width:"auto"},o),satRadio:{background:"none",marginLeft:0,userSelect:"none"},satRadioOption:{margin:0,padding:0},satReviewRadioOption:{pointerEvents:"none"},item:{padding:"7px 0",marginLeft:20},inlineItem:{display:"inline-block",paddingLeft:20,verticalAlign:"top"},responsiveItem:(i={},i[b.lgOrSmaller]={marginLeft:0,padding:0,":active":{backgroundColor:y.grayLight},":not(:last-child)":{borderBottom:"1px solid "+w}},i),responsiveMobileItem:(s={backgroundColor:"#FFFFFF"},s[b.lgOrSmaller]={border:"1px solid "+w,borderRadius:"4px",margin:0,minHeight:48,padding:k,":active":{border:"2px solid "+w,padding:C},":not(:last-child)":{marginBottom:"16px"}},s),responsiveSelected:(a={},a[b.lgOrSmaller]={border:"2px solid "+S,padding:C},a),responsiveContainer:{overflow:"auto",marginLeft:y.negativePhoneMargin,marginRight:y.negativePhoneMargin,paddingLeft:y.phoneMargin},responsiveFieldset:{paddingRight:y.phoneMargin}})},getDefaultProps:function(){return{onePerLine:!0,editMode:!1}},checkOption:function(e,t){var r=void 0;r=this.props.multipleSelect?f.map(this.props.choices,function(r,n){return n===e?t:r.checked}):f.map(this.props.choices,function(r,n){return n===e&&t}),this.props.onCheckedChange(r)},focus:function(e){return d.findDOMNode(this.refs["radio"+(e||0)]).focus(),!0},getInstructionsText:function(){return this.props.apiOptions.isMobile?this.props.multipleSelect?i18n._("Choose all answers that apply."):i18n._("Choose 1 answer."):this.props.multipleSelect?i18n._("Select all that apply."):i18n._("Please choose from one of the following options.")},showOnePerLine:function(){return this.props.apiOptions.isMobile||this.props.onePerLine},deselectEnabled:function(){return this.props.apiOptions.isMobile||this.props.deselectEnabled},render:function(){var e=f.uniqueId("perseus_radio_"),t=this.props.multipleSelect?"checkbox":"radio",r=this.props.reviewModeRubric,n=_.styles,o=this.props.apiOptions.satStyling,i=this.props.apiOptions.isMobile,s=p("perseus-widget-radio",!this.props.editMode&&"perseus-rendered-radio",u(g.aboveScratchpad,!i&&g.blankBackground,n.radio,!o&&(i?n.responsiveMobileRadio:n.responsiveRadio),o&&n.satRadio)),a="instructions "+u(n.instructions,g.responsiveLabel),l=this.getInstructionsText(),c=i||this.props.multipleSelect,v=u(n.responsiveFieldset),y=h.createElement("fieldset",{className:"perseus-widget-radio-fieldset "+v},h.createElement("legend",{className:"perseus-sr-only"},l),c&&h.createElement("div",{className:a},l),h.createElement("ul",{className:s},this.props.choices.map(function(s,a){var l=this,c=!(!r||!r.choices[a].clue),v=x,g={ref:"radio"+a,apiOptions:this.props.apiOptions,checked:s.checked,reviewMode:!!r,correct:r&&r.choices[a].correct,clue:s.clue,content:s.content,disabled:this.props.apiOptions.readOnly,editMode:this.props.editMode,groupName:e,isLastChoice:a===this.props.choices.length-1,showClue:c,type:t,pos:a,deselectEnabled:this.deselectEnabled(),onChecked:function(e){l.checkOption(a,e)}};s.isNoneOfTheAbove&&(v=E,f.extend(g,{showContent:s.correct}));var y=function(e,t){return u(n.item,!l.showOnePerLine()&&n.inlineItem,!o&&(t?n.responsiveMobileItem:n.responsiveItem),e&&t&&n.responsiveSelected,o&&n.satRadioOption,o&&e&&n.satRadioSelected,o&&r&&n.satReviewRadioOption)};y(!0,i);var b=p(y(s.checked,i),m.RADIO.OPTION,!this.showOnePerLine()&&"inline",s.checked&&m.RADIO.SELECTED,r&&r.choices[a].correct&&m.CORRECT,r&&!r.choices[a].correct&&m.INCORRECT),P=null;return this.props.editMode&&(P=function(e){var t=l.refs["radio"+a],r=[b,s.content.className,d.findDOMNode(t).className];r.indexOf(e.target.className)!==-1&&l.checkOption(a,!0)}),h.createElement("li",{className:b,key:a,onClick:P,onTouchStart:this.props.labelWrap?T:null},h.createElement(v,g))},this)));return h.createElement("div",{className:u(!o&&n.responsiveContainer)},y)}});e.exports=_},function(e,t,r){e.exports={number:r(150),vector:r(151),point:r(152),line:r(153),ray:r(154)}},function(e,t,r){var n=function(e){return e===Object(e)},o=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];if(r)for(var n in r)e[n]=r[n]}return e},i=function(e){return n(e)?Array.isArray(e)?e.slice():o(e):e};e.exports={isObject:n,merge:o,clone:i}},function(e,t,r){var n=function(e,t){return e[t]},o=function(e,t,r){var n=e.splice();return n[t]=r,n},i=function(e,t,r){var n=e.slice();return n[t]=r(e[t]),n},s=function(e,t){var r=e.slice();return r.splice(t,1),r};e.exports={get:n,set:o,mod:i,del:s}},function(e,t,r){var n=r(124).clone,o=function(e,t){return e[t]},i=function(e,t,r){var o=n(e);return o[t]=r,o},s=function(e,t,r){var o=n(e);return o[t]=r(e[t]),o},a=function(e,t){var r=n(e);return delete r[t],r};e.exports={get:o,set:i,mod:s,del:a}},function(e,t,r){var n=function(e,t){return e[t]},o=function(e,t,r){var n=e.splice();return n[t]=r,n},i=function(e,t,r){var n=e.splice();return n[t]=r(e[t]),n},s=function(e,t){var r=e.slice();return r.splice(t),r};e.exports={get:n,set:o,mod:i,del:s}},function(e,t,r){"use strict";var n=r(9),o=r(105),i=o.normalizeOptions,s=o.assert,a=r(123).point,l=["add","modify","draw","remove","onMoveStart","onMove","onMoveEnd","onClick"],c={cursor:null},u={added:!1,isHovering:!1,isMouseOver:!1,isDragging:!1,mouseTarget:null},p=function(e,t){n.extend(this,{graphie:e,state:{id:n.uniqueId("movable")}}),this.modify(n.extend({},u,t))};o.createGettersFor(p,n.extend({},c,u)),o.addMovableHelperMethodsTo(p),n.extend(p.prototype,{cloneState:function(){return n.clone(this.state)},_createDefaultState:function(){return n.extend({id:this.state.id,add:[],modify:[],draw:[],remove:[],onMoveStart:[],onMove:[],onMoveEnd:[],onClick:[]},c)},modify:function(e){this.update(n.extend({},this._createDefaultState(),e))},grab:function(e){s(a.is(e));var t=this,r=t.graphie,n=t.state;n.isHovering=!0,n.isDragging=!0,r.isDragging=!0;var o=e,i=o;t._fireEvent(n.onMoveStart,o,o);var l=function(e){e.preventDefault();var o=r.getMouseCoord(e);t._fireEvent(n.onMove,o,i),t.draw(),i=o},c=function e(s){$(document).unbind("vmousemove",l),$(document).unbind("vmouseup",e),n.isHovering&&t._fireEvent(n.onClick,i,o),n.isHovering=t.state.isMouseOver,n.isDragging=!1,r.isDragging=!1,t._fireEvent(n.onMoveEnd,i,o),t.draw()};$(document).bind("vmousemove",l),$(document).bind("vmouseup",c)},update:function(e){var t=this,r=t.graphie,o=t.cloneState(),s=n.extend(t.state,i(l,e));if(s.mouseTarget&&!o.mouseTarget){var a;a=s.mouseTarget.getMouseTarget?$(s.mouseTarget.getMouseTarget()):$(s.mouseTarget[0]);var c=!("ontouchstart"in window);c&&(a.on("vmouseover",function(){s.isMouseOver=!0,r.isDragging||(s.isHovering=!0),t.state.added&&t.draw()}),a.on("vmouseout",function(){s.isMouseOver=!1,s.isDragging||(s.isHovering=!1),t.state.added&&t.draw()})),a.on("vmousedown",function(e){if(0===e.which||1===e.which){e.preventDefault();var n=r.getMouseCoord(e);t.grab(n)}})}if(s.mouseTarget&&void 0!==s.cursor){var a;a=s.mouseTarget.getMouseTarget?$(s.mouseTarget.getMouseTarget()):$(s.mouseTarget[0]),a.css("cursor",s.cursor||"")}s.added||(t._fireEvent(s.modify,t.cloneState(),{}),s.added=!0,t.prevState=t.cloneState()),t._fireEvent(s.modify,t.cloneState(),t.prevState)},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.state.mouseTarget&&($(this.state.mouseTarget).off(),this.state.mouseTarget.remove(),this.state.mouseTarget=null)},toBack:function(){this.state.mouseTarget&&this.state.mouseTarget.toBack()},toFront:function(){this.state.mouseTarget&&this.state.mouseTarget.toFront()}}),e.exports=p},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(9),i=r(156),s=r(157),a=r(105),l=r(31),c=a.assert,u=a.normalizeOptions,p=r(123).point,h=r(123).vector,d=r(97),f=r(158).processMath,m=r(84),v=m.iconTrash,g=r(10),y=r(11),b=r(81),T=o.keys(i),x={coord:[0,0],pointSize:4,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,shadow:!1,tooltip:!1},E={added:!1,hasMoved:!1,visibleShape:null,outOfBounds:!1,mouseTarget:null,touchOffset:null},P=[],w=function(e,t,r){o.extend(this,{graphie:e,movable:t,state:{id:o.uniqueId("movablePoint")}}),this.modify(o.extend({},E,r))};o.extend(w,i),a.createGettersFor(w,o.extend({},x,E)),a.addMovableHelperMethodsTo(w),o.extend(w.prototype,{cloneState:function(){return o.extend(this.movable.cloneState(),this.state)},_createDefaultState:function(){return o.extend({id:this.state.id},u(T,l.pluck(i,"standard")),x)},modify:function(e){this.update(o.extend(this._createDefaultState(),e))},_showTooltip:function(e){var t=this;this._tooltip||(this._tooltip=document.createElement("div"),this._tooltip.className="tooltip-content",this.state.visibleShape.wrapper.className="tooltip",this.state.visibleShape.wrapper.appendChild(this._tooltip),P.push(function(){t.state.added&&t._hideTooltip()})),this._tooltip.firstChild&&this._tooltip.removeChild(this._tooltip.firstChild),this.state.visibleShape.wrapper.className="tooltip visible",this._tooltip.appendChild(document.createElement("span")),"string"==typeof e?f(this._tooltip.firstChild,e,!1):"function"==typeof e?e(this._tooltip.firstChild):this._tooltip.firstChild.appendChild(e)},_hideTooltip:function(){this._tooltip&&(this.state.visibleShape.wrapper.className="tooltip")},update:function(e){var t=this,r=this,i=r.graphie,a=o.extend(r.state,u(T,e));c(p.is(a.coord));var l=a.static?d.DYNAMIC:d.INTERACTIVE;if(a.normalStyle=o.extend({fill:l,stroke:l,scale:1},a.normalStyle),a.highlightStyle=o.extend({fill:d.INTERACTING,stroke:d.INTERACTING,scale:2},a.highlightStyle),!a.static&&!a.mouseTarget){var f=r.state.coord,m=i.unscaleVector(24),e={mouselayer:!0,padding:0};a.mouseTarget=new s(i,f,m,e),a.mouseTarget.attr({fill:"#000",opacity:0})}var x=function(){t._showTooltip(function(e){y.render(g.createElement("span",{style:{fontSize:"2em"}},g.createElement(b,n({},v,{style:{position:"static",color:d.INTERACTIVE,marginLeft:9,marginRight:9}}))),e)})},E=a.coord;r.movable.modify(o.extend({},a,{add:null,modify:null,draw:r.draw.bind(r),remove:null,onMoveStart:function(e){if(a.hasMoved=!1,E=a.coord,null==a.touchOffset){var n=!("ontouchstart"in window);a.touchOffset=n?[0,0]:h.subtract(E,e)}var o=a.visibleShape.wrapper;if(a.shadow){var i="none";o.style.webkitFilter=i,o.style.filter=i}if(a.showHairlines&&a.showHairlines(a.coord),P.forEach(function(e){return e()}),a.tooltip&&(a.xOnlyTooltip?t._showTooltip(""+a.coord[0]):t._showTooltip("("+a.coord[0]+", "+a.coord[1]+")"),a.shadow)){var s=o.getElementsByClassName("tooltip-content")[0],l="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";s.style.webkitFilter=l,s.style.filter=l}r._fireEvent(a.onMoveStart,E,E),r.draw()},onMove:function(e,n){var o=h.add(e,a.touchOffset);r.moveTo(o),a.showHairlines&&(t.state.outOfBounds?a.hideHairlines():a.showHairlines(a.coord)),a.tooltip&&(t.state.outOfBounds||(a.xOnlyTooltip?t._showTooltip(""+a.coord[0]):t._showTooltip("("+a.coord[0]+", "+a.coord[1]+")"))),a.onRemove&&t.state.outOfBounds&&x()},onMoveEnd:function(){r.isHovering()&&!a.hasMoved&&r._fireEvent(a.onClick,a.coord,E);var e=a.visibleShape.wrapper;if(a.shadow){var n="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";e.style.webkitFilter=n,e.style.filter=n}if(a.hideHairlines&&a.hideHairlines(),a.hasMoved)t._hideTooltip();else if(a.onRemove){x();var o=e.getElementsByClassName("tooltip-content")[0];o.style.webkitFilter="none",o.style.filter="none",t._tooltip.firstChild.addEventListener("touchstart",function(e){e.stopPropagation()},!0),t._tooltip.firstChild.addEventListener("touchend",function(e){a.onRemove(),e.stopPropagation()},!0)}else a.tooltip&&t._hideTooltip();a.outOfBounds&&a.onRemove(),r._fireEvent(a.onMoveEnd,a.coord,E),a.hasMoved=!1,a.touchOffset=null,r.draw()}})),a.added||(r.prevState={},r._fireEvent(a.add,r.cloneState(),r.prevState),a.added=!0,r.prevState=r.cloneState()),r._fireEvent(a.modify,r.cloneState(),r.prevState)},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.movable&&this.movable.remove(),this.state.mouseTarget=null},constrain:function(){var e=this._applyConstraints(this.coord(),this.coord());return p.is(e)&&this.setCoord(e),!1!==e},setCoord:function(e){c(p.is(e,2)),this.state.coord=o.clone(e),this.draw()},setCoordConstrained:function(e){c(p.is(e,2));var t=this._applyConstraints(e,this.coord());!1!==t&&(this.state.coord=o.clone(t),this.draw())},moveTo:function(e){var t=this,r=this.state;this.state.outOfBounds=!1;var n=this._applyConstraints(e,r.coord,r.onRemove?{onOutOfBounds:function(){t.state.outOfBounds=!0}}:{});if(!1!==n&&(p.is(n)&&(e=n),!p.equal(e,r.coord))){var o=r.coord;r.coord=e,r.hasMoved=!0,this._fireEvent(r.onMove,r.coord,o),this.draw()}},normalStyle:function(){return o.clone(this.state.normalStyle)},highlightStyle:function(){return o.clone(this.state.highlightStyle)},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()},grab:function(e){this.state.touchOffset=[0,0],this.movable.grab(e),this.moveTo(e)}}),e.exports=w},function(e,t,r){"use strict";var n=r(9),o=r(155),i=r(96),s=r(105),a=r(31),l=s.assert,c=s.normalizeOptions,u=r(123).vector,p=r(97),h=["add","draw","remove","onMoveStart","constraints","onMove","onMoveEnd"],d={points:null,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,extendLine:!1,extendRay:!1},f={visibleShape:null,mouseTarget:null},m=function(e,t,r){l(null!=e),l(null!=r),n.extend(this,{graphie:e,movable:t,state:{id:n.uniqueId("movableLine")}}),this.modify(n.extend({},f,r))};n.extend(m,o),s.createGettersFor(m,n.extend({},d,f)),s.addMovableHelperMethodsTo(m),n.extend(m.prototype,{cloneState:function(){return n.extend(this.movable.cloneState(),{coords:this.coords()},this.state)},_createDefaultState:function(){return n.extend({id:this.state.id},c(h,a.pluck(o,"standard")),d)},modify:function(e){this.update(n.extend(this._createDefaultState(),e))},update:function(e){var t=this,r=this.graphie,o=t.state=n.extend(t.state,c(h,e)),s=o.static?p.DYNAMIC:p.INTERACTIVE;if(o.normalStyle=n.extend({stroke:s,"stroke-width":2},o.normalStyle),o.highlightStyle=n.extend({stroke:p.INTERACTING,"stroke-width":3},o.highlightStyle),!o.static&&!o.mouseTarget){var e={thickness:30,mouselayer:!0};o.mouseTarget=new i(r,this.coord(0),this.coord(1),e),o.mouseTarget.attr({fill:"#000",opacity:0})}o.static&&o.mouseTarget&&(o.mouseTarget.remove(),o.mouseTarget=null),t.movable.modify(n.extend({},o,{mouseTarget:o.mouseTarget,add:null,modify:null,draw:t.draw.bind(t),remove:null,onMoveStart:function(){t._initialRefCoord=t.coord(0),t._prevRefCoord=t._initialRefCoord,t._totalDelta=[0,0],t._fireEvent(t.state.onMoveStart,t.coord(0),t.coord(0))},onMove:function(e,r){var n=u.subtract(e,r);t._totalDelta=u.add(t._totalDelta,n);var o=u.add(t._initialRefCoord,t._totalDelta);o=t._applyConstraints(o,t._prevRefCoord),!1!==o&&(t._fireEvent(t.state.onMove,o,t._prevRefCoord),t._prevRefCoord=o)},onMoveEnd:function(){t._fireEvent(t.state.onMoveEnd,t._prevRefCoord,t._initialRefCoord)}})),o.added||(t.prevState={},t._fireEvent(o.add,t.cloneState(),t.prevState),o.added=!0,n.invoke(o.points,"listen","onMove",o.id,t.draw.bind(t)),t.prevState=t.cloneState()),t._fireEvent(o.modify,t.cloneState(),t.prevState)},coords:function(){return n.invoke(this.state.points,"coord")},point:function(e){return this.state.points[e]},coord:function(e){return this.point(e).coord()},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.points&&n.invoke(this.points,"unlisten","onMove",this.state.id),this.movable&&this.movable.remove()},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()}}),e.exports=m},function(e,t,r){"use strict";var n=r(123).vector,o=r(9),i=r(159),s=r(105),a=r(31),l=s.assert,c=s.normalizeOptions,u=r(97),p=r(102),h=o.keys(i),d={points:null,angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],closed:!0,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,labelStyle:null},f={added:!1,hasMoved:!1,visibleShape:null,mouseTarget:null},m=function(e,t,r){l(null!=e),l(null!=r),o.extend(this,{graphie:e,movable:t,state:{id:o.uniqueId("movablePolygon")}}),this.modify(o.extend({},f,r))};o.extend(m,i),s.createGettersFor(m,o.extend({},d,f)),s.addMovableHelperMethodsTo(m),o.extend(m.prototype,{cloneState:function(){return o.extend(this.movable.cloneState(),this.state)},_createDefaultState:function(){return o.extend({id:this.state.id},c(h,a.pluck(i,"standard")),d)},modify:function(e){this.update(o.extend(this._createDefaultState(),e))},update:function(e){var t=this,r=t.graphie,i=o.extend(t.state,c(h,e)),s=i.static?u.DYNAMIC:u.INTERACTIVE;i.normalStyle=o.extend({},i.normalStyle,{"stroke-width":2,"fill-opacity":0,fill:s,stroke:s},e.normalStyle),i.highlightStyle=o.extend({},{stroke:u.INTERACTING,"stroke-width":2,fill:u.INTERACTING,"fill-opacity":.05},i.highlightStyle),i.labelStyle=o.extend({},{stroke:u.DYNAMIC,"stroke-width":1,color:u.DYNAMIC},i.labelStyle),i.static||i.mouseTarget||(i.mouseTarget=r.mouselayer.path(this.path()),i.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"})),t.movable.modify(o.extend({},i,{modify:null,draw:t.draw.bind(t),remove:null,onMoveStart:function(){t._initialRefCoord=t.coord(0),t._prevRefCoord=t._initialRefCoord,t._totalDelta=[0,0],t._fireEvent(t.state.onMoveStart,t.coord(0),t.coord(0))},onMove:function(e,r){var o=n.subtract(e,r);t._totalDelta=n.add(t._totalDelta,o);var i=n.add(t._initialRefCoord,t._totalDelta);i=t._applyConstraints(i,t._prevRefCoord),!1!==i&&(t._fireEvent(t.state.onMove,i,t._prevRefCoord),t._prevRefCoord=i)},onMoveEnd:function(){t._fireEvent(t.state.onMoveEnd,t._prevRefCoord,t._initialRefCoord)}})),o.invoke(i.points,"listen","onMove",i.id,t.draw.bind(t)),i.added||(t.prevState={},t._fireEvent(i.add,t.cloneState(),t.prevState),i.added=!0,t.prevState=t.cloneState()),t._fireEvent(i.modify,t.cloneState(),t.prevState)},path:function(e){var t=this.graphie;e=e||this.state;var r=o.map(e.points,function(e){return t.scalePoint(e.coord())});return e.closed?r.push(!0):r=r.concat(o.clone(r).reverse()),p.unscaledSvgPath(r)},coords:function(){return o.invoke(this.state.points,"coord")},point:function(e){return this.state.points[e]},coord:function(e){return this.point(e).coord()},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.state.points&&o.invoke(this.state.points,"unlisten","onMove",this.state.id),this.movable&&this.movable.remove(),this.state.mouseTarget=null},constrain:function(){if(null!=this.points&&0!==this.points.length){var e=this.coord(0),t=this._applyConstraints(e,e);!1!==t&&this._fireEvent(this.state.onMove,t,e)}},normalStyle:function(){return o.clone(this.state.normalStyle)},highlightStyle:function(){return o.clone(this.state.highlightStyle)},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()}}),e.exports=m},,function(e,t,r){"use strict";var n=r(9),o=r(105),i=r(31),s=r(123).vector,a=["attr","animate"],l=n.extend({transform:function(e){var t=o.getPrefixedTransform();this.wrapper.style[t]=e},toFront:function(){var e=this.wrapper.parentNode;e&&e.appendChild(this.wrapper)},toBack:function(){var e=this.wrapper.parentNode;e.firstChild!==this.wrapper&&e.insertBefore(this.wrapper,e.firstChild)},remove:function(){this.visibleShape.remove(),$(this.wrapper).remove()},getMouseTarget:function(){return this.visibleShape[0]},moveTo:function(e){var t=s.subtract(this.graphie.scalePoint(e),this.graphie.scalePoint(this.initialPoint)),r=o.getCanUse3dTransform(),n="translateX("+t[0]+"px) translateY("+t[1]+"px)"+(r?" translateZ(0)":"");this.transform(n)},hide:function(){this.visibleShape.hide()},show:function(){this.visibleShape.show()}},i.mapObjectFromArray(a,function(e){return function(){this.visibleShape[e].apply(this.visibleShape,arguments)}}));e.exports=l},,function(e,t,r){"use strict";function n(e,t){var r=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)),n=Math.atan2(e[1],e[0]);return n<0&&(n+=2*Math.PI),t||(n=180*n/Math.PI),[r,n]}function o(e,t){return"number"==typeof e&&(e=[e,e]),t=t*Math.PI/180,[e[0]*Math.cos(t),e[1]*Math.sin(t)]}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=r(123).point,l=r(123).vector,c=r(9);r(161);var u=r(78),p=r(158).processMath,h=r(97),d={unscaledSvgPath:function(e){return!0===e[0]?"":$.map(e,function(e,t){return!0===e?"z":(0===t?"M":"L")+e[0]+" "+e[1]}).join("")},getDistance:function(e,t){return a.distanceToPoint(e,t)},coordDiff:function(e,t){return c.map(t,function(r,n){return t[n]-e[n]})},snapCoord:function(e,t){return c.map(e,function(e,r){return u.roundToNearest(t[r],e)})},findAngle:function(e,t,r){if(void 0===r){var n=e[0]-t[0],o=e[1]-t[1];return n||o?(180+180*Math.atan2(-o,-n)/Math.PI+360)%360:0}return d.findAngle(e,r)-d.findAngle(t,r)},graphs:{}},f=d.Graphie=function(){};c.extend(f.prototype,{cartToPolar:n,polar:o});var m={center:[-.5,-.5],above:[-.5,-1],"above right":[0,-1],right:[0,-.5],"below right":[0,0],below:[-.5,0],"below left":[-1,0],left:[-1,-.5],"above left":[-1,-1]};d.createGraphie=function(e){var t=40,r=40,n=void 0,a=void 0;$(e).css("position","relative");var v=Raphael(e);$(e).children("div").css("position","absolute");var g={"stroke-width":2,fill:"none"},y=function e(n){if("number"==typeof n)return e([n,n]);var o=n[0],i=n[1];return[o*t,i*r]},b=function e(o){if("number"==typeof o)return e([o,o]);var i=o[0],s=o[1];return[(i-n[0])*t,(a[1]-s)*r]},T=function e(o){if("number"==typeof o)return e([o,o]);var i=o[0],s=o[1];return[i/t+n[0],a[1]-s/r]},x=function e(n){return"number"==typeof n?e([n,n]):[n[0]/t,n[1]/r]},E=function(e,t){var r=$(e),n=r.data("labelDirection");if(r.css("visibility",""),"number"==typeof n){var o=Math.cos(n),i=Math.sin(n),s=Math.min(t[0]/2/Math.abs(o),t[1]/2/Math.abs(i));r.css({marginLeft:-t[0]/2+o*s,marginTop:-t[1]/2-i*s})}else{var a=m[n||"center"];r.css({marginLeft:Math.round(t[0]*a[0]),marginTop:Math.round(t[1]*a[1])})}},P=function(e,t){return $.map(e,function(e,r){if(!0===e)return"z";var n=t?e:b(e);return(0===r?"M":"L")+u.bound(n[0])+" "+u.bound(n[1])}).join("")},w=function(e,t,r){var o=function(n){return(e*n+t)*n+r};if(0===e){var i=c.map(n,function(e){return[e,o(e)]});return P(i)}var s=-t/(2*e),a=Math.max(Math.abs(s-n[0]),Math.abs(s-n[1])),l=s+a,p=[s,o(s)],h=[l,o(l)],d=[p[0],p[1]-(h[1]-p[1])],f=Math.abs(p[0]-h[0]),m=[p[0]-f,h[1]],v=[p[0]+f,h[1]],g=c.map([m,d,v],b),y=c.map(c.flatten(g),u.bound);return"M"+y[0]+","+y[1]+" Q"+y[2]+","+y[3]+" "+y[4]+","+y[5]},S=function(e,t,r,o){var i=Math.abs(Math.PI/(2*t)),s=function(n){return e*Math.sin(t*n-r)+o},a=function(n){return e*t*Math.cos(r-t*n)},l=function(e,t){var r=e+i*t,n=r+i,o=[r,2*r/3+1*n/3,1*r/3+2*n/3,n],l=[s(r),s(r)+a(r)*(n-r)/3,s(n)-a(n)*(n-r)/3,s(n)];return c.map(c.zip(o,l),b)},u=n[1]-n[0],p=Math.ceil(u/i)+1,h=r/t,d=h-n[0];h-=i*Math.ceil(d/i);for(var f=l(h,0),m="M"+f[0][0]+","+f[0][1]+" C"+f[1][0]+","+f[1][1]+" "+f[2][0]+","+f[2][1]+" "+f[3][0]+","+f[3][1],v=1;v<p;v++)f=l(h,v),m+=" C"+f[1][0]+","+f[1][1]+" "+f[2][0]+","+f[2][1]+" "+f[3][0]+","+f[3][1];return m};d.svgPath=P;var k=function(e){var o={scale:function(e){"number"==typeof e&&(e=[e,e]),t=e[0],r=e[1],v.setSize((n[1]-n[0])*t,(a[1]-a[0])*r)},clipRect:function(e){var t=e[0],r=e[1];return t[1]+=r[1],{"clip-rect":b(t).concat(y(r)).join(" ")}},strokeWidth:function(e){return{"stroke-width":parseFloat(e)}},rx:function(e){return{rx:y([e,0])[0]}},ry:function(e){return{ry:y([0,e])[1]}},r:function(e){var t=y([e,e]);return{rx:t[0],ry:t[1]}}},i={};return $.each(e||{},function(e,t){var r=o[e];if("function"==typeof r)$.extend(i,r(t));else{var n=e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();i[n]=t}}),i},C=function e(t){var r=t.constructor.prototype;if(r===Raphael.el){if("path"===t.type&&"undefined"==typeof t.arrowheadsDrawn){var n=t.attr("stroke-width"),o=.6+.4*n,i=t.getTotalLength(),s=v.set(),a=v.path(M.isMobile?"M-4,4 C-4,4 -0.25,0 -0.25,0 C-0.25,0 -4,-4 -4,-4":"M-3 4 C-2.75 2.5 0 0.25 0.75 0C0 -0.25 -2.75 -2.5 -3 -4"),l=t.getPointAtLength(i-.4),c=t.getPointAtLength(i-.75*o),u=180*Math.atan2(l.y-c.y,l.x-c.x)/Math.PI,p=t.attr();delete p.path;var h=t.getSubpath(0,i-.75*o);return h=v.path(h).attr(p),h.arrowheadsDrawn=!0,t.remove(),a.rotate(u,M.isMobile?1e-5:.75,0).scale(o,o,.75,0).translate(c.x,c.y).attr(p).attr({"stroke-linejoin":"round","stroke-linecap":"round"}),a.arrowheadsDrawn=!0,s.push(h),s.push(a),s}}else if(r===Raphael.st)for(var d=0,f=t.items.length;d<f;d++)e(t.items[d]);return t},_={circle:function(e,t){return v.ellipse.apply(v,b(e).concat(y([t,t])))},rect:function(e,t,r,n){var o=b([e,t+n]),i=y([r,n]),s=v.rect.apply(v,o.concat(i));return M.isMobile&&(s.node.style.shapeRendering="crispEdges"),s},ellipse:function(e,t){return v.ellipse.apply(v,b(e).concat(y(t)))},fixedEllipse:function(e,t,r,n){var o=b(e),i=y(t),s=2*i[0]*r+n,a=2*i[1]*r+n,l=o[0]-s/2,c=o[1]-a/2,u=document.createElement("div");$(u).css({position:"absolute",width:s+"px",height:a+"px",left:l+"px",top:c+"px"});var p=Raphael(u,s,a),h=p.ellipse(s/2,a/2,i[0],i[1]);return{wrapper:u,visibleShape:h}},arc:function(e,t,r,n,i){r=(r%360+360)%360,n=(n%360+360)%360;var s=b(e),a=y(t),l=o(t,r),c=o(t,n),u=b([e[0]+l[0],e[1]+l[1]]),p=b([e[0]+c[0],e[1]+c[1]]),h=((n-r)%360+360)%360>180;return v.path("M"+u.join(" ")+"A"+a.join(" ")+" 0 "+(h?1:0)+" 0 "+p.join(" ")+(i?"L"+s.join(" ")+"z":""))},path:function(e){var t=v.path(P(e));return t.graphiePath=e,t},fixedPath:function(e,t,r){e=c.map(e,b),t=t?b(t):null,r=r||P;var n=c.min(c.pluck(e,0)),o=c.max(c.pluck(e,0)),i=c.min(c.pluck(e,1)),s=c.max(c.pluck(e,1)),a=[4,4],u=[n,i];e=c.map(e,function(e){return l.add(l.subtract(e,u),l.scale(a,.5))});var p=o-n+a[0],h=s-i+a[1],d=u[0]-a[0]/2,f=u[1]-a[1]/2,m=document.createElement("div");$(m).css({position:"absolute",width:p+"px",height:h+"px",left:d+"px",top:f+"px",transformOrigin:t?p/2+t[0]+"px "+(h/2+t[1])+"px":null});var v=Raphael(m,p,h),g=v.path(r(e));return{wrapper:m,visibleShape:g}},scaledPath:function(e){var t=v.path(P(e,!0));return t.graphiePath=e,t},line:function(e,t){var r=this.path([e,t]);return M.isMobile&&(r.node.style.shapeRendering="crispEdges"),r},parabola:function(e,t,r){
return v.path(w(e,t,r))},fixedLine:function(e,t,r){var n=[r,r];e=b(e),t=b(t);var o=[Math.min(e[0],t[0]),Math.min(e[1],t[1])];e=l.add(l.subtract(e,o),l.scale(n,.5)),t=l.add(l.subtract(t,o),l.scale(n,.5));var i=o[0]-n[0]/2,s=o[1]-n[1]/2,a=Math.abs(e[0]-t[0])+n[0],c=Math.abs(e[1]-t[1])+n[1],u=document.createElement("div");$(u).css({position:"absolute",width:a+"px",height:c+"px",left:i+"px",top:s+"px",transformOrigin:e[0]+"px "+e[1]+"px"});var p=Raphael(u,a,c),h="M"+e[0]+" "+e[1]+" L"+t[0]+" "+t[1],d=p.path(h);return d.graphiePath=[e,t],{wrapper:u,visibleShape:d}},sinusoid:function(e,t,r,n){return v.path(S(e,t,r,n))},grid:function(e,t){for(var r=g.step||[1,1],n=v.set(),o=r[0]*Math.ceil(e[0]/r[0]);o<=e[1];o+=r[0])n.push(this.line([o,t[0]],[o,t[1]]));for(var i=r[1]*Math.ceil(t[0]/r[1]);i<=t[1];i+=r[1])n.push(this.line([e[0],i],[e[1],i]));return n},label:function(t,r,n,o){o="undefined"==typeof o||o;var i=$("<span>").addClass("graphie-label"),s=g["label-distance"];i.css($.extend({},g,{position:"absolute",padding:(null!=s?s:7)+"px"})).data("labelDirection",n).appendTo(e),i.setPosition=function(e){var t=b(e);i.css({left:t[0],top:t[1]})},i.setPosition(t);var a=i[0];return i.processMath=function(e,t){p(a,e,t,function(){var e=a.scrollWidth,t=a.scrollHeight;E(a,[e,t])})},i.processText=function(e){i.html(e);var t=a.scrollWidth,r=a.scrollHeight;E(a,[t,r])},o?i.processMath(r,!1):i.processText(r),i},plotParametric:function(e,t,n,o){o=o||function(e){return[e,0]},g.strokeLinejoin||(g.strokeLinejoin="round"),g.strokeLinecap||(g.strokeLinecap="round");var i=t[0],s=t[1],a=(s-i)/(g["plot-points"]||800);0===a&&(a=1);for(var l=v.set(),c=[],u=d.coordDiff(e(i),o(i)),p=i,h=i;h<=s;h+=a){var f=e(h),m=o(h),y=d.coordDiff(f,m);if(y[1]<0!=u[1]<0&&Math.abs(y[1]-u[1])>2*r||Math.abs(y[1])>1e7||isNaN(y[1])){if(n){c.push(f);for(var b=h-a;b>=p;b-=a)c.push(o(b));p=h}l.push(this.path(c)),c=[],n&&c.push(f)}else c.push(f);u=y}if(n)for(var T=s-a;T>=p;T-=a)c.push(o(T));return l.push(this.path(c)),l},plotPolar:function(e,r){var n=r[0],i=r[1];return g["plot-points"]||(g["plot-points"]=2*(i-n)*t),this.plotParametric(function(t){return o(e(t),180*t/Math.PI)},r)},plot:function(e,r,n,o,i){var s=r[0],a=r[1];if(g["plot-points"]||(g["plot-points"]=2*(a-s)*t),n){if(i)throw new Error("Can't shade area between functions with swapped axes.");return this.plotParametric(function(t){return[e(t),t]},r,o)}if(i){if(o)return this.plotParametric(function(t){return[t,e(t)]},r,o,function(e){return[e,i(e)]});throw new Error("fn2 should only be set when 'shade' is True.")}return this.plotParametric(function(t){return[t,e(t)]},r,o)},plotPiecewise:function(e,t){var r=v.set(),n=this;return c.times(e.length,function(o){var i=e[o],s=t[o],a=n.plotParametric(function(e){return[e,i(e)]},s);c.each(a,function(e){r.push(e)})}),r},plotEndpointCircles:function(e){var t=v.set(),r=this;return c.each(e,function(e,n){t.push(r.circle(e,.15))}),t},plotAsymptotes:function(e,t){for(var n=t[0],o=t[1],i=(o-n)/(g["plot-points"]||800),s=v.set(),a=e(n),l=n;l<=o;l+=i){var c=e(l);c<0!=a<0&&Math.abs(c-a)>2*r&&s.push(this.line([l,r],[l,-r])),a=c}return s}},M=new f;return c.extend(M,{raphael:v,init:function(o){var i=o.scale||[40,40];if(i="number"==typeof i?[i,i]:i,t=i[0],r=i[1],null==o.range)return Khan.error("range should be specified in graph init");n=o.range[0],a=o.range[1];var s=(n[1]-n[0])*t,l=(a[1]-a[0])*r;return v.setSize(s,l),$(e).css({width:s,height:l}),this.range=o.range,this.scale=i,this.dimensions=[s,l],this.xpixels=s,this.ypixels=l,this.isMobile=o.isMobile,this},style:function(e,t){var r=k(e);if("function"==typeof t){var n=g;g=$.extend({},g,r);var o=t.call(M);return g=n,o}$.extend(g,r)},scalePoint:b,scaleVector:y,unscalePoint:T,unscaleVector:x,svgPath:P,svgParabolaPath:w,svgSinusoidPath:S}),$.each(_,function(e){M[e]=function(){var t=arguments[arguments.length-1],r=g,n=void 0;if("object"!==("undefined"==typeof t?"undefined":s(t))||c.isArray(t))g=$.extend({},g),n=_[e].apply(_,arguments);else{g=i({},g,k(t));var o=[].slice.call(arguments,0,arguments.length-1);n=_[e].apply(_,o)}var a=n.constructor.prototype;return a===Raphael.el||a===Raphael.st?(n.attr(g),g.arrows&&(n=C(n))):n instanceof $&&n.css(g),g=r,n}}),M.graphInit=function(e){var t=this;e=e||{},$.each(e,function(t,r){t.match(/.*Opacity$/)||"range"===t||"number"!=typeof r||(e[t]=[r,r]),"range"!==t&&"gridRange"!==t||(r.constructor===Array?r[0].constructor!==Array&&(e[t]=[[-r[0],r[0]],[-r[1],r[1]]]):"number"==typeof r&&(e[t]=[[-r,r],[-r,r]]))});var r=e.range||[[-10,10],[-10,10]],n=e.gridRange||e.range,o=e.scale||[20,20],i=null==e.grid||e.grid,s=e.gridOpacity||.1,a=e.gridStep||[1,1],l=null==e.axes||e.axes,u=e.axisArrows||"",p=e.axisOpacity||1,d=e.axisCenter||[Math.min(Math.max(r[0][0],0),r[0][1]),Math.min(Math.max(r[1][0],0),r[1][1])],f=null!=e.axisLabels&&e.axisLabels,m=null==e.ticks||e.ticks,v=e.tickStep||[2,2],g=e.tickLen||[5,5],y=e.tickOpacity||1,b=e.labels||e.labelStep||!1,T=e.labelStep||[1,1],x=e.labelOpacity||1,E=e.unityLabels||!1,P=e.labelFormat||function(e){return e},w=e.xLabelFormat||P,S=e.yLabelFormat||P,k=null==e.smartLabelPositioning||e.smartLabelPositioning,C=[[r[0][0]-(r[0][0]>0?1:0),r[0][1]+(r[0][1]<0?1:0)],[r[1][0]-(r[1][0]>0?1:0),r[1][1]+(r[1][1]<0?1:0)]];if(c.isArray(E)||(E=[E,E]),k){var _=function(e){return function(t){return(e(t)+"").replace(/-(\d)/g,"\\llap{-}$1")}};w=_(w),S=_(S)}this.init({range:C,scale:o,isMobile:e.isMobile}),i&&this.grid(n[0],n[1],{stroke:e.isMobile?h.GRAY_C:"#000000",opacity:e.isMobile?1:s,step:a,strokeWidth:e.isMobile?1:2}),l&&("<->"===u||!0===u?this.style({stroke:e.isMobile?h.GRAY_G:"#000000",opacity:e.isMobile?1:p,strokeWidth:e.isMobile?1:2,arrows:"->"},function(){r[1][0]<0&&r[1][1]>0&&(this.path([d,[n[0][0],d[1]]]),this.path([d,[n[0][1],d[1]]])),r[0][0]<0&&r[0][1]>0&&(this.path([d,[d[0],n[1][0]]]),this.path([d,[d[0],n[1][1]]]))}):"->"!==u&&""!==u||this.style({stroke:"#000000",opacity:p,strokeWidth:2,arrows:u},function(){this.path([[n[0][0],d[1]],[n[0][1],d[1]]]),this.path([[d[0],n[1][0]],[d[0],n[1][1]]])}),f&&2===f.length&&(this.label([n[0][1],d[1]],f[0],"right"),this.label([d[0],n[1][1]],f[1],"above"))),m&&!function(){var i=e.isMobile;t.style({stroke:e.isMobile?h.GRAY_G:"#000000",opacity:e.isMobile?1:y,strokeWidth:1},function(){var e=a[0]*v[0],t=g[0]/o[1],s=n[0][0],l=n[0][1];if(r[1][0]<0&&r[1][1]>0){for(var c=e+d[0];c<=l;c+=e)(c<l||!u)&&this.line([c,-t+d[1]],[c,i?0:t+d[1]]);for(var p=-e+d[0];p>=s;p-=e)(p>s||!u)&&this.line([p,-t+d[1]],[p,i?0:t+d[1]])}if(e=a[1]*v[1],t=g[1]/o[0],s=n[1][0],l=n[1][1],r[0][0]<0&&r[0][1]>0){for(var h=e+d[1];h<=l;h+=e)(h<l||!u)&&this.line([-t+d[0],h],[i?0:t+d[0],h]);for(var f=-e+d[1];f>=s;f-=e)(f>s||!u)&&this.line([-t+d[0],f],[i?0:t+d[0],f])}})}(),b&&this.style({stroke:e.isMobile?h.GRAY_G:"#000000",opacity:e.isMobile?1:x},function(){for(var e=a[0]*v[0]*T[0],t=n[0][0],r=n[0][1],o=d[0]<0?"above":"below",i=d[0]<0?"right":"left",s=0===d[0]&&0!==d[1],l=0!==d[0]&&0===d[1],c=0!==d[0]||0!==d[1],p=E[0]||c,h=E[1]||c,f=(s?0:e)+d[0];f<=r;f+=e)(f<r||!u)&&this.label([f,d[1]],w(f),o);for(var m=-e*(p?1:2)+d[0];m>=t;m-=e)(m>t||!u)&&this.label([m,d[1]],w(m),o);e=a[1]*v[1]*T[1],t=n[1][0],r=n[1][1];for(var g=(l?0:e)+d[1];g<=r;g+=e)(g<r||!u)&&this.label([d[0],g],S(g),i);for(var y=-e*(h?1:2)+d[1];y>=t;y-=e)(y>t||!u)&&this.label([d[0],y],S(y),i)})},M},e.exports=d},function(e,t,r){"use strict";function n(e){return f.reduce(e,function(e,t){return e+t},0)}function o(e){var t=f.zip(e,e.slice(1).concat(e.slice(0,1))),r=f.map(t,function(e){var t=e[0],r=e[1];return(r[0]-t[0])*(r[1]+t[1])});return n(r)>0}function i(){var e=f.toArray(arguments),t=f.zip.apply(f,e);return f.map(t,n)}function s(e){return f.map(e,function(e){return e*-1})}function a(e){var t=70.2941120352484,r=11.374597405497571,n=-.037587715462826674;return(t-r)*Math.exp(n*e)+r}function l(e,t){return[e*Math.cos(t),e*Math.sin(t)*-1]}function c(e,t){var r=t*Math.PI/180;return l(e,r)}function u(e,t){this.set=e.raphael.set(),this.cx=t[0],this.cy=t[1];var r=this,n=e.unscaleVector(180.5)[0],o=e.scalePoint([this.cx-n,this.cy+n-e.unscaleVector(10.5)[1]]);this.set.push(e.mouselayer.image("https://ka-perseus-graphie.s3.amazonaws.com/e9d032f2ab8b95979f674fbfa67056442ba1ff6a.png",o[0],o[1],360,180));var i=function(r,o){var i=e.scaleVector(n);i[0]-=16,i[1]-=16;var s=e.scalePoint(t),a=Math.sin((r+90)*Math.PI/180)*(i[0]+o)+s[0],l=Math.cos((r+90)*Math.PI/180)*(i[1]+o)+s[1];return a+","+l},s=e.raphael.path(" M"+i(180,6)+" L"+i(180,2)+" L"+i(183,10)+" L"+i(180,18)+" L"+i(180,14)+" A"+(e.scaleVector(n)[0]+10)+","+(e.scaleVector(n)[1]+10)+",0,0,1,"+i(170,14)+" L"+i(170,18)+" L"+i(167,10)+" L"+i(170,2)+" L"+i(170,6)+" A"+(e.scaleVector(n)[0]+10)+","+(e.scaleVector(n)[1]+10)+",0,0,0,"+i(180,6)+" Z").attr({stroke:null,fill:P.INTERACTIVE});this.set.push(s),this.centerPoint=e.addMovablePoint({coord:t,visible:!1}),this.rotateHandle=e.addMovablePoint({coord:[Math.sin(275*Math.PI/180)*(n+.5)+this.cx,Math.cos(275*Math.PI/180)*(n+.5)+this.cy],onMove:function(e,t){var n=180*Math.atan2(r.centerPoint.coord[1]-t,r.centerPoint.coord[0]-e)/Math.PI;r.rotate(-n-5,!0)}}),this.rotateHandle.constraints.fixedDistance.dist=n+.5,this.rotateHandle.constraints.fixedDistance.point=this.centerPoint,this.rotateHandle.visibleShape.remove(),this.rotateHandle.mouseTarget.attr({scale:2});var a=!1,l=!1,c=function(){return l||a},u=this,p=$(u.rotateHandle.mouseTarget.getMouseTarget());p.bind("vmousedown",function(e){a=!0,s.animate({scale:1.5,fill:P.INTERACTING},50),$(document).bind("vmouseup.rotateHandle",function(e){a=!1,c()||s.animate({scale:1,fill:P.INTERACTIVE},50),$(document).unbind("vmouseup.rotateHandle")})}),p.bind("vmouseover",function(e){l=!0,s.animate({scale:1.5,fill:P.INTERACTING},50)}),p.bind("vmouseout",function(e){l=!1,c()||s.animate({scale:1,fill:P.INTERACTIVE},50)});var h=$.map(this.set,function(e){return e.node});return this.makeTranslatable=function(){$(h).css("cursor","move"),$(h).bind("vmousedown",function(t){t.preventDefault();var n=t.pageX-$(e.raphael.canvas.parentNode).offset().left,o=t.pageY-$(e.raphael.canvas.parentNode).offset().top;$(document).bind("vmousemove.protractor",function(t){var i=t.pageX-$(e.raphael.canvas.parentNode).offset().left,s=t.pageY-$(e.raphael.canvas.parentNode).offset().top;i=Math.max(10,Math.min(e.xpixels-10,i)),s=Math.max(10,Math.min(e.ypixels-10,s));var a=i-n,l=s-o;$.each(r.set.items,function(){this.translate(a,l)}),r.centerPoint.setCoord([r.centerPoint.coord[0]+a/e.scale[0],r.centerPoint.coord[1]-l/e.scale[1]]),r.rotateHandle.setCoord([r.rotateHandle.coord[0]+a/e.scale[0],r.rotateHandle.coord[1]-l/e.scale[1]]),n=i,o=s}),$(document).one("vmouseup",function(e){$(document).unbind("vmousemove.protractor")})})},this.rotation=0,this.rotate=function(t,r){var n=e.scalePoint(this.centerPoint.coord);return r&&(this.rotation=0),this.set.rotate(this.rotation+t,n[0],n[1]),this.rotation=this.rotation+t,this},this.moveTo=function(t,n){var o=e.scalePoint(r.centerPoint.coord),i=e.scalePoint([t,n]),s=2*m.getDistance(o,i);$({x:o[0],y:o[1]}).animate({x:i[0],y:i[1]},{duration:s,step:function(t,n){var o=0,i=0;"x"===n.prop?o=t-e.scalePoint(r.centerPoint.coord)[0]:"y"===n.prop&&(i=t-e.scalePoint(r.centerPoint.coord)[1]),$.each(r.set.items,function(){this.translate(o,i)}),r.centerPoint.setCoord([r.centerPoint.coord[0]+o/e.scale[0],r.centerPoint.coord[1]-i/e.scale[1]]),r.rotateHandle.setCoord([r.rotateHandle.coord[0]+o/e.scale[0],r.rotateHandle.coord[1]-i/e.scale[1]])}})},this.rotateTo=function(e){Math.abs(this.rotation-e)>180&&(this.rotation+=360);var t=5*Math.abs(this.rotation-e);$({0:this.rotation}).animate({0:e},{duration:t,step:function(e,t){r.rotate(e,!0),r.rotateHandle.setCoord([Math.sin((e+275)*Math.PI/180)*(n+.5)+r.centerPoint.coord[0],Math.cos((e+275)*Math.PI/180)*(n+.5)+r.centerPoint.coord[1]])}})},this.remove=function(){this.set.remove()},this.makeTranslatable(),this}function p(e,t){function r(e){for(var t=0;t<y.length;t++){var r=y[t];if(e%r===0)return h[r]}}f.defaults(t,{center:[0,0],pixelsPerUnit:40,ticksPerUnit:10,units:10,label:"",style:{fill:null,stroke:P.GRAY}});var n=f.extend({},t.style,{strokeWidth:1}),o=f.extend({},t.style,{strokeWidth:2}),i=t.units*t.pixelsPerUnit,s=50,a=e.unscalePoint(v.subtract(e.scalePoint(t.center),v.scale([i,-s],.5))),l=t.pixelsPerUnit/e.scale[0],c=s/e.scale[0],u=v.add(a,[t.units*l,c]),p=1,h=void 0;if(10===t.ticksPerUnit)h={10:p,5:.55*p,1:.35*p};else{var d=[1,.6,.45,.3];h={};for(var g=t.ticksPerUnit;g>=1;g/=2)h[g]=p*(d.shift()||.2)}var y=f.keys(h).sort(function(e,t){return t-e}),b=a[0],T=a[1],x=u[0],E=u[1],w=t.units*t.ticksPerUnit+1,S=e.raphael.set(),k=1/e.scale[0];S.push(e.line([b-k,T],[x+k,T],o)),S.push(e.line([b-k,E],[x+k,E],o)),f.times(w,function(i){var s=i/t.ticksPerUnit,a=b+s*l,u=r(i)*c,p=0===i||i===w-1?o:n;if(S.push(e.line([a,T],[a,T+u],p)),s%1===0){var h=e.scalePoint([a,E]),d=void 0,f=void 0;0===s?(d=t.label,f={mm:13,cm:11,m:8,km:11,in:8,ft:8,yd:10,mi:10}[d]||3*d.toString().length):(d=s,f=-3*(s.toString().length+1));var m=e.raphael.text(h[0]+f,h[1]+10,d);m.attr({"font-family":"KaTeX_Main","font-size":"12px",color:"#444"}),S.push(m)}});var C=e.mouselayer.path(m.svgPath([a,[b,E],u,[x,T],!0]));C.attr({fill:"#000",opacity:0,stroke:"#000","stroke-width":2}),S.push(C);var _=$.map(S,function(e){return e.node});$(_).css("cursor","move"),$(_).bind("vmousedown",function(t){t.preventDefault();var r=t.pageX-$(e.raphael.canvas.parentNode).offset().left,n=t.pageY-$(e.raphael.canvas.parentNode).offset().top;$(document).bind("vmousemove.ruler",function(t){var o=t.pageX-$(e.raphael.canvas.parentNode).offset().left,i=t.pageY-$(e.raphael.canvas.parentNode).offset().top;o=Math.max(10,Math.min(e.xpixels-10,o)),i=Math.max(10,Math.min(e.ypixels-10,i));var s=o-r,a=i-n;S.translate(s,a),M.setCoord([M.coord[0]+s/e.scale[0],M.coord[1]-a/e.scale[1]]),R.setCoord([R.coord[0]+s/e.scale[0],R.coord[1]-a/e.scale[1]]),r=o,n=i}),$(document).one("vmouseup",function(e){$(document).unbind("vmousemove.ruler")})});var M=e.addMovablePoint({coord:a,normalStyle:{fill:P.INTERACTIVE,"fill-opacity":0,stroke:P.INTERACTIVE},highlightStyle:{fill:P.INTERACTING,"fill-opacity":.1,stroke:P.INTERACTING},pointSize:6,onMove:function(t,r){var n=R.coord[1]-r,o=R.coord[0]-t,i=180*Math.atan2(n,o)/Math.PI,s=v.scale(v.add([t,r],R.coord),.5),a=e.scalePoint(s),l=v.scale(v.add(M.coord,R.coord),.5),c=e.scalePoint(l),u=v.subtract(a,c);S.rotate(-i,c[0],c[1]),S.translate(u[0],u[1])}}),R=e.addMovablePoint({coord:[x,T],normalStyle:{fill:P.INTERACTIVE,"fill-opacity":0,stroke:P.INTERACTIVE},highlightStyle:{fill:P.INTERACTING,"fill-opacity":.1,stroke:P.INTERACTING},pointSize:6,onMove:function(t,r){var n=r-M.coord[1],o=t-M.coord[0],i=180*Math.atan2(n,o)/Math.PI,s=v.scale(v.add([t,r],M.coord),.5),a=e.scalePoint(s),l=v.scale(v.add(M.coord,R.coord),.5),c=e.scalePoint(l),u=v.subtract(a,c);S.rotate(-i,c[0],c[1]),S.translate(u[0],u[1])}});return M.constraints.fixedDistance.dist=i/e.scale[0],M.constraints.fixedDistance.point=R,R.constraints.fixedDistance.dist=i/e.scale[0],R.constraints.fixedDistance.point=M,this.remove=function(){S.remove(),M.remove(),R.remove()},this}function h(e,t){if(this.graphie=e,f.extend(this,t),f.defaults(this,{normalStyle:{stroke:P.INTERACTIVE,"stroke-width":2,fill:P.INTERACTIVE},highlightStyle:{stroke:P.INTERACTING,"stroke-width":2,fill:P.INTERACTING},labelStyle:{stroke:P.DYNAMIC,"stroke-width":1,color:P.DYNAMIC},angleStyle:{stroke:P.DYNAMIC,"stroke-width":1,color:P.DYNAMIC},allowReflex:!0}),!this.points||3!==this.points.length)throw new Error("MovableAngle requires 3 points");this.points=f.map(t.points,function(t){return f.isArray(t)?e.addMovablePoint({coord:t,visible:!1,constraints:{fixed:!0},normalStyle:this.normalStyle}):t},this),this.coords=f.pluck(this.points,"coord"),null==this.reflex&&(this.allowReflex?this.reflex=this._getClockwiseAngle(this.coords)>180:this.reflex=!1),this.rays=f.map([0,2],function(t){return e.addMovableLineSegment({pointA:this.points[1],pointZ:this.points[t],fixed:!0,extendRay:!0})},this),this.temp=[],this.labeledAngle=e.label([0,0],"","center",this.labelStyle),this.fixed||(this.addMoveHandlers(),this.addHighlightHandlers()),this.update()}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},f=r(9);r(162);var m=r(135),v=r(123).vector,g=r(123).point,y=r(123).line,b=r(157),T=r(96),x=r(160),E=r(78),P=r(97),w=r(105),S=w.getCanUse3dTransform,k=!1,C={bogusShape:{animate:function(){},attr:function(){},remove:function(){}}};f.extend(m.Graphie.prototype,{addMouseLayer:function(e){var t=this;e=f.extend({allowScratchpad:!1,setDrawingAreaAvailable:function(){}},e);var r=2;t.mouselayer=Raphael(t.raphael.canvas.parentNode,t.xpixels,t.ypixels),$(t.mouselayer.canvas).css("z-index",r),(e.onClick||e.onMouseDown||e.onMouseMove||e.onMouseOver||e.onMouseOut)&&!function(){var r=t.mouselayer.rect(0,0,t.xpixels,t.ypixels).attr({fill:"#000",opacity:0}),n=!1;$(t.mouselayer.canvas).on("vmousedown",function(o){o.target===r[0]&&(e.onMouseDown&&e.onMouseDown(t.getMouseCoord(o)),n=!0,e.onMouseMove&&$(document).bind("vmousemove.mouseLayer",function(r){n&&(r.preventDefault(),e.onMouseMove(t.getMouseCoord(r)))}),$(document).bind("vmouseup.mouseLayer",function(r){$(document).unbind(".mouseLayer"),n&&e.onClick&&e.onClick(t.getMouseCoord(r)),n=!1}))}),e.onMouseOver&&$(t.mouselayer.canvas).on("vmouseover",function(r){e.onMouseOver(t.getMouseCoord(r))}),e.onMouseOut&&$(t.mouselayer.canvas).on("vmouseout",function(r){e.onMouseOut(t.getMouseCoord(r))})}(),e.allowScratchpad||e.setDrawingAreaAvailable(!1),t._mouselayerWrapper=document.createElement("div"),$(t._mouselayerWrapper).css({position:"absolute",left:0,top:0,zIndex:r}),t._visiblelayerWrapper=document.createElement("div"),$(t._visiblelayerWrapper).css({position:"absolute",left:0,top:0});var n=t.raphael.canvas.parentNode;n.appendChild(t._visiblelayerWrapper),n.appendChild(t._mouselayerWrapper),t.addToMouseLayerWrapper=function(e){this._mouselayerWrapper.appendChild(e)},t.addToVisibleLayerWrapper=function(e){this._visiblelayerWrapper.appendChild(e)}},getMousePx:function(e){var t=this,r=e.pageX-$(t.raphael.canvas.parentNode).offset().left,n=e.pageY-$(t.raphael.canvas.parentNode).offset().top;return[r,n]},getMouseCoord:function(e){return this.unscalePoint(this.getMousePx(e))},labelAngle:function(e){var t=this;f.defaults(e,{point1:[0,0],vertex:[0,0],point3:[0,0],label:null,numArcs:1,showRightAngleMarker:!0,pushOut:0,clockwise:!1,style:{}});var r=void 0===e.text?"":e.text,n=e.vertex,o=t.scalePoint(n),s=void 0,l=void 0;e.clockwise?(s=e.point1,l=e.point3):(s=e.point3,l=e.point1);var u=m.findAngle(s,n),p=m.findAngle(l,n),h=(p+360-u)%360,d=(u+h/2)%360,v=5*e.pushOut,g=v+a(h),y=[];if(Math.abs(h-90)<1e-9&&e.showRightAngleMarker?!function(){var r=i(o,c(g,u)),n=i(o,c(g,p));g*=Math.SQRT2;var s=i(o,c(g,d));f.each([r,n],function(r){y.push(t.scaledPath([r,s],e.style))})}():f.times(e.numArcs,function(r){y.push(t.arc(n,t.unscaleVector(g),u,p,e.style)),g+=3}),r){var b=r.match(/\$deg(\d)?/);if(b){var T=b[1]||1;r=r.replace(b[0],E.toFixedApprox(h,T)+"^{\\circ}")}var x=c(g+15,d),P=i(o,x),w=t.unscalePoint(P);e.label?(e.label.setPosition(w),e.label.processMath(r,!0)):t.label(w,r,"center",e.style)}return y},labelSide:function(e){var t=this;f.defaults(e,{point1:[0,0],point2:[0,0],label:null,text:"",numTicks:0,numArrows:0,clockwise:!1,style:{}});var r=void 0,n=void 0;e.clockwise?(r=e.point1,n=e.point2):(r=e.point2,n=e.point1);var o=[(r[0]+n[0])/2,(r[1]+n[1])/2],a=t.scalePoint(o),c=Math.atan2(n[1]-r[1],n[0]-r[0]),u=c+Math.PI/2,p=[],h=0;e.numTicks&&!function(){var r=e.numTicks,n=5,o=5,d=f.extend({},e.style,{strokeWidth:2});f.times(r,function(e){var h=n*(e-(r-1)/2),f=l(h,c),m=l(o,u),v=[i(a,f,m),i(a,f,s(m))];p.push(t.scaledPath(v,d))}),h+=n*(r-1)+15}(),e.numArrows&&!function(){var o=e.numArrows,u=[r,n].sort(function(e,t){return e[1]===t[1]?e[0]-t[0]:e[1]-t[1]})[0],d=t.scalePoint(u),m=f.extend({},e.style,{arrows:"->",strokeWidth:2}),v=5;f.times(o,function(e){var n=h+v*e,o=l(n,c);u!==r&&(o=s(o));var f=i(a,o);p.push(t.scaledPath([d,f],m))})}();var d=e.text;if(d){var v=d.match(/\$len(\d)?/);if(v){var g=m.getDistance(r,n),y=v[1]||1;d=d.replace(v[0],E.toFixedApprox(g,y))}var b=20,T=l(b,u),x=i(a,T),P=t.unscalePoint(x);e.label?(e.label.setPosition(P),e.label.processMath(d,!0)):t.label(P,d,"center",e.style)}return p},labelVertex:function(e){var t=this;if(f.defaults(e,{point1:null,vertex:[0,0],point3:null,label:null,text:"",clockwise:!1,style:{}}),e.text){var r=e.vertex,n=t.scalePoint(r),o=void 0,s=void 0;e.clockwise?(o=e.point1,s=e.point3):(o=e.point3,s=e.point1);var l=135,u=void 0;if(o&&s){var p=m.findAngle(o,r),h=m.findAngle(s,r);l=(h+360-p)%360,u=(p+l/2+180)%360}else if(o){var d=m.findAngle(r,o);u=d+90}else if(s){var v=m.findAngle(s,r);u=v+90}else u=135;var g=10+a(360-l),y=c(g,u),b=i(n,y),T=t.unscalePoint(b);e.label?(e.label.setPosition(T),e.label.processMath(e.text,!0)):t.label(T,e.text,"center",e.style)}},addMovablePoint:function(e){var t=$.extend(!0,{graph:this,coord:[0,0],snapX:0,snapY:0,pointSize:4,highlight:!1,dragging:!1,visible:!0,bounded:!0,constraints:{fixed:!1,constrainX:!1,constrainY:!1,fixedAngle:{},fixedDistance:{}},lineStarts:[],lineEnds:[],polygonVertices:[],normalStyle:{},highlightStyle:{fill:P.INTERACTING,stroke:P.INTERACTING},labelStyle:{color:P.INTERACTIVE},vertexLabel:"",mouseTarget:null},e),r=t.constraints.fixed?P.DYNAMIC:P.INTERACTIVE;t.normalStyle=f.extend({},{fill:r,stroke:r},e.normalStyle),void 0!==e.coordX&&(t.coord[0]=e.coordX),void 0!==e.coordY&&(t.coord[1]=e.coordY);var n=t.graph,o=function(e){t.visible&&t.bounded&&!t.constraints.fixed&&(e=n.constrainToBounds(e,10));var r=e[0],o=e[1];if(0!==t.snapX&&(r=Math.round(r/t.snapX)*t.snapX),0!==t.snapY&&(o=Math.round(o/t.snapY)*t.snapY),t.constraints.fixedDistance.snapPoints){var i=n.scalePoint(e),s=i[0],a=i[1],l=2*Math.PI/t.constraints.fixedDistance.snapPoints,c=t.constraints.fixedDistance.dist,u=t.constraints.fixedDistance.point,p=(u[0]-n.range[0][0])*n.scale[0],h=(-u[1]+n.range[1][1])*n.scale[1],d=s-p,f=-a+h,m=Math.atan(f/d),v=d<0;v&&(m+=Math.PI),m=Math.round(m/l)*l,d=c*Math.cos(m),f=c*Math.sin(m),s=d+p,a=-f+h,r=E.roundTo(5,s/n.scale[0]+n.range[0][0]),o=E.roundTo(5,n.range[1][1]-a/n.scale[1])}var g=t.applyConstraint([r,o]);return g};t.applyConstraint=function(e,r,n){var o=e.slice(),i={};if(n?$.extend(i,{fixed:!1,constrainX:!1,constrainY:!1,fixedAngle:{},fixedDistance:{}},r):$.extend(i,this.constraints,r),i.constrainX)o=[this.coord[0],e[1]];else if(i.constrainY)o=[e[0],this.coord[1]];else if("number"==typeof i.fixedAngle.angle&&"number"==typeof i.fixedDistance.dist){var s=i.fixedAngle.vertex.coord||i.fixedAngle.vertex,a=i.fixedAngle.ref.coord||i.fixedAngle.ref,l=i.fixedDistance.point.coord||i.fixedDistance.point,c=(i.fixedAngle.angle+m.findAngle(a,s))*Math.PI/180,u=i.fixedDistance.dist;o[0]=u*Math.cos(c)+l[0],o[1]=u*Math.sin(c)+l[1]}else if("number"==typeof i.fixedAngle.angle){var p=i.fixedAngle.vertex.coord||i.fixedAngle.vertex,h=i.fixedAngle.ref.coord||i.fixedAngle.ref,d=(i.fixedAngle.angle+m.findAngle(h,p))*Math.PI/180,f=m.findAngle(e,p)*Math.PI/180,v=m.getDistance(e,p),g=v*Math.cos(d-f);g=g<1?1:g,o[0]=g*Math.cos(d)+p[0],o[1]=g*Math.sin(d)+p[1]}else if("number"==typeof i.fixedDistance.dist){var y=i.fixedDistance.point.coord||i.fixedDistance.point,b=m.findAngle(e,y),T=i.fixedDistance.dist;b=b*Math.PI/180,o[0]=T*Math.cos(b)+y[0],o[1]=T*Math.sin(b)+y[1]}else i.fixed&&(o=t.coord);return o},t.coord=o(t.coord);var i=2;if(t.visible&&n.style(t.normalStyle,function(){var e=[t.pointSize/n.scale[0],t.pointSize/n.scale[1]],r={maxScale:i,padding:2};t.visibleShape=new b(n,t.coord,e,r),t.visibleShape.attr(f.omit(t.normalStyle,"scale")),t.visibleShape.toFront()}),t.normalStyle.scale=1,t.highlightStyle.scale=i,t.vertexLabel&&(t.labeledVertex=this.label([0,0],"","center",t.labelStyle)),t.drawLabel=function(){t.vertexLabel&&t.graph.labelVertex({vertex:t.coord,label:t.labeledVertex,text:t.vertexLabel,style:t.labelStyle})},t.drawLabel(),t.grab=function(e){e=e||[0,0],$(document).bind("vmousemove.point vmouseup.point",function(r){r.preventDefault(),t.dragging=!0,k=!0;var i=v.add(n.getMouseCoord(r),e);i=o(i);var s=i[0],a=i[1],l=void 0,c=void 0;if("vmousemove"===r.type){var u=!0;if(f.isFunction(t.onMove)){var p=t.onMove(s,a);!1===p&&(u=!1),f.isArray(p)&&(s=p[0],a=p[1])}if(l=(s-n.range[0][0])*n.scale[0],c=(-a+n.range[1][1])*n.scale[1],u){var h=n.unscalePoint([l,c]);t.visibleShape.moveTo(h),t.mouseTarget.moveTo(h),t.coord=[s,a],t.updateLineEnds(),$(t).trigger("move")}t.drawLabel()}else if("vmouseup"===r.type){if($(document).unbind(".point"),t.dragging=!1,k=!1,f.isFunction(t.onMoveEnd)){var d=t.onMoveEnd(s,a);if(f.isArray(d)){s=d[0],a=d[1],l=(s-n.range[0][0])*n.scale[0],c=(-a+n.range[1][1])*n.scale[1];var m=n.unscalePoint([l,c]);t.visibleShape.moveTo(m),t.mouseTarget.moveTo(m),t.coord=[s,a]}}t.highlight||(t.visibleShape.animate(t.normalStyle,50),t.onUnhighlight&&t.onUnhighlight())}})},t.visible&&!t.constraints.fixed){if(!t.mouseTarget){var s=n.unscaleVector(24),a={mouselayer:!0,padding:0};t.mouseTarget=new b(n,t.coord,s,a),t.mouseTarget.attr({fill:"#000",opacity:0})}var l=$(t.mouseTarget.getMouseTarget());l.css("cursor","move"),l.bind("vmousedown vmouseover vmouseout",function(e){if("vmouseover"===e.type)t.highlight=!0,k||(t.visibleShape.animate(t.highlightStyle,50),t.onHighlight&&t.onHighlight());else if("vmouseout"===e.type)t.highlight=!1,t.dragging||k||(t.visibleShape.animate(t.normalStyle,50),t.onUnhighlight&&t.onUnhighlight());else if("vmousedown"===e.type&&(1===e.which||0===e.which)){e.preventDefault();var r=t.coord,o=n.getMouseCoord(e),i=!("ontouchstart"in window),s=i?[0,0]:v.subtract(r,o);t.grab(s)}})}return t.moveTo=function(e,r,n){var o=m.getDistance(this.graph.scalePoint([e,r]),this.graph.scalePoint(this.coord)),i=5*o,s=n&&function(e){t.coord=e,t.updateLineEnds()};this.visibleShape.animateTo([e,r],i,s),this.mouseTarget.animateTo([e,r],i,s),this.coord=[e,r],f.isFunction(this.onMove)&&this.onMove(e,r)},t.updateLineEnds=function(){$(this.lineStarts).each(function(){this.coordA=t.coord,this.transform()}),$(this.lineEnds).each(function(){this.coordZ=t.coord,this.transform()}),$(this.polygonVertices).each(function(){this.transform()})},t.setCoord=function(e){this.visible&&(this.visibleShape.moveTo(e),null!=this.mouseTarget&&this.mouseTarget.moveTo(e)),this.coord=e.slice()},t.setCoordConstrained=function(e){this.setCoord(o(e))},t.toBack=function(){this.visible&&(null!=this.mouseTarget&&this.mouseTarget.toBack(),this.visibleShape.toBack())},t.toFront=function(){this.visible&&(null!=this.mouseTarget&&this.mouseTarget.toFront(),this.visibleShape.toFront())},t.remove=function(){this.visibleShape&&this.visibleShape.remove(),this.mouseTarget&&this.mouseTarget.remove(),this.labeledVertex&&this.labeledVertex.remove()},t},addMovableLineSegment:function(e){var t=$.extend({graph:this,coordA:[0,0],coordZ:[1,1],snapX:0,snapY:0,fixed:!1,ticks:0,normalStyle:{},highlightStyle:{stroke:P.INTERACTING,"stroke-width":6},labelStyle:{stroke:P.INTERACTIVE,color:P.INTERACTIVE},highlight:!1,dragging:!1,tick:[],extendLine:!1,extendRay:!1,constraints:{fixed:!1,constrainX:!1,constrainY:!1},sideLabel:"",vertexLabels:[],numArrows:0,numTicks:0,movePointsWithLine:!1},e),r=t.fixed?P.DYNAMIC:P.INTERACTIVE;t.normalStyle=f.extend({},{"stroke-width":2,stroke:r},e.normalStyle),t.arrowStyle=f.extend({},t.normalStyle,{color:t.normalStyle.stroke}),void 0!==e.pointA?(t.coordA=e.pointA.coord,t.pointA.lineStarts.push(t)):void 0!==e.coordA&&(t.coordA=e.coordA.slice()),void 0!==e.pointZ?(t.coordZ=e.pointZ.coord,t.pointZ.lineEnds.push(t)):void 0!==e.coordA&&(t.coordA=t.coordA.slice());var n=t.graph;n.style(t.normalStyle);for(var o=0;o<t.ticks;++o)t.tick[o]=C.bogusShape;for(var i=m.unscaledSvgPath([[0,0],[1,0]]),s=0;s<t.ticks;++s){var a=.5-(t.ticks-1+2*s)/n.scale[0];i+=m.unscaledSvgPath([[a,-7],[a,7]])}if(e={thickness:Math.max(t.normalStyle["stroke-width"],t.highlightStyle["stroke-width"])},t.visibleLine=new T(n,[0,0],[1,0],e),t.visibleLine.attr(t.normalStyle),!t.fixed){var l={thickness:30,mouselayer:!0};t.mouseTarget=new T(n,[0,0],[1,0],l),t.mouseTarget.attr({fill:"#000",opacity:0})}if(t.transform=function(e){e&&("object"===d(this.pointA)&&(this.coordA=this.pointA.coord),"object"===d(this.pointZ)&&(this.coordZ=this.pointZ.coord));var r=function(e){var t=e.graph.scalePoint(e.coordA),r=e.graph.scalePoint(e.coordZ);return v.polarDegFromCart(v.subtract(r,t))[1]},o=function(e,r,n){e=t.graph;var o=e.range[0][1]-e.range[0][0],i=e.range[1][1]-e.range[1][0],s=o+i,a=e.unscaleVector(v.cartFromPolarDeg([1,n])),l=v.scale(v.normalize(a),s),c=v.add(r,l),u=v.polarDegFromCart(a)[1],p=e.constrainToBoundsOnAngle(c,4,u*Math.PI/180);return p},i=r(this),s=this.coordA,a=this.coordZ;this.extendLine?(s=o(n,s,360-i),a=o(n,a,(540-i)%360)):this.extendRay&&(a=o(n,s,360-i));var l=[this.visibleLine];this.fixed||l.push(this.mouseTarget),f.each(l,function(e){e.moveTo(s,a)});var c=function(e,t){var r=[.75,0],n=[[-3,4],[-2.75,2.5],[0,.25],r,[0,-.25],[-2.75,-2.5],[-3,-4]],i=1.4;n=f.map(n,function(e){var t=v.subtract(e,r),n=v.scale(t,i);return v.add(r,n)});var s=function(e){for(var t="M"+e[0][0]+" "+e[0][1],r=1;r<e.length;r+=3)t+="C"+e[r][0]+" "+e[r][1]+" "+e[r+1][0]+" "+e[r+1][1]+" "+e[r+2][0]+" "+e[r+2][1];return t},a=f.map(n,e.unscalePoint),l={center:e.unscalePoint(r),createPath:s},c=new x(e,a,l);return c.attr(f.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},t)),c.toCoordAtAngle=function(t,n){var s=e.scalePoint(o(e,t,n)),a=S();c.transform("translateX("+(s[0]+i*r[0])+"px) translateY("+(s[1]+i*r[1])+"px) "+(a?"translateZ(0) ":"")+"rotate("+(360-E.bound(n))+"deg)")},c};null==this._arrows&&(this._arrows=[],this.extendLine?(this._arrows.push(c(n,this.normalStyle)),this._arrows.push(c(n,this.normalStyle))):this.extendRay&&this._arrows.push(c(n,this.normalStyle)));var u=[this.coordA,this.coordZ],p=[360-i,(540-i)%360];f.each(this._arrows,function(e,t){e.toCoordAtAngle(u[t],p[t])}),f.invoke(this.temp,"remove"),this.temp=[];var h=this.coordA[0]<this.coordZ[0]||this.coordA[0]===this.coordZ[0]&&this.coordA[1]>this.coordZ[1];this.sideLabel&&this.temp.push(this.graph.labelSide({point1:this.coordA,point2:this.coordZ,label:this.labeledSide,text:this.sideLabel,numArrows:this.numArrows,numTicks:this.numTicks,clockwise:h,style:this.labelStyle})),this.vertexLabels.length&&(this.graph.labelVertex({vertex:this.coordA,point3:this.coordZ,label:this.labeledVertices[0],text:this.vertexLabels[0],clockwise:h,style:this.labelStyle}),this.graph.labelVertex({point1:this.coordA,vertex:this.coordZ,label:this.labeledVertices[1],text:this.vertexLabels[1],clockwise:h,style:this.labelStyle})),this.temp=f.flatten(this.temp)},t.toBack=function(){t.fixed||t.mouseTarget.toBack(),t.visibleLine.toBack()},t.toFront=function(){t.fixed||t.mouseTarget.toFront(),t.visibleLine.toFront()},t.remove=function(){t.fixed||t.mouseTarget.remove(),t.visibleLine.remove(),t.labeledSide&&t.labeledSide.remove(),t.labeledVertices&&f.invoke(t.labeledVertices,"remove"),t._arrows&&f.invoke(t._arrows,"remove"),t.temp.length&&f.invoke(t.temp,"remove")},t.hide=function(){t.visibleLine.hide(),t.temp.length&&f.invoke(t.temp,"hide"),t._arrows&&f.invoke(t._arrows,"hide")},t.show=function(){t.visibleLine.show(),t.temp.length&&f.invoke(t.temp,"show"),t._arrows&&f.invoke(t._arrows,"show")},t.sideLabel&&(t.labeledSide=this.label([0,0],"","center",t.labelStyle)),t.vertexLabels.length&&(t.labeledVertices=f.map(t.vertexLabels,function(e){return this.label([0,0],"","center",t.labelStyle)},this)),!t.fixed&&!t.constraints.fixed){var c=$(t.mouseTarget.getMouseTarget());c.css("cursor","move"),c.bind("vmousedown vmouseover vmouseout",function(e){"vmouseover"===e.type?k||(t.highlight=!0,t.visibleLine.animate(t.highlightStyle,50),t.arrowStyle=f.extend({},t.arrowStyle,{color:t.highlightStyle.stroke,stroke:t.highlightStyle.stroke}),t.transform()):"vmouseout"===e.type?(t.highlight=!1,t.dragging||(t.visibleLine.animate(t.normalStyle,50),
t.arrowStyle=f.extend({},t.arrowStyle,{color:t.normalStyle.stroke,stroke:t.normalStyle.stroke}),t.transform())):"vmousedown"!==e.type||1!==e.which&&0!==e.which||!function(){e.preventDefault();var r=(e.pageX-$(n.raphael.canvas.parentNode).offset().left)/n.scale[0]+n.range[0][0],o=n.range[1][1]-(e.pageY-$(n.raphael.canvas.parentNode).offset().top)/n.scale[1];t.snapX>0&&(r=Math.round(r/t.snapX)*t.snapX),t.snapY>0&&(o=Math.round(o/t.snapY)*t.snapY);var i=[t.coordA[0]-r,t.coordA[1]-o],s=[t.coordZ[0]-r,t.coordZ[1]-o],a=-Math.min(n.scaleVector(i)[0],n.scaleVector(s)[0]),l=Math.max(n.scaleVector(i)[0],n.scaleVector(s)[0]),c=Math.max(n.scaleVector(i)[1],n.scaleVector(s)[1]),u=-Math.min(n.scaleVector(i)[1],n.scaleVector(s)[1]);$(document).bind("vmousemove.lineSegment vmouseup.lineSegment",function(e){e.preventDefault(),t.dragging=!0,k=!0;var r=e.pageX-$(n.raphael.canvas.parentNode).offset().left,o=e.pageY-$(n.raphael.canvas.parentNode).offset().top;r=Math.max(a+10,Math.min(n.xpixels-10-l,r)),o=Math.max(c+10,Math.min(n.ypixels-10-u,o));var p=r/n.scale[0]+n.range[0][0],h=n.range[1][1]-o/n.scale[1];if(t.snapX>0&&(p=Math.round(p/t.snapX)*t.snapX),t.snapY>0&&(h=Math.round(h/t.snapY)*t.snapY),"vmousemove"===e.type){t.constraints.constrainX&&(p=t.coordA[0]-i[0]),t.constraints.constrainY&&(h=t.coordA[1]-i[1]);var m=p+i[0]-t.coordA[0],v=h+i[1]-t.coordA[1];t.coordA=[p+i[0],h+i[1]],t.coordZ=[p+s[0],h+s[1]],t.transform(),t.movePointsWithLine&&("object"===d(t.pointA)&&t.pointA.setCoord([t.pointA.coord[0]+m,t.pointA.coord[1]+v]),"object"===d(t.pointZ)&&t.pointZ.setCoord([t.pointZ.coord[0]+m,t.pointZ.coord[1]+v])),f.isFunction(t.onMove)&&t.onMove(m,v)}else"vmouseup"===e.type&&($(document).unbind(".lineSegment"),t.dragging=!1,k=!1,t.highlight||(t.visibleLine.animate(t.normalStyle,50),t.arrowStyle=f.extend({},t.arrowStyle,{color:t.normalStyle.stroke,stroke:t.normalStyle.stroke}),t.transform()),f.isFunction(t.onMoveEnd)&&t.onMoveEnd());$(t).trigger("move")})}()})}return void 0!==t.pointA&&t.pointA.toFront(),void 0!==t.pointZ&&t.pointZ.toFront(),t.transform(),t},addMovablePolygon:function(e){var t=this,r=$.extend({snapX:0,snapY:0,fixed:!1,constrainToGraph:!0,normalStyle:{},highlightStyle:{stroke:P.INTERACTING,"stroke-width":2,fill:P.INTERACTING,"fill-opacity":.05},pointHighlightStyle:{fill:P.INTERACTING,stroke:P.INTERACTING},labelStyle:{stroke:P.DYNAMIC,"stroke-width":1,color:P.DYNAMIC},angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],updateOnPointMove:!0,closed:!0},f.omit(e,"points")),n=r.fixed?P.DYNAMIC:P.INTERACTIVE;r.normalStyle=f.extend({"stroke-width":2,"fill-opacity":0,fill:n,stroke:n},e.normalStyle),r.points=e.points;var i=function(e){return!f.isArray(e)};if(r.update=function(){var e=r.points.length;r.coords=f.map(r.points,function(e,t){return i(e)?e.coord:e}),r.left=f.min(f.pluck(r.coords,0)),r.right=f.max(f.pluck(r.coords,0)),r.top=f.max(f.pluck(r.coords,1)),r.bottom=f.min(f.pluck(r.coords,1));var n=f.map(r.coords,function(e){return t.scalePoint(e)});r.closed?n.push(!0):n=n.concat(f.clone(n).reverse()),r.path=m.unscaledSvgPath(n),f.invoke(r.temp,"remove"),r.temp=[];var s=o(r.coords);(r.angleLabels.length||r.showRightAngleMarkers.length)&&f.each(r.labeledAngles,function(n,o){r.temp.push(t.labelAngle({point1:r.coords[(o-1+e)%e],vertex:r.coords[o],point3:r.coords[(o+1)%e],label:n,text:r.angleLabels[o],showRightAngleMarker:r.showRightAngleMarkers[o],numArcs:r.numArcs[o],clockwise:s,style:r.labelStyle}))}),r.sideLabels.length&&f.each(r.labeledSides,function(n,o){r.temp.push(t.labelSide({point1:r.coords[o],point2:r.coords[(o+1)%e],label:n,text:r.sideLabels[o],numArrows:r.numArrows[o],numTicks:r.numTicks[o],clockwise:s,style:r.labelStyle}))}),r.vertexLabels.length&&f.each(r.labeledVertices,function(n,o){t.labelVertex({point1:r.coords[(o-1+e)%e],vertex:r.coords[o],point3:r.coords[(o+1)%e],label:n,text:r.vertexLabels[o],clockwise:s,style:r.labelStyle})}),r.temp=f.flatten(r.temp)},r.transform=function(){r.update(),r.visibleShape.attr({path:r.path}),r.fixed||r.mouseTarget.attr({path:r.path})},r.remove=function(){r.visibleShape.remove(),r.fixed||r.mouseTarget.remove(),r.labeledAngles&&f.invoke(r.labeledAngles,"remove"),r.labeledSides&&f.invoke(r.labeledSides,"remove"),r.labeledVertices&&f.invoke(r.labeledVertices,"remove"),r.temp.length&&f.invoke(r.temp,"remove")},r.toBack=function(){r.fixed||r.mouseTarget.toBack(),r.visibleShape.toBack()},r.toFront=function(){r.fixed||r.mouseTarget.toFront(),r.visibleShape.toFront()},r.updateOnPointMove&&f.each(f.filter(r.points,i),function(e){e.polygonVertices.push(r)}),r.coords=new Array(r.points.length),r.angleLabels.length){var s=Math.max(r.angleLabels.length,r.showRightAngleMarkers.length);r.labeledAngles=f.times(s,function(){return this.label([0,0],"","center",r.labelStyle)},this)}return r.sideLabels.length&&(r.labeledSides=f.map(r.sideLabels,function(e){return this.label([0,0],"","center",r.labelStyle)},this)),r.vertexLabels.length&&(r.labeledVertices=f.map(r.vertexLabels,function(e){return this.label([0,0],"","center",r.labelStyle)},this)),r.update(),r.visibleShape=t.raphael.path(r.path),r.visibleShape.attr(r.normalStyle),r.fixed||(r.mouseTarget=t.mouselayer.path(r.path),r.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"}),$(r.mouseTarget[0]).bind("vmousedown vmouseover vmouseout",function(e){if("vmouseover"===e.type)k&&!r.dragging||(r.highlight=!0,r.visibleShape.animate(r.highlightStyle,50),f.each(f.filter(r.points,i),function(e){e.visibleShape.animate(r.pointHighlightStyle,50)}));else if("vmouseout"===e.type){if(r.highlight=!1,!r.dragging){r.visibleShape.animate(r.normalStyle,50);var n=f.filter(r.points,i);f.any(f.pluck(n,"dragging"))||f.each(n,function(e){e.visibleShape.animate(e.normalStyle,50)})}}else"vmousedown"!==e.type||1!==e.which&&0!==e.which||!function(){e.preventDefault(),f.each(f.filter(r.points,i),function(e){e.dragging=!0});var n=(e.pageX-$(t.raphael.canvas.parentNode).offset().left)/t.scale[0]+t.range[0][0],o=t.range[1][1]-(e.pageY-$(t.raphael.canvas.parentNode).offset().top)/t.scale[1];r.snapX>0&&(n=Math.round(n/r.snapX)*r.snapX),r.snapY>0&&(o=Math.round(o/r.snapY)*r.snapY);var s=n,a=o,l=r.coords.slice(),c=(n-r.left)*t.scale[0],u=(r.right-n)*t.scale[0],p=(r.top-o)*t.scale[1],h=(o-r.bottom)*t.scale[1];$(document).bind("vmousemove.polygon vmouseup.polygon",function(e){e.preventDefault(),r.dragging=!0,k=!0;var d=e.pageX-$(t.raphael.canvas.parentNode).offset().left,m=e.pageY-$(t.raphael.canvas.parentNode).offset().top;r.constrainToGraph&&(d=Math.max(c+10,Math.min(t.xpixels-10-u,d)),m=Math.max(p+10,Math.min(t.ypixels-10-h,m)));var v=d/t.scale[0]+t.range[0][0],g=t.range[1][1]-m/t.scale[1];if(r.snapX>0&&(v=Math.round(v/r.snapX)*r.snapX),r.snapY>0&&(g=Math.round(g/r.snapY)*r.snapY),"vmousemove"===e.type)!function(){var e=v-n,t=g-o,c=!0;if(f.isFunction(r.onMove)){var u=r.onMove(e,t);!1===u?c=!1:f.isArray(u)&&(e=u[0],t=u[1],v=n+e,g=o+t)}var p=function(r){return[l[r][0]+e,l[r][1]+t]};c&&(f.each(r.points,function(e,t){i(e)?e.setCoord(p(t)):r.points[t]=p(t)}),r.transform(),$(r).trigger("move"),s=v,a=g)}();else if("vmouseup"===e.type){$(document).unbind(".polygon");var y=f.filter(r.points,i);f.each(y,function(e){e.dragging=!1}),r.dragging=!1,k=!1,r.highlight||(r.visibleShape.animate(r.normalStyle,50),f.each(y,function(e){e.visibleShape.animate(e.normalStyle,50)})),f.isFunction(r.onMoveEnd)&&r.onMoveEnd(s-n,a-o)}})}()})),f.invoke(f.filter(r.points,i),"toFront"),r},constrainToBounds:function(e,t){var r=this.unscalePoint([t,this.ypixels-t]),n=this.unscalePoint([this.xpixels-t,t]),o=Math.max(r[0],Math.min(n[0],e[0])),i=Math.max(r[1],Math.min(n[1],e[1]));return[o,i]},constrainToBoundsOnAngle:function(e,t,r){var n=this.unscalePoint([t,this.ypixels-t]),o=this.unscalePoint([this.xpixels-t,t]),i=e.slice();return i[0]<n[0]?i=[n[0],i[1]+(n[0]-i[0])*Math.tan(r)]:i[0]>o[0]&&(i=[o[0],i[1]-(i[0]-o[0])*Math.tan(r)]),i[1]<n[1]?i=[i[0]+(n[1]-i[1])/Math.tan(r),n[1]]:i[1]>o[1]&&(i=[i[0]-(i[1]-o[1])/Math.tan(r),o[1]]),i},addMovableAngle:function(e){return new h(this,e)},addCircleGraph:function(e){var t=this,r=$.extend({center:[0,0],radius:2,snapX:.5,snapY:.5,snapRadius:.5,minRadius:1,centerConstraints:{},centerNormalStyle:{},centerHighlightStyle:{stroke:P.INTERACTING,fill:P.INTERACTING},circleNormalStyle:{stroke:P.INTERACTIVE,"fill-opacity":0},circleHighlightStyle:{stroke:P.INTERACTING,fill:P.INTERACTING,"fill-opacity":.05}},e),n=r.centerConstraints.fixed?P.DYNAMIC:P.INTERACTIVE,o=e?e.centerNormalStyle:null;return r.centerNormalStyle=f.extend({},{fill:n,stroke:n},o),r.centerPoint=t.addMovablePoint({graph:t,coord:r.center,normalStyle:r.centerNormalStyle,snapX:r.snapX,snapY:r.snapY,constraints:r.centerConstraints}),r.circ=t.circle(r.center,r.radius,r.circleNormalStyle),r.perim=t.mouselayer.circle(t.scalePoint(r.center)[0],t.scalePoint(r.center)[1],t.scaleVector(r.radius)[0]).attr({"stroke-width":20,opacity:.002}),r.centerConstraints.fixed||$(r.centerPoint.mouseTarget.getMouseTarget()).on("vmouseover vmouseout",function(e){r.centerPoint.highlight||r.centerPoint.dragging?r.circ.animate(r.circleHighlightStyle,50):r.circ.animate(r.circleNormalStyle,50)}),r.toFront=function(){r.circ.toFront(),r.perim.toFront(),r.centerPoint.visibleShape.toFront(),r.centerConstraints.fixed||r.centerPoint.mouseTarget.toFront()},r.centerPoint.onMove=function(e,n){r.toFront(),r.circ.attr({cx:t.scalePoint(e)[0],cy:t.scalePoint(n)[1]}),r.perim.attr({cx:t.scalePoint(e)[0],cy:t.scalePoint(n)[1]}),r.onMove&&r.onMove(e,n)},$(r.centerPoint).on("move",function(){r.center=this.coord,$(r).trigger("move")}),r.setCenter=function(e,t){r.centerPoint.setCoord([e,t]),r.centerPoint.onMove(e,t),r.center=[e,t]},r.setRadius=function(e){r.radius=e,r.perim.attr({r:t.scaleVector(e)[0]}),r.circ.attr({rx:t.scaleVector(e)[0],ry:t.scaleVector(e)[1]})},r.remove=function(){r.centerPoint.remove(),r.circ.remove(),r.perim.remove()},$(r.perim[0]).css("cursor","move"),$(r.perim[0]).on("vmouseover vmouseout vmousedown",function(e){"vmouseover"===e.type?(r.highlight=!0,k||(r.circ.animate(r.circleHighlightStyle,50),r.centerPoint.visibleShape.animate(r.centerHighlightStyle,50))):"vmouseout"===e.type?(r.highlight=!1,r.dragging||r.centerPoint.dragging||(r.circ.animate(r.circleNormalStyle,50),r.centerPoint.visibleShape.animate(r.centerNormalStyle,50))):"vmousedown"!==e.type||1!==e.which&&0!==e.which||!function(){e.preventDefault(),r.toFront();var n=r.radius;$(document).on("vmousemove vmouseup",function(e){if(e.preventDefault(),r.dragging=!0,k=!0,"vmousemove"===e.type){var o=t.constrainToBounds(t.getMouseCoord(e),10),i=m.getDistance(r.centerPoint.coord,o);i=Math.max(r.minRadius,Math.round(i/r.snapRadius)*r.snapRadius);var s=r.radius,a=!0;if(r.onResize){var l=r.onResize(i,s);f.isNumber(l)?i=l:!1===l&&(a=!1)}a&&(r.setRadius(i),$(r).trigger("move"))}else"vmouseup"===e.type&&($(document).off("vmousemove vmouseup"),r.dragging=!1,k=!1,r.onResizeEnd&&r.onResizeEnd(r.radius,n))})}()}),r},addRotateHandle:function(){var e=function(e,t,r,n,o,i,s){var a=function(n,o){var s=r+o,a=v.cartFromPolarDeg([s,i+n]),l=v.add(t,a),c=e.scalePoint(l);return c[0]+","+c[1]},l=e.scaleVector(r-n),c=e.scaleVector(r+n);return e.raphael.path(" M"+a(o,-n)+" L"+a(o,-3*n)+" L"+a(2*o,0)+" L"+a(o,3*n)+" L"+a(o,n)+" A"+c[0]+","+c[1]+",0,0,1,"+a(-o,n)+" L"+a(-o,3*n)+" L"+a(-2*o,0)+" L"+a(-o,-3*n)+" L"+a(-o,-n)+" A"+l[0]+","+l[1]+",0,0,0,"+a(o,-n)+" Z").attr({stroke:null,fill:s?P.INTERACTING:P.INTERACTIVE})};return function(t){var r=this,n=t.center,o=t.radius,i=t.lengthAngle||30,s=t.hideArrow||!1,a=t.mouseTarget,l=f.uniqueId("rotateHandle");f.isArray(n)&&(n={coord:n});var c=r.addMovablePoint({coord:g.addVector(n.coord,v.cartFromPolarDeg(o,t.angleDeg||0)),constraints:{fixedDistance:{dist:o,point:n}},mouseTarget:a});n.toFront();var u=n.coord,p=c.coord,h=p,d=!1,m=!1,y=void 0,b=function(o){if(!s){var a=v.subtract(o,n.coord),l=v.polarDegFromCart(a),c=l[1];y&&y.remove(),y=e(r,n.coord,t.radius,d||m?t.hoverWidth/2:t.width/2,i,c,d||m)}};$(n).on("move."+l,function(){var e=v.subtract(n.coord,u);c.setCoord(v.add(c.coord,e)),b(c.coord),u=n.coord,c.constraints.fixedDistance.point=n,p=c.coord}),c.onMove=function(e,r){d||(h=p,d=!0);var o=[e,r];if(t.onMove){var i=v.polarDegFromCart(v.subtract(p,n.coord)),s=v.polarDegFromCart(v.subtract(o,n.coord)),a=i[1],l=s[1],c=t.onMove(l,a);null!=c&&!0!==c&&(!1===c&&(c=a),o=v.add(n.coord,v.cartFromPolarDeg([i[0],c])))}return b(o),p=o,o},c.onMoveEnd=function(){if(d=!1,b(c.coord),t.onMoveEnd){var e=v.polarDegFromCart(v.subtract(h,n.coord)),r=v.polarDegFromCart(v.subtract(c.coord,n.coord));t.onMoveEnd(r[1],e[1])}},c.visibleShape.remove(),a||c.mouseTarget.attr({scale:2});var T=$(c.mouseTarget.getMouseTarget());T.bind("vmouseover",function(e){m=!0,b(c.coord)}),T.bind("vmouseout",function(e){m=!1,b(c.coord)}),b(c.coord);var x=c.remove;return c.remove=function(){x.call(c),y&&y.remove(),$(n).off("move."+l)},c.update=function(){b(c.coord)},c}}(),addReflectButton:function(){var e=function(e,t,r,n,o,i,s){g.equal(r[0],r[1])&&(r=[r[0],g.addVector(r[0],[1,1])]);var a=v.normalize(v.subtract(r[1],r[0])),l=v.scale(a,n/2),c=v.scale(a,o),u=v.rotateDeg(c,90),p=v.rotateDeg(c,-90),h=v.negate(l),d=v.rotateDeg(l,90),f=v.rotateDeg(l,-90),m=g.addVectors(t,u),y=g.addVectors(t,p),b=g.addVectors(t,u,l,d),T=g.addVectors(t,u,h,d),x=g.addVectors(t,p,l,f),E=g.addVectors(t,p,h,f),P=e.path([m,b,T,!0],i),w=e.path([y,x,E,!0],s);return{remove:function(){P.remove(),w.remove()}}};return function(t){var r=this,n=t.line,o=r.addMovablePoint({constraints:t.constraints,coord:y.midpoint([n.pointA.coord,n.pointZ.coord]),snapX:r.snap[0],snapY:r.snap[1],onMove:function(e,t){return!1},onMoveEnd:function(e,r){t.onMoveEnd&&t.onMoveEnd.call(this,e,r)}}),i=!1,s=!1,a=void 0,l=function(){return i},c=f.map([0,1],function(e){var r=e?t.highlightStyle:t.normalStyle;return f.map([0,1],function(e){return f.defaults({"fill-opacity":e},r)})}),u=function(e){return s&&(e=!e),c[+l()][+e]},p=function(n,o){a&&a.remove(),a=e(r,n,o,l()?1.5*t.size:t.size,l()?.125*t.size:.25,u(0),u(1))},h=function(e,t){e=e||n.pointA.coord,t=t||n.pointZ.coord;var r=y.midpoint([e,t]);o.setCoord(r),p(r,[e,t])};$(n).on("move",f.bind(h,o,null,null));var d=$(o.mouseTarget.getMouseTarget());d.on("vclick",function(){var e=t.onClick();!1!==e&&(s=!s,p(o.coord,[n.pointA.coord,n.pointZ.coord]))}),n.pointA.toFront(),n.pointZ.toFront(),o.visibleShape.remove();var m=r.scaleVector(t.size)[0]/20;o.mouseTarget.attr({scale:1.5*m}),d.css("cursor","pointer"),d.bind("vmouseover",function(e){i=!0,p(o.coord,[n.pointA.coord,n.pointZ.coord])}),d.bind("vmouseout",function(e){i=!1,p(o.coord,[n.pointA.coord,n.pointZ.coord])});var v=o.remove;return o.remove=function(){a.remove(),v.call(o)},o.update=h,o.isFlipped=function(){return s},h(),o}}(),protractor:function(e){return new u(this,e)},ruler:function(e){return new p(this,e||{})},addPoints:i}),f.extend(h.prototype,{points:[],snapDegrees:0,snapOffsetDeg:0,angleLabel:"",numArcs:1,pushOut:0,fixed:!1,addMoveHandlers:function(){function e(e,r){var n=30,o=m.getDistance(t.scalePoint(e),t.scalePoint(r));return o<n}var t=this.graphie,r=this.points;r[1].onMove=function(n,o){var a=r[1].coord,l=[n,o],c=i(l,s(a)),u=!0,p={};return f.each([0,2],function(n){var o=r[n].coord,s=i(o,c),a=m.findAngle(l,s);a*=Math.PI/180,s=t.constrainToBoundsOnAngle(s,10,a),p[n]=s,e(l,s)&&(u=!1)}),u&&f.each(p,function(e,t){r[t].setCoord(e)}),u};var n=this.snapDegrees,o=this.snapOffsetDeg;f.each([0,2],function(s){r[s].onMove=function(s,a){var l=[s,a],c=r[1].coord;if(e(c,l))return!1;if(n){var u=m.findAngle(l,c);u=Math.round((u-o)/n)*n+o;var p=m.getDistance(l,c);return i(c,t.polar(p,u))}return!0}}),$(r).on("move",function(){this.update(),$(this).trigger("move")}.bind(this))},addHighlightHandlers:function(){var e=this.points[1];e.onHighlight=function(){f.each(this.points,function(e){e.visibleShape.animate(this.highlightStyle,50)},this),f.each(this.rays,function(e){e.visibleLine.animate(this.highlightStyle,50),e.arrowStyle=f.extend({},e.arrowStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke})},this),this.angleStyle=f.extend({},this.angleStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke}),this.update()}.bind(this),e.onUnhighlight=function(){f.each(this.points,function(e){e.visibleShape.animate(this.normalStyle,50)},this),f.each(this.rays,function(e){e.visibleLine.animate(e.normalStyle,50),e.arrowStyle=f.extend({},e.arrowStyle,{color:e.normalStyle.stroke,stroke:e.normalStyle.stroke})},this),this.angleStyle=f.extend({},this.angleStyle,{color:P.DYNAMIC,stroke:P.DYNAMIC}),this.update()}.bind(this)},_getClockwiseAngle:function(e){var t=(m.findAngle(e[2],e[0],e[1])+360)%360;return t},isReflex:function(){return this.reflex},isClockwise:function(){var e=this._getClockwiseAngle(this.coords)>180;return e===this.reflex},getClockwiseCoords:function(){return this.isClockwise()?f.clone(this.coords):f.clone(this.coords).reverse()},update:function(e){var t=this.coords;this.coords=f.pluck(this.points,"coord"),f.invoke(this.points,"updateLineEnds");var r=this._getClockwiseAngle(t),n=this._getClockwiseAngle(this.coords),o=r>180,i=n>180;this.allowReflex&&(null==e&&(e=o!==i&&Math.abs(n-r)<180),e&&(this.reflex=!this.reflex)),f.invoke(this.temp,"remove"),this.temp=this.graphie.labelAngle({point1:this.coords[0],vertex:this.coords[1],point3:this.coords[2],label:this.labeledAngle,text:this.angleLabel,numArcs:this.numArcs,pushOut:this.pushOut,clockwise:this.reflex===i,style:this.angleStyle})},remove:function(){f.invoke(this.rays,"remove"),f.invoke(this.temp,"remove"),this.labeledAngle.remove()}}),e.exports=C},function(e,t,r){"use strict";function n(e,t){return e+":"+t}function o(e){return e.split(":")[0]}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r(9),a=r(123).point,l={_fireEvent:function(e,t,r){s.invoke(e,"call",this,t,r)},_applyConstraints:function(e,t,r){var n=this,o=!1;return s.reduce(this.state.constraints,function(e,s){if(!1===e)return!1;if(o)return e;var l=s.call(n,e,t,i({onSkipRemaining:function(){o=!0}},r));if(!1===l)return!1;if(a.is(l,2))return l;if(!0===l||null==l)return e;throw new Error("Constraint returned invalid result: "+l)},e,this)},draw:function(){var e=this.cloneState();l._fireEvent.call(this,this.state.draw,e,this.prevState),this.prevState=e},listen:function(e,t,r){this._listenerMap=this._listenerMap||{};var o=n(e,t),i=this._listenerMap[o]=this._listenerMap[o]||this.state[e].length;this.state[e][i]=r},unlisten:function(e,t){this._listenerMap=this._listenerMap||{};var r=n(e,t),i=this._listenerMap[r];if(void 0!==i){this.state[e].splice(i,1),delete this._listenerMap[r];var a=s.keys(this._listenerMap);s.each(a,function(t){o(t)===e&&this._listenerMap[t]>i&&this._listenerMap[t]--},this)}}};e.exports=l},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(176),s=i.connect,a=r(13),l=a.StyleSheet,c=r(149),u=c.View,p=r(163),h=r(164),d=r(165),f=r(166),m=r(146),v=m.setPageSize,g=r(120),y=g.keyIdPropType,b=r(110),T=b.KeypadTypes,x=b.LayoutModes,E=r(167),P=E.row,w=E.centered,S=E.fullWidth,k=r(144),C=k.innerBorderColor,_=k.innerBorderStyle,M=k.innerBorderWidthPx,R=k.compactKeypadBorderRadiusPx,N=o.createClass({displayName:"KeypadContainer",propTypes:{active:o.PropTypes.bool,extraKeys:o.PropTypes.arrayOf(y),keypadType:o.PropTypes.oneOf(Object.keys(T)).isRequired,layoutMode:o.PropTypes.oneOf(Object.keys(x)).isRequired,navigationPadEnabled:o.PropTypes.bool.isRequired,onDismiss:o.PropTypes.func,onElementMounted:o.PropTypes.func,onPageSizeChange:o.PropTypes.func.isRequired,style:o.PropTypes.any},getInitialState:function(){return{hasBeenActivated:!1,viewportWidth:"100vw"}},componentWillMount:function(){this.props.active&&this.setState({hasBeenActivated:this.props.active})},componentDidMount:function(){this._onResize(),window.addEventListener("resize",this._throttleResizeHandler),window.addEventListener("orientationchange",this._throttleResizeHandler)},componentWillReceiveProps:function(e){!this.state.hasBeenActivated&&e.active&&this.setState({hasBeenActivated:!0})},componentDidUpdate:function(e){e.active&&!this.props.active&&this.props.onDismiss&&this.props.onDismiss()},componentWillUnmount:function(){window.removeEventListener("resize",this._throttleResizeHandler),window.removeEventListener("orientationchange",this._throttleResizeHandler)},_throttleResizeHandler:function(){var e=this;null==this._resizeTimeout&&(this._resizeTimeout=setTimeout(function(){e._resizeTimeout=null,e._onResize()},66))},_onResize:function(){this.setState({viewportWidth:window.innerWidth}),this.props.onPageSizeChange(window.innerWidth,window.innerHeight)},renderKeypad:function(){var e=this.props,t=e.extraKeys,r=e.keypadType,n=e.layoutMode,i=e.navigationPadEnabled,s={extraKeys:t,roundTopLeft:n===x.COMPACT&&!i,roundTopRight:n===x.COMPACT};switch(r){case T.FRACTION:return o.createElement(p,s);case T.EXPRESSION:return o.createElement(h,s);default:throw new Error("Invalid keypad type: "+r)}},render:function(){var e=this,t=this.props,r=t.active,i=t.layoutMode,s=t.navigationPadEnabled,a=t.onElementMounted,l=t.style,c=this.state.hasBeenActivated,p=n({},r?L.active:L.hidden,r||c?{}:L.invisible),h=[P,w,S,I.keypadContainer].concat(Array.isArray(l)?l:[l]),f=[P,I.keypadBorder,i===x.FULLSCREEN?I.fullscreen:I.compact];return o.createElement(u,{style:h,dynamicStyle:p},o.createElement(u,{style:f,ref:function(t){!e.hasMounted&&t&&(e.hasMounted=!0,a(t))}},s&&o.createElement(d,{roundTopLeft:i===x.COMPACT,style:I.navigationPadContainer}),o.createElement(u,{style:I.keypadLayout},this.renderKeypad())))}}),O=300,A=1,I=l.create({keypadContainer:{bottom:0,left:0,right:0,position:"fixed",transition:O+"ms ease-out",transitionProperty:"transform",zIndex:f.keypad},keypadBorder:{boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.1)",borderColor:"rgba(0, 0, 0, 0.2)",borderStyle:"solid"},fullscreen:{borderTopWidth:A},compact:{borderTopRightRadius:R,borderTopLeftRadius:R,borderTopWidth:A,borderRightWidth:A,borderLeftWidth:A},navigationPadContainer:{borderRight:M+"px "+_+" "+C,boxSizing:"content-box"},keypadLayout:{flexGrow:1,flexBasis:"0%"}}),L={invisible:{visibility:"hidden"},hidden:{msTransform:"translate3d(0, 100%, 0)",WebkitTransform:"translate3d(0, 100%, 0)",transform:"translate3d(0, 100%, 0)"},active:{msTransform:"translate3d(0, 0, 0)",WebkitTransform:"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)"}},F=function(e){return n({},e.keypad,{layoutMode:e.layout.layoutMode,navigationPadEnabled:e.layout.navigationPadEnabled})},D=function(e){return{onPageSizeChange:function(t,r){e(v(t,r))}}};e.exports=s(F,D)(N)},function(e,t,r){"use strict";e.exports={NONE:"NONE",IN_PARENS:"IN_PARENS",IN_SUPER_SCRIPT:"IN_SUPER_SCRIPT",IN_SUB_SCRIPT:"IN_SUB_SCRIPT",IN_NUMERATOR:"IN_NUMERATOR",IN_DENOMINATOR:"IN_DENOMINATOR",BEFORE_FRACTION:"BEFORE_FRACTION"}},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(144),s=i.cursorHandleRadiusPx,a=i.brightGreen,l=i.cursorHandleDistanceMultiplier,c=22,u=2*c,p=2*c,h=s,d=l*h+h,f=2*h,m=o.createClass({displayName:"CursorHandle",propTypes:{animateIntoPosition:o.PropTypes.bool,onTouchCancel:o.PropTypes.func.isRequired,onTouchEnd:o.PropTypes.func.isRequired,onTouchMove:o.PropTypes.func.isRequired,onTouchStart:o.PropTypes.func.isRequired,visible:o.PropTypes.bool.isRequired,x:o.PropTypes.number.isRequired,y:o.PropTypes.number.isRequired},getDefaultProps:function(){return{animateIntoPosition:!1,visible:!1,x:0,y:0}},render:function(){var e=this.props,t=e.x,r=e.y,i=e.animateIntoPosition,s=i?{msTransitionDuration:"100ms",WebkitTransitionDuration:"100ms",transitionDuration:"100ms",msTransitionProperty:"transform",WebkitTransitionProperty:"transform",transitionProperty:"transform"}:{},l="translate("+t+"px, "+r+"px)",m=n({position:"absolute",zIndex:4,left:-p/2,top:0,msTransform:l,WebkitTransform:l,transform:l,width:p,height:u},s),v={marginLeft:c-h};return o.createElement("span",{style:m,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.props.onTouchEnd,onTouchCancel:this.props.onTouchCancel},o.createElement("svg",{width:f,height:d,viewBox:"-"+h+" 0 "+f+" "+d,style:v},o.createElement("path",{d:"M 0 0\n                        L -"+.707*h+" "+.707*h+"\n                        A "+h+" "+h+", 0, 1, 0,\n                          "+.707*h+" "+.707*h+"\n                        Z",fill:a})))}});e.exports=m},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o,i,s,a=r(14),l=window.MathQuill,c=r(168),u=r(139),p=r(110),h=p.DecimalSeparators,d=r(169),f=d.decimalSeparator,m=f===h.COMMA?",":".",v="write",g="cmd",y="keystroke",b=0,T=(o={},o[c.PLUS]={str:"+",fn:v},o[c.MINUS]={str:"-",fn:v},o[c.NEGATIVE]={str:"-",fn:v},o[c.TIMES]={str:"\\times",fn:v},o[c.DIVIDE]={str:"\\div",fn:v},o[c.DECIMAL]={str:m,fn:v},o[c.EQUAL]={str:"=",fn:v},o[c.NEQ]={str:"\\neq",fn:v},o[c.CDOT]={str:"\\cdot",fn:v},o[c.PERCENT]={str:"%",fn:v},o[c.LEFT_PAREN]={str:"(",fn:g},o[c.RIGHT_PAREN]={str:")",fn:g},o[c.SQRT]={str:"sqrt",fn:g},o[c.PI]={str:"pi",fn:g},o[c.THETA]={str:"theta",fn:g},o[c.RADICAL]={str:"nthroot",fn:g},o[c.LT]={str:"<",fn:v},o[c.LEQ]={str:"\\leq",fn:v},o[c.GT]={str:">",fn:v},o[c.GEQ]={str:"\\geq",fn:v},o[c.UP]={str:"Up",fn:y},o[c.DOWN]={str:"Down",fn:y},o[c.FRAC_INCLUSIVE]={str:"/",fn:g},o),x=(i={},i[c.LOG]="log",i[c.LN]="ln",i[c.SIN]="sin",i[c.COS]="cos",i[c.TAN]="tan",i),E=["+","-","\\cdot","\\times","\\div"],P=["=","\\neq","<","\\leq",">","\\geq"],w=["0","1","2","3","4","5","6","7","8","9"],S=["\\theta","\\pi"],k=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],C=[].concat(w,S,k.map(function(e){return e.toLowerCase()}),k.map(function(e){return e.toUpperCase()})),_=(s={},s[u.IN_PARENS]=c.JUMP_OUT_PARENTHESES,s[u.IN_SUPER_SCRIPT]=c.JUMP_OUT_EXPONENT,s[u.IN_SUB_SCRIPT]=c.JUMP_OUT_BASE,s[u.BEFORE_FRACTION]=c.JUMP_INTO_NUMERATOR,s[u.IN_NUMERATOR]=c.JUMP_OUT_NUMERATOR,s[u.IN_DENOMINATOR]=c.JUMP_OUT_DENOMINATOR,s),M=function(){function e(t){var r=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1],arguments.length<=2||void 0===arguments[2]?{}:arguments[2]);n(this,e),this.MQ=l.getInterface(2),this.mathField=this.MQ.MathField(t,{substituteTextarea:function(){return document.createElement("span")}}),this.callbacks=r}return e.prototype.focus=function(){var e=this.mathField.__controller;e.cursor.show(),e.blurred=!1},e.prototype.blur=function(){var e=this.mathField.__controller;e.cursor.hide(),e.blurred=!0},e.prototype._writeNormalFunction=function(e){this.mathField.write("\\"+e+"\\left(\\right)"),this.mathField.keystroke("Left")},e.prototype.pressKey=function(e){var t=this.mathField.__controller.cursor;if(e in T){var r=T[e],n=r.str,o=r.fn;n&&o&&this.mathField[o](n)}else if(Object.keys(x).includes(e))this._writeNormalFunction(x[e]);else if(e===c.FRAC_EXCLUSIVE){var i=t[this.MQ.L]===b;this.mathField.cmd("\\frac"),i&&this.mathField.keystroke("Left")}else e===c.LOG_N?(this.mathField.write("log_{ }\\left(\\right)"),this.mathField.keystroke("Left"),this.mathField.keystroke("Left"),this.mathField.keystroke("Left")):e===c.CUBE_ROOT?(this.mathField.write("\\sqrt[3]{}"),this.mathField.keystroke("Left")):e===c.EXP||e===c.EXP_2||e===c.EXP_3?this._handleExponent(t,e):e===c.JUMP_OUT_PARENTHESES||e===c.JUMP_OUT_EXPONENT||e===c.JUMP_OUT_BASE||e===c.JUMP_INTO_NUMERATOR||e===c.JUMP_OUT_NUMERATOR||e===c.JUMP_OUT_DENOMINATOR?this._handleJumpOut(t,e):e===c.BACKSPACE?this._handleBackspace(t):e===c.LEFT?this._handleLeftArrow(t):e===c.RIGHT||e===c.JUMP_OUT?this._handleRightArrow(t):/^[a-zA-Z]$/.test(e)?this.mathField[v](e):/^NUM_\d/.test(e)&&this.mathField[v](e[4]);return t.selection||t.show(),this.callbacks.onSelectionChanged&&this.callbacks.onSelectionChanged(t.selection),{context:this.contextForCursor(t)}},e.prototype.setCursorPosition=function(e,t,r){var n=r||document.elementFromPoint(e,t);if(n){var o=this.getCursor();if(n.hasAttribute("mq-root-block"))o.insAtRightEnd(this.mathField.__controller.root);else{var i=this.mathField.__controller,s=e-document.body.scrollLeft,l=t-document.body.scrollTop;i.seek(a(n),s,l).cursor.startSelection();var c=this._maybeFindCommand(o[this.MQ.L]);c&&c.endNode&&(o.insLeftOf(c.endNode),this.mathField.keystroke("Right"))}this.callbacks.onCursorMove&&this.callbacks.onCursorMove({context:this.contextForCursor(o)})}},e.prototype.getCursor=function(){return this.mathField.__controller.cursor},e.prototype.getSelection=function(){return this.getCursor().selection},e.prototype.getContent=function(){return this.mathField.latex()},e.prototype.setContent=function(e){this.mathField.latex(e)},e.prototype.isEmpty=function(){var e=this.getCursor();return 1===e.parent.id&&0===e[1]&&0===e[-1]},e.prototype._handleBackspaceInNthRoot=function(e){var t=e[this.MQ.L]===b,r=this._isInsideEmptyNode(e.parent.parent.blocks[0].ends);t?(this._selectNode(e.parent.parent,e),r&&this.mathField.keystroke("Backspace")):this.mathField.keystroke("Backspace")},e.prototype._handleJumpOut=function(e,t){var r=this.contextForCursor(e);if(_[r]===t)switch(r){case u.IN_PARENS:e.insRightOf(e.parent.parent);break;case u.BEFORE_FRACTION:for(var n=void 0,o=e;o[this.MQ.R]!==b;)this._isFraction(o[this.MQ.R])&&(n=o[this.MQ.R]),o=o[this.MQ.R];e.insLeftOf(n),this.mathField.keystroke("Right");break;case u.IN_NUMERATOR:for(var i=e.parent.parent.blocks[1];e.parent!==i;)this.mathField.keystroke("Right");break;case u.IN_DENOMINATOR:e.insRightOf(e.parent.parent);break;case u.IN_SUB_SCRIPT:e.insRightOf(e.parent.parent),this._isParens(e[this.MQ.R])&&this.mathField.keystroke("Right");break;case u.IN_SUPER_SCRIPT:e.insRightOf(e.parent.parent);break;default:throw new Error("Attempted to 'Jump Out' from node, but found no appropriate cursor context: "+r)}},e.prototype._handleBackspace=function(e){if(e.selection)this.mathField.keystroke("Backspace");else{var t=e.parent,r=t.parent,n=e[this.MQ.L];this._isFraction(n)?this._selectNode(n,e):this._isSquareRoot(n)?this._selectNode(n,e):this._isNthRoot(n)?this._selectNode(n,e):this._isNthRootIndex(t)?this._handleBackspaceInRootIndex(e):"\\left("===n.ctrlSeq?this._handleBackspaceOutsideParens(e):"\\left("===r.ctrlSeq?this._handleBackspaceInsideParens(e):this._isInsideLogIndex(e)?this._handleBackspaceInLogIndex(e):"\\ge "===n.ctrlSeq||"\\le "===n.ctrlSeq?this._handleBackspaceAfterLigaturedSymbol(e):this._isNthRoot(r)&&n===b?this._handleBackspaceInNthRoot(e):this.mathField.keystroke("Backspace")}},e.prototype._handleLeftArrow=function(e){if(e[this.MQ.L]===b){var t=e.parent,r=t.parent;if("\\left("===r.ctrlSeq){var n=this._maybeFindCommandBeforeParens(r);if(n)return void e.insLeftOf(n.startNode)}}this.mathField.keystroke("Left")},e.prototype._handleRightArrow=function(e){var t=this._maybeFindCommand(e[this.MQ.R]);t?(e.insLeftOf(t.endNode),this.mathField.keystroke("Right")):this.mathField.keystroke("Right")},e.prototype._handleExponent=function(e,t){var r=[].concat(E,P),n=e[this.MQ.L],o=n===b||r.includes(n.ctrlSeq.trim());switch(o&&this.mathField.write("\\left(\\right)"),t){case c.EXP:this.mathField.cmd("^");break;case c.EXP_2:case c.EXP_3:this.mathField.write("^"+(t===c.EXP_2?2:3)),o&&(this.mathField.keystroke("Left"),this.mathField.keystroke("Left"),this.mathField.keystroke("Left"),this.mathField.keystroke("Left"));break;default:throw new Error("Invalid exponent key: "+t)}},e.prototype._maybeFindCommand=function(e){if(!e)return null;for(var t=/^[a-z]$/,r=/^\\[a-z]$/,n="\\left(",o=["\\log","\\ln","\\cos","\\sin","\\tan"],i="",s=void 0,a=void 0,l=e;0!==l;){var c=l.ctrlSeq.trim();if(!t.test(c)){if(r.test(c)){i=c+i,
s=l;break}break}i=c+i,l=l[this.MQ.L]}if(s){for(l=e[this.MQ.R];0!==l;){var u=l.ctrlSeq.trim();if(t.test(u))i+=u;else if(u===n){a=l;break}l=l[this.MQ.R]}return o.includes(i)?{name:i,startNode:s,endNode:a}:null}return null},e.prototype._maybeFindCommandBeforeParens=function(e){return this._maybeFindCommand(e[this.MQ.L])},e.prototype._selectNode=function(e,t){t.insLeftOf(e),t.startSelection(),t.insRightOf(e),t.select(),t.endSelection()},e.prototype._isFraction=function(e){return e.jQ&&e.jQ.hasClass("mq-fraction")},e.prototype._isNumerator=function(e){return e.jQ&&e.jQ.hasClass("mq-numerator")},e.prototype._isDenominator=function(e){return e.jQ&&e.jQ.hasClass("mq-denominator")},e.prototype._isSubScript=function(e){return e.jQ&&(e.jQ.hasClass("mq-sub-only")||e.jQ.hasClass("mq-sub"))},e.prototype._isSuperScript=function(e){return e.jQ&&(e.jQ.hasClass("mq-sup-only")||e.jQ.hasClass("mq-sup"))},e.prototype._isParens=function(e){return e&&"\\left("===e.ctrlSeq},e.prototype._isLeaf=function(e){return e&&e.ctrlSeq&&C.includes(e.ctrlSeq.trim())},e.prototype._isSquareRoot=function(e){return e.blocks&&e.blocks[0].jQ&&e.blocks[0].jQ.hasClass("mq-sqrt-stem")},e.prototype._isNthRoot=function(e){return e.blocks&&e.blocks[0].jQ&&e.blocks[0].jQ.hasClass("mq-nthroot")},e.prototype._isNthRootIndex=function(e){return e.jQ&&e.jQ.hasClass("mq-nthroot")},e.prototype._isInsideLogIndex=function(e){var t=e.parent.parent;if(t&&t.jQ.hasClass("mq-supsub")){var r=this._maybeFindCommandBeforeParens(t);if(r&&"\\log"===r.name)return!0}return!1},e.prototype._isInsideEmptyNode=function(e){return e[this.MQ.L]===b&&e[this.MQ.R]===b},e.prototype._handleBackspaceInRootIndex=function(e){if(this._isInsideEmptyNode(e)){var t=e.parent.parent,r=t.latex(),n=t[this.MQ.L];this._selectNode(t,e);var o=""===t.blocks[1].jQ.text();o?this.mathField.keystroke("Backspace"):(this.mathField.keystroke("Backspace"),this.mathField.write(r.replace(/^\\sqrt\[\]/,"\\sqrt")),n===b?this.mathField.moveToDirEnd(this.MQ.L):e.insRightOf(n))}else e[this.MQ.L]!==b&&this.mathField.keystroke("Backspace")},e.prototype._handleBackspaceInLogIndex=function(e){if(this._isInsideEmptyNode(e)){var t=e.parent.parent,r=this._maybeFindCommandBeforeParens(t);e.insLeftOf(r.startNode),e.startSelection(),t[this.MQ.R]!==b?e.insRightOf(t[this.MQ.R]):e.insRightOf(t),e.select(),e.endSelection();var n=""===t[this.MQ.R].contentjQ.text();n&&this.mathField.keystroke("Backspace")}else this.mathField.keystroke("Backspace")},e.prototype._handleBackspaceOutsideParens=function(e){var t=e[this.MQ.L],r=e[this.MQ.R],n=this._maybeFindCommandBeforeParens(t);n&&n.startNode?(e.insLeftOf(n.startNode),e.startSelection(),r===b?e.insAtRightEnd(e.parent):e.insLeftOf(r),e.select(),e.endSelection()):(e.startSelection(),e.insLeftOf(t),e.select(),e.endSelection())},e.prototype._handleBackspaceInsideParens=function(e){if(e[this.MQ.L]!==b)return void this.mathField.keystroke("Backspace");var t=e.parent.parent;if(t[this.MQ.L].sub&&t[this.MQ.L].sub.jQ.text())return void e.insAtRightEnd(t[this.MQ.L].sub);var r=this._isInsideEmptyNode(e),n=this._maybeFindCommandBeforeParens(t);e.insLeftOf(n&&n.startNode||t),e.startSelection(),e.insRightOf(t),e.select(),e.endSelection(),r&&this.mathField.keystroke("Backspace")},e.prototype._handleBackspaceAfterLigaturedSymbol=function(e){this.mathField.keystroke("Backspace"),this.mathField.keystroke("Backspace")},e.prototype.contextForCursor=function(e){for(var t=e;t[this.MQ.R]!==b;){if(this._isFraction(t[this.MQ.R]))return u.BEFORE_FRACTION;if(!this._isLeaf(t[this.MQ.R]))break;t=t[this.MQ.R]}return this._isParens(e.parent&&e.parent.parent)?u.IN_PARENS:this._isNumerator(e.parent)?u.IN_NUMERATOR:this._isDenominator(e.parent)?u.IN_DENOMINATOR:this._isSubScript(e.parent)?u.IN_SUB_SCRIPT:this._isSuperScript(e.parent)?u.IN_SUPER_SCRIPT:u.NONE},e.prototype._isAtTopLevel=function(e){return!e.parent.parent},e}();e.exports=M},function(e,t,r){"use strict";var n=r(144),o=n.toolbarHeightPx,i=function(e,t){var r=e.getBoundingClientRect(),n=r.bottom,i=r.top,s=16;if(t){var a=window.innerHeight,l=t.clientHeight,c=a-(l+o);if(n>c){var u=Math.min(n-c+s,i);return void(document.body.scrollTop+=u)}}i<s&&(document.body.scrollTop-=r.height+s)};e.exports=i},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=8,i=function(){function e(t,r){n(this,e),this._scrollListener=function(){t()};for(var i={},s=0;s<r.changedTouches.length;s++){var a=r.changedTouches[s];i[a.identifier]=[a.clientX,a.clientY]}this._moveListener=function(e){for(var r=0;r<e.changedTouches.length;r++){var n=e.changedTouches[r],s=i[n.identifier];if(s){var a=[n.clientX,n.clientY],l=a[0]-s[0],c=a[1]-s[1],u=l*l+c*c,p=o*o;u>p&&t()}}},this._endAndCancelListener=function(e){for(var t=0;t<e.changedTouches.length;t++)delete i[e.changedTouches[t].identifier]}}return e.prototype.attach=function(){window.addEventListener("scroll",this._scrollListener),window.addEventListener("touchmove",this._moveListener),window.addEventListener("touchend",this._endAndCancelListener),window.addEventListener("touchcancel",this._endAndCancelListener)},e.prototype.detach=function(){window.removeEventListener("scroll",this._scrollListener),window.removeEventListener("touchmove",this._moveListener),window.removeEventListener("touchend",this._endAndCancelListener),window.removeEventListener("touchcancel",this._endAndCancelListener)},e}();e.exports=i},function(e,t,r){"use strict";var n="#D6D8DA";e.exports={brightGreen:"#78C008",gray17:"#21242C",gray25:"#3B3E40",gray68:"#888D93",gray76:"#BABEC2",gray85:n,iconSizeHeightPx:48,iconSizeWidthPx:48,compactKeypadBorderRadiusPx:4,cursorHandleRadiusPx:11,cursorHandleDistanceMultiplier:1.41,valueGrey:"#FFF",operatorGrey:"#FAFAFA",controlGrey:"#F6F7F7",emptyGrey:"#F0F1F2",innerBorderColor:n,innerBorderStyle:"solid",innerBorderWidthPx:1,tabletCutoffPx:600,pageIndicatorHeightPx:16,navigationPadWidthPx:192,toolbarHeightPx:60}},function(e,t,r){"use strict";var n,o,i,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(13),l=a.StyleSheet,c=a.css,u=(r(9),r(10)),p=r(12),h=r(17),d=h.ClassNames,f=r(35),m=r(36),v=r(34),g=r(170),y=m.checkedColor,b={backgroundColor:m.satSelectedBackgroundColor,borderTopColor:"transparent",borderBottomColor:"transparent",outline:"2px solid "+m.satBlue,zIndex:1},T=u.createClass({displayName:"Choice",propTypes:{apiOptions:u.PropTypes.shape({satStyling:u.PropTypes.bool,isMobile:u.PropTypes.bool}),checked:u.PropTypes.bool,className:u.PropTypes.string,clue:u.PropTypes.node,content:u.PropTypes.node,correct:u.PropTypes.bool,deselectEnabled:u.PropTypes.bool,disabled:u.PropTypes.bool,editMode:u.PropTypes.bool,groupName:u.PropTypes.string,isLastChoice:u.PropTypes.bool,onChecked:u.PropTypes.func.isRequired,pos:u.PropTypes.number,reviewMode:u.PropTypes.bool,showClue:u.PropTypes.bool,type:u.PropTypes.string},statics:{styles:l.create({pos:{display:"none"},satDescription:{display:"block",position:"relative",borderTop:"1px solid #ccc",boxSizing:"border-box",cursor:"pointer",marginLeft:0,padding:"17px 14px","::after":{bottom:-1,content:'" "',height:1,left:0,position:"absolute",width:"100%",zIndex:1}},satDescriptionLastChoice:{borderBottom:"1px solid #ccc"},satDescriptionInputFocused:s({},b),satDescriptionInputActive:s({},b,{backgroundColor:m.satActiveBackgroundColor}),satDescriptionCorrect:{color:m.satCorrectColor,":focus":{borderColor:m.satCorrectColor,outlineColor:m.satCorrectColor}},satDescriptionCorrectChecked:{backgroundColor:m.satCorrectBackgroundColor,borderBottomColor:m.satCorrectBorderColor,borderTopColor:m.satCorrectBorderColor,":after":{backgroundColor:m.satCorrectBorderColor}},satDescriptionIncorrectChecked:{color:m.satIncorrectColor,backgroundColor:m.satIncorrectBackgroundColor,borderBottomColor:m.satIncorrectBorderColor,borderTopColor:m.satIncorrectBorderColor,":after":{backgroundColor:m.satIncorrectBorderColor},":focus":{borderColor:m.satIncorrectColor,outlineColor:m.satIncorrectColor}},input:{display:"inline-block",width:20,margin:3,marginLeft:-20,marginRight:0,float:"none"},satReviewInput:{pointerEvents:"none"},satRadioOptionContent:{userSelect:"text",display:"block",marginLeft:45,cursor:"inherit"},satReviewRadioOptionContent:{fontWeight:"bold"},responsiveCheckboxInput:(n={},n[v.lgOrSmaller]={border:"none",borderRadius:4,":checked":{backgroundColor:y,boxShadow:"none"},":checked::before":{display:"flex",alignItems:"center",justifyContent:"center",content:'"✓"',color:"white",fontFamily:"monospace",fontSize:17,height:m.circleSize,width:m.circleSize}},n),responsiveMobileCheckboxInput:(o={},o[v.lgOrSmaller]={display:"none"},o),satCheckboxOptionContent:{position:"absolute",display:"block",top:"50%",margin:"-16px 0 0 0",width:"auto"},satPosBack:{display:"block",borderRadius:25,border:"2px solid "+m.satBlue,content:"''",height:25,width:25,position:"absolute",top:1,left:1},satPosBackChecked:{background:m.satBlue},satPosBackCorrect:{borderColor:m.satCorrectColor},satPosBackCorrectChecked:{background:m.satCorrectColor},satPosBackIncorrectChecked:{borderColor:m.satIncorrectColor,background:m.satIncorrectColor},satPos:{display:"block",color:m.satBlue,fontFamily:m.boldFontFamily,fontSize:13,textAlign:"center",position:"absolute",left:0,top:7,width:32},satPosChecked:{color:"#fff"},satPosCorrect:{color:m.satCorrectColor},clue:{display:"block"},satReviewClue:{marginTop:13,marginLeft:45},label:{display:"block"},responsiveLabel:(i={},i[v.lgOrSmaller]={WebkitTapHighlightColor:"transparent",alignItems:"center",display:"flex",padding:"17px 0"},i),satLabel:{cursor:"pointer"}})},getDefaultProps:function(){return{checked:!1,classSet:{},disabled:!1,editMode:!1,showClue:!1,type:"radio",pos:0}},getInitialState:function(){return{isInputFocused:!1,isInputActive:!1}},onInputFocus:function(){this.setState({isInputFocused:!0})},onInputBlur:function(){this.setState({isInputFocused:!1})},onInputMouseDown:function(){this.setState({isInputActive:!0}),this.props.apiOptions.satStyling&&this._input&&this._input.focus()},onInputMouseUp:function(){this.setState({isInputActive:!1}),this.props.apiOptions.satStyling&&this._input&&this._input.focus()},onInputMouseOut:function(){this.setState({isInputActive:!1})},inputRef:function(e){this._input=e},render:function(){var e=this,t=String.fromCharCode(65+this.props.pos),r=function(){return e.props.checked?"boolean"==typeof e.props.correct?e.props.correct?i18n._("(Choice %(letter)s, Checked, Correct)",{letter:t}):i18n._("(Choice %(letter)s, Checked, Incorrect)",{letter:t}):i18n._("(Choice %(letter)s, Checked)",{letter:t}):e.props.correct?i18n._("(Choice %(letter)s, Correct Answer)",{letter:t}):i18n._("(Choice %(letter)s)",{letter:t})},n=T.styles,o=this.props.apiOptions.satStyling,i=this.props.apiOptions.isMobile,a=p(this.props.className,"checkbox-label",c(n.label,i&&f.disableTextSelection,!o&&n.responsiveLabel,o&&n.satLabel)),l={type:this.props.type,name:this.props.groupName,checked:this.props.checked,disabled:this.props.disabled,onFocus:this.onInputFocus,onBlur:this.onInputBlur,className:c(f.perseusInteractive,n.input,f.responsiveInput,"radio"===this.props.type&&!o&&f.responsiveRadioInput,"radio"===this.props.type&&i&&!o&&f.responsiveMobileRadioInput,"checkbox"===this.props.type&&!o&&n.responsiveCheckboxInput,"checkbox"===this.props.type&&i&&!o&&n.responsiveMobileCheckboxInput,o&&"radio"===this.props.type&&f.perseusSrOnly,o&&"checkbox"===this.props.type&&n.satCheckboxInput,o&&this.props.reviewMode&&n.satReviewInput)},h=null;h="radio"===this.props.type&&this.props.deselectEnabled?u.createElement(g,s({onChecked:this.props.onChecked,inputRef:this.inputRef},l)):u.createElement("input",s({onChange:function(t){e.props.onChecked(t.target.checked)},ref:this.inputRef},l));var m=this.props,v=m.reviewMode,y=m.correct,b=m.checked,x=m.isLastChoice,E=o&&v&&y,P=o&&v&&!y&&b,w=p("description",E&&"sat-correct",P&&"sat-incorrect",c(o&&this.state.isInputFocused&&n.satDescriptionInputFocused,o&&this.state.isInputActive&&n.satDescriptionInputActive,o&&n.satDescription,E&&n.satDescriptionCorrect,E&&b&&n.satDescriptionCorrectChecked,P&&n.satDescriptionIncorrectChecked,o&&x&&n.satDescriptionLastChoice)),S="checkbox "+c(o&&f.perseusInteractive,o&&n.satCheckboxOptionContent),k="pos-back "+c(n.pos,o&&n.satPosBack,o&&(this.props.checked||this.state.isInputActive)&&n.satPosBackChecked,o&&v&&y&&n.satPosBackCorrect,o&&v&&y&&b&&n.satPosBackCorrectChecked,o&&v&&!y&&b&&n.satPosBackIncorrectChecked),C="pos "+c(n.pos,o&&n.satPos,o&&y&&n.satPosCorrect,o&&(this.props.checked||this.state.isInputActive)&&n.satPosChecked),_=this.props.editMode?"div":"label";return u.createElement(_,{isLabel:!this.props.editMode,className:a,style:{opacity:!o&&this.props.disabled?.5:1}},h,u.createElement("div",{className:w,onMouseDown:this.onInputMouseDown,onMouseUp:this.onInputMouseUp,onMouseOut:this.onInputMouseOut},u.createElement("div",{className:"checkbox-and-option"},u.createElement("span",{className:S},u.createElement("div",{className:k}),u.createElement("div",{className:C},u.createElement("span",{className:"perseus-sr-only"},r()),u.createElement("span",{"aria-hidden":"true"},t))),u.createElement("span",{className:p(d.RADIO.OPTION_CONTENT,d.INTERACTIVE,c(o&&n.satRadioOptionContent,o&&v&&n.satReviewRadioOptionContent)),style:{cursor:"default"}},u.createElement("div",null,this.props.content))),this.props.showClue&&u.createElement("div",{className:p("perseus-radio-clue",c(n.clue,v&&n.satReviewClue))},this.props.clue)))}});e.exports=T},function(e,t,r){"use strict";e.exports={dismissKeypad:function(){return{type:"DismissKeypad"}},activateKeypad:function(){return{type:"ActivateKeypad"}},configureKeypad:function(e){return{type:"ConfigureKeypad",configuration:e}},setPageSize:function(e,t){return{type:"SetPageSize",pageWidthPx:e,pageHeightPx:t}},removeEcho:function(e){return{type:"RemoveEcho",animationId:e}},setKeyHandler:function(e){return{type:"SetKeyHandler",keyHandler:e}},setCursor:function(e){return{type:"SetCursor",cursor:e}}}},function(e,t,r){"use strict";var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(184),s=r(144),a=s.tabletCutoffPx,l=r(171),c=r(110),u=c.DeviceOrientations,p=c.DeviceTypes,h=c.EchoAnimationTypes,d=c.KeyTypes,f=c.KeypadTypes,m=c.LayoutModes,v=r(168),g=r(148),y=r(139),b=r(172),T=r(173),x=r(163),E=r(164),P=(n={},n[f.FRACTION]=x,n[f.EXPRESSION]=E,n),w=function(){var e={keyHandler:null,cursor:{context:y.NONE}},t=function(){var t=arguments.length<=0||void 0===arguments[0]?e:arguments[0],r=arguments[1];switch(r.type){case"SetKeyHandler":return o({},t,{keyHandler:r.keyHandler});case"PressKey":var n=g[r.key];return n.type!==d.KEYPAD_NAVIGATION?o({},t,{cursor:t.keyHandler(n.id)}):t;case"SetCursor":return o({},t,{cursor:r.cursor});default:return t}},r=f.EXPRESSION,n={extraKeys:["x","y",v.THETA,v.PI],keypadType:r,active:!1},s=function e(){var t=arguments.length<=0||void 0===arguments[0]?n:arguments[0],r=arguments[1];switch(r.type){case"DismissKeypad":return o({},t,{active:!1});case"ActivateKeypad":return o({},t,{active:!0});case"ConfigureKeypad":return o({},t,{extraKeys:[]},r.configuration);case"PressKey":var i=g[r.key];return i.id===v.DISMISS?e(t,{type:"DismissKeypad"}):t;default:return t}},c=function(e){return e-1},x={animateToPosition:!1,currentPage:c(P[r].numPages),dx:0,numPages:P[r].numPages,pageWidthPx:0,velocityTracker:new T},E=function e(){var t=arguments.length<=0||void 0===arguments[0]?x:arguments[0],r=arguments[1];switch(r.type){case"ConfigureKeypad":var n=r.configuration.keypadType,i=P[n].numPages;return o({},t,{numPages:i,animateToPosition:!1,currentPage:c(i),dx:0});case"SetPageSize":return o({},t,{pageWidthPx:r.pageWidthPx});case"PressKey":var s=g[r.key];return s.type===d.VALUE||s.type===d.OPERATOR?e(t,{type:"ResetKeypadPage"}):t;case"ResetKeypadPage":return o({},t,{animateToPosition:!0,currentPage:c(t.numPages),dx:0});case"PageKeypadRight":var a=Math.min(t.currentPage+1,t.numPages-1);return o({},t,{animateToPosition:!0,currentPage:a,dx:0});case"PageKeypadLeft":var l=Math.max(t.currentPage-1,0);return o({},t,{animateToPosition:!0,currentPage:l,dx:0});case"OnSwipeChange":return t.velocityTracker.push(r.dx),o({},t,{animateToPosition:!1,dx:r.dx});case"OnSwipeEnd":var u=t.pageWidthPx,p=t.velocityTracker,h=r.dx,f=p.getVelocity(),m=.1,v=10,y=h<-u/2||f<-m&&h<-v,b=h>u/2||f>m&&h>v;return y?e(t,{type:"PageKeypadRight"}):b?e(t,{type:"PageKeypadLeft"}):o({},t,{animateToPosition:!0,dx:0});default:return t}},w=function(e){return new b({swipeEnabled:e},{onSwipeChange:function(e){I.dispatch({type:"OnSwipeChange",dx:e})},onSwipeEnd:function(e){I.dispatch({type:"OnSwipeEnd",dx:e})},onActiveNodesChanged:function(e){I.dispatch({type:"SetActiveNodes",activeNodes:e})},onClick:function(e,t,r){I.dispatch(o({type:"PressKey",key:e},t,{inPopover:r}))}},[],[v.BACKSPACE,v.UP,v.RIGHT,v.DOWN,v.LEFT])},S={popover:null,focus:null,gestureManager:w(P[r].numPages>1)},k=function(){var e=arguments.length<=0||void 0===arguments[0]?S:arguments[0],t=arguments[1];switch(t.type){case"DismissKeypad":return e.gestureManager.disableEventTracking(),e;case"ActivateKeypad":return e.gestureManager.enableEventTracking(),e;case"SetActiveNodes":return o({},e,t.activeNodes);case"ConfigureKeypad":var r=t.configuration.keypadType,n=P[r].numPages,i=n>1;return{popover:null,focus:null,gestureManager:w(i)};default:return e}},C=0,_={echoes:[]},M=function(){var e=arguments.length<=0||void 0===arguments[0]?_:arguments[0],t=arguments[1];switch(t.type){case"PressKey":var r=g[t.key];return r.type===d.VALUE||r.type===d.OPERATOR?o({},e,{echoes:[].concat(e.echoes,[{animationId:""+C++,animationType:t.inPopover?h.LONG_FADE_ONLY:h.FADE_ONLY,borders:t.borders,id:r.id,initialBounds:t.initialBounds}])}):e;case"RemoveEcho":var n=e.echoes.filter(function(e){return e.animationId!==t.animationId});return o({},e,{echoes:n});default:return e}},R={gridDimensions:{numRows:P[r].rows,numColumns:P[r].columns,numMaxVisibleRows:P[r].maxVisibleRows,numPages:P[r].numPages},buttonDimensions:{widthPx:48,heightPx:48},pageDimensions:{pageWidthPx:0,pageHeightPx:0},layoutMode:m.FULLSCREEN,paginationEnabled:!1,navigationPadEnabled:!1},N=function(e,t){var r=e.pageWidthPx,n=e.pageHeightPx,i=r>n?u.LANDSCAPE:u.PORTRAIT,s=Math.min(r,n)>a?p.TABLET:p.PHONE,c=s===p.TABLET,h=s===p.PHONE&&i===u.PORTRAIT,d={deviceOrientation:i,deviceType:s},f={navigationPadEnabled:c,paginationEnabled:h,toolbarEnabled:!0};return o({},l(t,e,d,f),{navigationPadEnabled:c,paginationEnabled:h})},O=function(){var e=arguments.length<=0||void 0===arguments[0]?R:arguments[0],t=arguments[1];switch(t.type){case"ConfigureKeypad":var r=t.configuration.keypadType,n={numRows:P[r].rows,numColumns:P[r].columns,numMaxVisibleRows:P[r].maxVisibleRows,numPages:P[r].numPages};return o({},e,N(e.pageDimensions,n),{gridDimensions:n});case"SetPageSize":var i=t.pageWidthPx,s=t.pageHeightPx,a={pageWidthPx:i,pageHeightPx:s};return o({},e,N(a,e.gridDimensions),{pageDimensions:a});default:return e}},A=i.combineReducers({input:t,keypad:s,pager:E,gestures:k,echoes:M,layout:O}),I=i.createStore(A);return I};e.exports=w},function(e,t,r){"use strict";var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(168),s=r(110),a=s.DecimalSeparators,l=s.IconTypes,c=s.KeyTypes,u=r(169),p=u.decimalSeparator,h=(n={},n[i.PLUS]={type:c.OPERATOR,ariaLabel:i18n._("Plus")},n[i.MINUS]={type:c.OPERATOR,ariaLabel:i18n._("Minus")},n[i.NEGATIVE]={type:c.VALUE,ariaLabel:i18n._("Negative")},n[i.TIMES]={type:c.OPERATOR,ariaLabel:i18n._("Multiply")},n[i.DIVIDE]={type:c.OPERATOR,ariaLabel:i18n._("Divide")},n[i.DECIMAL]={type:c.VALUE,ariaLabel:i18n._("Decimal"),icon:p===a.COMMA?{type:l.TEXT,data:","}:{type:l.SVG,data:i.PERIOD}},n[i.PERCENT]={type:c.OPERATOR,ariaLabel:i18n._("Percent")},n[i.CDOT]={type:c.OPERATOR,ariaLabel:i18n._("Multiply")},n[i.EQUAL]={type:c.OPERATOR,ariaLabel:i18n._("Equals sign")},n[i.NEQ]={type:c.OPERATOR,ariaLabel:i18n._("Not-equals sign")},n[i.GT]={type:c.OPERATOR,ariaLabel:i18n._("Greater than sign")},n[i.LT]={type:c.OPERATOR,ariaLabel:i18n._("Less than sign")},n[i.GEQ]={type:c.OPERATOR,ariaLabel:i18n._("Greater than or equal to sign")},n[i.LEQ]={type:c.OPERATOR,ariaLabel:i18n._("Less than or equal to sign")},n[i.FRAC_INCLUSIVE]={type:c.OPERATOR,ariaLabel:i18n._("Fraction, with current expression in numerator")},n[i.FRAC_EXCLUSIVE]={type:c.OPERATOR,ariaLabel:i18n._("Fraction, excluding the current expression")},n[i.EXP]={type:c.OPERATOR,ariaLabel:i18n._("Custom exponent")},n[i.EXP_2]={type:c.OPERATOR,ariaLabel:i18n._("Square")},n[i.EXP_3]={type:c.OPERATOR,ariaLabel:i18n._("Cube")},n[i.SQRT]={type:c.OPERATOR,ariaLabel:i18n._("Square root")},n[i.CUBE_ROOT]={type:c.OPERATOR,ariaLabel:i18n._("Cube root")},n[i.RADICAL]={type:c.OPERATOR,ariaLabel:i18n._("Radical with custom root")},n[i.LEFT_PAREN]={type:c.OPERATOR,ariaLabel:i18n._("Left parenthesis")},n[i.RIGHT_PAREN]={type:c.OPERATOR,ariaLabel:i18n._("Right parenthesis")},n[i.LN]={type:c.OPERATOR,ariaLabel:i18n._("Natural logarithm")},n[i.LOG]={type:c.OPERATOR,ariaLabel:i18n._("Logarithm with base 10")},n[i.LOG_N]={type:c.OPERATOR,ariaLabel:i18n._("Logarithm with custom base")},n[i.SIN]={type:c.OPERATOR,ariaLabel:i18n._("Sine")},n[i.COS]={type:c.OPERATOR,ariaLabel:i18n._("Cosine")},n[i.TAN]={type:c.OPERATOR,ariaLabel:i18n._("Tangent")},n[i.PI]={type:c.VALUE,ariaLabel:i18n._("Pi"),icon:{type:l.MATH,data:"\\pi"}},n[i.THETA]={type:c.VALUE,ariaLabel:i18n._("Theta"),icon:{type:l.MATH,data:"\\theta"}},n[i.NOOP]={type:c.EMPTY},n[i.UP]={type:c.INPUT_NAVIGATION,ariaLabel:i18n._("Up arrow")},n[i.RIGHT]={type:c.INPUT_NAVIGATION,ariaLabel:i18n._("Right arrow")},n[i.DOWN]={type:c.INPUT_NAVIGATION,ariaLabel:i18n._("Down arrow")},n[i.LEFT]={type:c.INPUT_NAVIGATION,ariaLabel:i18n._("Left arrow")},n[i.JUMP_OUT_PARENTHESES]={type:c.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of a set of parentheses")},n[i.JUMP_OUT_EXPONENT]={type:c.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of an exponent")},n[i.JUMP_OUT_BASE]={type:c.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of a base")},n[i.JUMP_INTO_NUMERATOR]={type:c.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right into the numerator of a fraction")},n[i.JUMP_OUT_NUMERATOR]={type:c.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of the numerator and into the denominator")},n[i.JUMP_OUT_DENOMINATOR]={type:c.INPUT_NAVIGATION,ariaLabel:i18n._("Navigate right out of the denominator of a fraction")},n[i.BACKSPACE]={type:c.INPUT_NAVIGATION,ariaLabel:i18n._("Delete")},n[i.DISMISS]={type:c.KEYPAD_NAVIGATION,ariaLabel:i18n._("Dismiss")},n);h[i.FRAC_MULTI]={childKeyIds:[i.FRAC_INCLUSIVE,i.FRAC_EXCLUSIVE]},h[i.MANY]={type:c.MANY};for(var d=[0,1,2,3,4,5,6,7,8,9],f=d,m=Array.isArray(f),v=0,f=m?f:f[Symbol.iterator]();;){var g;if(m){if(v>=f.length)break;g=f[v++]}else{if(v=f.next(),v.done)break;g=v.value}var y=g,b=""+y;h["NUM_"+y]={type:c.VALUE,ariaLabel:b,icon:{type:l.TEXT,data:b}}}for(var T=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],x=T,E=Array.isArray(x),P=0,x=E?x:x[Symbol.iterator]();;){var w;if(E){if(P>=x.length)break;w=x[P++]}else{if(P=x.next(),P.done)break;w=P.value}for(var S=w,k=S.toLowerCase(),C=S.toUpperCase(),_=[k,C],M=0;M<_.length;M++){var R=_[M];h[R]={type:c.VALUE,ariaLabel:R,icon:{type:l.MATH,data:R}}}}for(var N=Object.keys(h),O=Array.isArray(N),A=0,N=O?N:N[Symbol.iterator]();;){var I;if(O){if(A>=N.length)break;I=N[A++]}else{if(A=N.next(),A.done)break;I=A.value}var L=I;h[L]=o({id:L,icon:{type:l.SVG,data:L}},h[L])}e.exports=h},function(e,t,r){"use strict";e.exports={Text:r(174),View:r(175)}},function(e,t,r){var n=r(9),o=1e-9,i=Math.pow(2,-42),s={DEFAULT_TOLERANCE:o,EPSILON:i,is:function(e){return n.isNumber(e)&&!n.isNaN(e)},equal:function(e,t,r){return null==e||null==t?e===t:e===t||(null==r&&(r=o),Math.abs(e-t)<r)},sign:function(e,t){return s.equal(e,0,t)?0:Math.abs(e)/e},isInteger:function(e,t){return s.equal(Math.round(e),e,t)},round:function(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r},roundTo:function(e,t){return Math.round(e/t)*t},floorTo:function(e,t){return Math.floor(e/t)*t},ceilTo:function(e,t){return Math.ceil(e/t)*t},toFraction:function(e,t,r){r=r||1e3,t=t||i;for(var n=[1,0],o=[0,1],a=Math.floor(e),l=e-a;o[0]<=r;){if(s.equal(n[0]/o[0],e,t))return[n[0],o[0]];n=[a*n[0]+n[1],n[0]],o=[a*o[0]+o[1],o[0]],a=Math.floor(1/l),l=1/l-a}return[e,1]}};e.exports=s},function(e,t,r){function n(e){return i.reduce(e,function(e,t){return e+t},0)}function o(e){return i.reduce(e,function(e,t){return e*t},1)}var i=r(9),s=r(150),a={is:function(e,t){return!!i.isArray(e)&&((void 0===t||e.length===t)&&i.all(e,s.is))},normalize:function(e){return a.scale(e,1/a.length(e))},length:function(e){return Math.sqrt(a.dot(e,e))},dot:function(e,t){var r=i.toArray(arguments),s=i.zip.apply(i,r),a=i.map(s,o);return n(a)},add:function(){var e=i.toArray(arguments),t=i.zip.apply(i,e);return i.map(t,n)},subtract:function(e,t){return i.map(i.zip(e,t),function(e){return e[0]-e[1]})},negate:function(e){return i.map(e,function(e){return-e})},scale:function(e,t){return i.map(e,function(e){return e*t})},equal:function(e,t,r){return i.all(i.zip(e,t),function(e){return s.equal(e[0],e[1],r)})},codirectional:function(e,t,r){return!(!s.equal(a.length(e),0,r)&&!s.equal(a.length(t),0,r))||(e=a.normalize(e),t=a.normalize(t),a.equal(e,t,r))},collinear:function(e,t,r){return a.codirectional(e,t,r)||a.codirectional(e,a.negate(t),r)},polarRadFromCart:function(e){var t=a.length(e),r=Math.atan2(e[1],e[0]);return r<0&&(r+=2*Math.PI),[t,r]},polarDegFromCart:function(e){var t=a.polarRadFromCart(e);return[t[0],180*t[1]/Math.PI]},cartFromPolarRad:function(e,t){return i.isUndefined(t)&&(t=e[1],e=e[0]),[e*Math.cos(t),e*Math.sin(t)]},cartFromPolarDeg:function(e,t){return i.isUndefined(t)&&(t=e[1],e=e[0]),a.cartFromPolarRad(e,t*Math.PI/180)},rotateRad:function(e,t){var r=a.polarRadFromCart(e),n=r[1]+t;return a.cartFromPolarRad(r[0],n)},rotateDeg:function(e,t){var r=a.polarDegFromCart(e),n=r[1]+t;return a.cartFromPolarDeg(r[0],n)},angleRad:function(e,t){return Math.acos(a.dot(e,t)/(a.length(e)*a.length(t)))},angleDeg:function(e,t){return 180*a.angleRad(e,t)/Math.PI},projection:function(e,t){var r=a.dot(e,t)/a.dot(t,t);return a.scale(t,r)},round:function(e,t){return i.map(e,function(e,r){return s.round(e,t[r]||t)})},roundTo:function(e,t){return i.map(e,function(e,r){return s.roundTo(e,t[r]||t)})},floorTo:function(e,t){return i.map(e,function(e,r){return s.floorTo(e,t[r]||t)})},ceilTo:function(e,t){return i.map(e,function(e,r){return s.ceilTo(e,t[r]||t)})}};e.exports=a},function(e,t,r){var n=r(9),o=r(151),i=r(150),s={rotateRad:function(e,t,r){return void 0===r?o.rotateRad(e,t):o.add(r,o.rotateRad(o.subtract(e,r),t))},rotateDeg:function(e,t,r){return void 0===r?o.rotateDeg(e,t):o.add(r,o.rotateDeg(o.subtract(e,r),t))},distanceToPoint:function(e,t){return o.length(o.subtract(e,t))},distanceToLine:function(e,t){var r=o.subtract(t[1],t[0]),n=o.subtract(e,t[0]),i=o.projection(n,r),s=o.subtract(i,n);return o.length(s)},reflectOverLine:function(e,t){var r=o.subtract(t[1],t[0]),n=o.subtract(e,t[0]),i=o.projection(n,r),s=o.subtract(o.scale(i,2),n);return o.add(t[0],s)},compare:function(e,t,r){if(e.length!==t.length)return e.length-t.length;for(var n=0;n<e.length;n++)if(!i.equal(e[n],t[n],r))return e[n]-t[n];return 0}};n.extend(s,{is:o.is,addVector:o.add,addVectors:o.add,subtractVector:o.subtract,equal:o.equal,polarRadFromCart:o.polarRadFromCart,polarDegFromCart:o.polarDegFromCart,cartFromPolarRad:o.cartFromPolarRad,cartFromPolarDeg:o.cartFromPolarDeg,round:o.round,roundTo:o.roundTo,floorTo:o.floorTo,ceilTo:o.ceilTo}),e.exports=s},function(e,t,r){var n=r(152),o=r(151),i={distanceToPoint:function(e,t){return n.distanceToLine(t,e)},reflectPoint:function(e,t){return n.reflectOverLine(t,e)},midpoint:function(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},equal:function(e,t,r){var i=o.subtract(e[1],e[0]),s=o.subtract(t[1],t[0]);if(!o.collinear(i,s,r))return!1;if(n.equal(e[0],t[0]))return!0;var a=o.subtract(t[0],e[0]);return o.collinear(i,a,r)}};e.exports=i},function(e,t,r){var n=r(151),o=r(152),i={equal:function(e,t,r){var i=n.subtract(e[1],e[0]),s=n.subtract(t[1],t[0]),a=o.equal(e[0],t[0]),l=n.codirectional(i,s,r);return a&&l}};e.exports=i},function(e,t,r){"use strict";var n=r(9),o=r(96),i=r(160),s=r(123).vector,a=r(123).point,l=r(78),c=function(e){var t=e.graphie.scalePoint(e.coord(0)),r=e.graphie.scalePoint(e.coord(1));return s.polarDegFromCart(s.subtract(r,t))[1]},u=function(e,t,r){var n=e.range[0][1]-e.range[0][0],o=e.range[1][1]-e.range[1][0],i=n+o,a=e.unscaleVector(s.cartFromPolarDeg([1,r])),l=s.scale(s.normalize(a),i),c=s.add(t,l),u=s.polarDegFromCart(a)[1],p=e.constrainToBoundsOnAngle(c,4,u*Math.PI/180);return p},p=function(e,t){var r=[.75,0],o=[[-3,4],[-2.75,2.5],[0,.25],r,[0,-.25],[-2.75,-2.5],[-3,-4]],a=1.4;o=n.map(o,function(e){var t=s.subtract(e,r),n=s.scale(t,a);return s.add(r,n)});var c=function(e){for(var t="M"+e[0][0]+" "+e[0][1],r=1;r<e.length;r+=3)t+="C"+e[r][0]+" "+e[r][1]+" "+e[r+1][0]+" "+e[r+1][1]+" "+e[r+2][0]+" "+e[r+2][1];return t},p=n.map(o,e.unscalePoint),h={center:e.unscalePoint(r),createPath:c},d=new i(e,p,h);return d.attr(n.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},t)),d.toCoordAtAngle=function(t,n){var o=e.scalePoint(u(e,t,n));d.transform("translateX("+(o[0]+a*r[0])+"px) translateY("+(o[1]+a*r[1])+"px) translateZ(0) rotate("+(360-l.bound(n))+"deg)")},d},h={draw:function(){this.draw()},pointsToFront:function(e){n.invoke(e.points,"toFront")}};h.standard=[h.draw,h.pointsToFront];var d={draw:function(){this.draw()}};d.standard=[d.draw];var f={basic:function(e){var t=this.graphie,r=this.coord(0),i=this.coord(1);if(!this.state.visibleShape){var s={thickness:10};this.state.visibleShape=new o(t,r,i,s),this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.toFront(),this.mouseTarget()&&this.mouseTarget().toFront()}var a=c(this);e.extendLine?(r=u(t,r,360-a),i=u(t,i,(540-a)%360)):e.extendRay&&(i=u(t,i,360-a));var l=[this.state.visibleShape];this.mouseTarget()&&l.push(this.mouseTarget()),n.each(l,function(e){e.moveTo(r,i)})},arrows:function(e){null==this._arrows&&(this._arrows=[],e.extendLine?(this._arrows.push(p(this.graphie,this.normalStyle())),this._arrows.push(p(this.graphie,this.normalStyle()))):e.extendRay&&this._arrows.push(p(this.graphie,this.normalStyle())));var t=c(this),r=[360-t,(540-t)%360];n.each(this._arrows,function(e,t){e.toCoordAtAngle(this.coord(t),r[t])},this)},highlight:function(e,t){e.isHovering&&!t.isHovering?e.visibleShape.animate(e.highlightStyle,50):!e.isHovering&&t.isHovering&&e.visibleShape.animate(e.normalStyle,50)}};f.standard=[f.basic,f.arrows,f.highlight];var m={basic:function(){this.state.visibleShape&&this.state.visibleShape.remove()},arrows:function(){null!=this._arrows&&n.invoke(this._arrows,"remove"),this._arrows=null}};m.standard=[m.basic,m.arrows];var v={fixed:function(){return function(){return!1}},snap:function(e){return function(t,r){if(null===e)return!0;var n=s.subtract(t,r);return e=e||this.graphie.snap,n=a.roundTo(n,e),s.add(r,n)}},bound:function(e,t,r){return void 0===r&&(r=void 0===e?10:0),function(e,o){var i=this.graphie,l=s.subtract(e,o),c=c||i.range;void 0===t&&(t=i.snap);var u=i.unscalePoint([r,i.ypixels-r]),p=i.unscalePoint([i.xpixels-r,r]);t&&(u=a.ceilTo(u,t),p=a.floorTo(p,t));var h=n.map(this.coords(),function(e,t){var r=s.subtract(p,e),n=s.subtract(u,e);return[n,r]}),d=n.reduce(h,function(e,t){var r=t[0],n=t[1],o=Math.max(r[0],Math.min(n[0],e[0])),i=Math.max(r[1],Math.min(n[1],e[1]));return[o,i]},l);return s.add(o,d)}}};v.standard=null;var g={updatePoints:function(e,t){
var r=s.subtract(e,t);n.each(this.state.points,function(e){e.setCoord(s.add(e.coord(),r))})}};g.standard=null,e.exports={add:h,modify:d,draw:f,remove:m,onMoveStart:{standard:null},constraints:v,onMove:g,onMoveEnd:{standard:null}}},function(e,t,r){"use strict";var n=r(9),o=r(157),i=r(123).point,s={constrain:function(){this.constrain()}};s.standard=[s.constrain];var a={draw:function(){this.draw()}};a.standard=[a.draw];var l={basic:function(e,t){var r=this.graphie;if(!this.state.visibleShape){var i=[this.pointSize()/r.scale[0],this.pointSize()/r.scale[1]],s={maxScale:Math.max(this.highlightStyle().scale,this.normalStyle().scale),padding:10,shadow:e.shadow};this.state.visibleShape=new o(r,this.coord(),i,s),this.state.visibleShape.attr(n.omit(this.normalStyle(),"scale")),this.state.visibleShape.toFront(),this.mouseTarget()&&this.mouseTarget().toFront()}e.normalStyle===t.normalStyle||n.isEqual(e.normalStyle,t.normalStyle)||this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.moveTo(this.coord()),this.mouseTarget()&&this.mouseTarget().moveTo(this.coord())},highlight:function(e,t){e.isHovering&&!t.isHovering?e.visibleShape.animate(this.highlightStyle(),50):!e.isHovering&&t.isHovering&&e.visibleShape.animate(this.normalStyle(),50)}};l.standard=[l.basic,l.highlight];var c={basic:function(){this.state.visibleShape&&(this.state.visibleShape.remove(),this.state.visibleShape=null)}};c.standard=c.basic;var u={fixed:function(){return function(){return!1}},snap:function(e){return function(t){return null===e||(e=e||this.graphie.snap,i.roundTo(t,e))}},bound:function(e,t,r){return void 0===r&&(r=void 0===e?10:0),function(n,o,s){var a=this.graphie;e=e||a.range,void 0===t&&(t=a.snap);var l=a.unscalePoint([r,a.ypixels-r]),c=a.unscalePoint([a.xpixels-r,r]);if(t&&(l=i.ceilTo(l,t),c=i.floorTo(c,t)),s&&s.onOutOfBounds)return(n[0]>c[0]||n[0]<l[0]||n[1]>c[1]||n[1]<l[1])&&(s.onSkipRemaining(),s.onOutOfBounds()),n;var u=Math.max(l[0],Math.min(c[0],n[0])),p=Math.max(l[1],Math.min(c[1],n[1]));return[u,p]}}};u.standard=null,e.exports={add:s,modify:a,draw:l,remove:c,onMoveStart:{standard:null},constraints:u,onMove:{standard:null},onMoveEnd:{standard:null},onClick:{standard:null}}},function(e,t,r){"use strict";var n=r(9),o=r(133),i=r(105),s=r(123).vector,a={maxScale:1,mouselayer:!1,shadow:!1},l=function(e,t,r,o){o=n.extend({},a,o);var l=e.fixedEllipse(t,r,o.maxScale,o.padding);if(n.extend(this,l,{graphie:e,initialPoint:t}),o.mouselayer?this.graphie.addToMouseLayerWrapper(this.wrapper):this.graphie.addToVisibleLayerWrapper(this.wrapper),o.shadow){var c="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))",u=this.wrapper;u.style.webkitFilter=c,u.style.filter=c,this.moveTo=function(e){var t=s.subtract(this.graphie.scalePoint(e),this.graphie.scalePoint(this.initialPoint)),r=i.getCanUse3dTransform(),n="translateX("+Math.round(t[0])+"px) translateY("+Math.round(t[1])+"px)"+(r?" translateZ(0)":"");this.transform(n)}}};n.extend(l.prototype,o),e.exports=l},function(e,t,r){"use strict";function n(e,t){var r=$(e).find("."+t);return 0===r.length?$("<span>").addClass(t).appendTo($(e)):r}function o(e,t){var r=0;!function n(){var o=e.scrollHeight;o>18||r>=10?t():(r++,setTimeout(n,100))}()}var i=r(78);e.exports={processMath:function(e,t,r,s){var a=$(e);if(null==a.attr("data-math-formula")||r){var l=n(a,"katex-holder"),c=n(a,"mathjax-holder"),u=c.find("script[type='math/tex']")[0];if(null==t&&(a.attr("data-math-formula")?t=a.attr("data-math-formula"):u&&(t=u.text||u.textContent)),t=null!=t?t+"":"",t=i.cleanMath(t),a.attr("data-math-formula",t),Exercises.useKatex)try{if(katex.render(t,l[0]),"mathjax"===a.attr("data-math-type")){var p=MathJax.Hub.getJaxFor(u);if(p){var h=p.SourceElement();h.previousSibling&&h.previousSibling.className&&p.Remove()}}return a.attr("data-math-type","katex"),void(s&&o(e,s))}catch(e){if(e.__proto__!==katex.ParseError.prototype)throw e}a.attr("data-math-type","mathjax"),u?"text"in u?u.text=t:u.textContent=t:c.append("<script type='math/tex'>"+t.replace(/<\//g,"< /")+"</script>"),"undefined"!=typeof MathJax&&(MathJax.Hub.Queue(["Reprocess",MathJax.Hub,c[0]]),MathJax.Hub.Queue(function(){KhanUtil.debugLog("MathJax done typesetting ("+t+")")}),s&&MathJax.Hub.Queue(function(){var t=MathJax.Callback(function(){});return o(e,function(){s(),t()}),t}))}},processAllMath:function(e,t){var r=$(e);r.filter("code").add(r.find("code")).each(function(){var e=$(this),r=e.attr("data-math-formula");null==r&&(r=e.text(),e.empty()),KhanUtil.processMath(this,r,t)})},cleanupMath:function(e){var t=$(e);if(t.attr("data-math-formula")){if("undefined"!=typeof MathJax){var r=MathJax.Hub.getJaxFor(t.find("script")[0]);if(r){var n=r.SourceElement();n.previousSibling&&n.previousSibling.className&&r.Remove()}}t.text(t.attr("data-math-formula")),t.attr("data-math-formula",null),t.attr("data-math-type",null)}return e},retrieveMathFormula:function(e){return $(e).attr("data-math-formula")}}},function(e,t,r){"use strict";function n(e){return i.reduce(e,function(e,t){return e+t},0)}function o(e){var t=i.zip(e,e.slice(1).concat(e.slice(0,1))),r=i.map(t,function(e){var t=e[0],r=e[1];return(r[0]-t[0])*(r[1]+t[1])});return n(r)>0}var i=r(9),s=r(123).point,a=r(123).vector,l={constrain:function(){this.constrain()},pointsToFront:function(e){i.invoke(e.points,"toFront")}};l.standard=[l.constrain,l.pointsToFront];var c={draw:function(){this.draw()}};c.standard=[c.draw];var u={basic:function(e,t){var r=this.graphie,n=this.path(e);this.state.visibleShape||(this.state.visibleShape=r.raphael.path(n),this.state.visibleShape.attr(this.normalStyle())),e.normalStyle===t.normalStyle||i.isEqual(e.normalStyle,t.normalStyle)||this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.attr({path:n}),this.mouseTarget()&&this.mouseTarget().attr({path:n})},labels:function(e,t){var r=this.graphie,n=this,s=i.invoke(e.points,"coord"),a=o(s),l=s.length;null!=n.state._labelCache&&i.invoke(n.state._labelCache,"remove"),n.state._labelCache=[],(e.angleLabels.length||e.showRightAngleMarkers.length)&&(null==n.state._labeledAngles&&(n.state._labeledAngles=i.times(Math.max(e.angleLabels.length,e.showRightAngleMarkers.length),function(){return r.label([0,0],"","center",e.labelStyle)})),i.each(n.state._labeledAngles,function(t,o){n.state._labelCache.push(r.labelAngle({point1:s[(o-1+l)%l],vertex:s[o],point3:s[(o+1)%l],label:t,text:e.angleLabels[o],showRightAngleMarker:e.showRightAngleMarkers[o],numArcs:e.numArcs[o],clockwise:a,style:e.labelStyle}))})),e.sideLabels.length&&(null==n.state._labeledSides&&(n.state._labeledSides=i.map(e.sideLabels,function(t){return r.label([0,0],"","center",e.labelStyle)})),i.each(n.state._labeledSides,function(t,o){n.state._labelCache.push(r.labelSide({point1:s[o],point2:s[(o+1)%l],label:t,text:e.sideLabels[o],numArrows:e.numArrows[o],numTicks:e.numTicks[o],clockwise:a,style:e.labelStyle}))})),e.vertexLabels.length&&(null==n.state._labeledVertices&&(n.state._labeledVertices=i.map(e.vertexLabels,function(t){return r.label([0,0],"","center",e.labelStyle)})),i.each(n.state._labeledVertices,function(t,o){n.state._labelCache.push(r.labelVertex({point1:s[(o-1+l)%l],vertex:s[o],point3:s[(o+1)%l],label:t,text:e.vertexLabels[o],clockwise:a,style:e.labelStyle}))})),n.state._labelCache=i.flatten(n.state._labelCache)},highlight:function(e,t){e.isHovering&&!t.isHovering?e.visibleShape.animate(this.highlightStyle(),50):!e.isHovering&&t.isHovering&&e.visibleShape.animate(this.normalStyle(),50)}};u.standard=[u.basic,u.labels,u.highlight];var p={basic:function(){this.state.visibleShape&&this.state.visibleShape.remove()},labels:function e(){var e=[this.state._labeledSides,this.state._labeledVertices,this.state._labeledAngles,this.state._labelCache];i.each(e,function(e){null!=e&&e.length&&i.invoke(e,"remove")})}};p.standard=[p.basic,p.labels];var h={fixed:function(){return function(){return!1}},snap:function(e){return function(t){return null===e||(e=e||this.graphie.snap,s.roundTo(t,e))}},bound:function(e,t,r){return void 0===r&&(r=void 0===e?10:0),function(e,n){var o=this.graphie,l=a.subtract(e,n),c=c||o.range;void 0===t&&(t=o.snap);var u=o.unscalePoint([r,o.ypixels-r]),p=o.unscalePoint([o.xpixels-r,r]);t&&(u=s.ceilTo(u,t),p=s.floorTo(p,t));var h=i.map(this.coords(),function(e,t){var r=a.subtract(p,e),n=a.subtract(u,e);return[n,r]}),d=i.reduce(h,function(e,t){var r=t[0],n=t[1],o=Math.max(r[0],Math.min(n[0],e[0])),i=Math.max(r[1],Math.min(n[1],e[1]));return[o,i]},l);return a.add(n,d)}}};h.standard=null;var d={updatePoints:function(e,t){var r=a.subtract(e,t);i.each(this.state.points,function(e){e.setCoord(a.add(e.coord(),r))})}};d.standard=null,e.exports={add:l,modify:c,draw:u,remove:p,onMoveStart:{standard:null},constraints:h,onMove:d,onMoveEnd:{standard:null},onClick:{standard:null}}},function(e,t,r){"use strict";var n=r(9),o=r(133),i={center:null,createPath:null,mouselayer:!1},s=function(e,t,r){r=n.extend({},i,r),n.extend(this,e.fixedPath(t,r.center,r.createPath)),n.extend(this,{graphie:e,initialPoint:e.scalePoint(n.head(t))}),r.mouselayer?this.graphie.addToMouseLayerWrapper(this.wrapper):this.graphie.addToVisibleLayerWrapper(this.wrapper)};n.extend(s.prototype,o),e.exports=s},function(e,t,r){!function(){function e(){if(e.is(arguments[0],q)){for(var t=arguments[0],r=Xe[b](e,t.splice(0,3+e.is(t[0],D))),n=r.set(),o=0,i=t[M];o<i;o++){var s=t[o]||{};u[d](s.type)&&n[W](r[s.type]().attr(s))}return n}return Xe[b](e,arguments)}function t(){for(var e=[],t=0;t<32;t++)e[t]=(~~(16*N.random()))[z](16);return e[12]=4,e[16]=(3&e[16]|8)[z](16),"r-"+e[_]("")}function r(e,t,r){function n(){var o=Array[h].slice.call(arguments,0),i=o[_]("►"),s=n.cache=n.cache||{},a=n.count=n.count||[];return s[d](i)?r?r(s[i]):s[i]:(a[M]>=1e3&&delete s[a.shift()],a[W](i),s[i]=e[b](t,o),r?r(s[i]):s[i])}return n}function n(t,r,n,o,i){return i?e.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t+i,r,n-2*i,i,-i,o-2*i,2*i-n,2*i-o):e.format("M{0},{1}l{2},0,0,{3},{4},0z",t,r,n,o,-n)}function o(){return this.x+P+this.y}function i(t){return function(r,n,o,i){var s={back:t};return e.is(o,"function")?i=o:s.rot=o,r&&r.constructor==Ue&&(r=r.attrs.path),r&&(s.along=r),this.animate(s,n,i)}}function s(e,t,r,n,o,i){function s(e){return((p*e+u)*e+c)*e}function a(e,t){var r=l(e,t);return((f*r+d)*r+h)*r}function l(e,t){var r,n,o,i,a,l;for(o=e,l=0;l<8;l++){if(i=s(o)-e,I(i)<t)return o;if(a=(3*p*o+2*u)*o+c,I(a)<1e-6)break;o-=i/a}if(r=0,n=1,o=e,o<r)return r;if(o>n)return n;for(;r<n;){if(i=s(o),I(i-e)<t)return o;e>i?r=o:n=o,o=(n-r)/2+r}return o}var c=3*t,u=3*(n-t)-c,p=1-c-u,h=3*r,d=3*(o-r)-h,f=1-h-d;return a(e,1/(200*i))}var a;a="".trim?function(e,t,r){e.setAttribute(t,String(r).trim())}:function(e,t,r){e.setAttribute(t,String(r))},e.version="1.5.2";var l,c=/[, ]+/,u={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},p=/\{(\d+)\}/g,h="prototype",d="hasOwnProperty",f=document,m=window,v={was:Object[h][d].call(m,"Raphael"),is:m.Raphael},g=function(){this.customAttributes={}},y="appendChild",b="apply",T="concat",x="createTouch"in f,E="",P=" ",w=String,S="split",k="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[S](P),C={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},_="join",M="length",R=w[h].toLowerCase,N=Math,O=N.max,A=N.min,I=N.abs,L=N.pow,F=N.PI,D="number",B="string",q="array",z="toString",H="fill",U=Object[h][z],W="push",$=/^url\(['"]?([^\)]+?)['"]?\)$/i,V=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,j={NaN:1,Infinity:1,"-Infinity":1},G=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,K=N.round,Y=parseFloat,X=parseInt,J=" progid:DXImageTransform.Microsoft",Q=w[h].toUpperCase,Z={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},ee={along:"along",blur:D,"clip-rect":"csv",cx:D,cy:D,fill:"colour","fill-opacity":D,"font-size":D,height:D,opacity:D,path:"path",r:D,rotation:"csv",rx:D,ry:D,scale:"csv",stroke:"colour","stroke-opacity":D,"stroke-width":D,translation:"csv",width:D,x:D,y:D},te="replace",re=/^(from|to|\d+%?)$/,ne=/\s*,\s*/,oe={hs:1,rg:1},ie=/,?([achlmqrstvxz]),?/gi,se=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,ae=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,le=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,ce=function(e,t){return e.key-t.key};if(e.type=m.SVGAngle||f.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var ue,pe=f.createElement("div");if(pe.innerHTML='<v:shape adj="1"/>',ue=pe.firstChild,ue.style.behavior="url(#default#VML)",!ue||"object"!=typeof ue.adj)return e.type=null;pe=null}e.svg=!(e.vml="VML"==e.type),g[h]=e[h],l=g[h],e._id=0,e._oid=0,e.fn={},e.is=function(e,t){return t=R.call(t),"finite"==t?!j[d](+e):"null"==t&&null===e||t==typeof e||"object"==t&&e===Object(e)||"array"==t&&Array.isArray&&Array.isArray(e)||U.call(e).slice(8,-1).toLowerCase()==t},e.angle=function(t,r,n,o,i,s){if(null==i){var a=t-n,l=r-o;return a||l?(180*(a<0)+180*N.atan(-l/-a)/F+360)%360:0}return e.angle(t,r,i,s)-e.angle(n,o,i,s)},e.rad=function(e){return e%360*F/180},e.deg=function(e){return 180*e/F%360},e.snapTo=function(t,r,n){if(n=e.is(n,"finite")?n:10,e.is(t,q)){for(var o=t.length;o--;)if(I(t[o]-r)<=n)return t[o]}else{t=+t;var i=r%t;if(i<n)return r-i;if(i>t-n)return r-i+t}return r},e.setWindow=function(e){m=e,f=m.document};var he=function(t){if(e.vml){var n,o=/^\s+|\s+$/g;try{var i=new ActiveXObject("htmlfile");i.write("<body>"),i.close(),n=i.body}catch(e){n=createPopup().document.body}var s=n.createTextRange();he=r(function(e){try{n.style.color=w(e)[te](o,E);var t=s.queryCommandValue("ForeColor");return t=(255&t)<<16|65280&t|(16711680&t)>>>16,"#"+("000000"+t[z](16)).slice(-6)}catch(e){return"none"}})}else{var a=f.createElement("i");a.title="Raphaël Colour Picker",a.style.display="none",f.body[y](a),he=r(function(e){return a.style.color=e,f.defaultView.getComputedStyle(a,E).getPropertyValue("color")})}return he(t)},de=function(){return"hsb("+[this.h,this.s,this.b]+")"},fe=function(){return"hsl("+[this.h,this.s,this.l]+")"},me=function(){return this.hex};e.hsb2rgb=function(t,r,n,o){return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,r=t.s,t=t.h,o=t.o),e.hsl2rgb(t,r,n/2,o)},e.hsl2rgb=function(t,r,n,o){e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,r=t.s,t=t.h),(t>1||r>1||n>1)&&(t/=360,r/=100,n/=100);var i,s,a,l={},c=["r","g","b"];if(r){i=n<.5?n*(1+r):n+r-n*r,s=2*n-i;for(var u=0;u<3;u++)a=t+1/3*-(u-1),a<0&&a++,a>1&&a--,6*a<1?l[c[u]]=s+6*(i-s)*a:2*a<1?l[c[u]]=i:3*a<2?l[c[u]]=s+(i-s)*(2/3-a)*6:l[c[u]]=s}else l={r:n,g:n,b:n};return l.r*=255,l.g*=255,l.b*=255,l.hex="#"+(16777216|l.b|l.g<<8|l.r<<16).toString(16).slice(1),e.is(o,"finite")&&(l.opacity=o),l.toString=me,l},e.rgb2hsb=function(t,r,n){if(null==r&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,r=t.g,t=t.r),null==r&&e.is(t,B)){var o=e.getRGB(t);t=o.r,r=o.g,n=o.b}(t>1||r>1||n>1)&&(t/=255,r/=255,n/=255);var i,s,a=O(t,r,n),l=A(t,r,n),c=a;if(l==a)return{h:0,s:0,b:a,toString:de};var u=a-l;return s=u/a,i=t==a?(r-n)/u:r==a?2+(n-t)/u:4+(t-r)/u,i/=6,i<0&&i++,i>1&&i--,{h:i,s:s,b:c,toString:de}},e.rgb2hsl=function(t,r,n){if(null==r&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,r=t.g,t=t.r),null==r&&e.is(t,B)){var o=e.getRGB(t);t=o.r,r=o.g,n=o.b}(t>1||r>1||n>1)&&(t/=255,r/=255,n/=255);var i,s,a,l=O(t,r,n),c=A(t,r,n),u=(l+c)/2;if(c==l)a={h:0,s:0,l:u};else{var p=l-c;s=u<.5?p/(l+c):p/(2-l-c),i=t==l?(r-n)/p:r==l?2+(n-t)/p:4+(t-r)/p,i/=6,i<0&&i++,i>1&&i--,a={h:i,s:s,l:u}}return a.toString=fe,a},e._path2string=function(){return this.join(",")[te](ie,"$1")},e.getRGB=r(function(t){if(!t||(t=w(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none"};!(oe[d](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=he(t));var r,n,o,i,s,a,l=t.match(V);return l?(l[2]&&(o=X(l[2].substring(5),16),n=X(l[2].substring(3,5),16),r=X(l[2].substring(1,3),16)),l[3]&&(o=X((s=l[3].charAt(3))+s,16),n=X((s=l[3].charAt(2))+s,16),r=X((s=l[3].charAt(1))+s,16)),l[4]&&(a=l[4][S](ne),r=Y(a[0]),"%"==a[0].slice(-1)&&(r*=2.55),n=Y(a[1]),"%"==a[1].slice(-1)&&(n*=2.55),o=Y(a[2]),"%"==a[2].slice(-1)&&(o*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(i=Y(a[3])),a[3]&&"%"==a[3].slice(-1)&&(i/=100)),l[5]?(a=l[5][S](ne),r=Y(a[0]),"%"==a[0].slice(-1)&&(r*=2.55),n=Y(a[1]),"%"==a[1].slice(-1)&&(n*=2.55),o=Y(a[2]),"%"==a[2].slice(-1)&&(o*=2.55),("deg"==a[0].slice(-3)||"°"==a[0].slice(-1))&&(r/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(i=Y(a[3])),a[3]&&"%"==a[3].slice(-1)&&(i/=100),e.hsb2rgb(r,n,o,i)):l[6]?(a=l[6][S](ne),r=Y(a[0]),"%"==a[0].slice(-1)&&(r*=2.55),n=Y(a[1]),"%"==a[1].slice(-1)&&(n*=2.55),o=Y(a[2]),"%"==a[2].slice(-1)&&(o*=2.55),("deg"==a[0].slice(-3)||"°"==a[0].slice(-1))&&(r/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(i=Y(a[3])),a[3]&&"%"==a[3].slice(-1)&&(i/=100),e.hsl2rgb(r,n,o,i)):(l={r:r,g:n,b:o},l.hex="#"+(16777216|o|n<<8|r<<16).toString(16).slice(1),e.is(i,"finite")&&(l.opacity=i),l)):{r:-1,g:-1,b:-1,hex:"none",error:1}},e),e.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},r=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),r.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=r(function(t){if(!t)return null;var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[];return e.is(t,q)&&e.is(t[0],q)&&(n=ge(t)),n[M]||w(t)[te](se,function(e,t,o){var i=[],s=R.call(t);for(o[te](ae,function(e,t){t&&i[W](+t)}),"m"==s&&i[M]>2&&(n[W]([t][T](i.splice(0,2))),s="l",t="m"==t?"l":"L");i[M]>=r[s]&&(n[W]([t][T](i.splice(0,r[s]))),r[s]););}),n[z]=e._path2string,n}),e.findDotsAtSegment=function(e,t,r,n,o,i,s,a,l){var c=1-l,u=L(c,3)*e+3*L(c,2)*l*r+3*c*l*l*o+L(l,3)*s,p=L(c,3)*t+3*L(c,2)*l*n+3*c*l*l*i+L(l,3)*a,h=e+2*l*(r-e)+l*l*(o-2*r+e),d=t+2*l*(n-t)+l*l*(i-2*n+t),f=r+2*l*(o-r)+l*l*(s-2*o+r),m=n+2*l*(i-n)+l*l*(a-2*i+n),v=(1-l)*e+l*r,g=(1-l)*t+l*n,y=(1-l)*o+l*s,b=(1-l)*i+l*a,T=90-180*N.atan((h-f)/(d-m))/F;return(h>f||d<m)&&(T+=180),{x:u,y:p,m:{x:h,y:d},n:{x:f,y:m},start:{x:v,y:g},end:{x:y,y:b},alpha:T}};var ve=r(function(e){if(!e)return{x:0,y:0,width:0,height:0};e=Se(e);for(var t,r=0,n=0,o=[],i=[],s=0,a=e[M];s<a;s++)if(t=e[s],"M"==t[0])r=t[1],n=t[2],o[W](r),i[W](n);else{var l=we(r,n,t[1],t[2],t[3],t[4],t[5],t[6]);o=o[T](l.min.x,l.max.x),i=i[T](l.min.y,l.max.y),r=t[5],n=t[6]}var c=A[b](0,o),u=A[b](0,i);return{x:c,y:u,width:O[b](0,o)-c,height:O[b](0,i)-u}}),ge=function(t){var r=[];e.is(t,q)&&e.is(t&&t[0],q)||(t=e.parsePathString(t));for(var n=0,o=t[M];n<o;n++){r[n]=[];for(var i=0,s=t[n][M];i<s;i++)r[n][i]=t[n][i]}return r[z]=e._path2string,r},ye=r(function(t){e.is(t,q)&&e.is(t&&t[0],q)||(t=e.parsePathString(t));var r=[],n=0,o=0,i=0,s=0,a=0;"M"==t[0][0]&&(n=t[0][1],o=t[0][2],i=n,s=o,a++,r[W](["M",n,o]));for(var l=a,c=t[M];l<c;l++){var u=r[l]=[],p=t[l];if(p[0]!=R.call(p[0]))switch(u[0]=R.call(p[0]),u[0]){case"a":u[1]=p[1],u[2]=p[2],u[3]=p[3],u[4]=p[4],u[5]=p[5],u[6]=+(p[6]-n).toFixed(3),u[7]=+(p[7]-o).toFixed(3);break;case"v":u[1]=+(p[1]-o).toFixed(3);break;case"m":i=p[1],s=p[2];default:for(var h=1,d=p[M];h<d;h++)u[h]=+(p[h]-(h%2?n:o)).toFixed(3)}else{u=r[l]=[],"m"==p[0]&&(i=p[1]+n,s=p[2]+o);for(var f=0,m=p[M];f<m;f++)r[l][f]=p[f]}var v=r[l][M];switch(r[l][0]){case"z":n=i,o=s;break;case"h":n+=+r[l][v-1];break;case"v":o+=+r[l][v-1];break;default:n+=+r[l][v-2],o+=+r[l][v-1]}}return r[z]=e._path2string,r},0,ge),be=r(function(t){e.is(t,q)&&e.is(t&&t[0],q)||(t=e.parsePathString(t));var r=[],n=0,o=0,i=0,s=0,a=0;"M"==t[0][0]&&(n=+t[0][1],o=+t[0][2],i=n,s=o,a++,r[0]=["M",n,o]);for(var l=a,c=t[M];l<c;l++){var u=r[l]=[],p=t[l];if(p[0]!=Q.call(p[0]))switch(u[0]=Q.call(p[0]),u[0]){case"A":u[1]=p[1],u[2]=p[2],u[3]=p[3],u[4]=p[4],u[5]=p[5],u[6]=+(p[6]+n),u[7]=+(p[7]+o);break;case"V":u[1]=+p[1]+o;break;case"H":u[1]=+p[1]+n;break;case"M":i=+p[1]+n,s=+p[2]+o;default:for(var h=1,d=p[M];h<d;h++)u[h]=+p[h]+(h%2?n:o)}else for(var f=0,m=p[M];f<m;f++)r[l][f]=p[f];switch(u[0]){case"Z":n=i,o=s;break;case"H":n=u[1];break;case"V":o=u[1];break;case"M":i=r[l][r[l][M]-2],s=r[l][r[l][M]-1];default:n=r[l][r[l][M]-2],o=r[l][r[l][M]-1]}}return r[z]=e._path2string,r},null,ge),Te=function(e,t,r,n){return[e,t,r,n,r,n]},xe=function(e,t,r,n,o,i){var s=1/3,a=2/3;return[s*e+a*r,s*t+a*n,s*o+a*r,s*i+a*n,o,i]},Ee=function(e,t,n,o,i,s,a,l,c,u){var p,h=120*F/180,d=F/180*(+i||0),f=[],m=r(function(e,t,r){var n=e*N.cos(r)-t*N.sin(r),o=e*N.sin(r)+t*N.cos(r);return{x:n,y:o}});if(u)k=u[0],C=u[1],P=u[2],w=u[3];else{p=m(e,t,-d),e=p.x,t=p.y,p=m(l,c,-d),l=p.x,c=p.y;var v=(N.cos(F/180*i),N.sin(F/180*i),(e-l)/2),g=(t-c)/2,y=v*v/(n*n)+g*g/(o*o);y>1&&(y=N.sqrt(y),n=y*n,o=y*o);var b=n*n,x=o*o,E=(s==a?-1:1)*N.sqrt(I((b*x-b*g*g-x*v*v)/(b*g*g+x*v*v))),P=E*n*g/o+(e+l)/2,w=E*-o*v/n+(t+c)/2,k=N.asin(((t-w)/o).toFixed(9)),C=N.asin(((c-w)/o).toFixed(9));k=e<P?F-k:k,C=l<P?F-C:C,k<0&&(k=2*F+k),C<0&&(C=2*F+C),a&&k>C&&(k-=2*F),!a&&C>k&&(C-=2*F)}var R=C-k;if(I(R)>h){var O=C,A=l,L=c;C=k+h*(a&&C>k?1:-1),l=P+n*N.cos(C),c=w+o*N.sin(C),f=Ee(l,c,n,o,i,0,a,A,L,[C,O,P,w])}R=C-k;var D=N.cos(k),B=N.sin(k),q=N.cos(C),z=N.sin(C),H=N.tan(R/4),U=4/3*n*H,W=4/3*o*H,$=[e,t],V=[e+U*B,t-W*D],j=[l+U*z,c-W*q],G=[l,c];if(V[0]=2*$[0]-V[0],V[1]=2*$[1]-V[1],u)return[V,j,G][T](f);f=[V,j,G][T](f)[_]()[S](",");for(var K=[],Y=0,X=f[M];Y<X;Y++)K[Y]=Y%2?m(f[Y-1],f[Y],d).y:m(f[Y],f[Y+1],d).x;return K},Pe=function(e,t,r,n,o,i,s,a,l){var c=1-l;return{x:L(c,3)*e+3*L(c,2)*l*r+3*c*l*l*o+L(l,3)*s,y:L(c,3)*t+3*L(c,2)*l*n+3*c*l*l*i+L(l,3)*a}},we=r(function(e,t,r,n,o,i,s,a){var l,c=o-2*r+e-(s-2*o+r),u=2*(r-e)-2*(o-r),p=e-r,h=(-u+N.sqrt(u*u-4*c*p))/2/c,d=(-u-N.sqrt(u*u-4*c*p))/2/c,f=[t,a],m=[e,s];return I(h)>"1e12"&&(h=.5),I(d)>"1e12"&&(d=.5),h>0&&h<1&&(l=Pe(e,t,r,n,o,i,s,a,h),m[W](l.x),f[W](l.y)),d>0&&d<1&&(l=Pe(e,t,r,n,o,i,s,a,d),m[W](l.x),f[W](l.y)),c=i-2*n+t-(a-2*i+n),u=2*(n-t)-2*(i-n),p=t-n,h=(-u+N.sqrt(u*u-4*c*p))/2/c,d=(-u-N.sqrt(u*u-4*c*p))/2/c,I(h)>"1e12"&&(h=.5),I(d)>"1e12"&&(d=.5),h>0&&h<1&&(l=Pe(e,t,r,n,o,i,s,a,h),m[W](l.x),f[W](l.y)),d>0&&d<1&&(l=Pe(e,t,r,n,o,i,s,a,d),m[W](l.x),f[W](l.y)),{min:{x:A[b](0,m),y:A[b](0,f)},max:{x:O[b](0,m),y:O[b](0,f)}}}),Se=r(function(e,t){for(var r=be(e),n=t&&be(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(e,t){var r,n;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][T](Ee[b](0,[t.x,t.y][T](e.slice(1))));break;case"S":r=t.x+(t.x-(t.bx||t.x)),n=t.y+(t.y-(t.by||t.y)),e=["C",r,n][T](e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"][T](xe(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][T](xe(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][T](Te(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][T](Te(t.x,t.y,e[1],t.y));break;case"V":e=["C"][T](Te(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][T](Te(t.x,t.y,t.X,t.Y))}return e}),a=function(e,t){if(e[t][M]>7){e[t].shift();for(var o=e[t];o[M];)e.splice(t++,0,["C"][T](o.splice(0,6)));e.splice(t,1),u=O(r[M],n&&n[M]||0)}},l=function(e,t,o,i,s){e&&t&&"M"==e[s][0]&&"M"!=t[s][0]&&(t.splice(s,0,["M",i.x,i.y]),o.bx=0,o.by=0,o.x=e[s][1],o.y=e[s][2],u=O(r[M],n&&n[M]||0))},c=0,u=O(r[M],n&&n[M]||0);c<u;c++){r[c]=s(r[c],o),a(r,c),n&&(n[c]=s(n[c],i)),n&&a(n,c),l(r,n,o,i,c),l(n,r,i,o,c);var p=r[c],h=n&&n[c],d=p[M],f=n&&h[M];o.x=p[d-2],o.y=p[d-1],o.bx=Y(p[d-4])||o.x,o.by=Y(p[d-3])||o.y,i.bx=n&&(Y(h[f-4])||i.x),i.by=n&&(Y(h[f-3])||i.y),i.x=n&&h[f-2],i.y=n&&h[f-1]}return n?[r,n]:r},null,ge),ke=r(function(t){for(var r=[],n=0,o=t[M];n<o;n++){var i={},s=t[n].match(/^([^:]*):?([\d\.]*)/);if(i.color=e.getRGB(s[1]),i.color.error)return null;i.color=i.color.hex,s[2]&&(i.offset=s[2]+"%"),r[W](i)}for(n=1,o=r[M]-1;n<o;n++)if(!r[n].offset){for(var a=Y(r[n-1].offset||0),l=0,c=n+1;c<o;c++)if(r[c].offset){l=r[c].offset;break}l||(l=100,c=o),l=Y(l);for(var u=(l-a)/(c-n+1);n<c;n++)a+=u,r[n].offset=a+"%"}return r}),Ce=function(t,r,n,o){var i;return e.is(t,B)||e.is(t,"object")?(i=e.is(t,B)?f.getElementById(t):t,i.tagName?null==r?{container:i,width:i.style.pixelWidth||i.offsetWidth,height:i.style.pixelHeight||i.offsetHeight}:{container:i,width:r,height:n}:void 0):{container:1,x:t,y:r,width:n,height:o}},_e=function(e,t){var r=this;for(var n in t)if(t[d](n)&&!(n in e))switch(typeof t[n]){case"function":!function(t){e[n]=e===r?t:function(){return t[b](r,arguments)}}(t[n]);break;case"object":e[n]=e[n]||{},_e.call(this,e[n],t[n]);break;default:e[n]=t[n]}},Me=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)},Re=function(e,t){t.top!==e&&(Me(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},Ne=function(e,t){t.bottom!==e&&(Me(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},Oe=function(e,t,r){Me(e,r),t==r.top&&(r.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},Ae=function(e,t,r){Me(e,r),t==r.bottom&&(r.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},Ie=function(e){return function(){throw new Error("Raphaël: you are calling to method “"+e+"” of removed object")}};if(e.pathToRelative=ye,e.svg){l.svgns="http://www.w3.org/2000/svg",l.xlink="http://www.w3.org/1999/xlink",K=function(e){return+e+.5*(~~e===e)};var Le=function(e,t){if(!t)return e=f.createElementNS(l.svgns,e),e.style.webkitTapHighlightColor="rgba(0,0,0,0)",e;for(var r in t)t[d](r)&&a(e,r,w(t[r]))};e[z]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var Fe=function(e,t){var r=Le("path");t.canvas&&t.canvas[y](r);var n=new Ue(r,t);return n.type="path",qe(n,{fill:"none",stroke:"#000",path:e}),n},De=function(e,r,n){var o="linear",i=.5,s=.5,a=e.style;if(r=w(r)[te](le,function(e,t,r){if(o="radial",t&&r){i=Y(t),s=Y(r);var n=2*(s>.5)-1;L(i-.5,2)+L(s-.5,2)>.25&&(s=N.sqrt(.25-L(i-.5,2))*n+.5)&&.5!=s&&(s=s.toFixed(5)-1e-5*n)}return E}),r=r[S](/\s*\-\s*/),"linear"==o){var l=r.shift();if(l=-Y(l),isNaN(l))return null;var c=[0,0,N.cos(l*F/180),N.sin(l*F/180)],u=1/(O(I(c[2]),I(c[3]))||1);c[2]*=u,c[3]*=u,c[2]<0&&(c[0]=-c[2],c[2]=0),c[3]<0&&(c[1]=-c[3],c[3]=0)}var p=ke(r);if(!p)return null;var h=e.getAttribute(H);h=h.match(/^url\(#(.*)\)$/),h&&n.defs.removeChild(f.getElementById(h[1]));var d=Le(o+"Gradient");d.id=t(),Le(d,"radial"==o?{fx:i,fy:s}:{x1:c[0],y1:c[1],x2:c[2],y2:c[3]}),n.defs[y](d);for(var m=0,v=p[M];m<v;m++){var g=Le("stop");Le(g,{offset:p[m].offset?p[m].offset:m?"100%":"0%","stop-color":p[m].color||"#fff"}),d[y](g)}return Le(e,{fill:"url(#"+d.id+")",opacity:1,"fill-opacity":1}),a.fill=E,a.opacity=1,a.fillOpacity=1,1},Be=function(t){var r=t.getBBox();Le(t.pattern,{patternTransform:e.format("translate({0},{1})",r.x,r.y)})},qe=function(r,n){var o={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},i=r.node,s=r.attrs,l=r.rotate(),u=function(e,t){if(t=o[R.call(t)]){for(var r=e.attrs["stroke-width"]||"1",s={round:r,square:r,butt:0}[e.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,a=[],l=t[M];l--;)a[l]=t[l]*r+(l%2?1:-1)*s;Le(i,{"stroke-dasharray":a[_](",")})}};n[d]("rotation")&&(l=n.rotation);var p=w(l)[S](c);p.length-1?(p[1]=+p[1],p[2]=+p[2]):p=null,Y(l)&&r.rotate(0,!0);for(var h in n)if(n[d](h)){if(!Z[d](h))continue;var m=n[h];switch(s[h]=m,h){case"blur":r.blur(m);break;case"rotation":r.rotate(m,!0);break;case"href":case"title":case"target":var v=i.parentNode;if("a"!=R.call(v.tagName)){var g=Le("a");v.insertBefore(g,i),g[y](i),v=g}"target"==h&&"blank"==m?v.setAttributeNS(r.paper.xlink,"show","new"):v.setAttributeNS(r.paper.xlink,h,m);break;case"cursor":i.style.cursor=m;break;case"clip-rect":var b=w(m)[S](c);if(4==b[M]){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var T=Le("clipPath"),x=Le("rect");T.id=t(),Le(x,{x:b[0],y:b[1],width:b[2],height:b[3]}),T[y](x),r.paper.defs[y](T),Le(i,{"clip-path":"url(#"+T.id+")"}),r.clip=x}if(!m){var k=f.getElementById(i.getAttribute("clip-path")[te](/(^url\(#|\)$)/g,E));k&&k.parentNode.removeChild(k),Le(i,{"clip-path":E}),delete r.clip}break;case"path":"path"==r.type&&Le(i,{d:m?s.path=be(m):"M0,0"});break;case"width":if(a(i,h,m),!s.fx)break;h="x",m=s.x;case"x":s.fx&&(m=-s.x-(s.width||0));case"rx":if("rx"==h&&"rect"==r.type)break;case"cx":p&&("x"==h||"cx"==h)&&(p[1]+=m-s[h]),a(i,h,m),r.pattern&&Be(r);break;case"height":if(a(i,h,m),!s.fy)break;h="y",m=s.y;case"y":s.fy&&(m=-s.y-(s.height||0));case"ry":if("ry"==h&&"rect"==r.type)break;case"cy":p&&("y"==h||"cy"==h)&&(p[2]+=m-s[h]),a(i,h,m),r.pattern&&Be(r);break;case"r":"rect"==r.type?Le(i,{rx:m,ry:m}):a(i,h,m);break;case"src":"image"==r.type&&i.setAttributeNS(r.paper.xlink,"href",m);break;case"stroke-width":i.style.strokeWidth=m,a(i,h,m),s["stroke-dasharray"]&&u(r,s["stroke-dasharray"]);break;case"stroke-dasharray":u(r,m);break;case"translation":var C=w(m)[S](c);C[0]=+C[0]||0,C[1]=+C[1]||0,p&&(p[1]+=C[0],p[2]+=C[1]),kt.call(r,C[0],C[1]);break;case"scale":C=w(m)[S](c),r.scale(+C[0]||1,+C[1]||+C[0]||1,isNaN(Y(C[2]))?null:+C[2],isNaN(Y(C[3]))?null:+C[3]);break;case H:var N=w(m).match($);if(N){T=Le("pattern");var O=Le("image");T.id=t(),Le(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),Le(O,{x:0,y:0}),O.setAttributeNS(r.paper.xlink,"href",N[1]),T[y](O);var A=f.createElement("img");A.style.cssText="position:absolute;left:-9999em;top-9999em",A.onload=function(){Le(T,{width:this.offsetWidth,height:this.offsetHeight}),Le(O,{width:this.offsetWidth,height:this.offsetHeight}),f.body.removeChild(this),r.paper.safari()},f.body[y](A),A.src=N[1],r.paper.defs[y](T),i.style.fill="url(#"+T.id+")",Le(i,{fill:"url(#"+T.id+")"}),r.pattern=T,r.pattern&&Be(r);break}var I=e.getRGB(m);if(I.error){if(({circle:1,ellipse:1}[d](r.type)||"r"!=w(m).charAt())&&De(i,m,r.paper)){s.gradient=m,s.fill="none";break}}else delete n.gradient,delete s.gradient,!e.is(s.opacity,"undefined")&&e.is(n.opacity,"undefined")&&Le(i,{opacity:s.opacity}),!e.is(s["fill-opacity"],"undefined")&&e.is(n["fill-opacity"],"undefined")&&Le(i,{"fill-opacity":s["fill-opacity"]});I[d]("opacity")&&Le(i,{"fill-opacity":I.opacity>1?I.opacity/100:I.opacity});case"stroke":I=e.getRGB(m),a(i,h,I.hex),"stroke"==h&&I[d]("opacity")&&Le(i,{"stroke-opacity":I.opacity>1?I.opacity/100:I.opacity});break;case"gradient":(({circle:1,ellipse:1})[d](r.type)||"r"!=w(m).charAt())&&De(i,m,r.paper);break;case"opacity":s.gradient&&!s[d]("stroke-opacity")&&Le(i,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(s.gradient){var L=f.getElementById(i.getAttribute(H)[te](/^url\(#|\)$/g,E));if(L){var F=L.getElementsByTagName("stop");a(F[F[M]-1],"stop-opacity",m)}break}default:"font-size"==h&&(m=X(m,10)+"px");var D=h[te](/(\-.)/g,function(e){return Q.call(e.substring(1))});i.style[D]=m,a(i,h,m)}}He(r,n),p?r.rotate(p.join(P)):Y(l)&&r.rotate(l,!0)},ze=1.2,He=function(t,r){if("text"==t.type&&(r[d]("text")||r[d]("font")||r[d]("font-size")||r[d]("x")||r[d]("y"))){var n=t.attrs,o=t.node,i=o.firstChild?X(f.defaultView.getComputedStyle(o.firstChild,E).getPropertyValue("font-size"),10):10;if(r[d]("text")){for(n.text=r.text;o.firstChild;)o.removeChild(o.firstChild);
for(var s=w(r.text)[S]("\n"),a=0,l=s[M];a<l;a++)if(s[a]){var c=Le("tspan");a&&Le(c,{dy:i*ze,x:n.x}),c[y](f.createTextNode(s[a])),o[y](c)}}else for(s=o.getElementsByTagName("tspan"),a=0,l=s[M];a<l;a++)a&&Le(s[a],{dy:i*ze,x:n.x});Le(o,{y:n.y});var u=t.getBBox(),p=n.y-(u.y+u.height/2);p&&e.is(p,"finite")&&Le(o,{y:n.y+p})}},Ue=function(t,r){this[0]=t,this.id=e._oid++,this.node=t,t.raphael=this,this.paper=r,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},We=Ue[h];Ue[h].rotate=function(t,r,n){if(this.removed)return this;if(null==t)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][_](P):this._.rt.deg;var o=this.getBBox();return t=w(t)[S](c),t[M]-1&&(r=Y(t[1]),n=Y(t[2])),t=Y(t[0]),null!=r&&r!==!1?this._.rt.deg=t:this._.rt.deg+=t,null==n&&(r=null),this._.rt.cx=r,this._.rt.cy=n,r=null==r?o.x+o.width/2:r,n=null==n?o.y+o.height/2:n,this._.rt.deg?(this.transformations[0]=e.format("rotate({0} {1} {2})",this._.rt.deg,r,n),this.clip&&Le(this.clip,{transform:e.format("rotate({0} {1} {2})",-this._.rt.deg,r,n)})):(this.transformations[0]=E,this.clip&&Le(this.clip,{transform:E})),Le(this.node,{transform:this.transformations[_](P)}),this},Ue[h].hide=function(){return!this.removed&&(this.node.style.display="none"),this},Ue[h].show=function(){return!this.removed&&(this.node.style.display=""),this},Ue[h].remove=function(){if(!this.removed){Me(this,this.paper),this.node.parentNode.removeChild(this.node);for(var e in this)delete this[e];this.removed=!0}},Ue[h].getBBox=function(){if(this.removed)return this;if("path"==this.type)return ve(this.attrs.path);if("none"==this.node.style.display){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(e){}finally{t=t||{}}if("text"==this.type){t={x:t.x,y:1/0,width:0,height:0};for(var r=0,n=this.node.getNumberOfChars();r<n;r++){var o=this.node.getExtentOfChar(r);o.y<t.y&&(t.y=o.y),o.y+o.height-t.y>t.height&&(t.height=o.y+o.height-t.y),o.x+o.width-t.x>t.width&&(t.width=o.x+o.width-t.x)}}return e&&this.hide(),t},Ue[h].attr=function(t,r){if(this.removed)return this;if(null==t){var n={};for(var o in this.attrs)this.attrs[d](o)&&(n[o]=this.attrs[o]);return this._.rt.deg&&(n.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(n.scale=this.scale()),n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n}if(null==r&&e.is(t,B))return"translation"==t?kt.call(this):"rotation"==t?this.rotate():"scale"==t?this.scale():t==H&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(null==r&&e.is(t,q)){for(var i={},s=0,a=t.length;s<a;s++)i[t[s]]=this.attr(t[s]);return i}if(null!=r){var l={};l[t]=r}else null!=t&&e.is(t,"object")&&(l=t);for(var c in this.paper.customAttributes)if(this.paper.customAttributes[d](c)&&l[d](c)&&e.is(this.paper.customAttributes[c],"function")){var u=this.paper.customAttributes[c].apply(this,[][T](l[c]));this.attrs[c]=l[c];for(var p in u)u[d](p)&&(l[p]=u[p])}return qe(this,l),this},Ue[h].toFront=function(){if(this.removed)return this;this.node.parentNode[y](this.node);var e=this.paper;return e.top!=this&&Re(this,e),this},Ue[h].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),Ne(this,this.paper);this.paper}return this},Ue[h].insertAfter=function(e){if(this.removed)return this;var t=e.node||e[e.length-1].node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode[y](this.node),Oe(this,e,this.paper),this},Ue[h].insertBefore=function(e){if(this.removed)return this;var t=e.node||e[0].node;return t.parentNode.insertBefore(this.node,t),Ae(this,e,this.paper),this},Ue[h].blur=function(e){var r=this;if(0!==+e){var n=Le("filter"),o=Le("feGaussianBlur");r.attrs.blur=e,n.id=t(),Le(o,{stdDeviation:+e||1.5}),n.appendChild(o),r.paper.defs.appendChild(n),r._blur=n,Le(r.node,{filter:"url(#"+n.id+")"})}else r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter")};var $e=function(e,t,r,n){var o=Le("circle");e.canvas&&e.canvas[y](o);var i=new Ue(o,e);return i.attrs={cx:t,cy:r,r:n,fill:"none",stroke:"#000"},i.type="circle",Le(o,i.attrs),i},Ve=function(e,t,r,n,o,i){var s=Le("rect");e.canvas&&e.canvas[y](s);var a=new Ue(s,e);return a.attrs={x:t,y:r,width:n,height:o,r:i||0,rx:i||0,ry:i||0,fill:"none",stroke:"#000"},a.type="rect",Le(s,a.attrs),a},je=function(e,t,r,n,o){var i=Le("ellipse");e.canvas&&e.canvas[y](i);var s=new Ue(i,e);return s.attrs={cx:t,cy:r,rx:n,ry:o,fill:"none",stroke:"#000"},s.type="ellipse",Le(i,s.attrs),s},Ge=function(e,t,r,n,o,i){var s=Le("image");Le(s,{x:r,y:n,width:o,height:i,preserveAspectRatio:"none"}),s.setAttributeNS(e.xlink,"href",t),e.canvas&&e.canvas[y](s);var a=new Ue(s,e);return a.attrs={x:r,y:n,width:o,height:i,src:t},a.type="image",a},Ke=function(e,t,r,n){var o=Le("text");Le(o,{x:t,y:r,"text-anchor":"middle"}),e.canvas&&e.canvas[y](o);var i=new Ue(o,e);return i.attrs={x:t,y:r,"text-anchor":"middle",text:n,font:Z.font,stroke:"none",fill:"#000"},i.type="text",qe(i,i.attrs),i},Ye=function(e,t){return this.width=e||this.width,this.height=t||this.height,a(this.canvas,"width",this.width),a(this.canvas,"height",this.height),this},Xe=function(){var t=Ce[b](0,arguments),r=t&&t.container,n=t.x,o=t.y,i=t.width,s=t.height;if(!r)throw new Error("SVG container not found.");var a=Le("svg");return n=n||0,o=o||0,i=i||512,s=s||342,Le(a,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:i,height:s}),1==r?(a.style.cssText="position:absolute;left:"+n+"px;top:"+o+"px",f.body[y](a)):r.firstChild?r.insertBefore(a,r.firstChild):r[y](a),r=new g,r.width=i,r.height=s,r.canvas=a,_e.call(r,r,e.fn),r.clear(),r};l.clear=function(){for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=Le("desc"))[y](f.createTextNode("Created with Raphaël")),e[y](this.desc),e[y](this.defs=Le("defs"))},l.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=Ie(e)}}if(e.vml){var Je={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Qe=/([clmz]),?([^clmz]*)/gi,Ze=/ progid:\S+Blur\([^\)]+\)/g,et=/-?[^,\s-]+/g,tt=1e3+P+1e3,rt=10,nt={path:1,rect:1},ot=function(e){var t=/[ahqstv]/gi,r=be;if(w(e).match(t)&&(r=Se),t=/[clmz]/g,r==be&&!w(e).match(t)){var n=w(e)[te](Qe,function(e,t,r){var n=[],o="m"==R.call(t),i=Je[t];return r[te](et,function(e){o&&2==n[M]&&(i+=n+Je["m"==t?"l":"L"],n=[]),n[W](K(e*rt))}),i+n});return n}var o,i,s=r(e);n=[];for(var a=0,l=s[M];a<l;a++){o=s[a],i=R.call(s[a][0]),"z"==i&&(i="x");for(var c=1,u=o[M];c<u;c++)i+=K(o[c]*rt)+(c!=u-1?",":E);n[W](i)}return n[_](P)};e[z]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},Fe=function(e,t){var r=it("group");r.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",r.coordsize=t.coordsize,r.coordorigin=t.coordorigin;var n=it("shape"),o=n.style;o.width=t.width+"px",o.height=t.height+"px",n.coordsize=tt,n.coordorigin=t.coordorigin,r[y](n);var i=new Ue(n,r,t),s={fill:"none",stroke:"#000"};return e&&(s.path=e),i.type="path",i.path=[],i.Path=E,qe(i,s),t.canvas[y](r),i},qe=function(t,r){t.attrs=t.attrs||{};var o,i=t.node,s=t.attrs,a=i.style,l=(r.x!=s.x||r.y!=s.y||r.width!=s.width||r.height!=s.height||r.r!=s.r)&&"rect"==t.type,u=t;for(var p in r)r[d](p)&&(s[p]=r[p]);if(l&&(s.path=n(s.x,s.y,s.width,s.height,s.r),t.X=s.x,t.Y=s.y,t.W=s.width,t.H=s.height),r.href&&(i.href=r.href),r.title&&(i.title=r.title),r.target&&(i.target=r.target),r.cursor&&(a.cursor=r.cursor),"blur"in r&&t.blur(r.blur),(r.path&&"path"==t.type||l)&&(i.path=ot(s.path)),null!=r.rotation&&t.rotate(r.rotation,!0),r.translation&&(o=w(r.translation)[S](c),kt.call(t,o[0],o[1]),null!=t._.rt.cx&&(t._.rt.cx+=+o[0],t._.rt.cy+=+o[1],t.setBox(t.attrs,o[0],o[1]))),r.scale&&(o=w(r.scale)[S](c),t.scale(+o[0]||1,+o[1]||+o[0]||1,+o[2]||null,+o[3]||null)),"clip-rect"in r){var h=w(r["clip-rect"])[S](c);if(4==h[M]){h[2]=+h[2]+ +h[0],h[3]=+h[3]+ +h[1];var m=i.clipRect||f.createElement("div"),v=m.style,g=i.parentNode;v.clip=e.format("rect({1}px {2}px {3}px {0}px)",h),i.clipRect||(v.position="absolute",v.top=0,v.left=0,v.width=t.paper.width+"px",v.height=t.paper.height+"px",g.parentNode.insertBefore(m,g),m[y](g),i.clipRect=m)}r["clip-rect"]||i.clipRect&&(i.clipRect.style.clip=E)}if("image"==t.type&&r.src&&(i.src=r.src),"image"==t.type&&r.opacity&&(i.filterOpacity=J+".Alpha(opacity="+100*r.opacity+")",a.filter=(i.filterMatrix||E)+(i.filterOpacity||E)),r.font&&(a.font=r.font),r["font-family"]&&(a.fontFamily='"'+r["font-family"][S](",")[0][te](/^['"]+|['"]+$/g,E)+'"'),r["font-size"]&&(a.fontSize=r["font-size"]),r["font-weight"]&&(a.fontWeight=r["font-weight"]),r["font-style"]&&(a.fontStyle=r["font-style"]),null!=r.opacity||null!=r["stroke-width"]||null!=r.fill||null!=r.stroke||null!=r["stroke-width"]||null!=r["stroke-opacity"]||null!=r["fill-opacity"]||null!=r["stroke-dasharray"]||null!=r["stroke-miterlimit"]||null!=r["stroke-linejoin"]||null!=r["stroke-linecap"]){i=t.shape||i;var b=i.getElementsByTagName(H)&&i.getElementsByTagName(H)[0],T=!1;if(!b&&(T=b=it(H)),"fill-opacity"in r||"opacity"in r){var x=((+s["fill-opacity"]+1||2)-1)*((+s.opacity+1||2)-1)*((+e.getRGB(r.fill).o+1||2)-1);x=A(O(x,0),1),b.opacity=x}if(r.fill&&(b.on=!0),null!=b.on&&"none"!=r.fill||(b.on=!1),b.on&&r.fill){var P=r.fill.match($);P?(b.src=P[1],b.type="tile"):(b.color=e.getRGB(r.fill).hex,b.src=E,b.type="solid",e.getRGB(r.fill).error&&(u.type in{circle:1,ellipse:1}||"r"!=w(r.fill).charAt())&&De(u,r.fill)&&(s.fill="none",s.gradient=r.fill))}T&&i[y](b);var k=i.getElementsByTagName("stroke")&&i.getElementsByTagName("stroke")[0],C=!1;!k&&(C=k=it("stroke")),(r.stroke&&"none"!=r.stroke||r["stroke-width"]||null!=r["stroke-opacity"]||r["stroke-dasharray"]||r["stroke-miterlimit"]||r["stroke-linejoin"]||r["stroke-linecap"])&&(k.on=!0),("none"==r.stroke||null==k.on||0==r.stroke||0==r["stroke-width"])&&(k.on=!1);var _=e.getRGB(r.stroke);k.on&&r.stroke&&(k.color=_.hex),x=((+s["stroke-opacity"]+1||2)-1)*((+s.opacity+1||2)-1)*((+_.o+1||2)-1);var R=.75*(Y(r["stroke-width"])||1);if(x=A(O(x,0),1),null==r["stroke-width"]&&(R=s["stroke-width"]),r["stroke-width"]&&(k.weight=R),R&&R<1&&(x*=R)&&(k.weight=1),k.opacity=x,r["stroke-linejoin"]&&(k.joinstyle=r["stroke-linejoin"]||"miter"),k.miterlimit=r["stroke-miterlimit"]||8,r["stroke-linecap"]&&(k.endcap="butt"==r["stroke-linecap"]?"flat":"square"==r["stroke-linecap"]?"square":"round"),r["stroke-dasharray"]){var N={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};k.dashstyle=N[d](r["stroke-dasharray"])?N[r["stroke-dasharray"]]:E}C&&i[y](k)}if("text"==u.type)switch(a=u.paper.span.style,s.font&&(a.font=s.font),s["font-family"]&&(a.fontFamily=s["font-family"]),s["font-size"]&&(a.fontSize=s["font-size"]),s["font-weight"]&&(a.fontWeight=s["font-weight"]),s["font-style"]&&(a.fontStyle=s["font-style"]),u.node.string&&(u.paper.span.innerHTML=w(u.node.string)[te](/</g,"&#60;")[te](/&/g,"&#38;")[te](/\n/g,"<br>")),u.W=s.w=u.paper.span.offsetWidth,u.H=s.h=u.paper.span.offsetHeight,u.X=s.x,u.Y=s.y+K(u.H/2),s["text-anchor"]){case"start":u.node.style["v-text-align"]="left",u.bbx=K(u.W/2);break;case"end":u.node.style["v-text-align"]="right",u.bbx=-K(u.W/2);break;default:u.node.style["v-text-align"]="center"}},De=function(e,t){e.attrs=e.attrs||{};var r,n=(e.attrs,"linear"),o=".5 .5";if(e.attrs.gradient=t,t=w(t)[te](le,function(e,t,r){return n="radial",t&&r&&(t=Y(t),r=Y(r),L(t-.5,2)+L(r-.5,2)>.25&&(r=N.sqrt(.25-L(t-.5,2))*(2*(r>.5)-1)+.5),o=t+P+r),E}),t=t[S](/\s*\-\s*/),"linear"==n){var i=t.shift();if(i=-Y(i),isNaN(i))return null}var s=ke(t);if(!s)return null;if(e=e.shape||e.node,r=e.getElementsByTagName(H)[0]||it(H),!r.parentNode&&e.appendChild(r),s[M]){r.on=!0,r.method="none",r.color=s[0].color,r.color2=s[s[M]-1].color;for(var a=[],l=0,c=s[M];l<c;l++)s[l].offset&&a[W](s[l].offset+P+s[l].color);r.colors&&(r.colors.value=a[M]?a[_]():"0% "+r.color),"radial"==n?(r.type="gradientradial",r.focus="100%",r.focussize=o,r.focusposition=o):(r.type="gradient",r.angle=(270-i)%360)}return 1},Ue=function(t,r,n){this[0]=t,this.id=e._oid++,this.node=t,t.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=r,this.paper=n,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},We=Ue[h],We.rotate=function(e,t,r){return this.removed?this:null==e?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][_](P):this._.rt.deg:(e=w(e)[S](c),e[M]-1&&(t=Y(e[1]),r=Y(e[2])),e=Y(e[0]),null!=t?this._.rt.deg=e:this._.rt.deg+=e,null==r&&(t=null),this._.rt.cx=t,this._.rt.cy=r,this.setBox(this.attrs,t,r),this.Group.style.rotation=this._.rt.deg,this)},We.setBox=function(e,t,r){if(this.removed)return this;var n=this.Group.style,o=this.shape&&this.shape.style||this.node.style;e=e||{};for(var i in e)e[d](i)&&(this.attrs[i]=e[i]);t=t||this._.rt.cx,r=r||this._.rt.cy;var s,a,l,c,u=this.attrs;switch(this.type){case"circle":s=u.cx-u.r,a=u.cy-u.r,l=c=2*u.r;break;case"ellipse":s=u.cx-u.rx,a=u.cy-u.ry,l=2*u.rx,c=2*u.ry;break;case"image":s=+u.x,a=+u.y,l=u.width||0,c=u.height||0;break;case"text":this.textpath.v=["m",K(u.x),", ",K(u.y-2),"l",K(u.x)+1,", ",K(u.y-2)][_](E),s=u.x-K(this.W/2),a=u.y-this.H/2,l=this.W,c=this.H;break;case"rect":case"path":if(this.attrs.path){var p=ve(this.attrs.path);s=p.x,a=p.y,l=p.width,c=p.height}else s=0,a=0,l=this.paper.width,c=this.paper.height;break;default:s=0,a=0,l=this.paper.width,c=this.paper.height}t=null==t?s+l/2:t,r=null==r?a+c/2:r;var h,f=t-this.paper.width/2,m=r-this.paper.height/2;n.left!=(h=f+"px")&&(n.left=h),n.top!=(h=m+"px")&&(n.top=h),this.X=nt[d](this.type)?-f:s,this.Y=nt[d](this.type)?-m:a,this.W=l,this.H=c,nt[d](this.type)?(o.left!=(h=-f*rt+"px")&&(o.left=h),o.top!=(h=-m*rt+"px")&&(o.top=h)):"text"==this.type?(o.left!=(h=-f+"px")&&(o.left=h),o.top!=(h=-m+"px")&&(o.top=h)):(n.width!=(h=this.paper.width+"px")&&(n.width=h),n.height!=(h=this.paper.height+"px")&&(n.height=h),o.left!=(h=s-f+"px")&&(o.left=h),o.top!=(h=a-m+"px")&&(o.top=h),o.width!=(h=l+"px")&&(o.width=h),o.height!=(h=c+"px")&&(o.height=h))},We.hide=function(){return!this.removed&&(this.Group.style.display="none"),this},We.show=function(){return!this.removed&&(this.Group.style.display="block"),this},We.getBBox=function(){return this.removed?this:nt[d](this.type)?ve(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},We.remove=function(){if(!this.removed){Me(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)delete this[e];this.removed=!0}},We.attr=function(t,r){if(this.removed)return this;if(null==t){var n={};for(var o in this.attrs)this.attrs[d](o)&&(n[o]=this.attrs[o]);return this._.rt.deg&&(n.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(n.scale=this.scale()),n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n}if(null==r&&e.is(t,"string"))return"translation"==t?kt.call(this):"rotation"==t?this.rotate():"scale"==t?this.scale():t==H&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(this.attrs&&null==r&&e.is(t,q)){var i,s={};for(o=0,i=t[M];o<i;o++)s[t[o]]=this.attr(t[o]);return s}var a;if(null!=r&&(a={},a[t]=r),null==r&&e.is(t,"object")&&(a=t),a){for(var l in this.paper.customAttributes)if(this.paper.customAttributes[d](l)&&a[d](l)&&e.is(this.paper.customAttributes[l],"function")){var c=this.paper.customAttributes[l].apply(this,[][T](a[l]));this.attrs[l]=a[l];for(var u in c)c[d](u)&&(a[u]=c[u])}a.text&&"text"==this.type&&(this.node.string=a.text),qe(this,a),a.gradient&&({circle:1,ellipse:1}[d](this.type)||"r"!=w(a.gradient).charAt())&&De(this,a.gradient),(!nt[d](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},We.toFront=function(){return!this.removed&&this.Group.parentNode[y](this.Group),this.paper.top!=this&&Re(this,this.paper),this},We.toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),Ne(this,this.paper)),this)},We.insertAfter=function(e){return this.removed?this:(e.constructor==Ct&&(e=e[e.length-1]),e.Group.nextSibling?e.Group.parentNode.insertBefore(this.Group,e.Group.nextSibling):e.Group.parentNode[y](this.Group),Oe(this,e,this.paper),this)},We.insertBefore=function(e){return this.removed?this:(e.constructor==Ct&&(e=e[0]),e.Group.parentNode.insertBefore(this.Group,e.Group),Ae(this,e,this.paper),this)},We.blur=function(t){var r=this.node.runtimeStyle,n=r.filter;n=n.replace(Ze,E),0!==+t?(this.attrs.blur=t,r.filter=n+P+J+".Blur(pixelradius="+(+t||1.5)+")",r.margin=e.format("-{0}px 0 0 -{0}px",K(+t||1.5))):(r.filter=n,r.margin=0,delete this.attrs.blur)},$e=function(e,t,r,n){var o=it("group"),i=it("oval");i.style;o.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",o.coordsize=tt,o.coordorigin=e.coordorigin,o[y](i);var s=new Ue(i,o,e);return s.type="circle",qe(s,{stroke:"#000",fill:"none"}),s.attrs.cx=t,s.attrs.cy=r,s.attrs.r=n,s.setBox({x:t-n,y:r-n,width:2*n,height:2*n}),e.canvas[y](o),s},Ve=function(e,t,r,o,i,s){var a=n(t,r,o,i,s),l=e.path(a),c=l.attrs;return l.X=c.x=t,l.Y=c.y=r,l.W=c.width=o,l.H=c.height=i,c.r=s,c.path=a,l.type="rect",l},je=function(e,t,r,n,o){var i=it("group"),s=it("oval");s.style;i.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",i.coordsize=tt,i.coordorigin=e.coordorigin,i[y](s);var a=new Ue(s,i,e);return a.type="ellipse",qe(a,{stroke:"#000"}),a.attrs.cx=t,a.attrs.cy=r,a.attrs.rx=n,a.attrs.ry=o,a.setBox({x:t-n,y:r-o,width:2*n,height:2*o}),e.canvas[y](i),a},Ge=function(e,t,r,n,o,i){var s=it("group"),a=it("image");s.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",s.coordsize=tt,s.coordorigin=e.coordorigin,a.src=t,s[y](a);var l=new Ue(a,s,e);return l.type="image",l.attrs.src=t,l.attrs.x=r,l.attrs.y=n,l.attrs.w=o,l.attrs.h=i,l.setBox({x:r,y:n,width:o,height:i}),e.canvas[y](s),l},Ke=function(t,r,n,o){var i=it("group"),s=it("shape"),a=s.style,l=it("path"),c=(l.style,it("textpath"));i.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",i.coordsize=tt,i.coordorigin=t.coordorigin,l.v=e.format("m{0},{1}l{2},{1}",K(10*r),K(10*n),K(10*r)+1),l.textpathok=!0,a.width=t.width,a.height=t.height,c.string=w(o),c.on=!0,s[y](c),s[y](l),i[y](s);var u=new Ue(c,i,t);return u.shape=s,u.textpath=l,u.type="text",u.attrs.text=o,u.attrs.x=r,u.attrs.y=n,u.attrs.w=1,u.attrs.h=1,qe(u,{font:Z.font,stroke:"none",fill:"#000"}),u.setBox(),t.canvas[y](i),u},Ye=function(e,t){var r=this.canvas.style;return e==+e&&(e+="px"),t==+t&&(t+="px"),r.width=e,r.height=t,r.clip="rect(0 "+e+" "+t+" 0)",this};var it;f.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!f.namespaces.rvml&&f.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),it=function(e){return f.createElement("<rvml:"+e+' class="rvml">')}}catch(e){it=function(e){return f.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Xe=function(){var t=Ce[b](0,arguments),r=t.container,n=t.height,o=t.width,i=t.x,s=t.y;if(!r)throw new Error("VML container not found.");var a=new g,l=a.canvas=f.createElement("div"),c=l.style;return i=i||0,s=s||0,o=o||512,n=n||342,o==+o&&(o+="px"),n==+n&&(n+="px"),a.width=1e3,a.height=1e3,a.coordsize=1e3*rt+P+1e3*rt,a.coordorigin="0 0",a.span=f.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",l[y](a.span),c.cssText=e.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",o,n),1==r?(f.body[y](l),c.left=i+"px",c.top=s+"px",c.position="absolute"):r.firstChild?r.insertBefore(l,r.firstChild):r[y](l),_e.call(a,a,e.fn),a},l.clear=function(){this.canvas.innerHTML=E,this.span=f.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[y](this.span),this.bottom=this.top=null},l.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=Ie(e);return!0}}var st=navigator.userAgent.match(/Version\/(.*?)\s/);"Apple Computer, Inc."==navigator.vendor&&(st&&st[1]<4||"iP"==navigator.platform.slice(0,2))?l.safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});m.setTimeout(function(){e.remove()})}:l.safari=function(){};for(var at=function(){this.returnValue=!1},lt=function(){return this.originalEvent.preventDefault()},ct=function(){this.cancelBubble=!0},ut=function(){return this.originalEvent.stopPropagation()},pt=function(){return f.addEventListener?function(e,t,r,n){var o=x&&C[t]?C[t]:t,i=function(o){if(x&&C[d](t))for(var i=0,s=o.targetTouches&&o.targetTouches.length;i<s;i++)if(o.targetTouches[i].target==e){var a=o;o=o.targetTouches[i],o.originalEvent=a,o.preventDefault=lt,o.stopPropagation=ut;break}return r.call(n,o)};return e.addEventListener(o,i,!1),function(){return e.removeEventListener(o,i,!1),!0}}:f.attachEvent?function(e,t,r,n){var o=function(e){return e=e||m.event,e.preventDefault=e.preventDefault||at,e.stopPropagation=e.stopPropagation||ct,r.call(n,e)};e.attachEvent("on"+t,o);var i=function(){return e.detachEvent("on"+t,o),!0};return i}:void 0}(),ht=[],dt=function(e){for(var t,r=e.clientX,n=e.clientY,o=f.documentElement.scrollTop||f.body.scrollTop,i=f.documentElement.scrollLeft||f.body.scrollLeft,s=ht.length;s--;){if(t=ht[s],x){for(var a,l=e.touches.length;l--;)if(a=e.touches[l],a.identifier==t.el._drag.id){r=a.clientX,n=a.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();r+=i,n+=o,t.move&&t.move.call(t.move_scope||t.el,r-t.el._drag.x,n-t.el._drag.y,r,n,e)}},ft=function(t){e.unmousemove(dt).unmouseup(ft);for(var r,n=ht.length;n--;)r=ht[n],r.el._drag={},r.end&&r.end.call(r.end_scope||r.start_scope||r.move_scope||r.el,t);ht=[]},mt=k[M];mt--;)!function(t){e[t]=Ue[h][t]=function(r,n){return e.is(r,"function")&&(this.events=this.events||[],this.events.push({name:t,f:r,unbind:pt(this.shape||this.node||f,t,r,n||this)})),this},e["un"+t]=Ue[h]["un"+t]=function(e){for(var r=this.events,n=r[M];n--;)if(r[n].name==t&&r[n].f==e)return r[n].unbind(),r.splice(n,1),!r.length&&delete this.events,this;return this}}(k[mt]);We.hover=function(e,t,r,n){return this.mouseover(e,r).mouseout(t,n||r)},We.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)},We.drag=function(t,r,n,o,i,s){return this._drag={},this.mousedown(function(a){(a.originalEvent||a).preventDefault();var l=f.documentElement.scrollTop||f.body.scrollTop,c=f.documentElement.scrollLeft||f.body.scrollLeft;this._drag.x=a.clientX+c,this._drag.y=a.clientY+l,this._drag.id=a.identifier,r&&r.call(i||o||this,a.clientX+c,a.clientY+l,a),!ht.length&&e.mousemove(dt).mouseup(ft),ht.push({el:this,move:t,end:n,move_scope:o,start_scope:i,end_scope:s})}),this},We.undrag=function(t,r,n){for(var o=ht.length;o--;)ht[o].el==this&&ht[o].move==t&&ht[o].end==n&&ht.splice(o++,1);!ht.length&&e.unmousemove(dt).unmouseup(ft)},l.circle=function(e,t,r){return $e(this,e||0,t||0,r||0)},l.rect=function(e,t,r,n,o){return Ve(this,e||0,t||0,r||0,n||0,o||0)},l.ellipse=function(e,t,r,n){return je(this,e||0,t||0,r||0,n||0)},l.path=function(t){return t&&!e.is(t,B)&&!e.is(t[0],q)&&(t+=E),Fe(e.format[b](e,arguments),this)},l.image=function(e,t,r,n,o){return Ge(this,e||"about:blank",t||0,r||0,n||0,o||0)},l.text=function(e,t,r){return Ke(this,e||0,t||0,w(r))},l.set=function(e){return arguments[M]>1&&(e=Array[h].splice.call(arguments,0,arguments[M])),new Ct(e)},l.setSize=Ye,l.top=l.bottom=null,l.raphael=e,We.resetScale=function(){return this.removed?this:(this._.sx=1,this._.sy=1,void(this.attrs.scale="1 1"))},We.scale=function(e,t,r,n){if(this.removed)return this;if(null==e&&null==t)return{x:this._.sx,y:this._.sy,toString:o};t=t||e,!+t&&(t=e);var i,s,l=this.attrs;if(0!=e){var c=this.getBBox(),u=c.x+c.width/2,p=c.y+c.height/2,h=I(e/this._.sx),d=I(t/this._.sy);r=+r||0==r?r:u,n=+n||0==n?n:p;var f=this._.sx>0,m=this._.sy>0,v=~~(e/I(e)),g=~~(t/I(t)),y=h*v,b=d*g,x=this.node.style,w=r+I(u-r)*y*(u>r==f?1:-1),S=n+I(p-n)*b*(p>n==m?1:-1),k=e*v>t*g?d:h;switch(this.type){case"rect":case"image":var C=l.width*h,R=l.height*d;this.attr({height:R,r:l.r*k,width:C,x:w-C/2,y:S-R/2});break;case"circle":case"ellipse":this.attr({rx:l.rx*h,ry:l.ry*d,r:l.r*k,cx:w,cy:S});break;case"text":this.attr({x:w,y:S});break;case"path":for(var N=ye(l.path),O=!0,A=f?y:h,L=m?b:d,F=0,D=N[M];F<D;F++){var B=N[F],q=Q.call(B[0]);if("M"!=q||!O)if(O=!1,"A"==q)B[N[F][M]-2]*=A,B[N[F][M]-1]*=L,B[1]*=h,B[2]*=d,B[5]=+(v+g?!!+B[5]:!+B[5]);else if("H"==q)for(var z=1,H=B[M];z<H;z++)B[z]*=A;else if("V"==q)for(z=1,H=B[M];z<H;z++)B[z]*=L;else for(z=1,H=B[M];z<H;z++)B[z]*=z%2?A:L}var U=ve(N);i=w-U.x-U.width/2,s=S-U.y-U.height/2,N[0][1]+=i,N[0][2]+=s,this.attr({path:N})}this.type in{text:1,image:1}&&(1!=v||1!=g)?this.transformations?(this.transformations[2]="scale("[T](v,",",g,")"),a(this.node,"transform",this.transformations[_](P)),i=v==-1?-l.x-(C||0):l.x,s=g==-1?-l.y-(R||0):l.y,this.attr({x:i,y:s}),l.fx=v-1,l.fy=g-1):(this.node.filterMatrix=J+".Matrix(M11="[T](v,", M12=0, M21=0, M22=",g,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),x.filter=(this.node.filterMatrix||E)+(this.node.filterOpacity||E)):this.transformations?(this.transformations[2]=E,a(this.node,"transform",this.transformations[_](P)),l.fx=0,l.fy=0):(this.node.filterMatrix=E,x.filter=(this.node.filterMatrix||E)+(this.node.filterOpacity||E)),l.scale=[e,t,r,n][_](P),this._.sx=e,this._.sy=t}return this},We.clone=function(){if(this.removed)return null;var e=this.attr();return delete e.scale,delete e.translation,this.paper[this.type]().attr(e)};var vt={},gt=function(t,r,n,o,i,s,a,l,c){if(t===n&&r===o&&i===a&&s==l){var u=a-t,p=l-r,h=Math.sqrt(u*u+p*p);if(null==c)return h;var d=c/h;return{start:{x:t,y:r},m:{x:t,y:r},n:{x:a,y:l},end:{x:a,y:l},x:t+d*u,y:r+d*p,alpha:90-180*N.atan(u/p)/F}}var f,m,v=0,g=100,y=[t,r,n,o,i,s,a,l].join(),b=vt[y];if(!b&&(vt[y]=b={data:[]}),b.timer&&clearTimeout(b.timer),b.timer=setTimeout(function(){delete vt[y]},2e3),null!=c){var T=gt(t,r,n,o,i,s,a,l);g=10*~~T}for(var x=0;x<g+1;x++){if(b.data[c]>x?m=b.data[x*g]:(m=e.findDotsAtSegment(t,r,n,o,i,s,a,l,x/g),b.data[x]=m),x&&(v+=L(L(f.x-m.x,2)+L(f.y-m.y,2),.5)),null!=c&&v>=c)return m;f=m}if(null==c)return v},yt=function(t,r){return function(n,o,i){n=Se(n);for(var s,a,l,c,u,p="",h={},d=0,f=0,m=n.length;f<m;f++){if(l=n[f],"M"==l[0])s=+l[1],a=+l[2];else{if(c=gt(s,a,l[1],l[2],l[3],l[4],l[5],l[6]),d+c>o){if(r&&!h.start){if(u=gt(s,a,l[1],l[2],l[3],l[4],l[5],l[6],o-d),p+=["C",u.start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],i)return p;h.start=p,p=["M",u.x,u.y+"C",u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]][_](),d+=c,s=+l[5],a=+l[6];continue}if(!t&&!r)return u=gt(s,a,l[1],l[2],l[3],l[4],l[5],l[6],o-d),{x:u.x,y:u.y,alpha:u.alpha}}d+=c,s=+l[5],a=+l[6]}p+=l}return h.end=p,u=t?d:r?h:e.findDotsAtSegment(s,a,l[1],l[2],l[3],l[4],l[5],l[6],1),u.alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},bt=yt(1),Tt=yt(),xt=yt(0,1);We.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():bt(this.attrs.path)},We.getPointAtLength=function(e){if("path"==this.type)return Tt(this.attrs.path,e)},We.getSubpath=function(e,t){if("path"==this.type){if(I(this.getTotalLength()-t)<"1e-6")return xt(this.attrs.path,e).end;var r=xt(this.attrs.path,t,1);return e?xt(r,e).end:r}},e.easing_formulas={linear:function(e){return e},"<":function(e){return L(e,3)},">":function(e){return L(e-1,3)+1},"<>":function(e){return e=2*e,e<1?L(e,3)/2:(e-=2,(L(e,3)+2)/2)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){if(0==e||1==e)return e;var t=.3,r=t/4;return L(2,-10*e)*N.sin((e-r)*(2*F)/t)+1},bounce:function(e){var t,r=7.5625,n=2.75;return e<1/n?t=r*e*e:e<2/n?(e-=1.5/n,t=r*e*e+.75):e<2.5/n?(e-=2.25/n,t=r*e*e+.9375):(e-=2.625/n,t=r*e*e+.984375),t}};var Et=[],Pt=function(){for(var t=+new Date,r=0;r<Et[M];r++){var n=Et[r];if(!n.stop&&!n.el.removed){var o,i=t-n.start,s=n.ms,a=n.easing,l=n.from,c=n.diff,u=n.to,p=n.t,h=n.el,f={};if(i<s){var m=a(i/s);for(var v in l)if(l[d](v)){switch(ee[v]){case"along":o=m*s*c[v],u.back&&(o=u.len-o);var g=Tt(u[v],o);h.translate(c.sx-c.x||0,c.sy-c.y||0),c.x=g.x,c.y=g.y,h.translate(g.x-c.sx,g.y-c.sy),u.rot&&h.rotate(c.r+g.alpha,g.x,g.y);break;case D:o=+l[v]+m*s*c[v];break;case"colour":o="rgb("+[St(K(l[v].r+m*s*c[v].r)),St(K(l[v].g+m*s*c[v].g)),St(K(l[v].b+m*s*c[v].b))][_](",")+")";break;case"path":o=[];for(var y=0,b=l[v][M];y<b;y++){o[y]=[l[v][y][0]];for(var T=1,x=l[v][y][M];T<x;T++)o[y][T]=+l[v][y][T]+m*s*c[v][y][T];o[y]=o[y][_](P)}o=o[_](P);break;case"csv":switch(v){case"translation":var w=m*s*c[v][0]-p.x,S=m*s*c[v][1]-p.y;p.x+=w,p.y+=S,o=w+P+S;break;case"rotation":o=+l[v][0]+m*s*c[v][0],l[v][1]&&(o+=","+l[v][1]+","+l[v][2]);break;case"scale":o=[+l[v][0]+m*s*c[v][0],+l[v][1]+m*s*c[v][1],2 in u[v]?u[v][2]:E,3 in u[v]?u[v][3]:E][_](P);break;case"clip-rect":for(o=[],y=4;y--;)o[y]=+l[v][y]+m*s*c[v][y]}break;default:var k=[].concat(l[v]);for(o=[],y=h.paper.customAttributes[v].length;y--;)o[y]=+k[y]+m*s*c[v][y]}f[v]=o}h.attr(f),h._run&&h._run.call(h)}else u.along&&(g=Tt(u.along,u.len*!u.back),h.translate(c.sx-(c.x||0)+g.x-c.sx,c.sy-(c.y||0)+g.y-c.sy),u.rot&&h.rotate(c.r+g.alpha,g.x,g.y)),(p.x||p.y)&&h.translate(-p.x,-p.y),u.scale&&(u.scale+=E),h.attr(u),Et.splice(r--,1)}}e.svg&&h&&h.paper&&h.paper.safari(),Et[M]&&setTimeout(Pt)},wt=function(t,r,n,o,i){var s=n-o;r.timeouts.push(setTimeout(function(){e.is(i,"function")&&i.call(r),r.animate(t,s,t.easing)},o))},St=function(e){return O(A(e,255),0)},kt=function(e,t){if(null==e)return{x:this._.tx,y:this._.ty,toString:o};switch(this._.tx+=+e,this._.ty+=+t,this.type){case"circle":case"ellipse":this.attr({cx:+e+this.attrs.cx,cy:+t+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+e+this.attrs.x,y:+t+this.attrs.y});break;case"path":var r=ye(this.attrs.path);r[0][1]+=+e,r[0][2]+=+t,this.attr({path:r})}return this};We.animateWith=function(e,t,r,n,o){for(var i=0,s=Et.length;i<s;i++)Et[i].el.id==e.id&&(t.start=Et[i].start);return this.animate(t,r,n,o)},We.animateAlong=i(),We.animateAlongBack=i(1),We.onAnimation=function(e){return this._run=e||0,this},We.animate=function(t,r,n,o){var i=this;if(i.timeouts=i.timeouts||[],!e.is(n,"function")&&n||(o=n||null),i.removed)return o&&o.call(i),i;var a={},l={},u=!1,p={};for(var h in t)if(t[d](h)&&(ee[d](h)||i.paper.customAttributes[d](h)))switch(u=!0,a[h]=i.attr(h),null==a[h]&&(a[h]=Z[h]),l[h]=t[h],ee[h]){case"along":var f=bt(t[h]),m=Tt(t[h],f*!!t.back),v=i.getBBox();p[h]=f/r,p.tx=v.x,p.ty=v.y,p.sx=m.x,p.sy=m.y,l.rot=t.rot,l.back=t.back,l.len=f,t.rot&&(p.r=Y(i.rotate())||0);break;case D:p[h]=(l[h]-a[h])/r;break;case"colour":a[h]=e.getRGB(a[h]);var g=e.getRGB(l[h]);p[h]={r:(g.r-a[h].r)/r,g:(g.g-a[h].g)/r,b:(g.b-a[h].b)/r};break;case"path":var y=Se(a[h],l[h]);a[h]=y[0];var b=y[1];p[h]=[];for(var T=0,x=a[h][M];T<x;T++){p[h][T]=[0];for(var E=1,P=a[h][T][M];E<P;E++)p[h][T][E]=(b[T][E]-a[h][T][E])/r}break;case"csv":var k=w(t[h])[S](c),C=w(a[h])[S](c);switch(h){case"translation":a[h]=[0,0],p[h]=[k[0]/r,k[1]/r];break;case"rotation":a[h]=C[1]==k[1]&&C[2]==k[2]?C:[0,k[1],k[2]],p[h]=[(k[0]-a[h][0])/r,0,0];break;case"scale":t[h]=k,a[h]=w(a[h])[S](c),p[h]=[(k[0]-a[h][0])/r,(k[1]-a[h][1])/r,0,0];break;case"clip-rect":for(a[h]=w(a[h])[S](c),p[h]=[],
T=4;T--;)p[h][T]=(k[T]-a[h][T])/r}l[h]=k;break;default:for(k=[].concat(t[h]),C=[].concat(a[h]),p[h]=[],T=i.paper.customAttributes[h][M];T--;)p[h][T]=((k[T]||0)-(C[T]||0))/r}if(u){var _=e.easing_formulas[n];if(!_)if(_=w(n).match(G),_&&5==_[M]){var R=_;_=function(e){return s(e,+R[1],+R[2],+R[3],+R[4],r)}}else _=function(e){return e};Et.push({start:t.start||+new Date,ms:r,easing:_,from:a,diff:p,to:l,el:i,t:{x:0,y:0}}),e.is(o,"function")&&(i._ac=setTimeout(function(){o.call(i)},r)),1==Et[M]&&setTimeout(Pt)}else{var N,O=[];for(var A in t)t[d](A)&&re.test(A)&&(h={value:t[A]},"from"==A&&(A=0),"to"==A&&(A=100),h.key=X(A,10),O.push(h));for(O.sort(ce),O[0].key&&O.unshift({key:0,value:i.attrs}),T=0,x=O[M];T<x;T++)wt(O[T].value,i,r/100*O[T].key,r/100*(O[T-1]&&O[T-1].key||0),O[T-1]&&O[T-1].value.callback);N=O[O[M]-1].value.callback,N&&i.timeouts.push(setTimeout(function(){N.call(i)},r))}return this},We.stop=function(){for(var e=0;e<Et.length;e++)Et[e].el.id==this.id&&Et.splice(e--,1);for(e=0,ii=this.timeouts&&this.timeouts.length;e<ii;e++)clearTimeout(this.timeouts[e]);return this.timeouts=[],clearTimeout(this._ac),delete this._ac,this},We.translate=function(e,t){return this.attr({translation:e+" "+t})},We[z]=function(){return"Raphaël’s object"},e.ae=Et;var Ct=function(e){if(this.items=[],this[M]=0,this.type="set",e)for(var t=0,r=e[M];t<r;t++)!e[t]||e[t].constructor!=Ue&&e[t].constructor!=Ct||(this[this.items[M]]=this.items[this.items[M]]=e[t],this[M]++)};Ct[h][W]=function(){for(var e,t,r=0,n=arguments[M];r<n;r++)e=arguments[r],!e||e.constructor!=Ue&&e.constructor!=Ct||(t=this.items[M],this[t]=this.items[t]=e,this[M]++);return this},Ct[h].pop=function(){return delete this[this[M]--],this.items.pop()};for(var _t in We)We[d](_t)&&(Ct[h][_t]=function(e){return function(){for(var t=0,r=this.items[M];t<r;t++)this.items[t][e][b](this.items[t],arguments);return this}}(_t));Ct[h].attr=function(t,r){if(t&&e.is(t,q)&&e.is(t[0],"object"))for(var n=0,o=t[M];n<o;n++)this.items[n].attr(t[n]);else for(var i=0,s=this.items[M];i<s;i++)this.items[i].attr(t,r);return this},Ct[h].animate=function(t,r,n,o){(e.is(n,"function")||!n)&&(o=n||null);var i,s,a=this.items[M],l=a,c=this;for(o&&(s=function(){!--a&&o.call(c)}),n=e.is(n,B)?n:s,i=this.items[--l].animate(t,r,n,s);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(i,t,r,n,s);return this},Ct[h].insertAfter=function(e){for(var t=this.items[M];t--;)this.items[t].insertAfter(e);return this},Ct[h].getBBox=function(){for(var e=[],t=[],r=[],n=[],o=this.items[M];o--;){var i=this.items[o].getBBox();e[W](i.x),t[W](i.y),r[W](i.x+i.width),n[W](i.y+i.height)}return e=A[b](0,e),t=A[b](0,t),{x:e,y:t,width:O[b](0,r)-e,height:O[b](0,n)-t}},Ct[h].clone=function(e){e=new Ct;for(var t=0,r=this.items[M];t<r;t++)e[W](this.items[t].clone());return e},e.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},r=e.face["font-family"];for(var n in e.face)e.face[d](n)&&(t.face[n]=e.face[n]);if(this.fonts[r]?this.fonts[r][W](t):this.fonts[r]=[t],!e.svg){t.face["units-per-em"]=X(e.face["units-per-em"],10);for(var o in e.glyphs)if(e.glyphs[d](o)){var i=e.glyphs[o];if(t.glyphs[o]={w:i.w,k:{},d:i.d&&"M"+i.d[te](/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"},i.k)for(var s in i.k)i[d](s)&&(t.glyphs[o].k[s]=i.k[s])}}return e},l.getFont=function(t,r,n,o){if(o=o||"normal",n=n||"normal",r=+r||{normal:400,bold:700,lighter:300,bolder:800}[r]||400,e.fonts){var i=e.fonts[t];if(!i){var s=new RegExp("(^|\\s)"+t[te](/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var a in e.fonts)if(e.fonts[d](a)&&s.test(a)){i=e.fonts[a];break}}var l;if(i)for(var c=0,u=i[M];c<u&&(l=i[c],l.face["font-weight"]!=r||l.face["font-style"]!=n&&l.face["font-style"]||l.face["font-stretch"]!=o);c++);return l}},l.print=function(t,r,n,o,i,s,a){s=s||"middle",a=O(A(a||0,1),-1);var l,u=this.set(),p=w(n)[S](E),h=0;if(e.is(o,n)&&(o=this.getFont(o)),o){l=(i||16)/o.face["units-per-em"];for(var d=o.face.bbox.split(c),f=+d[0],m=+d[1]+("baseline"==s?d[3]-d[1]+ +o.face.descent:(d[3]-d[1])/2),v=0,g=p[M];v<g;v++){var y=v&&o.glyphs[p[v-1]]||{},b=o.glyphs[p[v]];h+=v?(y.w||o.w)+(y.k&&y.k[p[v]]||0)+o.w*a:0,b&&b.d&&u[W](this.path(b.d).attr({fill:"#000",stroke:"none",translation:[h,0]}))}u.scale(l,l,f,m).translate(t-f,r-m)}return u},e.format=function(t,r){var n=e.is(r,q)?[0][T](r):arguments;return t&&e.is(t,B)&&n[M]-1&&(t=t[te](p,function(e,t){return null==n[++t]?E:n[t]})),t||E},e.ninja=function(){return v.was?m.Raphael=v.is:delete Raphael,e},e.el=We,e.st=Ct[h],v.was?m.Raphael=e:Raphael=e}()},function(e,t,r){!function(e,t,r,n){function o(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function i(t,r){var i,s,a,l,c,u,p,h,d=t.type;if(t=e.Event(t),t.type=r,i=t.originalEvent,s=e.event.props,d.search(/mouse/)>-1&&(s=_),i)for(p=s.length,l;p;)l=s[--p],t[l]=i[l];if(d.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),d.search(/^touch/)!==-1&&(a=o(i),d=a.touches,c=a.changedTouches,u=d&&d.length?d[0]:c&&c.length?c[0]:n))for(h=0,len=k.length;h<len;h++)l=k[h],t[l]=u[l];return t}function s(t){for(var r,n,o={};t;){r=e.data(t,P);for(n in r)r[n]&&(o[n]=o.hasVirtualBinding=!0);t=t.parentNode}return o}function a(t,r){for(var n;t;){if(n=e.data(t,P),n&&(!r||n[r]))return t;t=t.parentNode}return null}function l(){F=!1}function c(){F=!0}function u(){z=0,I.length=0,L=!1,c()}function p(){l()}function h(){d(),R=setTimeout(function(){R=0,u()},e.vmouse.resetTimerDuration)}function d(){R&&(clearTimeout(R),R=0)}function f(t,r,n){var o;return(n&&n[t]||!n&&a(r.target,t))&&(o=i(r,t),e(r.target).trigger(o)),o}function m(t){var r=e.data(t.target,w);if(!(L||z&&z===r)){var n=f("v"+t.type,t);n&&(n.isDefaultPrevented()&&t.preventDefault(),n.isPropagationStopped()&&t.stopPropagation(),n.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function v(t){var r,n,i=o(t).touches;if(i&&1===i.length&&(r=t.target,n=s(r),n.hasVirtualBinding)){z=q++,e.data(r,w,z),d(),p(),A=!1;var a=o(t).touches[0];N=a.pageX,O=a.pageY,f("vmouseover",t,n),f("vmousedown",t,n)}}function g(e){F||(A||f("vmousecancel",e,s(e.target)),A=!0,h())}function y(t){if(!F){var r=o(t).touches[0],n=A,i=e.vmouse.moveDistanceThreshold;A=A||Math.abs(r.pageX-N)>i||Math.abs(r.pageY-O)>i,flags=s(t.target),A&&!n&&f("vmousecancel",t,flags),f("vmousemove",t,flags),h()}}function b(e){if(!F){c();var t,r=s(e.target);if(f("vmouseup",e,r),!A){var n=f("vclick",e,r);n&&n.isDefaultPrevented()&&(t=o(e).changedTouches[0],I.push({touchID:z,x:t.clientX,y:t.clientY}),L=!0)}f("vmouseout",e,r),A=!1,h()}}function T(t){var r,n=e.data(t,P);if(n)for(r in n)if(n[r])return!0;return!1}function x(){}function E(t){var r=t.substr(1);return{setup:function(n,o){T(this)||e.data(this,P,{});var i=e.data(this,P);i[t]=!0,M[t]=(M[t]||0)+1,1===M[t]&&B.bind(r,m),e(this).bind(r,x),D&&(M.touchstart=(M.touchstart||0)+1,1===M.touchstart&&B.bind("touchstart",v).bind("touchend",b).bind("touchmove",y).bind("scroll",g))},teardown:function(n,o){--M[t],M[t]||B.unbind(r,m),D&&(--M.touchstart,M.touchstart||B.unbind("touchstart",v).unbind("touchmove",y).unbind("touchend",b).unbind("scroll",g));var i=e(this),s=e.data(this,P);s&&(s[t]=!1),i.unbind(r,x),T(this)||i.removeData(P)}}}var P="virtualMouseBindings",w="virtualTouchID",S="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),k="clientX clientY pageX pageY screenX screenY".split(" "),C=e.event.mouseHooks?e.event.mouseHooks.props:[],_=e.event.props.concat(C),M={},R=0,N=0,O=0,A=!1,I=[],L=!1,F=!1,D="addEventListener"in r,B=e(r),q=1,z=0;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var H=0;H<S.length;H++)e.event.special[S[H]]=E(S[H]);D&&r.addEventListener("click",function(t){var r,n,o,i,s,a,l=I.length,c=t.target;if(l)for(r=t.clientX,n=t.clientY,threshold=e.vmouse.clickDistanceThreshold,o=c;o;){for(i=0;i<l;i++)if(s=I[i],a=0,o===c&&Math.abs(s.x-r)<threshold&&Math.abs(s.y-n)<threshold||e.data(o,w)===s.touchID)return t.preventDefault(),void t.stopPropagation();o=o.parentNode}},!0)}(jQuery,window,document)},function(e,t,r){"use strict";var n=r(10),o=r(176),i=o.connect,s=r(149),a=s.View,l=r(177),c=r(178),u=r(167),p=u.row,h=u.roundedTopLeft,d=u.roundedTopRight,f=r(110),m=f.BorderStyles,v=r(139),g=r(120),y=g.cursorContextPropType,b=r(148),T=n.createClass({displayName:"FractionKeypad",propTypes:{cursorContext:y.isRequired,dynamicJumpOut:n.PropTypes.bool,roundTopLeft:n.PropTypes.bool,roundTopRight:n.PropTypes.bool},statics:{rows:4,columns:4,maxVisibleRows:5,numPages:1},render:function(){var e=this.props,t=e.cursorContext,r=e.dynamicJumpOut,o=e.roundTopLeft,i=e.roundTopRight,s=void 0;if(r)switch(t){case v.IN_PARENS:s=b.JUMP_OUT_PARENTHESES;break;case v.IN_SUPER_SCRIPT:s=b.JUMP_OUT_EXPONENT;break;case v.IN_SUB_SCRIPT:s=b.JUMP_OUT_BASE;break;case v.BEFORE_FRACTION:s=b.JUMP_INTO_NUMERATOR;break;case v.IN_NUMERATOR:s=b.JUMP_OUT_NUMERATOR;break;case v.IN_DENOMINATOR:s=b.JUMP_OUT_DENOMINATOR;break;case v.NONE:default:s=b.DISMISS}else s=b.DISMISS;return n.createElement(l,null,n.createElement(a,{style:p},n.createElement(c,{keyConfig:b.NUM_7,borders:m.NONE,style:o&&h}),n.createElement(c,{keyConfig:b.NUM_8,borders:m.NONE}),n.createElement(c,{keyConfig:b.NUM_9,borders:m.NONE}),n.createElement(c,{keyConfig:b.FRAC_MULTI,disabled:t===v.IN_NUMERATOR||t===v.IN_DENOMINATOR,style:i&&d})),n.createElement(a,{style:p},n.createElement(c,{keyConfig:b.NUM_4,borders:m.NONE}),n.createElement(c,{keyConfig:b.NUM_5,borders:m.NONE}),n.createElement(c,{keyConfig:b.NUM_6,borders:m.NONE}),n.createElement(c,{keyConfig:b.PERCENT})),n.createElement(a,{style:p},n.createElement(c,{keyConfig:b.NUM_1,borders:m.BOTTOM}),n.createElement(c,{keyConfig:b.NUM_2,borders:m.NONE}),n.createElement(c,{keyConfig:b.NUM_3,borders:m.BOTTOM}),n.createElement(c,{keyConfig:b.BACKSPACE,borders:m.LEFT})),n.createElement(a,{style:p},n.createElement(c,{keyConfig:b.NEGATIVE,borders:m.NONE}),n.createElement(c,{keyConfig:b.NUM_0,borders:m.LEFT}),n.createElement(c,{keyConfig:b.DECIMAL,borders:m.LEFT}),n.createElement(c,{keyConfig:s,borders:m.LEFT})))}}),x=function(e){return{cursorContext:e.input.cursor.context,dynamicJumpOut:!e.layout.navigationPadEnabled}};e.exports=i(x)(T)},function(e,t,r){"use strict";var n=r(10),o=r(176),i=o.connect,s=r(13),a=s.StyleSheet,l=r(149),c=l.View,u=r(179),p=r(180),h=r(178),d=r(167),f=d.row,m=d.column,v=d.oneColumn,g=d.fullWidth,y=d.roundedTopLeft,b=d.roundedTopRight,T=r(110),x=T.BorderStyles,E=r(144),P=E.valueGrey,w=E.controlGrey,S=r(120),k=S.cursorContextPropType,C=S.keyIdPropType,_=r(148),M=r(139),R=n.createClass({displayName:"ExpressionKeypad",propTypes:{currentPage:n.PropTypes.number.isRequired,cursorContext:k.isRequired,dynamicJumpOut:n.PropTypes.bool,extraKeys:n.PropTypes.arrayOf(C),roundTopLeft:n.PropTypes.bool,roundTopRight:n.PropTypes.bool},statics:{rows:4,columns:5,maxVisibleRows:4,numPages:2},render:function(){var e=this.props,t=e.currentPage,r=e.cursorContext,o=e.dynamicJumpOut,i=e.extraKeys,s=e.roundTopLeft,a=e.roundTopRight,l=void 0;if(o)switch(r){case M.IN_PARENS:l=_.JUMP_OUT_PARENTHESES;break;case M.IN_SUPER_SCRIPT:l=_.JUMP_OUT_EXPONENT;break;case M.IN_SUB_SCRIPT:l=_.JUMP_OUT_BASE;break;case M.BEFORE_FRACTION:l=_.JUMP_INTO_NUMERATOR;break;case M.IN_NUMERATOR:l=_.JUMP_OUT_NUMERATOR;break;case M.IN_DENOMINATOR:l=_.JUMP_OUT_DENOMINATOR;break;case M.NONE:default:l=_.DISMISS}else l=_.DISMISS;var d=[f,g,N.rightPage,a&&b],T=n.createElement(c,{style:d},n.createElement(c,{style:[m,v]},n.createElement(h,{keyConfig:_.NUM_7,borders:x.NONE}),n.createElement(h,{keyConfig:_.NUM_4,borders:x.NONE}),n.createElement(h,{keyConfig:_.NUM_1,borders:x.BOTTOM}),n.createElement(p,{keys:i,borders:x.NONE})),n.createElement(c,{style:[m,v]},n.createElement(h,{keyConfig:_.NUM_8,borders:x.NONE}),n.createElement(h,{keyConfig:_.NUM_5,borders:x.NONE}),n.createElement(h,{keyConfig:_.NUM_2,borders:x.NONE}),n.createElement(h,{keyConfig:_.NUM_0,borders:x.LEFT})),n.createElement(c,{style:[m,v]},n.createElement(h,{keyConfig:_.NUM_9,borders:x.NONE}),n.createElement(h,{keyConfig:_.NUM_6,borders:x.NONE}),n.createElement(h,{keyConfig:_.NUM_3,borders:x.BOTTOM}),n.createElement(h,{keyConfig:_.DECIMAL,borders:x.LEFT})),n.createElement(c,{style:[m,v]},n.createElement(h,{keyConfig:_.DIVIDE,borders:x.LEFT}),n.createElement(h,{keyConfig:_.TIMES,borders:x.LEFT}),n.createElement(h,{keyConfig:_.MINUS,borders:x.LEFT}),n.createElement(h,{keyConfig:_.PLUS,borders:x.LEFT})),n.createElement(c,{style:[m,v]},n.createElement(h,{keyConfig:_.FRAC_INCLUSIVE,style:a&&b}),n.createElement(h,{keyConfig:_.CDOT}),n.createElement(h,{keyConfig:_.BACKSPACE,borders:x.LEFT}),n.createElement(h,{keyConfig:l,borders:x.LEFT}))),E=[f,g,N.leftPage,s&&y],P=n.createElement(c,{style:E},n.createElement(c,{style:[m,v]},n.createElement(h,{keyConfig:_.EXP_2,borders:x.NONE,style:s&&y}),n.createElement(h,{keyConfig:_.SQRT,borders:x.NONE}),n.createElement(h,{keyConfig:_.LOG,borders:x.BOTTOM}),n.createElement(h,{keyConfig:_.SIN,borders:x.NONE})),n.createElement(c,{style:[m,v]},n.createElement(h,{keyConfig:_.EXP_3,borders:x.NONE}),n.createElement(h,{keyConfig:_.CUBE_ROOT,borders:x.NONE}),n.createElement(h,{keyConfig:_.LN,borders:x.BOTTOM}),n.createElement(h,{keyConfig:_.COS,borders:x.NONE})),n.createElement(c,{style:[m,v]},n.createElement(h,{keyConfig:_.EXP,borders:x.NONE}),n.createElement(h,{keyConfig:_.RADICAL,borders:x.NONE}),n.createElement(h,{keyConfig:_.LOG_N,borders:x.BOTTOM}),n.createElement(h,{keyConfig:_.TAN,borders:x.NONE})),n.createElement(c,{style:[m,v]},n.createElement(h,{keyConfig:_.GEQ,borders:x.LEFT}),n.createElement(h,{keyConfig:_.EQUAL,borders:x.LEFT}),n.createElement(h,{keyConfig:_.LEQ}),n.createElement(h,{keyConfig:_.LEFT_PAREN,borders:x.LEFT})),n.createElement(c,{style:[m,v]},n.createElement(h,{keyConfig:_.GT,borders:x.NONE}),n.createElement(h,{keyConfig:_.NEQ,borders:x.NONE}),n.createElement(h,{keyConfig:_.LT,borders:x.BOTTOM}),n.createElement(h,{keyConfig:_.RIGHT_PAREN,borders:x.NONE})));return n.createElement(u,{currentPage:t,rightPage:T,leftPage:P})}}),N=a.create({rightPage:{backgroundColor:P},leftPage:{backgroundColor:w}}),O=function(e){return{currentPage:e.pager.currentPage,cursorContext:e.input.cursor.context,dynamicJumpOut:!e.layout.navigationPadEnabled}};e.exports=i(O)(R)},function(e,t,r){"use strict";var n=r(10),o=r(13),i=o.StyleSheet,s=r(149),a=s.View,l=r(178),c=r(167),u=c.row,p=c.column,h=c.centered,d=c.stretch,f=c.roundedTopLeft,m=r(144),v=m.navigationPadWidthPx,g=m.controlGrey,y=m.valueGrey,b=m.gray85,T=r(110),x=T.BorderStyles,E=r(148),P=n.createClass({displayName:"NavigationPad",propTypes:{roundTopLeft:n.PropTypes.bool,style:n.PropTypes.any},render:function(){var e=this.props,t=e.roundTopLeft,r=e.style,o=[p,h,C.container,t&&f].concat(Array.isArray(r)?r:[r]);return n.createElement(a,{style:o},n.createElement(a,{style:[u,h]},n.createElement(l,{keyConfig:E.UP,borders:x.NONE,style:[C.navigationKey,C.topArrow]})),n.createElement(a,{style:[u,h,d]},n.createElement(l,{keyConfig:E.LEFT,borders:x.NONE,style:[C.navigationKey,C.leftArrow]}),n.createElement(a,{style:C.horizontalSpacer}),n.createElement(l,{keyConfig:E.RIGHT,borders:x.NONE,style:[C.navigationKey,C.rightArrow]})),n.createElement(a,{style:[u,h]},n.createElement(l,{keyConfig:E.DOWN,borders:x.NONE,style:[C.navigationKey,C.bottomArrow]})))}}),w=48,S=4,k=1,C=i.create({container:{backgroundColor:g,width:v},navigationKey:{borderColor:b,backgroundColor:y,width:w,height:w,boxSizing:"content-box"},topArrow:{borderTopWidth:k,borderLeftWidth:k,borderRightWidth:k,borderTopLeftRadius:S,borderTopRightRadius:S},rightArrow:{borderTopWidth:k,borderRightWidth:k,borderBottomWidth:k,borderTopRightRadius:S,borderBottomRightRadius:S},bottomArrow:{borderBottomWidth:k,borderLeftWidth:k,borderRightWidth:k,borderBottomLeftRadius:S,borderBottomRightRadius:S},leftArrow:{borderTopWidth:k,borderBottomWidth:k,borderLeftWidth:k,borderTopLeftRadius:S,borderBottomLeftRadius:S},horizontalSpacer:{background:y,width:w}});e.exports=P},function(e,t,r){"use strict";e.exports={popover:1,echo:2,keypad:1060}},function(e,t,r){"use strict";var n=r(13),o=n.StyleSheet,i=r(144),s=i.compactKeypadBorderRadiusPx;e.exports=o.create({row:{flexDirection:"row"},column:{flexDirection:"column"},oneColumn:{flexGrow:1},fullWidth:{width:"100%"},stretch:{alignItems:"stretch"},centered:{justifyContent:"center",alignItems:"center"},centeredText:{textAlign:"center"},roundedTopLeft:{borderTopLeftRadius:s},roundedTopRight:{borderTopRightRadius:s}})},function(e,t,r){"use strict";var n={PLUS:"PLUS",MINUS:"MINUS",NEGATIVE:"NEGATIVE",TIMES:"TIMES",DIVIDE:"DIVIDE",DECIMAL:"DECIMAL",PERIOD:"PERIOD",PERCENT:"PERCENT",CDOT:"CDOT",EQUAL:"EQUAL",NEQ:"NEQ",GT:"GT",LT:"LT",GEQ:"GEQ",LEQ:"LEQ",FRAC_INCLUSIVE:"FRAC_INCLUSIVE",FRAC_EXCLUSIVE:"FRAC_EXCLUSIVE",EXP:"EXP",EXP_2:"EXP_2",EXP_3:"EXP_3",SQRT:"SQRT",CUBE_ROOT:"CUBE_ROOT",RADICAL:"RADICAL",LEFT_PAREN:"LEFT_PAREN",RIGHT_PAREN:"RIGHT_PAREN",LN:"LN",LOG:"LOG",LOG_N:"LOG_N",SIN:"SIN",COS:"COS",TAN:"TAN",PI:"PI",THETA:"THETA",UP:"UP",RIGHT:"RIGHT",DOWN:"DOWN",LEFT:"LEFT",BACKSPACE:"BACKSPACE",DISMISS:"DISMISS",JUMP_OUT_PARENTHESES:"JUMP_OUT_PARENTHESES",JUMP_OUT_EXPONENT:"JUMP_OUT_EXPONENT",JUMP_OUT_BASE:"JUMP_OUT_BASE",JUMP_INTO_NUMERATOR:"JUMP_INTO_NUMERATOR",JUMP_OUT_NUMERATOR:"JUMP_OUT_NUMERATOR",JUMP_OUT_DENOMINATOR:"JUMP_OUT_DENOMINATOR",NOOP:"NOOP",FRAC_MULTI:"FRAC_MULTI",MANY:"MANY"};e.exports=n},function(e,t,r){"use strict";var n=r(110),o=n.DecimalSeparators,i=void 0;i="undefined"!=typeof window&&window.icu&&","===window.icu.getDecimalFormatSymbols().decimal_separator?o.COMMA:o.PERIOD,e.exports={decimalSeparator:i}},function(e,t,r){"use strict";var n=r(10),o=r(9),i=n.createClass({displayName:"ToggleableRadioButton",propTypes:{checked:n.PropTypes.bool.isRequired,inputRef:n.PropTypes.func,onChecked:n.PropTypes.func.isRequired},handleClick:function(e){this.props.onChecked(!this.props.checked)},handleKeyUp:function(e){" "===e.key&&(this.props.onChecked(!this.props.checked),e.preventDefault())},handleChange:function(e){!this.props.checked&&e.target.checked&&this.props.onChecked(!0)},handleKeyDown:function(e){" "===e.key&&e.preventDefault()},render:function(){var e=o.extend({},this.props,{type:"radio",onChange:this.handleChange,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,ref:this.props.inputRef});return n.createElement("input",e)}});e.exports=i},function(e,t,r){"use strict";var n=r(110),o=n.DeviceTypes,i=n.DeviceOrientations,s=n.LayoutModes,a=r(144),l=a.pageIndicatorHeightPx,c=a.toolbarHeightPx,u=a.navigationPadWidthPx,p=a.innerBorderWidthPx,h=48,d=64,f=32,m=44,v=64,g=44,y=m+g,b=g+(v-m),T=320/(480-m),x=function(e,t,r,n){var a=e.numColumns,m=e.numMaxVisibleRows,v=e.numPages,g=t.pageWidthPx,x=t.pageHeightPx,E=r.deviceOrientation,P=r.deviceType,w=n.navigationPadEnabled,S=n.paginationEnabled,k=n.toolbarEnabled,C=S?a:a*v,_=void 0;if(P===o.PHONE){var M=E===i.LANDSCAPE,R=M?y:b,N=f+R+(k?c:0)+(S?l:0),O=g,A=M?x:g/T,I=A-N,L=Math.max(Math.min(I/m,d),h),F=void 0;if(v>1){var D=S?a:a*v;F=O/D}else F=M?d:O/a;_={widthPx:F,heightPx:L}}else{if(P!==o.TABLET)throw new Error("Invalid device type: "+P);_={widthPx:d,heightPx:d}}var B=(w?1:0)+(S?0:v-1),q=C*_.widthPx+(w?u:0)+B*p;return{buttonDimensions:_,layoutMode:q>=g?s.FULLSCREEN:s.COMPACT}};e.exports=x},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r(181),a=r(182),l=r(183),c=function(e){return[e.changedTouches[0].clientX,e.changedTouches[0].clientY]},u=function(){function e(t,r,c,u){var p=this;o(this,e);var h=t.swipeEnabled;this.swipeEnabled=h,this.trackEvents=!1,this.nodeManager=new s,this.popoverStateMachine=new a({onActiveNodesChanged:function(e){var t=e.popover,o=n(e,["popover"]);r.onActiveNodesChanged(i({popover:t&&{parentId:t.parentId,bounds:p.nodeManager.layoutPropsForId(t.parentId).initialBounds,childKeyIds:t.childIds}},o))},onClick:function(e,t,n){r.onClick(e,p.nodeManager.layoutPropsForId(t),n)}}),this.gestureStateMachine=new l({onFocus:function(e){p.popoverStateMachine.onFocus(e)},onLongPress:function(e){p.popoverStateMachine.onLongPress(e)},onTouchEnd:function(e){p.popoverStateMachine.onTouchEnd(e)},onBlur:function(){p.popoverStateMachine.onBlur()},onSwipeChange:r.onSwipeChange,onSwipeEnd:r.onSwipeEnd,onTrigger:function(e){p.popoverStateMachine.onTrigger(e)}},{},c,u)}return e.prototype.onTouchStart=function(e,t){if(this.trackEvents){for(var r=c(e),n=r[0],o=0;o<e.changedTouches.length;o++)this.gestureStateMachine.onTouchStart(function(){return t},e.changedTouches[o].identifier,n);e.preventDefault()}},e.prototype.onTouchMove=function(e){var t=this;if(this.trackEvents)for(var r=this.popoverStateMachine.isPopoverVisible(),n=this.swipeEnabled&&!r,o=c(e),i=o[0],s=o[1],a=0;a<e.changedTouches.length;a++)this.gestureStateMachine.onTouchMove(function(){return t.nodeManager.idForCoords(i,s)},e.changedTouches[a].identifier,i,n)},e.prototype.onTouchEnd=function(e){var t=this;if(this.trackEvents)for(var r=c(e),n=r[0],o=r[1],i=0;i<e.changedTouches.length;i++)this.gestureStateMachine.onTouchEnd(function(){return t.nodeManager.idForCoords(n,o)},e.changedTouches[i].identifier,n)},e.prototype.onTouchCancel=function(e){if(this.trackEvents)for(var t=0;t<e.changedTouches.length;t++)this.gestureStateMachine.onTouchCancel(e.changedTouches[t].identifier)},e.prototype.registerDOMNode=function(e,t,r,n){this.nodeManager.registerDOMNode(e,t,r,n),this.popoverStateMachine.registerPopover(e,r)},e.prototype.unregisterDOMNode=function(e){this.nodeManager.unregisterDOMNode(e),this.popoverStateMachine.unregisterPopover(e)},e.prototype.enableEventTracking=function(){this.trackEvents=!0},e.prototype.disableEventTracking=function(){this.trackEvents=!1},e}();e.exports=u},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(198),s=function(){function e(t){n(this,e),this.options=o({velocityTimeout:100},t),this._events=[]}return e.prototype.push=function(e){this._events.push({x:e,t:i()})},e.prototype.getVelocity=function(){var e=this._getEvents();if(e.length<2)return 0;var t=e[e.length-1],r=e[0],n=t.t-r.t;return(t.x-r.x)/n},e.prototype._getEvents=function(){var e=i()-this.options.velocityTimeout,t=this._events.filter(function(t){return t.t>e});return this._events=[],t},e}();e.exports=s},function(e,t,r){"use strict";var n=r(10),o=r(13),i=o.StyleSheet,s=o.css,a=n.createClass({displayName:"Text",propTypes:{children:n.PropTypes.oneOfType([n.PropTypes.arrayOf(n.PropTypes.node),n.PropTypes.node]),dynamicStyle:n.PropTypes.any,numberOfLines:n.PropTypes.number,style:n.PropTypes.any},render:function(){var e=this.props,t=e.numberOfLines,r=e.style,o=s.apply(void 0,[l.initial].concat(Array.isArray(r)?r:[r],[1===t&&l.singleLineStyle]));return n.createElement("span",{className:o,style:this.props.dynamicStyle},this.props.children)}}),l=i.create({initial:{color:"inherit",display:"inline",font:"inherit",margin:0,padding:0,textDecorationLine:"none",wordWrap:"break-word"},singleLineStyle:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}});e.exports=a},function(e,t,r){"use strict";var n=r(10),o=r(13),i=o.StyleSheet,s=o.css,a=n.createClass({displayName:"View",propTypes:{ariaLabel:n.PropTypes.string,children:n.PropTypes.oneOfType([n.PropTypes.arrayOf(n.PropTypes.node),n.PropTypes.node]),dynamicStyle:n.PropTypes.any,numberOfLines:n.PropTypes.number,onClick:n.PropTypes.func,onTouchCancel:n.PropTypes.func,onTouchEnd:n.PropTypes.func,onTouchMove:n.PropTypes.func,onTouchStart:n.PropTypes.func,role:n.PropTypes.string,style:n.PropTypes.any},statics:{styles:i.create({initial:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",margin:0,padding:0,position:"relative",backgroundColor:"transparent",color:"inherit",font:"inherit",textAlign:"inherit",textDecorationLine:"none",listStyle:"none",maxWidth:"100%",minHeight:0,minWidth:0}})},render:function(){var e=s.apply(void 0,[a.styles.initial].concat(Array.isArray(this.props.style)?this.props.style:[this.props.style]));return n.createElement("div",{className:e,style:this.props.dynamicStyle,onClick:this.props.onClick,onTouchCancel:this.props.onTouchCancel,onTouchEnd:this.props.onTouchEnd,onTouchMove:this.props.onTouchMove,onTouchStart:this.props.onTouchStart,"aria-label":this.props.ariaLabel,role:this.props.role},this.props.children)}});e.exports=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.Provider=void 0;var o=r(185),i=n(o),s=r(186),a=n(s);t.Provider=i.default,t.connect=a.default},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(10),s=r(11),a=r(176),l=a.connect,c=r(146),u=c.removeEcho,p=r(149),h=p.View,d=r(190),f=r(191),m=r(120),v=m.echoPropType,g=m.popoverPropType,y=i.createClass({displayName:"Keypad",propTypes:{active:i.PropTypes.bool,children:i.PropTypes.oneOfType([i.PropTypes.arrayOf(i.PropTypes.node),i.PropTypes.node]),echoes:i.PropTypes.arrayOf(v).isRequired,popover:g,removeEcho:i.PropTypes.func.isRequired,style:i.PropTypes.any},componentDidMount:function(){window.addEventListener("resize",this._onResize),this._updateSizeAndPosition()},componentWillReceiveProps:function(e){this._container||!e.popover&&!e.echoes.length||this._computeContainer()},componentWillUnmount:function(){window.removeEventListener("resize",this._onResize)},_computeContainer:function(){var e=s.findDOMNode(this);this._container=e.getBoundingClientRect()},_updateSizeAndPosition:function(){this._container=null},_onResize:function(){var e=this;null==this._resizeTimeout&&(this._resizeTimeout=setTimeout(function(){e._resizeTimeout=null,e.isMounted()&&e._updateSizeAndPosition()},66))},render:function(){var e=this,t=this.props,r=t.children,s=t.echoes,a=t.removeEcho,l=t.popover,c=t.style,u=s.map(function(t){var r=t.initialBounds,i=n(t,["initialBounds"]);return o({},i,{initialBounds:{top:r.top-e._container.top,right:r.right-e._container.left,bottom:r.bottom-e._container.top,left:r.left-e._container.left,width:r.width,height:r.height}})}),p=l&&o({},l,{bounds:{bottom:this._container.height-(l.bounds.bottom-this._container.top),left:l.bounds.left-this._container.left,width:l.bounds.width}});return i.createElement(h,{style:c},r,i.createElement(d,{echoes:u,onAnimationFinish:a}),i.createElement(f,{popover:p}))}}),b=function(e){return o({},e.echoes,{active:e.keypad.active,popover:e.gestures.popover})},T=function(e){return{removeEcho:function(t){e(u(t))}}};e.exports=l(b,T)(y)},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(10),s=r(11),a=r(176),l=a.connect,c=r(187),u=r(148),p=r(172),h=r(120),d=h.bordersPropType,f=h.keyIdPropType,m=r(110),v=m.KeyTypes,g=i.createClass({displayName:"TouchableKeypadButton",propTypes:{borders:d,childKeyIds:i.PropTypes.arrayOf(f),disabled:i.PropTypes.bool,focused:i.PropTypes.bool,gestureManager:i.PropTypes.instanceOf(p),id:f.isRequired,popoverEnabled:i.PropTypes.bool,style:i.PropTypes.any,type:i.PropTypes.oneOf(Object.keys(v)).isRequired},shouldComponentUpdate:function(e){return e.id!==this.props.id||e.gestureManager!==this.props.gestureManager||e.focused!==this.props.focused||e.disabled!==this.props.disabled||e.popoverEnabled!==this.props.popoverEnabled||e.type!==this.props.type||!!e.style},componentWillUnmount:function(){var e=this.props,t=e.gestureManager,r=e.id;t.unregisterDOMNode(r)},render:function(){var e=this.props,t=e.borders,r=e.childKeyIds,a=e.disabled,l=e.gestureManager,u=e.id,p=n(e,["borders","childKeyIds","disabled","gestureManager","id"]),h=a?{onTouchStart:function(e){return e.preventDefault()}}:{onTouchStart:function(e){return l.onTouchStart(e,u)},onTouchEnd:function(e){return l.onTouchEnd(e)},onTouchMove:function(e){return l.onTouchMove(e)},onTouchCancel:function(e){return l.onTouchCancel(e)}};return i.createElement(c,o({ref:function(e){return l.registerDOMNode(u,s.findDOMNode(e),r,t)},borders:t,disabled:a},h,p))}}),y=function(e){var t=e.ariaLabel,r=e.icon,n=e.type;return{ariaLabel:t,icon:r,type:n}},b=function(e,t){var r=e.gestures,i=t.keyConfig,s=n(t,["keyConfig"]),a=i.id,l=i.childKeyIds,c=i.type,p=l&&l.map(function(e){return u[e]}),h=c!==v.MANY&&p&&p.length>0;return o({},s,{childKeyIds:l,gestureManager:r.gestureManager,id:a,focused:r.focus===a,popoverEnabled:r.popover&&r.popover.parentId===a,childKeys:p},y(h?p[0]:i))};e.exports=l(b)(g)},function(e,t,r){"use strict";var n=r(10),o=r(176),i=o.connect,s=r(13),a=s.StyleSheet,l=r(177),c=r(188),u=r(189),p=r(149),h=p.View,d=r(167),f=d.column,m=d.row,v=d.fullWidth,g=r(144),y=g.innerBorderColor,b=g.innerBorderStyle,T=g.innerBorderWidthPx,x=g.gray85,E=n.createClass({displayName:"TwoPageKeypad",propTypes:{currentPage:n.PropTypes.oneOf([0,1]).isRequired,leftPage:n.PropTypes.node.isRequired,paginationEnabled:n.PropTypes.bool.isRequired,rightPage:n.PropTypes.node.isRequired},render:function(){var e=this.props,t=e.currentPage,r=e.leftPage,o=e.paginationEnabled,i=e.rightPage;return o?n.createElement(l,{style:[f,P.keypad]},n.createElement(u,{numPages:2,currentPage:t}),n.createElement(h,{style:P.borderTop},n.createElement(c,null,r,i))):n.createElement(l,{style:P.keypad},n.createElement(h,{style:m},n.createElement(h,{style:v},r),n.createElement(h,{style:[P.borderLeft,v]},i)))}}),P=a.create({keypad:{backgroundColor:x},borderTop:{borderTop:T+"px "+b+" "+y},borderLeft:{borderLeft:T+"px "+b+" "+y,boxSizing:"content-box"}}),w=function(e){return{paginationEnabled:e.layout.paginationEnabled}};e.exports=i(w)(E)},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(10),s=r(192),a=r(178),l=r(168),c=r(148),u=r(110),p=u.KeyTypes,h=r(120),d=h.keyIdPropType,f=i.createClass({displayName:"ManyKeypadButton",propTypes:{keys:i.PropTypes.arrayOf(d).isRequired},render:function(){var e=this.props,t=e.keys,r=n(e,["keys"]);if(0===t.length)return i.createElement(s,r);if(1===t.length){var u=c[t[0]];return i.createElement(a,o({keyConfig:u},r))}var h={id:l.MANY,type:p.MANY,childKeyIds:t};return i.createElement(a,o({keyConfig:h},r))}});e.exports=f},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){var t=this;n(this,e),this._nodesById={},this._bordersById={},this._orderedIds=[],this._cachedBoundingBoxesById={},window.addEventListener("resize",function(){t._cachedBoundingBoxesById={}})}return e.prototype.registerDOMNode=function(e,t,r,n){this._nodesById[e]=t,this._bordersById[e]=n;for(var o=[].concat(r||[],[e],this._orderedIds),i=[],s={},a=o,l=Array.isArray(a),c=0,a=l?a:a[Symbol.iterator]();;){var u;if(l){if(c>=a.length)break;u=a[c++]}else{if(c=a.next(),c.done)break;u=c.value;
}var p=u;s[p]||(i.push(p),s[p]=!0)}this._orderedIds=i},e.prototype.unregisterDOMNode=function(e){delete this._nodesById[e]},e.prototype.idForCoords=function(e,t){for(var r=this._orderedIds,n=Array.isArray(r),o=0,r=n?r:r[Symbol.iterator]();;){var i;if(n){if(o>=r.length)break;i=r[o++]}else{if(o=r.next(),o.done)break;i=o.value}var s=i,a=this._nodesById[s];if(a){var l=a.getBoundingClientRect();if(l.left<=e&&l.right>e&&l.top<=t&&l.bottom>t)return this._cachedBoundingBoxesById[s]=l,s}}},e.prototype.layoutPropsForId=function(e){return this._cachedBoundingBoxesById[e]||(this._cachedBoundingBoxesById[e]=this._nodesById[e].getBoundingClientRect()),{initialBounds:this._cachedBoundingBoxesById[e],borders:this._bordersById[e]}},e}();e.exports=o},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t){n(this,e),this.handlers=t,this.activePopover=null,this.popovers={}}return e.prototype.registerPopover=function(e,t){this.popovers[e]=t},e.prototype.unregisterPopover=function(e){delete this.popovers[e]},e.prototype.isPopoverVisible=function(){return null!=this.activePopover},e.prototype.onBlur=function(){this.activePopover=null,this.handlers.onActiveNodesChanged({popover:null,focus:null})},e.prototype.onFocus=function(e){this.activePopover?this._isNodeInsidePopover(this.activePopover,e)?this.handlers.onActiveNodesChanged({popover:{parentId:this.activePopover,childIds:this.popovers[this.activePopover]},focus:e}):this.handlers.onActiveNodesChanged({popover:{parentId:this.activePopover,childIds:this.popovers[this.activePopover]},focus:null}):(this.activePopover=null,this.handlers.onActiveNodesChanged({popover:null,focus:e}))},e.prototype.onLongPress=function(e){!this.activePopover&&this.popovers[e]&&(this.activePopover=e,this.handlers.onActiveNodesChanged({popover:{parentId:this.activePopover,childIds:this.popovers[this.activePopover]},focus:this._defaultNodeForPopover(this.activePopover)}))},e.prototype.onTrigger=function(e){this.handlers.onClick(e,e,!1)},e.prototype.onTouchEnd=function(e){var t=!!this.activePopover;if(t){if(this._isNodeInsidePopover(this.activePopover,e))this.handlers.onClick(e,e,t);else if(this.activePopover===e){var r=this._defaultNodeForPopover(e);this.handlers.onClick(r,r,t)}}else if(this.popovers[e]){var n=this._defaultNodeForPopover(e),o=e;this.handlers.onClick(n,o,t)}else null!=e&&this.onTrigger(e);this.onBlur()},e.prototype._isNodeInsidePopover=function(e,t){return this.popovers[e].includes(t)},e.prototype._defaultNodeForPopover=function(e){return this.popovers[e][0]},e}();e.exports=o},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i={longPressWaitTimeMs:50,swipeThresholdPx:20,holdIntervalMs:250},s=function(){function e(t,r,s,a){n(this,e),this.handlers=t,this.options=o({},i,r),this.swipeDisabledNodeIds=s||[],this.multiPressableKeys=a||[],this.touchState={},this.swipeState=null}return e.prototype._maybeCancelLongPressForTouch=function(e){var t=this.touchState[e].longPressTimeoutId;t&&(clearTimeout(t),this.touchState[e]=o({},this.touchState[e],{longPressTimeoutId:null}))},e.prototype._maybeCancelPressAndHoldForTouch=function(e){var t=this.touchState[e].pressAndHoldIntervalId;t&&(clearInterval(t),this.touchState[e]=o({},this.touchState[e],{pressAndHoldIntervalId:null}))},e.prototype._cleanupTouchEvent=function(e){this._maybeCancelLongPressForTouch(e),this._maybeCancelPressAndHoldForTouch(e),delete this.touchState[e]},e.prototype._onFocus=function(e,t){var r=this;this._maybeCancelLongPressForTouch(t),this._maybeCancelPressAndHoldForTouch(t),this.touchState[t]=o({},this.touchState[t],{activeNodeId:e}),this.handlers.onFocus(e),e&&(this.multiPressableKeys.includes(e)?(this.handlers.onTrigger(e),this.touchState[t]=o({},this.touchState[t],{pressAndHoldIntervalId:setInterval(function(){r.handlers.onTrigger(e)},this.options.holdIntervalMs)})):this.touchState[t]=o({},this.touchState[t],{longPressTimeoutId:setTimeout(function(){r.handlers.onLongPress(e),r.touchState[t]=o({},r.touchState[t],{longPressTimeoutId:null})},this.options.longPressWaitTimeMs)}))},e.prototype._onSwipeStart=function(){for(var e=Object.keys(this.touchState),t=Array.isArray(e),r=0,e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if(r=e.next(),r.done)break;n=r.value}var o=n;this._maybeCancelLongPressForTouch(o),this._maybeCancelPressAndHoldForTouch(o)}this.touchState={},this.handlers.onBlur()},e.prototype.onTouchStart=function(e,t,r){if(!this.swipeState&&!this.touchState[t]){var n=e();this.touchState[t]={swipeLocked:this.swipeDisabledNodeIds.includes(n),startX:r},this._onFocus(n,t)}},e.prototype.onTouchMove=function(e,t,r,n){if(this.swipeState)this.swipeState.touchId===t&&this.handlers.onSwipeChange(r-this.swipeState.startX);else if(this.touchState[t]){var o=this.touchState[t],i=o.activeNodeId,s=o.startX,a=o.swipeLocked,l=r-s,c=n&&!a&&Math.abs(l)>this.options.swipeThresholdPx;if(c)this._onSwipeStart(),this.swipeState={touchId:t,startX:s},this.handlers.onSwipeChange(r-this.swipeState.startX);else{var u=e();u!==i&&this._onFocus(u,t)}}},e.prototype.onTouchEnd=function(e,t,r){if(this.swipeState)this.swipeState.touchId===t&&(this.handlers.onSwipeEnd(r-this.swipeState.startX),this.swipeState=null);else if(this.touchState[t]){var n=this.touchState[t],o=n.activeNodeId,i=n.pressAndHoldIntervalId;this._cleanupTouchEvent(t);var s=!!i;s?this.handlers.onBlur():this.handlers.onTouchEnd(o)}},e.prototype.onTouchCancel=function(e){this.swipeState?this.swipeState.touchId===e&&(this.handlers.onSwipeEnd(0),this.swipeState=null):this.touchState[e]&&(this._cleanupTouchEvent(e),this.handlers.onBlur())},e}();e.exports=s},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=r(193),i=n(o),s=r(194),a=n(s),l=r(195),c=n(l),u=r(196),p=n(u),h=r(197),d=n(h),f=r(199);n(f);t.createStore=i.default,t.combineReducers=a.default,t.bindActionCreators=c.default,t.applyMiddleware=p.default,t.compose=d.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":a(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.__esModule=!0,t.default=void 0;var l=r(10),c=r(200),u=n(c),p=r(201),h=(n(p),function(e){function t(r,n){o(this,t);var s=i(this,e.call(this,r,n));return s.store=r.store,s}return s(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return l.Children.only(e)},t}(l.Component));t.default=h,h.propTypes={store:u.default.isRequired,children:l.PropTypes.element.isRequired},h.childContextTypes={store:u.default.isRequired}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return e.displayName||e.name||"Component"}function l(e,t){try{return e.apply(t)}catch(e){return _.value=e,_}}function c(e,t,r){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],c=Boolean(e),u=e||S,d=void 0;d="function"==typeof t?t:t?(0,y.default)(t):k;var m=r||C,g=n.pure,b=void 0===g||g,T=n.withRef,x=void 0!==T&&T,P=b&&m!==C,R=M++;return function(e){function t(e,t,r){var n=m(e,t,r);return n}var r="Connect("+a(e)+")",n=function(n){function a(e,t){o(this,a);var s=i(this,n.call(this,e,t));s.version=R,s.store=e.store||t.store,(0,w.default)(s.store,'Could not find "store" in either the context or '+('props of "'+r+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+r+'".'));var l=s.store.getState();return s.state={storeState:l},s.clearCache(),s}return s(a,n),a.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},a.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var r=e.getState(),n=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,t):this.finalMapStateToProps(r);return n},a.prototype.configureFinalMapState=function(e,t){var r=u(e.getState(),t),n="function"==typeof r;return this.finalMapStateToProps=n?r:u,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,n?this.computeStateProps(e,t):r},a.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var r=e.dispatch,n=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,t):this.finalMapDispatchToProps(r);return n},a.prototype.configureFinalMapDispatch=function(e,t){var r=d(e.dispatch,t),n="function"==typeof r;return this.finalMapDispatchToProps=n?r:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,n?this.computeDispatchProps(e,t):r},a.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,v.default)(e,this.stateProps))&&(this.stateProps=e,!0)},a.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,v.default)(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},a.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&P&&(0,v.default)(e,this.mergedProps))&&(this.mergedProps=e,!0)},a.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},a.prototype.trySubscribe=function(){c&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},a.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},a.prototype.componentDidMount=function(){this.trySubscribe()},a.prototype.componentWillReceiveProps=function(e){b&&(0,v.default)(e,this.props)||(this.haveOwnPropsChanged=!0)},a.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},a.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},a.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!b||t!==e){if(b&&!this.doStatePropsDependOnOwnProps){var r=l(this.updateStatePropsIfNeeded,this);if(!r)return;r===_&&(this.statePropsPrecalculationError=_.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},a.prototype.getWrappedInstance=function(){return(0,w.default)(x,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},a.prototype.render=function(){var t=this.haveOwnPropsChanged,r=this.hasStoreStateChanged,n=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,i=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var s=!0,a=!0;b&&i&&(s=r||t&&this.doStatePropsDependOnOwnProps,a=t&&this.doDispatchPropsDependOnOwnProps);var l=!1,c=!1;n?l=!0:s&&(l=this.updateStatePropsIfNeeded()),a&&(c=this.updateDispatchPropsIfNeeded());var u=!0;return u=!!(l||c||t)&&this.updateMergedPropsIfNeeded(),!u&&i?i:(x?this.renderedElement=(0,h.createElement)(e,p({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,h.createElement)(e,this.mergedProps),this.renderedElement)},a}(h.Component);return n.displayName=r,n.WrappedComponent=e,n.contextTypes={store:f.default},n.propTypes={store:f.default},(0,E.default)(n,e)}}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.__esModule=!0,t.default=c;var h=r(10),d=r(200),f=n(d),m=r(202),v=n(m),g=r(203),y=n(g),b=r(201),T=(n(b),r(210)),x=(n(T),r(209)),E=n(x),P=r(211),w=n(P),S=function(e){return{}},k=function(e){return{dispatch:e}},C=function(e,t,r){return p({},r,e,t)},_={value:null},M=0},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(90),s=r(176),a=s.connect,l=r(13),c=l.StyleSheet,u=l.css,p=r(149),h=p.View,d=r(205),f=r(206),m=r(207),v=r(110),g=v.KeyTypes,y=v.BorderDirections,b=v.BorderStyles,T=r(144),x=T.brightGreen,E=T.innerBorderColor,P=T.innerBorderStyle,w=T.innerBorderWidthPx,S=T.valueGrey,k=T.operatorGrey,C=T.controlGrey,_=T.emptyGrey,M=r(120),R=M.bordersPropType,N=M.iconPropType,O=M.keyConfigPropType,A=o.createClass({displayName:"KeypadButton",propTypes:{ariaLabel:o.PropTypes.string,borders:R,childKeys:o.PropTypes.arrayOf(O),disabled:o.PropTypes.bool,focused:o.PropTypes.bool,heightPx:o.PropTypes.number.isRequired,icon:N,onTouchCancel:o.PropTypes.func,onTouchEnd:o.PropTypes.func,onTouchMove:o.PropTypes.func,onTouchStart:o.PropTypes.func,popoverEnabled:o.PropTypes.bool,style:o.PropTypes.any,type:o.PropTypes.oneOf(Object.keys(g)).isRequired,widthPx:o.PropTypes.number.isRequired},mixins:[i],getDefaultProps:function(){return{borders:b.ALL,childKeys:[],disabled:!1,focused:!1,popoverEnabled:!1}},componentWillMount:function(){this.buttonSizeStyle=D(this.props.heightPx,this.props.widthPx)},componentDidMount:function(){this._preInjectStyles()},componentWillUpdate:function(e,t){e.heightPx===this.props.heightPx&&e.widthPx===this.props.widthPx||(this.buttonSizeStyle=D(e.heightPx,e.widthPx),this._preInjectStyles())},_preInjectStyles:function(){for(var e=Object.keys(g),t=Array.isArray(e),r=0,e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if(r=e.next(),r.done)break;n=r.value}var o=n;u.apply(void 0,[h.styles.initial].concat(this._getFocusStyle(o)));for(var i=Object.values(b),s=Array.isArray(i),a=0,i=s?i:i[Symbol.iterator]();;){var l;if(s){if(a>=i.length)break;l=i[a++]}else{if(a=i.next(),a.done)break;l=a.value}var c=l;u.apply(void 0,[h.styles.initial].concat(this._getButtonStyle(o,c)))}}},_getFocusStyle:function(e){var t=void 0;return t=e===g.INPUT_NAVIGATION||e===g.KEYPAD_NAVIGATION?F.light:F.bright,[F.focusBox,t]},_getButtonStyle:function(e,t,r){var n=void 0;switch(e){case g.EMPTY:n=F.empty;break;case g.MANY:case g.VALUE:n=F.value;break;case g.OPERATOR:n=F.operator;break;case g.INPUT_NAVIGATION:case g.KEYPAD_NAVIGATION:n=F.control;break;case g.ECHO:n=null}var o=[];return t.indexOf(y.LEFT)!==-1&&o.push(F.leftBorder),t.indexOf(y.BOTTOM)!==-1&&o.push(F.bottomBorder),[F.buttonBase,n].concat(o,[e===g.ECHO&&F.echo,this.buttonSizeStyle],Array.isArray(r)?r:[r])},render:function(){var e=this.props,t=e.ariaLabel,r=e.borders,i=e.childKeys,s=e.disabled,a=e.focused,l=e.icon,c=e.onTouchCancel,u=e.onTouchEnd,p=e.onTouchMove,v=e.onTouchStart,y=e.popoverEnabled,b=e.style,T=e.type,x=!s&&a||y||T===g.ECHO,E=this._getButtonStyle(T,r,b),P=this._getFocusStyle(T),w=[F.iconWrapper,s&&F.disabled],S={onTouchCancel:c,onTouchEnd:u,onTouchMove:p,onTouchStart:v},k=x&&o.createElement(h,{style:P}),C=!x&&!s&&i&&i.length>0&&o.createElement(m,{style:F.decalInset});if(T===g.EMPTY)return o.createElement(h,n({style:E},S));if(T===g.MANY){var _={role:"button",ariaLabel:i[0].ariaLabel},M=i.map(function(e){return e.icon});return o.createElement(h,n({style:E},S,_),k,o.createElement(h,{style:w},o.createElement(f,{icons:M,focused:x})),C)}var R={role:"button",ariaLabel:t};return o.createElement(h,n({style:E},S,R),k,o.createElement(h,{style:w},o.createElement(d,{icon:l,focused:x})),C)}}),I=4,L=0,F=c.create({buttonBase:{"-webkit-box-flex":"1",flex:1,cursor:"pointer",userSelect:"none",justifyContent:"center",alignItems:"center",borderColor:E,borderStyle:P,boxSizing:"border-box"},decalInset:{top:I,right:I},echo:{borderColor:"transparent"},value:{backgroundColor:S},operator:{backgroundColor:k},control:{backgroundColor:C},empty:{backgroundColor:_,cursor:"default"},bright:{backgroundColor:x},light:{backgroundColor:"rgba(33, 36, 44, 0.1)"},iconWrapper:{zIndex:L+1},focusBox:{position:"absolute",zIndex:L,left:I,right:I,bottom:I,top:I,borderRadius:1},disabled:{opacity:.3},leftBorder:{borderLeftWidth:w},bottomBorder:{borderBottomWidth:w}}),D=function(e,t){return c.create({buttonSize:{height:e,width:t,maxWidth:t}}).buttonSize},B=function(e){return e.layout.buttonDimensions};e.exports=a(B)(A)},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(176),s=i.connect,a=r(13),l=a.StyleSheet,c=r(149),u=c.View,p=r(167),h=p.row,d=r(120),f=d.childrenPropType,m=r(144),v=m.innerBorderColor,g=m.innerBorderStyle,y=m.innerBorderWidthPx,b=o.createClass({displayName:"ViewPager",propTypes:{animateToPosition:o.PropTypes.bool,children:f,pageWidthPx:o.PropTypes.number.isRequired,translateX:o.PropTypes.number.isRequired},getInitialState:function(){return{animationDurationMs:0}},componentWillReceiveProps:function(e){var t=void 0;if(e.animateToPosition){var r=e.translateX,n=this.props.translateX;t=Math.abs(r-n)}else t=0;this.setState({animationDurationMs:t})},render:function(){var e=this.props,t=e.children,r=e.pageWidthPx,i=e.translateX,s=this.state.animationDurationMs,a=[h,T.twoPagePager],l={msTransform:"translate3d("+i+"px, 0, 0)",WebkitTransform:"translate3d("+i+"px, 0, 0)",transform:"translate3d("+i+"px, 0, 0)"},c=s?{msTransitionProperty:"transform",WebkitTransitionProperty:"transform",transitionProperty:"transform",msTransitionDuration:s+"ms",WebkitTransitionDuration:s+"ms",transitionDuration:s+"ms",msTransitionTimingFunction:"ease-out",WebkitTransitionTimingFunction:"ease-out",transitionTimingFunction:"ease-out"}:{},p=n({},l,c),d={width:r};return o.createElement(u,{style:a,dynamicStyle:p},o.createElement(u,{dynamicStyle:d},t[0]),o.createElement(u,{style:T.rightPage,dynamicStyle:d},t[1]))}}),T=l.create({twoPagePager:{alignSelf:"flex-start",maxWidth:"250%"},rightPage:{borderLeft:y+"px "+g+" "+v,boxSizing:"content-box"}}),x=function(e){var t=e.pager,r=t.animateToPosition,n=t.currentPage,o=t.dx,i=t.pageWidthPx;return{animateToPosition:r,pageWidthPx:i,translateX:-n*(i+y)+o}};e.exports=s(x)(b)},function(e,t,r){"use strict";var n=r(10),o=r(13),i=o.StyleSheet,s=r(149),a=s.View,l=r(144),c=l.pageIndicatorHeightPx,u=l.gray68,p=l.gray85,h=n.createClass({displayName:"PagerIcon",propTypes:{active:n.PropTypes.bool,radiusPx:n.PropTypes.number},getDefaultProps:function(){return{active:!1,radiusPx:4}},render:function(){var e=this.props,t=e.active,r=e.radiusPx,o=t?u:p;return n.createElement("svg",{width:2*r,height:2*r},n.createElement("circle",{cx:r,cy:r,r:r,fill:o}))}}),d=n.createClass({displayName:"PagerIndicator",propTypes:{currentPage:n.PropTypes.number.isRequired,numPages:n.PropTypes.number.isRequired},render:function(){for(var e=this.props,t=e.currentPage,r=e.numPages,o=4,i=[],s=0;s<r;s++)i.push(n.createElement(h,{key:s,active:s===t,radiusPx:o}));var l=2*o*r,c=2*o*(r-1),u={width:l+c};return n.createElement(a,{style:f.indicatorStrip},n.createElement(a,{style:f.iconStrip,dynamicStyle:u},i))}}),f=i.create({indicatorStrip:{backgroundColor:"#F0F1F2",flexDirection:"row",justifyContent:"center",alignItems:"center",height:c},iconStrip:{flexDirection:"row",justifyContent:"space-between"}});e.exports=d},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(204),s=r(187),a=r(148),l=r(110),c=l.KeyTypes,u=l.EchoAnimationTypes,p=r(120),h=p.echoPropType,d=p.bordersPropType,f=p.boundingBoxPropType,m=p.keyIdPropType,v=r(166),g=o.createClass({displayName:"Echo",propTypes:{animationDurationMs:o.PropTypes.number.isRequired,borders:d,id:m.isRequired,initialBounds:f.isRequired,onAnimationFinish:o.PropTypes.func.isRequired},componentDidMount:function(){var e=this.props,t=e.animationDurationMs,r=e.onAnimationFinish;setTimeout(function(){return r()},t)},render:function(){var e=this.props,t=e.borders,r=e.id,i=e.initialBounds,l=a[r].icon,u=n({zIndex:v.echo,position:"absolute",pointerEvents:"none"},i);return o.createElement("div",{style:u},o.createElement(s,{name:r,icon:l,type:c.ECHO,borders:t}))}}),y=o.createClass({displayName:"EchoManager",propTypes:{echoes:o.PropTypes.arrayOf(h),onAnimationFinish:o.PropTypes.func.isRequired},_animationConfigForType:function(e){var t=void 0,r=void 0;switch(e){case u.SLIDE_AND_FADE:t=400,r="echo-slide-and-fade";break;case u.FADE_ONLY:t=300,r="echo-fade-only";break;case u.LONG_FADE_ONLY:t=400,r="echo-long-fade-only";break;default:throw new Error("Invalid echo animation type:",e)}return{animationDurationMs:t,animationTransitionName:r}},render:function(){var e=this,t=this.props,r=t.echoes,s=t.onAnimationFinish;return o.createElement("span",null,Object.keys(u).map(function(t){var a=e._animationConfigForType(t),l=a.animationDurationMs,c=a.animationTransitionName,u=r.filter(function(e){return e.animationType===t});return o.createElement(i,{transitionName:c,transitionEnter:!0,transitionLeave:!1,transitionEnterTimeout:l,key:t},u.map(function(e){var t=e.animationId;return o.createElement(g,n({key:t,animationDurationMs:l,onAnimationFinish:function(){return s(t)}},e))}))}))}});e.exports=y},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=r(204),s=r(148),a=r(208),l=r(120),c=l.boundingBoxPropType,u=l.keyConfigPropType,p=l.popoverPropType,h="popover",d=200,f=o.createClass({displayName:"PopoverContainer",propTypes:{bounds:c.isRequired,childKeys:o.PropTypes.arrayOf(u).isRequired},render:function(){var e=this.props,t=e.bounds,r=e.childKeys,i=n({position:"absolute"},t);return o.createElement("div",{style:i},o.createElement(a,{keys:r}))}}),m=o.createClass({displayName:"PopoverManager",propTypes:{popover:p},render:function(){var e=this.props.popover;return o.createElement(i,{transitionName:h,transitionEnter:!0,transitionLeave:!1,transitionEnterTimeout:d},e&&o.createElement(f,{key:e.childKeyIds[0],bounds:e.bounds,childKeys:e.childKeyIds.map(function(e){return s[e]})}))}});e.exports=m},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(10),s=r(176),a=s.connect,l=r(172),c=r(148),u=r(187),p=i.createClass({displayName:"EmptyKeypadButton",propTypes:{gestureManager:i.PropTypes.instanceOf(l)},render:function(){var e=this.props,t=e.gestureManager,r=n(e,["gestureManager"]);return i.createElement(u,o({onTouchStart:function(e){return t.onTouchStart(e)},onTouchEnd:function(e){return t.onTouchEnd(e)},onTouchMove:function(e){return t.onTouchMove(e)},onTouchCancel:function(e){return t.onTouchCancel(e)}},c.NOOP,r))}}),h=function(e){var t=e.gestures;return{gestureManager:t.gestureManager}};e.exports=a(h)(p)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){function n(){y===g&&(y=g.slice())}function s(){return v}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return n(),y.push(e),function(){if(t){t=!1,n();var r=y.indexOf(e);y.splice(r,1)}}}function p(e){if(!(0,a.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(b)throw new Error("Reducers may not dispatch actions.");try{b=!0,v=m(v,e)}finally{b=!1}for(var t=g=y,r=0;r<t.length;r++)t[r]();return e}function h(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");m=e,p({type:u.INIT})}function d(){var e,t=l;return e={subscribe:function(e){function r(){e.next&&e.next(s())}if("object"!==("undefined"==typeof e?"undefined":i(e)))throw new TypeError("Expected the observer to be an object.");r();var n=t(r);return{unsubscribe:n}}},e[c.default]=function(){return this},e}var f;if("function"==typeof t&&"undefined"==typeof r&&(r=t,t=void 0),"undefined"!=typeof r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var m=e,v=t,g=[],y=g,b=!1;return p({type:u.INIT}),f={dispatch:p,subscribe:l,getState:s,replaceReducer:h},f[c.default]=d,f}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.__esModule=!0,t.ActionTypes=void 0,t.default=o;var s=r(210),a=n(s),l=r(215),c=n(l),u=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=t&&t.type,n=r&&'"'+r.toString()+'"'||"an action";return"Given action "+n+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:a.ActionTypes.INIT});if("undefined"==typeof n)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof r(void 0,{type:o}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+a.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var s=t[n];"function"==typeof e[s]&&(r[s]=e[s])}var a,l=Object.keys(r);try{i(r)}catch(e){a=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(a)throw a;for(var n=!1,i={},s=0;s<l.length;s++){var c=l[s],u=r[c],p=e[c],h=u(p,t);if("undefined"==typeof h){var d=o(c,t);throw new Error(d)}i[c]=h,n=n||h!==p}return n?i:e}}t.__esModule=!0,t.default=s;var a=r(193),l=r(210),c=(n(l),r(199));n(c)},function(e,t,r){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return n(e,t);if("object"!==("undefined"==typeof e?"undefined":i(e))||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":"undefined"==typeof e?"undefined":i(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),o={},s=0;s<r.length;s++){var a=r[s],l=e[a];"function"==typeof l&&(o[a]=n(l,t))}return o}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.__esModule=!0,t.default=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,n,o){var s=e(r,n,o),l=s.dispatch,c=[],u={getState:s.getState,dispatch:function(e){return l(e)}};return c=t.map(function(e){return e(u)}),l=a.default.apply(void 0,c)(s.dispatch),i({},s,{dispatch:l})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=o;var s=r(197),a=n(s)},function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return function(e){return e};var n=function(){var e=t[t.length-1],r=t.slice(0,-1);return{v:function(){return r.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}}();return"object"===("undefined"==typeof n?"undefined":o(n))?n.v:void 0}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.__esModule=!0,t.default=n},function(e,t,r){(function(t){"use strict";(function(){var r,n,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(r()-o)/1e6},n=t.hrtime,r=function(){var e;return e=n(),1e9*e[0]+e[1]},o=r()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(void 0)}).call(t,r(216))},function(e,t,r){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t,r){"use strict";t.__esModule=!0;var n=r(10);t.default=n.PropTypes.shape({subscribe:n.PropTypes.func.isRequired,dispatch:n.PropTypes.func.isRequired,getState:n.PropTypes.func.isRequired})},function(e,t,r){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t,r){"use strict";function n(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<r.length;i++)if(!o.call(t,r[i])||e[r[i]]!==t[r[i]])return!1;return!0;
}t.__esModule=!0,t.default=n},function(e,t,r){"use strict";function n(e){return function(t){return(0,o.bindActionCreators)(e,t)}}t.__esModule=!0,t.default=n;var o=r(184)},function(e,t,r){e.exports=a},function(e,t,r){"use strict";var n=r(10),o=r(90),i=r(13),s=i.StyleSheet,a=r(212),l=r(213),c=r(214),u=r(110),p=u.IconTypes,h=r(120),d=h.iconPropType,f=r(144),m=f.gray25,v="#FFF",g=m,y=n.createClass({displayName:"Icon",propTypes:{focused:n.PropTypes.bool,icon:d.isRequired,style:n.PropTypes.any},mixins:[o],render:function(){var e=this.props,t=e.focused,r=e.icon,o=e.style,i=[t?b.focused:b.unfocused].concat(Array.isArray(o)?o:[o]);switch(r.type){case p.MATH:return n.createElement(a,{math:r.data,style:i});case p.SVG:return n.createElement(l,{name:r.data,color:t?v:g});case p.TEXT:return n.createElement(c,{character:r.data,style:i})}throw new Error("No icon or symbol provided")}}),b=s.create({unfocused:{color:g},focused:{color:v}});e.exports=y},function(e,t,r){"use strict";var n=r(10),o=r(13),i=o.StyleSheet,s=r(149),a=s.View,l=r(205),c=r(110),u=c.IconTypes,p=r(120),h=p.iconPropType,d=r(167),f=d.row,m=d.column,v=d.centered,g=d.fullWidth,y=r(144),b=y.iconSizeHeightPx,T=y.iconSizeWidthPx,x=n.createClass({displayName:"MultiSymbolGrid",propTypes:{focused:n.PropTypes.bool,icons:n.PropTypes.arrayOf(h).isRequired},render:function(){var e=this.props,t=e.focused,r=e.icons;if(r.forEach(function(e){if(e.type!==u.MATH)throw new Error("Received invalid icon: type="+e.type+", data="+e.data)}),1===r.length)return n.createElement(l,{icon:r[0],focused:t});var o=w.base,i=[w.base,w.secondary];if(2===r.length)return n.createElement(a,{style:[f,w.size]},n.createElement(a,{style:[m,v,g,w.middleLeft]},n.createElement(l,{style:o,icon:r[0],focused:t})),n.createElement(a,{style:[m,v,g,w.middleRight]},n.createElement(l,{style:i,icon:r[1],focused:t})));if(r.length>=3)return n.createElement(a,{style:[m,w.size]},n.createElement(a,{style:f},n.createElement(a,{style:[v,g,w.topLeft]},n.createElement(l,{style:o,icon:r[0],focused:t})),n.createElement(a,{style:[v,g,w.topRight]},n.createElement(l,{style:i,icon:r[1],focused:t}))),n.createElement(a,{style:f},n.createElement(a,{style:[v,g,w.bottomLeft]},n.createElement(l,{style:i,icon:r[2],focused:t})),n.createElement(a,{style:[v,g,w.bottomRight]},r[3]&&n.createElement(l,{style:i,icon:r[3],focused:t}))));throw new Error("Invalid number of icons:",r.length)}}),E=2,P=4,w=i.create({size:{height:b,width:T},bottomLeft:{marginBottom:E,marginLeft:P},topLeft:{marginTop:E,marginLeft:P},topRight:{marginTop:E,marginRight:P},bottomRight:{marginBottom:E,marginRight:P},middleLeft:{marginLeft:P},middleRight:{marginRight:P},base:{fontSize:18},secondary:{opacity:.3}});e.exports=x},function(e,t,r){"use strict";var n=r(10),o=r(13),i=o.StyleSheet,s=r(149),a=s.View,l=r(144),c=l.gray25,u=n.createClass({displayName:"CornerDecal",propTypes:{style:n.PropTypes.any},render:function(){var e=this.props.style,t=[h.container].concat(Array.isArray(e)?e:[e]);return n.createElement(a,{style:t},n.createElement("svg",{width:p,height:p,viewBox:"4 4 8 8"},n.createElement("path",{fill:c,opacity:"0.3",d:"M5.29289322,5.70710678 L10.2928932,10.7071068 C10.9228581,11.3370716 12,10.8909049 12,10 L12,5 C12,4.44771525 11.5522847,4 11,4 L6,4 C5.10909515,4 4.66292836,5.07714192 5.29289322,5.70710678 Z"})))}}),p=7,h=i.create({container:{position:"absolute",top:0,right:0,width:p,height:p}});e.exports=u},function(e,t,r){"use strict";var n=r(10),o=r(13),i=o.StyleSheet,s=r(149),a=s.View,l=r(120),c=l.keyConfigPropType,u=r(110),p=u.BorderStyles,h=r(166),d=n.createClass({displayName:"MultiSymbolPopover",propTypes:{keys:n.PropTypes.arrayOf(c)},render:function(){var e=this.props.keys,t=r(178);return n.createElement(a,{style:f.container},e.map(function(e){return n.createElement(t,{key:e.id,keyConfig:e,borders:p.NONE})}))}}),f=i.create({container:{flexDirection:"column-reverse",position:"relative",width:"100%",borderRadius:2,boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",zIndex:h.popover},popoverButton:{backgroundColor:"#FFF",borderWidth:0}});e.exports=d},function(e,t,r){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,r){if("string"!=typeof t){var s=Object.getOwnPropertyNames(t);i&&(s=s.concat(Object.getOwnPropertySymbols(t)));for(var a=0;a<s.length;++a)if(!(n[s[a]]||o[s[a]]||r&&r[s[a]]))try{e[s[a]]=t[s[a]]}catch(e){}}return e}},function(e,t,r){"use strict";function n(e){if(!s(e)||h.call(e)!=a||i(e))return!1;var t=o(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==p}var o=r(217),i=r(218),s=r(219),a="[object Object]",l=Object.prototype,c=Function.prototype.toString,u=l.hasOwnProperty,p=c.call(Object),h=l.toString;e.exports=n},function(e,t,r){"use strict";var n=function(e,t,r,n,o,i,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,s,a],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=n},function(e,t,r){"use strict";var n=r(10),o=r(11),i=r(13),s=i.StyleSheet,a=r(149),l=a.View,c=r(167),u=c.row,p=c.centered,h=r(144),d=h.iconSizeHeightPx,f=h.iconSizeWidthPx,m=n.createClass({displayName:"MathIcon",propTypes:{math:n.PropTypes.string.isRequired,style:n.PropTypes.any},componentDidMount:function(){this._renderMath()},componentDidUpdate:function(e){e.math!==this.props.math&&this._renderMath()},_renderMath:function(){var e=this.props.math;window.katex.render(e,o.findDOMNode(this))},render:function(){var e=this.props.style,t=[u,p,v.size,v.base].concat(Array.isArray(e)?e:[e]);return n.createElement(l,{style:t})}}),v=s.create({size:{height:d,width:f},base:{fontSize:25}});e.exports=m},function(e,t,r){"use strict";var n=r(10),o=r(11),i=r(220),s=n.createClass({displayName:"SvgIcon",propTypes:{color:n.PropTypes.string.isRequired,name:n.PropTypes.string.isRequired},componentDidMount:function(){this._addFillRule()},componentDidUpdate:function(e){e.name!==this.props.name&&this._addFillRule()},_addFillRule:function(){var e=o.findDOMNode(this);if(e instanceof SVGElement){var t=e.querySelector("g");t.setAttributeNS(null,"fill-rule","evenodd")}},render:function(){var e=this.props,t=e.color,r=e.name,o=i[r];return n.createElement(o,{color:t})}});e.exports=s},function(e,t,r){"use strict";var n=r(10),o=r(13),i=o.StyleSheet,s=r(149),a=s.View,l=s.Text,c=r(167),u=c.row,p=c.centered,h=r(144),d=h.iconSizeHeightPx,f=h.iconSizeWidthPx,m=n.createClass({displayName:"TextIcon",propTypes:{character:n.PropTypes.string.isRequired,style:n.PropTypes.any},render:function(){var e=this.props,t=e.character,r=e.style,o=[u,p,v.size,v.base].concat(Array.isArray(r)?r:[r]);return n.createElement(a,{style:o},n.createElement(l,null,t))}}),v=i.create({size:{height:d,width:f},base:{fontFamily:"Proxima Nova",fontSize:25}});e.exports=m},function(e,t,r){(function(t){"use strict";e.exports=r(221)(t||window||void 0)}).call(t,function(){return this}())},function(e,t,r){function n(){if(!a){a=!0;for(var e,t=s.length;t;){e=s,s=[];for(var r=-1;++r<t;)e[r]();t=s.length}a=!1}}function o(){}var i=e.exports={},s=[],a=!1;i.nextTick=function(e){s.push(e),a||setTimeout(n,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=o,i.addListener=o,i.once=o,i.off=o,i.removeListener=o,i.removeAllListeners=o,i.emit=o,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(222),o=Object.getPrototypeOf,i=n(o,Object);e.exports=i},function(e,t,r){"use strict";function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}e.exports=n},function(e,t,r){"use strict";function n(e){return!!e&&"object"==("undefined"==typeof e?"undefined":o(e))}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};e.exports=n},function(e,t,r){"use strict";e.exports={COS:r(223),LOG:r(224),EQUAL:r(225),BACKSPACE:r(226),SQRT:r(227),EXP:r(228),NEQ:r(229),GEQ:r(230),LN:r(231),DISMISS:r(232),SIN:r(233),LT:r(234),CUBE_ROOT:r(235),PLUS:r(236),TAN:r(237),LEFT:r(238),UP:r(239),DOWN:r(240),LEFT_PAREN:r(241),RIGHT_PAREN:r(242),GT:r(243),DIVIDE:r(244),PERIOD:r(245),PERCENT:r(246),TIMES:r(247),EXP_3:r(248),EXP_2:r(249),RIGHT:r(250),CDOT:r(251),LOG_N:r(252),LEQ:r(253),MINUS:r(254),NEGATIVE:r(254),RADICAL:r(255),FRAC_INCLUSIVE:r(256),FRAC_EXCLUSIVE:r(257),JUMP_OUT_PARENTHESES:r(258),JUMP_OUT_EXPONENT:r(259),JUMP_OUT_BASE:r(260),JUMP_INTO_NUMERATOR:r(261),JUMP_OUT_NUMERATOR:r(262),JUMP_OUT_DENOMINATOR:r(263)}},function(e,t,r){"use strict";e.exports=function(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}},function(e,t,r){"use strict";function n(e,t){return function(r){return e(t(r))}}e.exports=n},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Cos",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M13 12h24v24H13z"}),n.createElement("path",{d:"M18.182 29.168c1.386 0 2.226-.602 2.674-1.232l-1.162-1.078a1.707 1.707 0 0 1-1.428.728c-1.078 0-1.834-.798-1.834-1.974s.756-1.96 1.834-1.96c.616 0 1.106.252 1.428.728l1.162-1.092c-.448-.616-1.288-1.218-2.674-1.218-2.086 0-3.584 1.47-3.584 3.542 0 2.086 1.498 3.556 3.584 3.556zm6.972 0c2.24 0 3.584-1.624 3.584-3.556 0-1.918-1.344-3.542-3.584-3.542-2.226 0-3.57 1.624-3.57 3.542 0 1.932 1.344 3.556 3.57 3.556zm0-1.582c-1.106 0-1.722-.91-1.722-1.974 0-1.05.616-1.96 1.722-1.96 1.106 0 1.736.91 1.736 1.96 0 1.064-.63 1.974-1.736 1.974zm7.336 1.582c1.876 0 2.926-.938 2.926-2.17 0-2.73-4.004-1.89-4.004-2.898 0-.378.42-.672 1.064-.672.826 0 1.596.35 2.002.784l.714-1.218c-.672-.532-1.582-.924-2.73-.924-1.778 0-2.772.994-2.772 2.128 0 2.66 4.018 1.75 4.018 2.87 0 .42-.364.728-1.134.728-.84 0-1.848-.462-2.338-.924l-.77 1.246c.714.658 1.848 1.05 3.024 1.05z",fill:this.props.color})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Log",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M16.776 29v-9.338h-1.778V29h1.778zm4.9.168c2.24 0 3.584-1.624 3.584-3.556 0-1.918-1.344-3.542-3.584-3.542-2.226 0-3.57 1.624-3.57 3.542 0 1.932 1.344 3.556 3.57 3.556zm0-1.582c-1.106 0-1.722-.91-1.722-1.974 0-1.05.616-1.96 1.722-1.96 1.106 0 1.736.91 1.736 1.96 0 1.064-.63 1.974-1.736 1.974zm7.672 4.158c1.666 0 3.654-.63 3.654-3.206v-6.3H31.21v.868c-.546-.686-1.274-1.036-2.086-1.036-1.708 0-2.982 1.232-2.982 3.444 0 2.254 1.288 3.444 2.982 3.444.826 0 1.554-.392 2.086-1.064v.686c0 1.33-1.008 1.708-1.862 1.708-.854 0-1.568-.238-2.114-.84l-.798 1.288c.854.742 1.75 1.008 2.912 1.008zm.336-4.368c-1.008 0-1.708-.7-1.708-1.862 0-1.162.7-1.862 1.708-1.862.588 0 1.232.322 1.526.77v2.184c-.294.434-.938.77-1.526.77z",fill:this.props.color})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Equal",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M16 21h17M16 27h17",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M13 24l6 6h14V18H19l-6 6zm-1.414-1.414l6-6A2 2 0 0 1 19 16h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H19a2 2 0 0 1-1.414-.586l-6-6a2 2 0 0 1 0-2.828z",fill:"#888D93"}),n.createElement("path",{d:"M23 21l6 6M29 21l-6 6",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Sqrt",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M14 29l4 6 9-14h7"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Exp",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M28 16.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM30 18h4v4h-4v-4zM14 21c0-.552.456-1 1.002-1h9.996A1 1 0 0 1 26 21v14c0 .552-.456 1-1.002 1h-9.996A1 1 0 0 1 14 35V21zm2 1h8v12h-8V22z",fill:this.props.color})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Neq",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M19 33l10-18M16 21h17M16 27h17",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Geq",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M16 33h16M16 30l16-6-16-6",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Ln",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M20.836 29v-9.338h-1.778V29h1.778zm8.106 0v-4.774c0-1.316-.714-2.156-2.198-2.156-1.106 0-1.932.532-2.366 1.05v-.882H22.6V29h1.778v-4.55c.294-.406.84-.798 1.54-.798.756 0 1.246.322 1.246 1.26V29h1.778z",fill:this.props.color})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M18 21l6 6 6-6",strokeLinecap:"round",strokeWidth:"2",stroke:"#71B307",strokeLinejoin:"round"})))};e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Sin",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M18.655 29.168c1.876 0 2.926-.938 2.926-2.17 0-2.73-4.004-1.89-4.004-2.898 0-.378.42-.672 1.064-.672.826 0 1.596.35 2.002.784l.714-1.218c-.672-.532-1.582-.924-2.73-.924-1.778 0-2.772.994-2.772 2.128 0 2.66 4.018 1.75 4.018 2.87 0 .42-.364.728-1.134.728-.84 0-1.848-.462-2.338-.924l-.77 1.246c.714.658 1.848 1.05 3.024 1.05zm5.124-7.658c.588 0 1.064-.476 1.064-1.064 0-.588-.476-1.05-1.064-1.05a1.06 1.06 0 0 0-1.064 1.05c0 .588.49 1.064 1.064 1.064zm.896 7.49v-6.762h-1.778V29h1.778zm8.106 0v-4.774c0-1.316-.714-2.156-2.198-2.156-1.106 0-1.932.532-2.366 1.05v-.882h-1.778V29h1.778v-4.55c.294-.406.84-.798 1.54-.798.756 0 1.246.322 1.246 1.26V29h1.778z",fill:this.props.color})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Lt",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M32 30l-16-6 16-6"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"CubeRoot",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M17.91 23.12c1.66 0 2.76-.81 2.76-1.98 0-.96-.86-1.51-1.57-1.58.79-.13 1.46-.72 1.46-1.5 0-1.1-.95-1.83-2.65-1.83-1.23 0-2.11.45-2.67 1.08l.83 1.08c.47-.42 1.05-.64 1.66-.64.64 0 1.12.19 1.12.61 0 .35-.39.52-1.08.52-.25 0-.77 0-.9-.01v1.53c.1-.01.61-.01.9-.01.91 0 1.19.18 1.19.56 0 .37-.38.65-1.12.65-.58 0-1.34-.23-1.82-.7l-.87 1.17c.52.6 1.48 1.05 2.76 1.05z",fill:this.props.color}),n.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M14 29l4 6 9-14h7"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Plus",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M19 24h10M24 29V19",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Tan",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M16.93 29.168c.742 0 1.218-.196 1.484-.434l-.378-1.344c-.098.098-.35.196-.616.196-.392 0-.616-.322-.616-.742v-3.052h1.372v-1.554h-1.372V20.39h-1.792v1.848h-1.12v1.554h1.12v3.528c0 1.204.672 1.848 1.918 1.848zM25.232 29v-4.368c0-1.946-1.414-2.562-2.954-2.562-1.064 0-2.128.336-2.954 1.064l.672 1.19c.574-.532 1.246-.798 1.974-.798.896 0 1.484.448 1.484 1.134v.91c-.448-.532-1.246-.826-2.142-.826-1.078 0-2.352.602-2.352 2.184 0 1.512 1.274 2.24 2.352 2.24.882 0 1.68-.322 2.142-.868v.7h1.778zm-3.206-1.036c-.7 0-1.274-.364-1.274-.994 0-.658.574-1.022 1.274-1.022.574 0 1.134.196 1.428.588v.84c-.294.392-.854.588-1.428.588zM33.338 29v-4.774c0-1.316-.714-2.156-2.198-2.156-1.106 0-1.932.532-2.366 1.05v-.882h-1.778V29h1.778v-4.55c.294-.406.84-.798 1.54-.798.756 0 1.246.322 1.246 1.26V29h1.778z",fill:this.props.color})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=r(264),i=function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement(o,null))};e.exports=i},function(e,t,r){"use strict";var n=r(10),o=r(264),i=function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement(o,{transform:"rotate(90 24 24)"}))};e.exports=i},function(e,t,r){"use strict";var n=r(10),o=r(264),i=function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement(o,{transform:"rotate(270 24 24)"}))};e.exports=i},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"LeftParen",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M26 14c-4 6-4 14 0 20",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"RightParen",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M23 14c4 6 4 14 0 20",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Gt",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M16 30l16-6-16-6"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Divide",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M19 24h10",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("circle",{fill:this.props.color,cx:"24",cy:"19.5",r:"1.5"}),n.createElement("circle",{fill:this.props.color,cx:"24",cy:"28.5",r:"1.5"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Period",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("circle",{fill:this.props.color,cx:"24",cy:"30",r:"2"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Percent",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("g",{transform:"translate(12 12)"},n.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.createElement("path",{d:"M16 4L8 20",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("circle",{stroke:this.props.color,strokeWidth:"2",cx:"7",cy:"7",r:"3"}),n.createElement("circle",{stroke:this.props.color,strokeWidth:"2",cx:"17",cy:"17",r:"3"}))))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Times",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M20 20l8 8M28 20l-8 8",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Exp3",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M14 21c0-.552.456-1 1.002-1h9.996A1 1 0 0 1 26 21v14c0 .552-.456 1-1.002 1h-9.996A1 1 0 0 1 14 35V21zm2 1h8v12h-8V22zM30.92 23.12c1.66 0 2.76-.81 2.76-1.98 0-.96-.86-1.51-1.57-1.58.79-.13 1.46-.72 1.46-1.5 0-1.1-.95-1.83-2.65-1.83-1.23 0-2.11.45-2.67 1.08l.83 1.08c.47-.42 1.05-.64 1.66-.64.64 0 1.12.19 1.12.61 0 .35-.39.52-1.08.52-.25 0-.77 0-.9-.01v1.53c.1-.01.61-.01.9-.01.91 0 1.19.18 1.19.56 0 .37-.38.65-1.12.65-.58 0-1.34-.23-1.82-.7l-.87 1.17c.52.6 1.48 1.05 2.76 1.05z",fill:this.props.color})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Exp2",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M14 21c0-.552.456-1 1.002-1h9.996A1 1 0 0 1 26 21v14c0 .552-.456 1-1.002 1h-9.996A1 1 0 0 1 14 35V21zm2 1h8v12h-8V22zM33.67 23v-1.5h-2.44c1.66-1.16 2.39-2.03 2.39-3.05 0-1.34-1.13-2.22-2.7-2.22-.93 0-1.99.33-2.7 1.11l.95 1.14c.48-.45 1.04-.73 1.78-.73.49 0 .92.24.92.7 0 .66-.54 1.12-3.43 3.21V23h5.23z",fill:this.props.color})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=r(264),i=function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement(o,{transform:"rotate(180 24 24)"}))};e.exports=i},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Cdot",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("g",{transform:"translate(12 12)"},n.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.createElement("circle",{fill:this.props.color,cx:"12",cy:"12",r:"3"}))))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"LogN",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M30 28.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM32 30h4v4h-4v-4zM12.776 29v-9.338h-1.778V29h1.778zm4.9.168c2.24 0 3.584-1.624 3.584-3.556 0-1.918-1.344-3.542-3.584-3.542-2.226 0-3.57 1.624-3.57 3.542 0 1.932 1.344 3.556 3.57 3.556zm0-1.582c-1.106 0-1.722-.91-1.722-1.974 0-1.05.616-1.96 1.722-1.96 1.106 0 1.736.91 1.736 1.96 0 1.064-.63 1.974-1.736 1.974zm7.672 4.158c1.666 0 3.654-.63 3.654-3.206v-6.3H27.21v.868c-.546-.686-1.274-1.036-2.086-1.036-1.708 0-2.982 1.232-2.982 3.444 0 2.254 1.288 3.444 2.982 3.444.826 0 1.554-.392 2.086-1.064v.686c0 1.33-1.008 1.708-1.862 1.708-.854 0-1.568-.238-2.114-.84l-.798 1.288c.854.742 1.75 1.008 2.912 1.008zm.336-4.368c-1.008 0-1.708-.7-1.708-1.862 0-1.162.7-1.862 1.708-1.862.588 0 1.232.322 1.526.77v2.184c-.294.434-.938.77-1.526.77z",fill:this.props.color})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Leq",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M16 33h16M32 30l-16-6 16-6",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Minus",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M19 24h10",stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"Radical",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M13 16.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM15 18h4v4h-4v-4z",fill:this.props.color}),n.createElement("path",{stroke:this.props.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M14 29l4 6 9-14h7"})))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"FracInclusive",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("g",{transform:"translate(12 12)"},n.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.createElement("path",{d:"M8 16.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997H8.997c-.55 0-.997-.453-.997-.997v-6.006zM10 18h4v4h-4v-4z",fill:this.props.color}),n.createElement("rect",{fill:this.props.color,x:"2",y:"11",width:"20",height:"2",rx:"1"}),n.createElement("path",{d:"M8 .997C8 .447 8.453 0 8.997 0h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997H8.997C8.447 8 8 7.547 8 7.003V.997zM10 2h4v4h-4V2z",fill:this.props.color}))))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=n.createClass({displayName:"FracExclusive",propTypes:{color:n.PropTypes.string.isRequired},render:function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("g",{transform:"translate(12 12)"},n.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.createElement("path",{d:"M13 16.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM15 18h4v4h-4v-4z",fill:this.props.color}),n.createElement("rect",{fill:this.props.color,x:"10",y:"11",width:"14",height:"2",rx:"1"}),n.createElement("path",{d:"M13 .997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997V.997zM15 2h4v4h-4V2zM0 8.997C0 8.447.453 8 .997 8h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997H.997C.447 16 0 15.547 0 15.003V8.997zM2 10h4v4H2v-4z",
fill:this.props.color}))))}});e.exports=o},function(e,t,r){"use strict";var n=r(10),o=function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M24 18c3 3 3 9 0 12M18 18c-3 3-3 9 0 12",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M32 27l3-3-3-3M22 24h12"})))};e.exports=o},function(e,t,r){"use strict";var n=r(10),o=function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M35 19v16M23 19l8 8M31 23v4h-4",stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M12 12.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM14 14h4v4h-4v-4z",fill:"#888D93"})))};e.exports=o},function(e,t,r){"use strict";var n=r(10),o=function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M12 28.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM14 30h4v4h-4v-4z",fill:"#888D93"}),n.createElement("path",{d:"M35 13v16M23 29l8-8M27 21h4v4",stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))};e.exports=o},function(e,t,r){"use strict";var n=r(10),o=function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M13 16v16M17 22l6-6M23 20v-4h-4",stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M26 27.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM28 29h4v4h-4v-4z",fill:"#888D93"}),n.createElement("path",{d:"M35 24H25",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M26 13.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM28 15h4v4h-4v-4z",fill:"#78C008"})))};e.exports=o},function(e,t,r){"use strict";var n=r(10),o=function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),n.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),n.createElement("path",{stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M33 29l-3 3-3-3M30 18v14"}),n.createElement("path",{d:"M16 27.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM18 29h4v4h-4v-4z",fill:"#78C008"}),n.createElement("path",{d:"M25 24H15",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M16 13.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM18 15h4v4h-4v-4z",fill:"#888D93"})))};e.exports=o},function(e,t,r){"use strict";var n=r(10),o=function(){return n.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48"},n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M0 0h48v48H0z"}),n.createElement("path",{d:"M12 12h24v24H12z"}),n.createElement("path",{d:"M35 16v16m-4-4v-4h-4m-2 6l6-6",stroke:"#78C008",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M14 27.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM16 29h4v4h-4v-4z",fill:"#888D93"}),n.createElement("path",{d:"M23 24H13",stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.createElement("path",{d:"M14 13.997c0-.55.453-.997.997-.997h6.006c.55 0 .997.453.997.997v6.006c0 .55-.453.997-.997.997h-6.006c-.55 0-.997-.453-.997-.997v-6.006zM16 15h4v4h-4v-4z",fill:"#888D93"})))};e.exports=o},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(10),i=function(e){return o.createElement("g",n({fill:"none",fillRule:"evenodd"},e),o.createElement("path",{fill:"none",d:"M0 0h48v48H0z"}),o.createElement("path",{fill:"none",d:"M12 12h24v24H12z"}),o.createElement("path",{stroke:"#888D93",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M22 18l-6 6 6 6M16 24h16"}))};e.exports=i}])});