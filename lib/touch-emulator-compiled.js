!function(e,t,n,o){"use strict";function i(e,t,n,o,i){o=o||0,i=i||0,this.identifier=t,this.target=e,this.clientX=n.clientX+o,this.clientY=n.clientY+i,this.screenX=n.screenX+o,this.screenY=n.screenY+i,this.pageX=n.pageX+o,this.pageY=n.pageY+i}function r(){var e=[];return e.item=function(e){return this[e]||null},e.identifiedTouch=function(e){return this[e+1]||null},e}function c(){for(var n=[e,t.documentElement],i=["ontouchstart","ontouchmove","ontouchcancel","ontouchend"],r=0;r<n.length;r++)for(var c=0;c<i.length;c++)n[r]&&n[r][i[c]]==o&&(n[r][i[c]]=null)}function u(){return"ontouchstart"in e||e.Modernizr&&e.Modernizr.touch||(navigator.msMaxTouchPoints||navigator.maxTouchPoints)>2}function s(e){e.preventDefault(),e.stopPropagation()}function a(e){return function(t){s(t),1===t.which&&(("mousedown"==t.type||!g||g&&!g.dispatchEvent)&&(g=t.target),y&&!t.shiftKey&&(d("touchend",t),y=!1),d(e,t),!y&&t.shiftKey&&(y=!0,m={pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY,screenX:t.screenX,screenY:t.screenY},d("touchstart",t)),"mouseup"==t.type&&(m=null,y=!1,g=null))}}function d(e,n){var o=t.createEvent("Event");o.initEvent(e,!0,!0),o.altKey=n.altKey,o.ctrlKey=n.ctrlKey,o.metaKey=n.metaKey,o.shiftKey=n.shiftKey,o.which=0,o.touches=f(n,e),o.targetTouches=f(n,e),o.changedTouches=l(n,e),g.dispatchEvent(o)}function h(e){var t=new r;if(y){var n=v.multiTouchOffset,o=m.pageX-e.pageX,c=m.pageY-e.pageY;t.push(new i(g,1,m,o*-1-n,c*-1+n)),t.push(new i(g,2,m,o+n,c-n))}else t.push(new i(g,1,e,0,0));return t}function f(e,t){if("mouseup"==e.type)return new r;var n=h(e);return y&&"mouseup"!=e.type&&"touchend"==t&&n.splice(1,1),n}function l(e,t){var n=h(e);return!y||"mouseup"==e.type||"touchstart"!=t&&"touchend"!=t||n.splice(0,1),n}function p(e){var n,o,i,r;for(o=0;o<e.touches.length;o++){n=e.touches[o],i=E[n.identifier],i||(i=E[n.identifier]=t.createElement("div"),t.body.appendChild(i)),r=v.template(n);for(var c in r)i.style[c]=r[c]}if("touchend"==e.type||"touchcancel"==e.type)for(o=0;o<e.changedTouches.length;o++)n=e.changedTouches[o],i=E[n.identifier],i&&(i.parentNode.removeChild(i),delete E[n.identifier])}function v(){u()||(c(),e.addEventListener("mousedown",a("touchstart"),!0),e.addEventListener("mousemove",a("touchmove"),!0),e.addEventListener("mouseup",a("touchend"),!0),e.addEventListener("mouseenter",s,!0),e.addEventListener("mouseleave",s,!0),e.addEventListener("mouseout",s,!0),e.addEventListener("mouseover",s,!0),e.addEventListener("touchstart",p,!1),e.addEventListener("touchmove",p,!1),e.addEventListener("touchend",p,!1),e.addEventListener("touchcancel",p,!1))}var m,g,y=!1,E={};t.createTouch||(t.createTouch=function(t,n,r,c,u,s,a,d,h){return d!=o&&h!=o||(d=c-e.pageXOffset,h=u-e.pageYOffset),new i(n,r,{pageX:c,pageY:u,screenX:s,screenY:a,clientX:d,clientY:h})}),t.createTouchList||(t.createTouchList=function(){for(var e=new r,t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length=arguments.length,e}),v.multiTouchOffset=75,v.template=function(e){var t=30,n="translate("+(e.clientX-t/2)+"px, "+(e.clientY-t/2)+"px)";return{position:"fixed",left:0,top:0,background:"#fff",border:"solid 1px #999",opacity:.6,borderRadius:"100%",height:t+"px",width:t+"px",padding:0,margin:0,display:"block",overflow:"hidden",pointerEvents:"none",webkitUserSelect:"none",mozUserSelect:"none",userSelect:"none",webkitTransform:n,mozTransform:n,transform:n}},"function"==typeof define&&define.amd?define(function(){return v}):"undefined"!=typeof module&&module.exports?module.exports=v:e[n]=v}(window,document,"TouchEmulator");